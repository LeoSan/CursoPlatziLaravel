var oue=Object.defineProperty;var sue=(i,t,a)=>t in i?oue(i,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[t]=a;var uue=(i,t)=>()=>(t||i((t={exports:{}}).exports,t),t.exports);var fr=(i,t,a)=>(sue(i,typeof t!="symbol"?t+"":t,a),a);var TCe=uue((BCe,B5)=>{var xw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qZ(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var L5={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */L5.exports;(function(i,t){(function(){var a,u="4.17.21",c=200,m="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",p="Expected a function",x="Invalid `variable` option passed into `_.template`",k="__lodash_hash_undefined__",D=500,L="__lodash_placeholder__",V=1,q=2,ie=4,ee=1,se=2,Te=1,_e=2,be=4,le=8,Pe=16,Oe=32,lt=64,at=128,K=256,de=512,ve=30,Ue="...",ue=800,Y=16,$e=1,He=2,Ce=3,rt=1/0,We=9007199254740991,z=17976931348623157e292,ln=0/0,dt=4294967295,Dt=dt-1,mr=dt>>>1,Kr=[["ary",at],["bind",Te],["bindKey",_e],["curry",le],["curryRight",Pe],["flip",de],["partial",Oe],["partialRight",lt],["rearg",K]],_n="[object Arguments]",Gn="[object Array]",Ee="[object AsyncFunction]",qa="[object Boolean]",Vt="[object Date]",xn="[object DOMException]",Ga="[object Error]",jt="[object Function]",kt="[object GeneratorFunction]",Qe="[object Map]",st="[object Number]",vt="[object Null]",Jt="[object Object]",zn="[object Promise]",pn="[object Proxy]",Er="[object RegExp]",xr="[object Set]",Un="[object String]",ba="[object Symbol]",ho="[object Undefined]",ts="[object WeakMap]",ns="[object WeakSet]",yo="[object ArrayBuffer]",Oa="[object DataView]",Ki="[object Float32Array]",_o="[object Float64Array]",mi="[object Int8Array]",ii="[object Int16Array]",Xi="[object Int32Array]",oi="[object Uint8Array]",ya="[object Uint8ClampedArray]",Vo="[object Uint16Array]",Os="[object Uint32Array]",wo=/\b__p \+= '';/g,ia=/\b(__p \+=) '' \+/g,Ds=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ms=/&(?:amp|lt|gt|quot|#39);/g,rs=/[&<>"']/g,Zn=RegExp(Ms.source),ma=RegExp(rs.source),Pi=/<%-([\s\S]+?)%>/g,ou=/<%([\s\S]+?)%>/g,Mc=/<%=([\s\S]+?)%>/g,_a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ur=/^\w*$/,Uo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_l=/[\\^$.*+?()[\]{}|]/g,wl=RegExp(_l.source),Mo=/^\s+/,Ks=/\s/,zl=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Xs=/\{\n\/\* \[wrapped with (.+)\] \*/,Rs=/,? & /,Hl=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Da=/[()=,{}\[\]\/\s]/,su=/\\(\\)?/g,Kn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ac=/\w*$/,Ps=/^[-+]0x[0-9a-f]+$/i,uu=/^0b[01]+$/i,Wo=/^\[object .+?Constructor\]$/,Xu=/^0o[0-7]+$/i,rf=/^(?:0|[1-9]\d*)$/,Eu=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Vl=/($^)/,as=/['\n\r\u2028\u2029\\]/g,jo="\\ud800-\\udfff",vn="\\u0300-\\u036f",ic="\\ufe20-\\ufe2f",Rc="\\u20d0-\\u20ff",oc=vn+ic+Rc,ze="\\u2700-\\u27bf",Ye="a-z\\xdf-\\xf6\\xf8-\\xff",Lt="\\xac\\xb1\\xd7\\xf7",Kt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",tn="\\u2000-\\u206f",An=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Bn="A-Z\\xc0-\\xd6\\xd8-\\xde",kr="\\ufe0e\\ufe0f",Pr=Lt+Kt+tn+An,Zr="['’]",Ka="["+jo+"]",wi="["+Pr+"]",mo="["+oc+"]",Qt="\\d+",Dr="["+ze+"]",Ba="["+Ye+"]",Yo="[^"+jo+Pr+Qt+ze+Ye+Bn+"]",lu="\\ud83c[\\udffb-\\udfff]",sa="(?:"+mo+"|"+lu+")",af="[^"+jo+"]",Zu="(?:\\ud83c[\\udde6-\\uddff]){2}",Ii="[\\ud800-\\udbff][\\udc00-\\udfff]",Ju="["+Bn+"]",Is="\\u200d",Zs="(?:"+Ba+"|"+Yo+")",fi="(?:"+Ju+"|"+Yo+")",Pc="(?:"+Zr+"(?:d|ll|m|re|s|t|ve))?",sc="(?:"+Zr+"(?:D|LL|M|RE|S|T|VE))?",uc=sa+"?",of="["+kr+"]?",Qu="(?:"+Is+"(?:"+[af,Zu,Ii].join("|")+")"+of+uc+")*",xl="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",kf="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ku=of+uc+Qu,cu="(?:"+[Dr,Zu,Ii].join("|")+")"+ku,me="(?:"+[af+mo+"?",mo,Zu,Ii,Ka].join("|")+")",qe=RegExp(Zr,"g"),ct=RegExp(mo,"g"),Mt=RegExp(lu+"(?="+lu+")|"+me+ku,"g"),sn=RegExp([Ju+"?"+Ba+"+"+Pc+"(?="+[wi,Ju,"$"].join("|")+")",fi+"+"+sc+"(?="+[wi,Ju+Zs,"$"].join("|")+")",Ju+"?"+Zs+"+"+Pc,Ju+"+"+sc,kf,xl,Qt,cu].join("|"),"g"),qn=RegExp("["+Is+jo+oc+kr+"]"),Ma=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Xa=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Wr=-1,Vr={};Vr[Ki]=Vr[_o]=Vr[mi]=Vr[ii]=Vr[Xi]=Vr[oi]=Vr[ya]=Vr[Vo]=Vr[Os]=!0,Vr[_n]=Vr[Gn]=Vr[yo]=Vr[qa]=Vr[Oa]=Vr[Vt]=Vr[Ga]=Vr[jt]=Vr[Qe]=Vr[st]=Vr[Jt]=Vr[Er]=Vr[xr]=Vr[Un]=Vr[ts]=!1;var jr={};jr[_n]=jr[Gn]=jr[yo]=jr[Oa]=jr[qa]=jr[Vt]=jr[Ki]=jr[_o]=jr[mi]=jr[ii]=jr[Xi]=jr[Qe]=jr[st]=jr[Jt]=jr[Er]=jr[xr]=jr[Un]=jr[ba]=jr[oi]=jr[ya]=jr[Vo]=jr[Os]=!0,jr[Ga]=jr[jt]=jr[ts]=!1;var lc={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},is={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ul={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},rr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Qf=parseFloat,vv=parseInt,wa=typeof xw=="object"&&xw&&xw.Object===Object&&xw,hv=typeof self=="object"&&self&&self.Object===Object&&self,Ro=wa||hv||Function("return this")(),Td=t&&!t.nodeType&&t,Ra=Td&&!0&&i&&!i.nodeType&&i,Tu=Ra&&Ra.exports===Td,mv=Tu&&wa.process,xo=function(){try{var pt=Ra&&Ra.require&&Ra.require("util").types;return pt||mv&&mv.binding&&mv.binding("util")}catch{}}(),Qi=xo&&xo.isArrayBuffer,Ic=xo&&xo.isDate,Tt=xo&&xo.isMap,Tf=xo&&xo.isRegExp,eo=xo&&xo.isSet,gv=xo&&xo.isTypedArray;function Po(pt,rn,Ft){switch(Ft.length){case 0:return pt.call(rn);case 1:return pt.call(rn,Ft[0]);case 2:return pt.call(rn,Ft[0],Ft[1]);case 3:return pt.call(rn,Ft[0],Ft[1],Ft[2])}return pt.apply(rn,Ft)}function J(pt,rn,Ft,Nn){for(var oa=-1,si=pt==null?0:pt.length;++oa<si;){var gi=pt[oa];rn(Nn,gi,Ft(gi),pt)}return Nn}function Z(pt,rn){for(var Ft=-1,Nn=pt==null?0:pt.length;++Ft<Nn&&rn(pt[Ft],Ft,pt)!==!1;);return pt}function N(pt,rn){for(var Ft=pt==null?0:pt.length;Ft--&&rn(pt[Ft],Ft,pt)!==!1;);return pt}function oe(pt,rn){for(var Ft=-1,Nn=pt==null?0:pt.length;++Ft<Nn;)if(!rn(pt[Ft],Ft,pt))return!1;return!0}function Le(pt,rn){for(var Ft=-1,Nn=pt==null?0:pt.length,oa=0,si=[];++Ft<Nn;){var gi=pt[Ft];rn(gi,Ft,pt)&&(si[oa++]=gi)}return si}function Ge(pt,rn){var Ft=pt==null?0:pt.length;return!!Ft&&La(pt,rn,0)>-1}function wt(pt,rn,Ft){for(var Nn=-1,oa=pt==null?0:pt.length;++Nn<oa;)if(Ft(rn,pt[Nn]))return!0;return!1}function Ut(pt,rn){for(var Ft=-1,Nn=pt==null?0:pt.length,oa=Array(Nn);++Ft<Nn;)oa[Ft]=rn(pt[Ft],Ft,pt);return oa}function ar(pt,rn){for(var Ft=-1,Nn=rn.length,oa=pt.length;++Ft<Nn;)pt[oa+Ft]=rn[Ft];return pt}function Cr(pt,rn,Ft,Nn){var oa=-1,si=pt==null?0:pt.length;for(Nn&&si&&(Ft=pt[++oa]);++oa<si;)Ft=rn(Ft,pt[oa],oa,pt);return Ft}function On(pt,rn,Ft,Nn){var oa=pt==null?0:pt.length;for(Nn&&oa&&(Ft=pt[--oa]);oa--;)Ft=rn(Ft,pt[oa],oa,pt);return Ft}function sr(pt,rn){for(var Ft=-1,Nn=pt==null?0:pt.length;++Ft<Nn;)if(rn(pt[Ft],Ft,pt))return!0;return!1}var Xr=Cl("length");function Qr(pt){return pt.split("")}function yr(pt){return pt.match(Hl)||[]}function Bi(pt,rn,Ft){var Nn;return Ft(pt,function(oa,si,gi){if(rn(oa,si,gi))return Nn=si,!1}),Nn}function lr(pt,rn,Ft,Nn){for(var oa=pt.length,si=Ft+(Nn?1:-1);Nn?si--:++si<oa;)if(rn(pt[si],si,pt))return si;return-1}function La(pt,rn,Ft){return rn===rn?Sl(pt,rn,Ft):lr(pt,Au,Ft)}function Di(pt,rn,Ft,Nn){for(var oa=Ft-1,si=pt.length;++oa<si;)if(Nn(pt[oa],rn))return oa;return-1}function Au(pt){return pt!==pt}function $r(pt,rn){var Ft=pt==null?0:pt.length;return Ft?gs(pt,rn)/Ft:ln}function Cl(pt){return function(rn){return rn==null?a:rn[pt]}}function Li(pt){return function(rn){return pt==null?a:pt[rn]}}function to(pt,rn,Ft,Nn,oa){return oa(pt,function(si,gi,pi){Ft=Nn?(Nn=!1,si):rn(Ft,si,gi,pi)}),Ft}function t1(pt,rn){var Ft=pt.length;for(pt.sort(rn);Ft--;)pt[Ft]=pt[Ft].value;return pt}function gs(pt,rn){for(var Ft,Nn=-1,oa=pt.length;++Nn<oa;){var si=rn(pt[Nn]);si!==a&&(Ft=Ft===a?si:Ft+si)}return Ft}function lm(pt,rn){for(var Ft=-1,Nn=Array(pt);++Ft<pt;)Nn[Ft]=rn(Ft);return Nn}function Af(pt,rn){return Ut(rn,function(Ft){return[Ft,pt[Ft]]})}function _r(pt){return pt&&pt.slice(0,fu(pt)+1).replace(Mo,"")}function Co(pt){return function(rn){return pt(rn)}}function no(pt,rn){return Ut(rn,function(Ft){return pt[Ft]})}function Vi(pt,rn){return pt.has(rn)}function os(pt,rn){for(var Ft=-1,Nn=pt.length;++Ft<Nn&&La(rn,pt[Ft],0)>-1;);return Ft}function Io(pt,rn){for(var Ft=pt.length;Ft--&&La(rn,pt[Ft],0)>-1;);return Ft}function pv(pt,rn){for(var Ft=pt.length,Nn=0;Ft--;)pt[Ft]===rn&&++Nn;return Nn}var Bc=Li(lc),Na=Li(is);function Fi(pt){return"\\"+rr[pt]}function el(pt,rn){return pt==null?a:pt[rn]}function Wl(pt){return qn.test(pt)}function ss(pt){return Ma.test(pt)}function cc(pt){for(var rn,Ft=[];!(rn=pt.next()).done;)Ft.push(rn.value);return Ft}function hg(pt){var rn=-1,Ft=Array(pt.size);return pt.forEach(function(Nn,oa){Ft[++rn]=[oa,Nn]}),Ft}function Ad(pt,rn){return function(Ft){return pt(rn(Ft))}}function $a(pt,rn){for(var Ft=-1,Nn=pt.length,oa=0,si=[];++Ft<Nn;){var gi=pt[Ft];(gi===rn||gi===L)&&(pt[Ft]=L,si[oa++]=Ft)}return si}function jl(pt){var rn=-1,Ft=Array(pt.size);return pt.forEach(function(Nn){Ft[++rn]=Nn}),Ft}function Od(pt){var rn=-1,Ft=Array(pt.size);return pt.forEach(function(Nn){Ft[++rn]=[Nn,Nn]}),Ft}function Sl(pt,rn,Ft){for(var Nn=Ft-1,oa=pt.length;++Nn<oa;)if(pt[Nn]===rn)return Nn;return-1}function So(pt,rn,Ft){for(var Nn=Ft+1;Nn--;)if(pt[Nn]===rn)return Nn;return Nn}function fc(pt){return Wl(pt)?du(pt):Xr(pt)}function Js(pt){return Wl(pt)?uh(pt):Qr(pt)}function fu(pt){for(var rn=pt.length;rn--&&Ks.test(pt.charAt(rn)););return rn}var El=Li(Ul);function du(pt){for(var rn=Mt.lastIndex=0;Mt.test(pt);)++rn;return rn}function uh(pt){return pt.match(Mt)||[]}function sf(pt){return pt.match(sn)||[]}var ps=function pt(rn){rn=rn==null?Ro:Of.defaults(Ro.Object(),rn,Of.pick(Ro,Xa));var Ft=rn.Array,Nn=rn.Date,oa=rn.Error,si=rn.Function,gi=rn.Math,pi=rn.Object,ed=rn.RegExp,td=rn.String,Za=rn.TypeError,Ou=Ft.prototype,mg=si.prototype,vu=pi.prototype,bv=rn["__core-js_shared__"],cm=mg.toString,Ni=vu.hasOwnProperty,yv=0,Dd=function(){var _=/[^.]+$/.exec(bv&&bv.keys&&bv.keys.IE_PROTO||"");return _?"Symbol(src)_1."+_:""}(),uf=vu.toString,Tr=cm.call(pi),Lc=Ro._,kl=ed("^"+cm.call(Ni).replace(_l,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Bs=Tu?rn.Buffer:a,Qs=rn.Symbol,uo=rn.Uint8Array,us=Bs?Bs.allocUnsafe:a,go=Ad(pi.getPrototypeOf,pi),nd=pi.create,eu=vu.propertyIsEnumerable,Rn=Ou.splice,Md=Qs?Qs.isConcatSpreadable:a,_v=Qs?Qs.iterator:a,Mr=Qs?Qs.toStringTag:a,ui=function(){try{var _=Gl(pi,"defineProperty");return _({},"",{}),_}catch{}}(),gg=rn.clearTimeout!==Ro.clearTimeout&&rn.clearTimeout,Df=Nn&&Nn.now!==Ro.Date.now&&Nn.now,Zi=rn.setTimeout!==Ro.setTimeout&&rn.setTimeout,wv=gi.ceil,Du=gi.floor,xv=pi.getOwnPropertySymbols,Jr=Bs?Bs.isBuffer:a,Mu=rn.isFinite,ay=Ou.join,iy=Ad(pi.keys,pi),ga=gi.max,tu=gi.min,U=Nn.now,re=rn.parseInt,he=gi.random,Ie=Ou.reverse,ut=Gl(rn,"DataView"),Et=Gl(rn,"Map"),Wn=Gl(rn,"Promise"),wr=Gl(rn,"Set"),ra=Gl(rn,"WeakMap"),zr=Gl(pi,"create"),di=ra&&new ra,qo={},po=Ml(ut),lS=Ml(Et),zw=Ml(Wn),Hw=Ml(wr),cS=Ml(ra),Fc=Qs?Qs.prototype:a,Cv=Fc?Fc.valueOf:a,Tl=Fc?Fc.toString:a;function ke(_){if(Qo(_)&&!Ca(_)&&!(_ instanceof bi)){if(_ instanceof dc)return _;if(Ni.call(_,"__wrapped__"))return $v(_)}return new dc(_)}var lh=function(){function _(){}return function(S){if(!Ri(S))return{};if(nd)return nd(S);_.prototype=S;var B=new _;return _.prototype=a,B}}();function ch(){}function dc(_,S){this.__wrapped__=_,this.__actions__=[],this.__chain__=!!S,this.__index__=0,this.__values__=a}ke.templateSettings={escape:Pi,evaluate:ou,interpolate:Mc,variable:"",imports:{_:ke}},ke.prototype=ch.prototype,ke.prototype.constructor=ke,dc.prototype=lh(ch.prototype),dc.prototype.constructor=dc;function bi(_){this.__wrapped__=_,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=dt,this.__views__=[]}function fS(){var _=new bi(this.__wrapped__);return _.__actions__=bc(this.__actions__),_.__dir__=this.__dir__,_.__filtered__=this.__filtered__,_.__iteratees__=bc(this.__iteratees__),_.__takeCount__=this.__takeCount__,_.__views__=bc(this.__views__),_}function rd(){if(this.__filtered__){var _=new bi(this);_.__dir__=-1,_.__filtered__=!0}else _=this.clone(),_.__dir__*=-1;return _}function Fp(){var _=this.__wrapped__.value(),S=this.__dir__,B=Ca(_),X=S<0,pe=B?_.length:0,Be=gh(0,pe,this.__views__),Ke=Be.start,it=Be.end,bt=it-Ke,gn=X?it:Ke-1,bn=this.__iteratees__,Dn=bn.length,ir=0,Or=tu(bt,this.__takeCount__);if(!B||!X&&pe==bt&&Or==bt)return f1(_,this.__actions__);var aa=[];e:for(;bt--&&ir<Or;){gn+=S;for(var ea=-1,Hr=_[gn];++ea<Dn;){var ni=bn[ea],Ua=ni.iteratee,vs=ni.type,es=Ua(Hr);if(vs==He)Hr=es;else if(!es){if(vs==$e)continue e;break e}}aa[ir++]=Hr}return aa}bi.prototype=lh(ch.prototype),bi.prototype.constructor=bi;function fm(_){var S=-1,B=_==null?0:_.length;for(this.clear();++S<B;){var X=_[S];this.set(X[0],X[1])}}function oy(){this.__data__=zr?zr(null):{},this.size=0}function dS(_){var S=this.has(_)&&delete this.__data__[_];return this.size-=S?1:0,S}function vS(_){var S=this.__data__;if(zr){var B=S[_];return B===k?a:B}return Ni.call(S,_)?S[_]:a}function pg(_){var S=this.__data__;return zr?S[_]!==a:Ni.call(S,_)}function Np(_,S){var B=this.__data__;return this.size+=this.has(_)?0:1,B[_]=zr&&S===a?k:S,this}fm.prototype.clear=oy,fm.prototype.delete=dS,fm.prototype.get=vS,fm.prototype.has=pg,fm.prototype.set=Np;function Rd(_){var S=-1,B=_==null?0:_.length;for(this.clear();++S<B;){var X=_[S];this.set(X[0],X[1])}}function Vw(){this.__data__=[],this.size=0}function vc(_){var S=this.__data__,B=ql(S,_);if(B<0)return!1;var X=S.length-1;return B==X?S.pop():Rn.call(S,B,1),--this.size,!0}function Jn(_){var S=this.__data__,B=ql(S,_);return B<0?a:S[B][1]}function Sv(_){return ql(this.__data__,_)>-1}function $p(_,S){var B=this.__data__,X=ql(B,_);return X<0?(++this.size,B.push([_,S])):B[X][1]=S,this}Rd.prototype.clear=Vw,Rd.prototype.delete=vc,Rd.prototype.get=Jn,Rd.prototype.has=Sv,Rd.prototype.set=$p;function Yl(_){var S=-1,B=_==null?0:_.length;for(this.clear();++S<B;){var X=_[S];this.set(X[0],X[1])}}function bg(){this.size=0,this.__data__={hash:new fm,map:new(Et||Rd),string:new fm}}function sy(_){var S=fs(this,_).delete(_);return this.size-=S?1:0,S}function Mf(_){return fs(this,_).get(_)}function dm(_){return fs(this,_).has(_)}function yg(_,S){var B=fs(this,_),X=B.size;return B.set(_,S),this.size+=B.size==X?0:1,this}Yl.prototype.clear=bg,Yl.prototype.delete=sy,Yl.prototype.get=Mf,Yl.prototype.has=dm,Yl.prototype.set=yg;function Ui(_){var S=-1,B=_==null?0:_.length;for(this.__data__=new Yl;++S<B;)this.add(_[S])}function nu(_){return this.__data__.set(_,k),this}function zp(_){return this.__data__.has(_)}Ui.prototype.add=Ui.prototype.push=nu,Ui.prototype.has=zp;function hu(_){var S=this.__data__=new Rd(_);this.size=S.size}function Hp(){this.__data__=new Rd,this.size=0}function n1(_){var S=this.__data__,B=S.delete(_);return this.size=S.size,B}function r1(_){return this.__data__.get(_)}function hS(_){return this.__data__.has(_)}function _g(_,S){var B=this.__data__;if(B instanceof Rd){var X=B.__data__;if(!Et||X.length<c-1)return X.push([_,S]),this.size=++B.size,this;B=this.__data__=new Yl(X)}return B.set(_,S),this.size=B.size,this}hu.prototype.clear=Hp,hu.prototype.delete=n1,hu.prototype.get=r1,hu.prototype.has=hS,hu.prototype.set=_g;function mu(_,S){var B=Ca(_),X=!B&&qd(_),pe=!B&&!X&&ll(_),Be=!B&&!X&&!pe&&Th(_),Ke=B||X||pe||Be,it=Ke?lm(_.length,td):[],bt=it.length;for(var gn in _)(S||Ni.call(_,gn))&&!(Ke&&(gn=="length"||pe&&(gn=="offset"||gn=="parent")||Be&&(gn=="buffer"||gn=="byteLength"||gn=="byteOffset")||ld(gn,bt)))&&it.push(gn);return it}function uy(_){var S=_.length;return S?_[u1(0,S-1)]:a}function lo(_,S){return wm(bc(_),Ls(S,0,_.length))}function Rf(_){return wm(bc(_))}function Wa(_,S,B){(B!==a&&!Uf(_[S],B)||B===a&&!(S in _))&&Pd(_,S,B)}function Pf(_,S,B){var X=_[S];(!(Ni.call(_,S)&&Uf(X,B))||B===a&&!(S in _))&&Pd(_,S,B)}function ql(_,S){for(var B=_.length;B--;)if(Uf(_[B][0],S))return B;return-1}function mS(_,S,B,X){return lf(_,function(pe,Be,Ke){S(X,pe,B(pe),Ke)}),X}function ls(_,S){return _&&co(S,ko(S),_)}function Al(_,S){return _&&co(S,Ll(S),_)}function Pd(_,S,B){S=="__proto__"&&ui?ui(_,S,{configurable:!0,enumerable:!0,value:B,writable:!0}):_[S]=B}function It(_,S){for(var B=-1,X=S.length,pe=Ft(X),Be=_==null;++B<X;)pe[B]=Be?a:Lm(_,S[B]);return pe}function Ls(_,S,B){return _===_&&(B!==a&&(_=_<=B?_:B),S!==a&&(_=_>=S?_:S)),_}function gu(_,S,B,X,pe,Be){var Ke,it=S&V,bt=S&q,gn=S&ie;if(B&&(Ke=pe?B(_,X,pe,Be):B(_)),Ke!==a)return Ke;if(!Ri(_))return _;var bn=Ca(_);if(bn){if(Ke=bS(_),!it)return bc(_,Ke)}else{var Dn=_s(_),ir=Dn==jt||Dn==kt;if(ll(_))return Yp(_,it);if(Dn==Jt||Dn==_n||ir&&!pe){if(Ke=bt||ir?{}:_c(_),!it)return bt?d1(_,Al(Ke,_)):by(_,ls(Ke,_))}else{if(!jr[Dn])return pe?_:{};Ke=wy(_,Dn,it)}}Be||(Be=new hu);var Or=Be.get(_);if(Or)return Or;Be.set(_,Ke),Bm(_)?_.forEach(function(Hr){Ke.add(gu(Hr,S,B,Hr,_,Be))}):H1(_)&&_.forEach(function(Hr,ni){Ke.set(ni,gu(Hr,S,B,ni,_,Be))});var aa=gn?bt?Nf:Pu:bt?Ll:ko,ea=bn?a:aa(_);return Z(ea||_,function(Hr,ni){ea&&(ni=Hr,Hr=_[ni]),Pf(Ke,ni,gu(Hr,S,B,ni,_,Be))}),Ke}function Ar(_){var S=ko(_);return function(B){return hc(B,_,S)}}function hc(_,S,B){var X=B.length;if(_==null)return!X;for(_=pi(_);X--;){var pe=B[X],Be=S[pe],Ke=_[pe];if(Ke===a&&!(pe in _)||!Be(Ke))return!1}return!0}function Uw(_,S,B){if(typeof _!="function")throw new Za(p);return Qp(function(){_.apply(a,B)},S)}function Fs(_,S,B,X){var pe=-1,Be=Ge,Ke=!0,it=_.length,bt=[],gn=S.length;if(!it)return bt;B&&(S=Ut(S,Co(B))),X?(Be=wt,Ke=!1):S.length>=c&&(Be=Vi,Ke=!1,S=new Ui(S));e:for(;++pe<it;){var bn=_[pe],Dn=B==null?bn:B(bn);if(bn=X||bn!==0?bn:0,Ke&&Dn===Dn){for(var ir=gn;ir--;)if(S[ir]===Dn)continue e;bt.push(bn)}else Be(S,Dn,X)||bt.push(bn)}return bt}var lf=yc(cs),ad=yc(Ol,!0);function If(_,S){var B=!0;return lf(_,function(X,pe,Be){return B=!!S(X,pe,Be),B}),B}function Ns(_,S,B){for(var X=-1,pe=_.length;++X<pe;){var Be=_[X],Ke=S(Be);if(Ke!=null&&(it===a?Ke===Ke&&!Xl(Ke):B(Ke,it)))var it=Ke,bt=Be}return bt}function za(_,S,B,X){var pe=_.length;for(B=Va(B),B<0&&(B=-B>pe?0:pe+B),X=X===a||X>pe?pe:Va(X),X<0&&(X+=pe),X=B>X?0:zg(X);B<X;)_[B++]=S;return _}function Bf(_,S){var B=[];return lf(_,function(X,pe,Be){S(X,pe,Be)&&B.push(X)}),B}function bs(_,S,B,X,pe){var Be=-1,Ke=_.length;for(B||(B=ph),pe||(pe=[]);++Be<Ke;){var it=_[Be];S>0&&B(it)?S>1?bs(it,S-1,B,X,pe):ar(pe,it):X||(pe[pe.length]=it)}return pe}var xi=Gp(),Ev=Gp(!0);function cs(_,S){return _&&xi(_,S,ko)}function Ol(_,S){return _&&Ev(_,S,ko)}function a1(_,S){return Le(S,function(B){return Yc(_[B])})}function Je(_,S){S=od(S,_);for(var B=0,X=S.length;_!=null&&B<X;)_=_[cd(S[B++])];return B&&B==X?_:a}function tl(_,S,B){var X=S(_);return Ca(_)?X:ar(X,B(_))}function Go(_){return _==null?_===a?ho:vt:Mr&&Mr in pi(_)?Xp(_):b1(_)}function fh(_,S){return _>S}function Nc(_,S){return _!=null&&Ni.call(_,S)}function Ci(_,S){return _!=null&&S in pi(_)}function Mi(_,S,B){return _>=tu(S,B)&&_<ga(S,B)}function nl(_,S,B){for(var X=B?wt:Ge,pe=_[0].length,Be=_.length,Ke=Be,it=Ft(Be),bt=1/0,gn=[];Ke--;){var bn=_[Ke];Ke&&S&&(bn=Ut(bn,Co(S))),bt=tu(bn.length,bt),it[Ke]=!B&&(S||pe>=120&&bn.length>=120)?new Ui(Ke&&bn):a}bn=_[0];var Dn=-1,ir=it[0];e:for(;++Dn<pe&&gn.length<bt;){var Or=bn[Dn],aa=S?S(Or):Or;if(Or=B||Or!==0?Or:0,!(ir?Vi(ir,aa):X(gn,aa,B))){for(Ke=Be;--Ke;){var ea=it[Ke];if(!(ea?Vi(ea,aa):X(_[Ke],aa,B)))continue e}ir&&ir.push(aa),gn.push(Or)}}return gn}function kv(_,S,B,X){return cs(_,function(pe,Be,Ke){S(X,B(pe),Be,Ke)}),X}function vm(_,S,B){S=od(S,_),_=Cy(_,S);var X=_==null?_:_[cd(Vf(S))];return X==null?a:Po(X,_,B)}function ur(_){return Qo(_)&&Go(_)==_n}function i1(_){return Qo(_)&&Go(_)==yo}function $c(_){return Qo(_)&&Go(_)==Vt}function wg(_,S,B,X,pe){return _===S?!0:_==null||S==null||!Qo(_)&&!Qo(S)?_!==_&&S!==S:Vp(_,S,B,X,wg,pe)}function Vp(_,S,B,X,pe,Be){var Ke=Ca(_),it=Ca(S),bt=Ke?Gn:_s(_),gn=it?Gn:_s(S);bt=bt==_n?Jt:bt,gn=gn==_n?Jt:gn;var bn=bt==Jt,Dn=gn==Jt,ir=bt==gn;if(ir&&ll(_)){if(!ll(S))return!1;Ke=!0,bn=!1}if(ir&&!bn)return Be||(Be=new hu),Ke||Th(_)?zd(_,S,B,X,pe,Be):Uc(_,S,bt,B,X,pe,Be);if(!(B&ee)){var Or=bn&&Ni.call(_,"__wrapped__"),aa=Dn&&Ni.call(S,"__wrapped__");if(Or||aa){var ea=Or?_.value():_,Hr=aa?S.value():S;return Be||(Be=new hu),pe(ea,Hr,B,X,Be)}}return ir?(Be||(Be=new hu),mh(_,S,B,X,pe,Be)):!1}function Up(_){return Qo(_)&&_s(_)==Qe}function Wp(_,S,B,X){var pe=B.length,Be=pe,Ke=!X;if(_==null)return!Be;for(_=pi(_);pe--;){var it=B[pe];if(Ke&&it[2]?it[1]!==_[it[0]]:!(it[0]in _))return!1}for(;++pe<Be;){it=B[pe];var bt=it[0],gn=_[bt],bn=it[1];if(Ke&&it[2]){if(gn===a&&!(bt in _))return!1}else{var Dn=new hu;if(X)var ir=X(gn,bn,bt,_,S,Dn);if(!(ir===a?wg(bn,gn,ee|se,X,Dn):ir))return!1}}return!0}function o1(_){if(!Ri(_)||Iu(_))return!1;var S=Yc(_)?kl:Wo;return S.test(Ml(_))}function Id(_){return Qo(_)&&Go(_)==Er}function Tv(_){return Qo(_)&&_s(_)==xr}function gS(_){return Qo(_)&&Im(_.length)&&!!Vr[Go(_)]}function s1(_){return typeof _=="function"?_:_==null?Cc:typeof _=="object"?Ca(_)?id(_[0],_[1]):cy(_):Xg(_)}function ly(_){if(!bh(_))return iy(_);var S=[];for(var B in pi(_))Ni.call(_,B)&&B!="constructor"&&S.push(B);return S}function Ww(_){if(!Ri(_))return Ag(_);var S=bh(_),B=[];for(var X in _)X=="constructor"&&(S||!Ni.call(_,X))||B.push(X);return B}function hm(_,S){return _<S}function mm(_,S){var B=-1,X=ul(_)?Ft(_.length):[];return lf(_,function(pe,Be,Ke){X[++B]=S(pe,Be,Ke)}),X}function cy(_){var S=df(_);return S.length==1&&S[0][2]?xy(S[0][0],S[0][1]):function(B){return B===_||Wp(B,_,S)}}function id(_,S){return p1(_)&&qw(S)?xy(cd(_),S):function(B){var X=Lm(B,_);return X===a&&X===S?Ug(B,_):wg(S,X,ee|se)}}function Av(_,S,B,X,pe){_!==S&&xi(S,function(Be,Ke){if(pe||(pe=new hu),Ri(Be))fy(_,S,Ke,B,Av,X,pe);else{var it=X?X(Jp(_,Ke),Be,Ke+"",_,S,pe):a;it===a&&(it=Be),Wa(_,Ke,it)}},Ll)}function fy(_,S,B,X,pe,Be,Ke){var it=Jp(_,B),bt=Jp(S,B),gn=Ke.get(bt);if(gn){Wa(_,B,gn);return}var bn=Be?Be(it,bt,B+"",_,S,Ke):a,Dn=bn===a;if(Dn){var ir=Ca(bt),Or=!ir&&ll(bt),aa=!ir&&!Or&&Th(bt);bn=bt,ir||Or||aa?Ca(it)?bn=it:Jo(it)?bn=bc(it):Or?(Dn=!1,bn=Yp(bt,!0)):aa?(Dn=!1,bn=pm(bt,!0)):bn=[]:Ng(bt)||qd(bt)?(bn=it,qd(it)?bn=jy(it):(!Ri(it)||Yc(it))&&(bn=_c(bt))):Dn=!1}Dn&&(Ke.set(bt,bn),pe(bn,bt,X,Be,Ke),Ke.delete(bt)),Wa(_,B,bn)}function dy(_,S){var B=_.length;if(B)return S+=S<0?B:0,ld(S,B)?_[S]:a}function jw(_,S,B){S.length?S=Ut(S,function(Be){return Ca(Be)?function(Ke){return Je(Ke,Be.length===1?Be[0]:Be)}:Be}):S=[Cc];var X=-1;S=Ut(S,Co(qt()));var pe=mm(_,function(Be,Ke,it){var bt=Ut(S,function(gn){return gn(Be)});return{criteria:bt,index:++X,value:Be}});return t1(pe,function(Be,Ke){return Ru(Be,Ke,B)})}function pS(_,S){return Ko(_,S,function(B,X){return Ug(_,X)})}function Ko(_,S,B){for(var X=-1,pe=S.length,Be={};++X<pe;){var Ke=S[X],it=Je(_,Ke);B(it,Ke)&&Dl(Be,od(Ke,_),it)}return Be}function Bd(_){return function(S){return Je(S,_)}}function zc(_,S,B,X){var pe=X?Di:La,Be=-1,Ke=S.length,it=_;for(_===S&&(S=bc(S)),B&&(it=Ut(_,Co(B)));++Be<Ke;)for(var bt=0,gn=S[Be],bn=B?B(gn):gn;(bt=pe(it,bn,bt,X))>-1;)it!==_&&Rn.call(it,bt,1),Rn.call(_,bt,1);return _}function Ov(_,S){for(var B=_?S.length:0,X=B-1;B--;){var pe=S[B];if(B==X||pe!==Be){var Be=pe;ld(pe)?Rn.call(_,pe,1):Cg(_,pe)}}return _}function u1(_,S){return _+Du(he()*(S-_+1))}function Lf(_,S,B,X){for(var pe=-1,Be=ga(wv((S-_)/(B||1)),0),Ke=Ft(Be);Be--;)Ke[X?Be:++pe]=_,_+=B;return Ke}function Dv(_,S){var B="";if(!_||S<1||S>We)return B;do S%2&&(B+=_),S=Du(S/2),S&&(_+=_);while(S);return B}function Ja(_,S){return Vd(Gw(_,S,Cc),_+"")}function vy(_){return uy(jv(_))}function Mv(_,S){var B=jv(_);return wm(B,Ls(S,0,B.length))}function Dl(_,S,B,X){if(!Ri(_))return _;S=od(S,_);for(var pe=-1,Be=S.length,Ke=Be-1,it=_;it!=null&&++pe<Be;){var bt=cd(S[pe]),gn=B;if(bt==="__proto__"||bt==="constructor"||bt==="prototype")return _;if(pe!=Ke){var bn=it[bt];gn=X?X(bn,bt,it):a,gn===a&&(gn=Ri(bn)?bn:ld(S[pe+1])?[]:{})}Pf(it,bt,gn),it=it[bt]}return _}var ru=di?function(_,S){return di.set(_,S),_}:Cc,l1=ui?function(_,S){return ui(_,"toString",{configurable:!0,enumerable:!1,value:Kd(S),writable:!0})}:Cc;function hy(_){return wm(jv(_))}function rl(_,S,B){var X=-1,pe=_.length;S<0&&(S=-S>pe?0:pe+S),B=B>pe?pe:B,B<0&&(B+=pe),pe=S>B?0:B-S>>>0,S>>>=0;for(var Be=Ft(pe);++X<pe;)Be[X]=_[X+S];return Be}function xg(_,S){var B;return lf(_,function(X,pe,Be){return B=S(X,pe,Be),!B}),!!B}function Rv(_,S,B){var X=0,pe=_==null?X:_.length;if(typeof S=="number"&&S===S&&pe<=mr){for(;X<pe;){var Be=X+pe>>>1,Ke=_[Be];Ke!==null&&!Xl(Ke)&&(B?Ke<=S:Ke<S)?X=Be+1:pe=Be}return pe}return my(_,S,Cc,B)}function my(_,S,B,X){var pe=0,Be=_==null?0:_.length;if(Be===0)return 0;S=B(S);for(var Ke=S!==S,it=S===null,bt=Xl(S),gn=S===a;pe<Be;){var bn=Du((pe+Be)/2),Dn=B(_[bn]),ir=Dn!==a,Or=Dn===null,aa=Dn===Dn,ea=Xl(Dn);if(Ke)var Hr=X||aa;else gn?Hr=aa&&(X||ir):it?Hr=aa&&ir&&(X||!Or):bt?Hr=aa&&ir&&!Or&&(X||!ea):Or||ea?Hr=!1:Hr=X?Dn<=S:Dn<S;Hr?pe=bn+1:Be=bn}return tu(Be,Dt)}function gm(_,S){for(var B=-1,X=_.length,pe=0,Be=[];++B<X;){var Ke=_[B],it=S?S(Ke):Ke;if(!B||!Uf(it,bt)){var bt=it;Be[pe++]=Ke===0?0:Ke}}return Be}function c1(_){return typeof _=="number"?_:Xl(_)?ln:+_}function cf(_){if(typeof _=="string")return _;if(Ca(_))return Ut(_,cf)+"";if(Xl(_))return Tl?Tl.call(_):"";var S=_+"";return S=="0"&&1/_==-rt?"-0":S}function ki(_,S,B){var X=-1,pe=Ge,Be=_.length,Ke=!0,it=[],bt=it;if(B)Ke=!1,pe=wt;else if(Be>=c){var gn=S?null:Vc(_);if(gn)return jl(gn);Ke=!1,pe=Vi,bt=new Ui}else bt=S?[]:it;e:for(;++X<Be;){var bn=_[X],Dn=S?S(bn):bn;if(bn=B||bn!==0?bn:0,Ke&&Dn===Dn){for(var ir=bt.length;ir--;)if(bt[ir]===Dn)continue e;S&&bt.push(Dn),it.push(bn)}else pe(bt,Dn,B)||(bt!==it&&bt.push(Dn),it.push(bn))}return it}function Cg(_,S){return S=od(S,_),_=Cy(_,S),_==null||delete _[cd(Vf(S))]}function Pv(_,S,B,X){return Dl(_,S,B(Je(_,S)),X)}function Sg(_,S,B,X){for(var pe=_.length,Be=X?pe:-1;(X?Be--:++Be<pe)&&S(_[Be],Be,_););return B?rl(_,X?0:Be,X?Be+1:pe):rl(_,X?Be+1:0,X?pe:Be)}function f1(_,S){var B=_;return B instanceof bi&&(B=B.value()),Cr(S,function(X,pe){return pe.func.apply(pe.thisArg,ar([X],pe.args))},B)}function mc(_,S,B){var X=_.length;if(X<2)return X?ki(_[0]):[];for(var pe=-1,Be=Ft(X);++pe<X;)for(var Ke=_[pe],it=-1;++it<X;)it!=pe&&(Be[pe]=Fs(Be[pe]||Ke,_[it],S,B));return ki(bs(Be,1),S,B)}function gc(_,S,B){for(var X=-1,pe=_.length,Be=S.length,Ke={};++X<pe;){var it=X<Be?S[X]:a;B(Ke,_[X],it)}return Ke}function Iv(_){return Jo(_)?_:[]}function Ld(_){return typeof _=="function"?_:Cc}function od(_,S){return Ca(_)?_:p1(_,S)?[_]:Hf(Ji(_))}var jp=Ja;function Fd(_,S,B){var X=_.length;return B=B===a?X:B,!S&&B>=X?_:rl(_,S,B)}var dh=gg||function(_){return Ro.clearTimeout(_)};function Yp(_,S){if(S)return _.slice();var B=_.length,X=us?us(B):new _.constructor(B);return _.copy(X),X}function gy(_){var S=new _.constructor(_.byteLength);return new uo(S).set(new uo(_)),S}function py(_,S){var B=S?gy(_.buffer):_.buffer;return new _.constructor(B,_.byteOffset,_.byteLength)}function Hc(_){var S=new _.constructor(_.source,ac.exec(_));return S.lastIndex=_.lastIndex,S}function pc(_){return Cv?pi(Cv.call(_)):{}}function pm(_,S){var B=S?gy(_.buffer):_.buffer;return new _.constructor(B,_.byteOffset,_.length)}function ff(_,S){if(_!==S){var B=_!==a,X=_===null,pe=_===_,Be=Xl(_),Ke=S!==a,it=S===null,bt=S===S,gn=Xl(S);if(!it&&!gn&&!Be&&_>S||Be&&Ke&&bt&&!it&&!gn||X&&Ke&&bt||!B&&bt||!pe)return 1;if(!X&&!Be&&!gn&&_<S||gn&&B&&pe&&!X&&!Be||it&&B&&pe||!Ke&&pe||!bt)return-1}return 0}function Ru(_,S,B){for(var X=-1,pe=_.criteria,Be=S.criteria,Ke=pe.length,it=B.length;++X<Ke;){var bt=ff(pe[X],Be[X]);if(bt){if(X>=it)return bt;var gn=B[X];return bt*(gn=="desc"?-1:1)}}return _.index-S.index}function qp(_,S,B,X){for(var pe=-1,Be=_.length,Ke=B.length,it=-1,bt=S.length,gn=ga(Be-Ke,0),bn=Ft(bt+gn),Dn=!X;++it<bt;)bn[it]=S[it];for(;++pe<Ke;)(Dn||pe<Be)&&(bn[B[pe]]=_[pe]);for(;gn--;)bn[it++]=_[pe++];return bn}function Nd(_,S,B,X){for(var pe=-1,Be=_.length,Ke=-1,it=B.length,bt=-1,gn=S.length,bn=ga(Be-it,0),Dn=Ft(bn+gn),ir=!X;++pe<bn;)Dn[pe]=_[pe];for(var Or=pe;++bt<gn;)Dn[Or+bt]=S[bt];for(;++Ke<it;)(ir||pe<Be)&&(Dn[Or+B[Ke]]=_[pe++]);return Dn}function bc(_,S){var B=-1,X=_.length;for(S||(S=Ft(X));++B<X;)S[B]=_[B];return S}function co(_,S,B,X){var pe=!B;B||(B={});for(var Be=-1,Ke=S.length;++Be<Ke;){var it=S[Be],bt=X?X(B[it],_[it],it,B,_):a;bt===a&&(bt=_[it]),pe?Pd(B,it,bt):Pf(B,it,bt)}return B}function by(_,S){return co(_,g1(_),S)}function d1(_,S){return co(_,Zp(_),S)}function xa(_,S){return function(B,X){var pe=Ca(B)?J:mS,Be=S?S():{};return pe(B,_,qt(X,2),Be)}}function Qn(_){return Ja(function(S,B){var X=-1,pe=B.length,Be=pe>1?B[pe-1]:a,Ke=pe>2?B[2]:a;for(Be=_.length>3&&typeof Be=="function"?(pe--,Be):a,Ke&&$s(B[0],B[1],Ke)&&(Be=pe<3?a:Be,pe=1),S=pi(S);++X<pe;){var it=B[X];it&&_(S,it,X,Be)}return S})}function yc(_,S){return function(B,X){if(B==null)return B;if(!ul(B))return _(B,X);for(var pe=B.length,Be=S?pe:-1,Ke=pi(B);(S?Be--:++Be<pe)&&X(Ke[Be],Be,Ke)!==!1;);return B}}function Gp(_){return function(S,B,X){for(var pe=-1,Be=pi(S),Ke=X(S),it=Ke.length;it--;){var bt=Ke[_?it:++pe];if(B(Be[bt],bt,Be)===!1)break}return S}}function Ff(_,S,B){var X=S&Te,pe=bm(_);function Be(){var Ke=this&&this!==Ro&&this instanceof Be?pe:_;return Ke.apply(X?B:this,arguments)}return Be}function yy(_){return function(S){S=Ji(S);var B=Wl(S)?Js(S):a,X=B?B[0]:S.charAt(0),pe=B?Fd(B,1).join(""):S.slice(1);return X[_]()+pe}}function Qa(_){return function(S){return Cr(wx(Mh(S).replace(qe,"")),_,"")}}function bm(_){return function(){var S=arguments;switch(S.length){case 0:return new _;case 1:return new _(S[0]);case 2:return new _(S[0],S[1]);case 3:return new _(S[0],S[1],S[2]);case 4:return new _(S[0],S[1],S[2],S[3]);case 5:return new _(S[0],S[1],S[2],S[3],S[4]);case 6:return new _(S[0],S[1],S[2],S[3],S[4],S[5]);case 7:return new _(S[0],S[1],S[2],S[3],S[4],S[5],S[6])}var B=lh(_.prototype),X=_.apply(B,S);return Ri(X)?X:B}}function v1(_,S,B){var X=bm(_);function pe(){for(var Be=arguments.length,Ke=Ft(Be),it=Be,bt=$f(pe);it--;)Ke[it]=arguments[it];var gn=Be<3&&Ke[0]!==bt&&Ke[Be-1]!==bt?[]:$a(Ke,bt);if(Be-=gn.length,Be<B)return Bo(_,S,Eg,pe.placeholder,a,Ke,gn,a,a,B-Be);var bn=this&&this!==Ro&&this instanceof pe?X:_;return Po(bn,this,Ke)}return pe}function Kp(_){return function(S,B,X){var pe=pi(S);if(!ul(S)){var Be=qt(B,3);S=ko(S),B=function(it){return Be(pe[it],it,pe)}}var Ke=_(S,B,X);return Ke>-1?pe[Be?S[Ke]:Ke]:a}}function Nt(_){return ro(function(S){var B=S.length,X=B,pe=dc.prototype.thru;for(_&&S.reverse();X--;){var Be=S[X];if(typeof Be!="function")throw new Za(p);if(pe&&!Ke&&Fv(Be)=="wrapper")var Ke=new dc([],!0)}for(X=Ke?X:B;++X<B;){Be=S[X];var it=Fv(Be),bt=it=="wrapper"?Hd(Be):a;bt&&zs(bt[0])&&bt[1]==(at|le|Oe|K)&&!bt[4].length&&bt[9]==1?Ke=Ke[Fv(bt[0])].apply(Ke,bt[3]):Ke=Be.length==1&&zs(Be)?Ke[it]():Ke.thru(Be)}return function(){var gn=arguments,bn=gn[0];if(Ke&&gn.length==1&&Ca(bn))return Ke.plant(bn).value();for(var Dn=0,ir=B?S[Dn].apply(this,gn):bn;++Dn<B;)ir=S[Dn].call(this,ir);return ir}})}function Eg(_,S,B,X,pe,Be,Ke,it,bt,gn){var bn=S&at,Dn=S&Te,ir=S&_e,Or=S&(le|Pe),aa=S&de,ea=ir?a:bm(_);function Hr(){for(var ni=arguments.length,Ua=Ft(ni),vs=ni;vs--;)Ua[vs]=arguments[vs];if(Or)var es=$f(Hr),io=pv(Ua,es);if(X&&(Ua=qp(Ua,X,pe,Or)),Be&&(Ua=Nd(Ua,Be,Ke,Or)),ni-=io,Or&&ni<gn){var zi=$a(Ua,es);return Bo(_,S,Eg,Hr.placeholder,B,Ua,zi,it,bt,gn-ni)}var Jl=Dn?B:this,dl=ir?Jl[_]:_;return ni=Ua.length,it?Ua=Sy(Ua,it):aa&&ni>1&&Ua.reverse(),bn&&bt<ni&&(Ua.length=bt),this&&this!==Ro&&this instanceof Hr&&(dl=ea||bm(dl)),dl.apply(Jl,Ua)}return Hr}function h1(_,S){return function(B,X){return kv(B,_,S(X),{})}}function sd(_,S){return function(B,X){var pe;if(B===a&&X===a)return S;if(B!==a&&(pe=B),X!==a){if(pe===a)return X;typeof B=="string"||typeof X=="string"?(B=cf(B),X=cf(X)):(B=c1(B),X=c1(X)),pe=_(B,X)}return pe}}function ym(_){return ro(function(S){return S=Ut(S,Co(qt())),Ja(function(B){var X=this;return _(S,function(pe){return Po(pe,X,B)})})})}function $d(_,S){S=S===a?" ":cf(S);var B=S.length;if(B<2)return B?Dv(S,_):S;var X=Dv(S,wv(_/fc(S)));return Wl(S)?Fd(Js(X),0,_).join(""):X.slice(0,_)}function vh(_,S,B,X){var pe=S&Te,Be=bm(_);function Ke(){for(var it=-1,bt=arguments.length,gn=-1,bn=X.length,Dn=Ft(bn+bt),ir=this&&this!==Ro&&this instanceof Ke?Be:_;++gn<bn;)Dn[gn]=X[gn];for(;bt--;)Dn[gn++]=arguments[++it];return Po(ir,pe?B:this,Dn)}return Ke}function hh(_){return function(S,B,X){return X&&typeof X!="number"&&$s(S,B,X)&&(B=X=a),S=xc(S),B===a?(B=S,S=0):B=xc(B),X=X===a?S<B?1:-1:xc(X),Lf(S,B,X,_)}}function Bv(_){return function(S,B){return typeof S=="string"&&typeof B=="string"||(S=qc(S),B=qc(B)),_(S,B)}}function Bo(_,S,B,X,pe,Be,Ke,it,bt,gn){var bn=S&le,Dn=bn?Ke:a,ir=bn?a:Ke,Or=bn?Be:a,aa=bn?a:Be;S|=bn?Oe:lt,S&=~(bn?lt:Oe),S&be||(S&=~(Te|_e));var ea=[_,S,pe,Or,Dn,aa,ir,it,bt,gn],Hr=B.apply(a,ea);return zs(_)&&y1(Hr,ea),Hr.placeholder=X,Nv(Hr,_,S)}function Br(_){var S=gi[_];return function(B,X){if(B=qc(B),X=X==null?0:tu(Va(X),292),X&&Mu(B)){var pe=(Ji(B)+"e").split("e"),Be=S(pe[0]+"e"+(+pe[1]+X));return pe=(Ji(Be)+"e").split("e"),+(pe[0]+"e"+(+pe[1]-X))}return S(B)}}var Vc=wr&&1/jl(new wr([,-0]))[1]==rt?function(_){return new wr(_)}:Kg;function _y(_){return function(S){var B=_s(S);return B==Qe?hg(S):B==xr?Od(S):Af(S,_(S))}}function ys(_,S,B,X,pe,Be,Ke,it){var bt=S&_e;if(!bt&&typeof _!="function")throw new Za(p);var gn=X?X.length:0;if(gn||(S&=~(Oe|lt),X=pe=a),Ke=Ke===a?Ke:ga(Va(Ke),0),it=it===a?it:Va(it),gn-=pe?pe.length:0,S&lt){var bn=X,Dn=pe;X=pe=a}var ir=bt?a:Hd(_),Or=[_,S,B,X,pe,bn,Dn,Be,Ke,it];if(ir&&yS(Or,ir),_=Or[0],S=Or[1],B=Or[2],X=Or[3],pe=Or[4],it=Or[9]=Or[9]===a?bt?0:_.length:ga(Or[9]-gn,0),!it&&S&(le|Pe)&&(S&=~(le|Pe)),!S||S==Te)var aa=Ff(_,S,B);else S==le||S==Pe?aa=v1(_,S,it):(S==Oe||S==(Te|Oe))&&!pe.length?aa=vh(_,S,B,X):aa=Eg.apply(a,Or);var ea=ir?ru:y1;return Nv(ea(aa,Or),_,S)}function m1(_,S,B,X){return _===a||Uf(_,vu[B])&&!Ni.call(X,B)?S:_}function ud(_,S,B,X,pe,Be){return Ri(_)&&Ri(S)&&(Be.set(S,_),Av(_,S,a,ud,Be),Be.delete(S)),_}function Lv(_){return Ng(_)?a:_}function zd(_,S,B,X,pe,Be){var Ke=B&ee,it=_.length,bt=S.length;if(it!=bt&&!(Ke&&bt>it))return!1;var gn=Be.get(_),bn=Be.get(S);if(gn&&bn)return gn==S&&bn==_;var Dn=-1,ir=!0,Or=B&se?new Ui:a;for(Be.set(_,S),Be.set(S,_);++Dn<it;){var aa=_[Dn],ea=S[Dn];if(X)var Hr=Ke?X(ea,aa,Dn,S,_,Be):X(aa,ea,Dn,_,S,Be);if(Hr!==a){if(Hr)continue;ir=!1;break}if(Or){if(!sr(S,function(ni,Ua){if(!Vi(Or,Ua)&&(aa===ni||pe(aa,ni,B,X,Be)))return Or.push(Ua)})){ir=!1;break}}else if(!(aa===ea||pe(aa,ea,B,X,Be))){ir=!1;break}}return Be.delete(_),Be.delete(S),ir}function Uc(_,S,B,X,pe,Be,Ke){switch(B){case Oa:if(_.byteLength!=S.byteLength||_.byteOffset!=S.byteOffset)return!1;_=_.buffer,S=S.buffer;case yo:return!(_.byteLength!=S.byteLength||!Be(new uo(_),new uo(S)));case qa:case Vt:case st:return Uf(+_,+S);case Ga:return _.name==S.name&&_.message==S.message;case Er:case Un:return _==S+"";case Qe:var it=hg;case xr:var bt=X&ee;if(it||(it=jl),_.size!=S.size&&!bt)return!1;var gn=Ke.get(_);if(gn)return gn==S;X|=se,Ke.set(_,S);var bn=zd(it(_),it(S),X,pe,Be,Ke);return Ke.delete(_),bn;case ba:if(Cv)return Cv.call(_)==Cv.call(S)}return!1}function mh(_,S,B,X,pe,Be){var Ke=B&ee,it=Pu(_),bt=it.length,gn=Pu(S),bn=gn.length;if(bt!=bn&&!Ke)return!1;for(var Dn=bt;Dn--;){var ir=it[Dn];if(!(Ke?ir in S:Ni.call(S,ir)))return!1}var Or=Be.get(_),aa=Be.get(S);if(Or&&aa)return Or==S&&aa==_;var ea=!0;Be.set(_,S),Be.set(S,_);for(var Hr=Ke;++Dn<bt;){ir=it[Dn];var ni=_[ir],Ua=S[ir];if(X)var vs=Ke?X(Ua,ni,ir,S,_,Be):X(ni,Ua,ir,_,S,Be);if(!(vs===a?ni===Ua||pe(ni,Ua,B,X,Be):vs)){ea=!1;break}Hr||(Hr=ir=="constructor")}if(ea&&!Hr){var es=_.constructor,io=S.constructor;es!=io&&"constructor"in _&&"constructor"in S&&!(typeof es=="function"&&es instanceof es&&typeof io=="function"&&io instanceof io)&&(ea=!1)}return Be.delete(_),Be.delete(S),ea}function ro(_){return Vd(Gw(_,a,Xo),_+"")}function Pu(_){return tl(_,ko,g1)}function Nf(_){return tl(_,Ll,Zp)}var Hd=di?function(_){return di.get(_)}:Kg;function Fv(_){for(var S=_.name+"",B=qo[S],X=Ni.call(qo,S)?B.length:0;X--;){var pe=B[X],Be=pe.func;if(Be==null||Be==_)return pe.name}return S}function $f(_){var S=Ni.call(ke,"placeholder")?ke:_;return S.placeholder}function qt(){var _=ke.iteratee||a_;return _=_===a_?s1:_,arguments.length?_(arguments[0],arguments[1]):_}function fs(_,S){var B=_.__data__;return fo(S)?B[typeof S=="string"?"string":"hash"]:B.map}function df(_){for(var S=ko(_),B=S.length;B--;){var X=S[B],pe=_[X];S[B]=[X,pe,qw(pe)]}return S}function Gl(_,S){var B=el(_,S);return o1(B)?B:a}function Xp(_){var S=Ni.call(_,Mr),B=_[Mr];try{_[Mr]=a;var X=!0}catch{}var pe=uf.call(_);return X&&(S?_[Mr]=B:delete _[Mr]),pe}var g1=xv?function(_){return _==null?[]:(_=pi(_),Le(xv(_),function(S){return eu.call(_,S)}))}:Ih,Zp=xv?function(_){for(var S=[];_;)ar(S,g1(_)),_=go(_);return S}:Ih,_s=Go;(ut&&_s(new ut(new ArrayBuffer(1)))!=Oa||Et&&_s(new Et)!=Qe||Wn&&_s(Wn.resolve())!=zn||wr&&_s(new wr)!=xr||ra&&_s(new ra)!=ts)&&(_s=function(_){var S=Go(_),B=S==Jt?_.constructor:a,X=B?Ml(B):"";if(X)switch(X){case po:return Oa;case lS:return Qe;case zw:return zn;case Hw:return xr;case cS:return ts}return S});function gh(_,S,B){for(var X=-1,pe=B.length;++X<pe;){var Be=B[X],Ke=Be.size;switch(Be.type){case"drop":_+=Ke;break;case"dropRight":S-=Ke;break;case"take":S=tu(S,_+Ke);break;case"takeRight":_=ga(_,S-Ke);break}}return{start:_,end:S}}function kg(_){var S=_.match(Xs);return S?S[1].split(Rs):[]}function Tg(_,S,B){S=od(S,_);for(var X=-1,pe=S.length,Be=!1;++X<pe;){var Ke=cd(S[X]);if(!(Be=_!=null&&B(_,Ke)))break;_=_[Ke]}return Be||++X!=pe?Be:(pe=_==null?0:_.length,!!pe&&Im(pe)&&ld(Ke,pe)&&(Ca(_)||qd(_)))}function bS(_){var S=_.length,B=new _.constructor(S);return S&&typeof _[0]=="string"&&Ni.call(_,"index")&&(B.index=_.index,B.input=_.input),B}function _c(_){return typeof _.constructor=="function"&&!bh(_)?lh(go(_)):{}}function wy(_,S,B){var X=_.constructor;switch(S){case yo:return gy(_);case qa:case Vt:return new X(+_);case Oa:return py(_,B);case Ki:case _o:case mi:case ii:case Xi:case oi:case ya:case Vo:case Os:return pm(_,B);case Qe:return new X;case st:case Un:return new X(_);case Er:return Hc(_);case xr:return new X;case ba:return pc(_)}}function _m(_,S){var B=S.length;if(!B)return _;var X=B-1;return S[X]=(B>1?"& ":"")+S[X],S=S.join(B>2?", ":" "),_.replace(zl,`{
/* [wrapped with `+S+`] */
`)}function ph(_){return Ca(_)||qd(_)||!!(Md&&_&&_[Md])}function ld(_,S){var B=typeof _;return S=S??We,!!S&&(B=="number"||B!="symbol"&&rf.test(_))&&_>-1&&_%1==0&&_<S}function $s(_,S,B){if(!Ri(B))return!1;var X=typeof S;return(X=="number"?ul(B)&&ld(S,B.length):X=="string"&&S in B)?Uf(B[S],_):!1}function p1(_,S){if(Ca(_))return!1;var B=typeof _;return B=="number"||B=="symbol"||B=="boolean"||_==null||Xl(_)?!0:Ur.test(_)||!_a.test(_)||S!=null&&_ in pi(S)}function fo(_){var S=typeof _;return S=="string"||S=="number"||S=="symbol"||S=="boolean"?_!=="__proto__":_===null}function zs(_){var S=Fv(_),B=ke[S];if(typeof B!="function"||!(S in bi.prototype))return!1;if(_===B)return!0;var X=Hd(B);return!!X&&_===X[0]}function Iu(_){return!!Dd&&Dd in _}var Yw=bv?Yc:Xd;function bh(_){var S=_&&_.constructor,B=typeof S=="function"&&S.prototype||vu;return _===B}function qw(_){return _===_&&!Ri(_)}function xy(_,S){return function(B){return B==null?!1:B[_]===S&&(S!==a||_ in pi(B))}}function zf(_){var S=Dm(_,function(X){return B.size===D&&B.clear(),X}),B=S.cache;return S}function yS(_,S){var B=_[1],X=S[1],pe=B|X,Be=pe<(Te|_e|at),Ke=X==at&&B==le||X==at&&B==K&&_[7].length<=S[8]||X==(at|K)&&S[7].length<=S[8]&&B==le;if(!(Be||Ke))return _;X&Te&&(_[2]=S[2],pe|=B&Te?0:be);var it=S[3];if(it){var bt=_[3];_[3]=bt?qp(bt,it,S[4]):it,_[4]=bt?$a(_[3],L):S[4]}return it=S[5],it&&(bt=_[5],_[5]=bt?Nd(bt,it,S[6]):it,_[6]=bt?$a(_[5],L):S[6]),it=S[7],it&&(_[7]=it),X&at&&(_[8]=_[8]==null?S[8]:tu(_[8],S[8])),_[9]==null&&(_[9]=S[9]),_[0]=S[0],_[1]=pe,_}function Ag(_){var S=[];if(_!=null)for(var B in pi(_))S.push(B);return S}function b1(_){return uf.call(_)}function Gw(_,S,B){return S=ga(S===a?_.length-1:S,0),function(){for(var X=arguments,pe=-1,Be=ga(X.length-S,0),Ke=Ft(Be);++pe<Be;)Ke[pe]=X[S+pe];pe=-1;for(var it=Ft(S+1);++pe<S;)it[pe]=X[pe];return it[S]=B(Ke),Po(_,this,it)}}function Cy(_,S){return S.length<2?_:Je(_,rl(S,0,-1))}function Sy(_,S){for(var B=_.length,X=tu(S.length,B),pe=bc(_);X--;){var Be=S[X];_[X]=ld(Be,B)?pe[Be]:a}return _}function Jp(_,S){if(!(S==="constructor"&&typeof _[S]=="function")&&S!="__proto__")return _[S]}var y1=vi(ru),Qp=Zi||function(_,S){return Ro.setTimeout(_,S)},Vd=vi(l1);function Nv(_,S,B){var X=S+"";return Vd(_,_m(X,Ud(kg(X),B)))}function vi(_){var S=0,B=0;return function(){var X=U(),pe=Y-(X-B);if(B=X,pe>0){if(++S>=ue)return arguments[0]}else S=0;return _.apply(a,arguments)}}function wm(_,S){var B=-1,X=_.length,pe=X-1;for(S=S===a?X:S;++B<S;){var Be=u1(B,pe),Ke=_[Be];_[Be]=_[B],_[B]=Ke}return _.length=S,_}var Hf=zf(function(_){var S=[];return _.charCodeAt(0)===46&&S.push(""),_.replace(Uo,function(B,X,pe,Be){S.push(pe?Be.replace(su,"$1"):X||B)}),S});function cd(_){if(typeof _=="string"||Xl(_))return _;var S=_+"";return S=="0"&&1/_==-rt?"-0":S}function Ml(_){if(_!=null){try{return cm.call(_)}catch{}try{return _+""}catch{}}return""}function Ud(_,S){return Z(Kr,function(B){var X="_."+B[0];S&B[1]&&!Ge(_,X)&&_.push(X)}),_.sort()}function $v(_){if(_ instanceof bi)return _.clone();var S=new dc(_.__wrapped__,_.__chain__);return S.__actions__=bc(_.__actions__),S.__index__=_.__index__,S.__values__=_.__values__,S}function _1(_,S,B){(B?$s(_,S,B):S===a)?S=1:S=ga(Va(S),0);var X=_==null?0:_.length;if(!X||S<1)return[];for(var pe=0,Be=0,Ke=Ft(wv(X/S));pe<X;)Ke[Be++]=rl(_,pe,pe+=S);return Ke}function e0(_){for(var S=-1,B=_==null?0:_.length,X=0,pe=[];++S<B;){var Be=_[S];Be&&(pe[X++]=Be)}return pe}function w1(){var _=arguments.length;if(!_)return[];for(var S=Ft(_-1),B=arguments[0],X=_;X--;)S[X-1]=arguments[X];return ar(Ca(B)?bc(B):[B],bs(S,1))}var x1=Ja(function(_,S){return Jo(_)?Fs(_,bs(S,1,Jo,!0)):[]}),xm=Ja(function(_,S){var B=Vf(S);return Jo(B)&&(B=a),Jo(_)?Fs(_,bs(S,1,Jo,!0),qt(B,2)):[]}),_S=Ja(function(_,S){var B=Vf(S);return Jo(B)&&(B=a),Jo(_)?Fs(_,bs(S,1,Jo,!0),a,B):[]});function C1(_,S,B){var X=_==null?0:_.length;return X?(S=B||S===a?1:Va(S),rl(_,S<0?0:S,X)):[]}function Og(_,S,B){var X=_==null?0:_.length;return X?(S=B||S===a?1:Va(S),S=X-S,rl(_,0,S<0?0:S)):[]}function t0(_,S){return _&&_.length?Sg(_,qt(S,3),!0,!0):[]}function n0(_,S){return _&&_.length?Sg(_,qt(S,3),!0):[]}function Ey(_,S,B,X){var pe=_==null?0:_.length;return pe?(B&&typeof B!="number"&&$s(_,S,B)&&(B=0,X=pe),za(_,S,B,X)):[]}function ds(_,S,B){var X=_==null?0:_.length;if(!X)return-1;var pe=B==null?0:Va(B);return pe<0&&(pe=ga(X+pe,0)),lr(_,qt(S,3),pe)}function yh(_,S,B){var X=_==null?0:_.length;if(!X)return-1;var pe=X-1;return B!==a&&(pe=Va(B),pe=B<0?ga(X+pe,0):tu(pe,X-1)),lr(_,qt(S,3),pe,!0)}function Xo(_){var S=_==null?0:_.length;return S?bs(_,1):[]}function Rl(_){var S=_==null?0:_.length;return S?bs(_,rt):[]}function Cm(_,S){var B=_==null?0:_.length;return B?(S=S===a?1:Va(S),bs(_,S)):[]}function Wc(_){for(var S=-1,B=_==null?0:_.length,X={};++S<B;){var pe=_[S];X[pe[0]]=pe[1]}return X}function r0(_){return _&&_.length?_[0]:a}function Wd(_,S,B){var X=_==null?0:_.length;if(!X)return-1;var pe=B==null?0:Va(B);return pe<0&&(pe=ga(X+pe,0)),La(_,S,pe)}function Dg(_){var S=_==null?0:_.length;return S?rl(_,0,-1):[]}var Mg=Ja(function(_){var S=Ut(_,Iv);return S.length&&S[0]===_[0]?nl(S):[]}),Kw=Ja(function(_){var S=Vf(_),B=Ut(_,Iv);return S===Vf(B)?S=a:B.pop(),B.length&&B[0]===_[0]?nl(B,qt(S,2)):[]}),Xw=Ja(function(_){var S=Vf(_),B=Ut(_,Iv);return S=typeof S=="function"?S:a,S&&B.pop(),B.length&&B[0]===_[0]?nl(B,a,S):[]});function wS(_,S){return _==null?"":ay.call(_,S)}function Vf(_){var S=_==null?0:_.length;return S?_[S-1]:a}function xS(_,S,B){var X=_==null?0:_.length;if(!X)return-1;var pe=X;return B!==a&&(pe=Va(B),pe=pe<0?ga(X+pe,0):tu(pe,X-1)),S===S?So(_,S,pe):lr(_,Au,pe,!0)}function Zw(_,S){return _&&_.length?dy(_,Va(S)):a}var S1=Ja(a0);function a0(_,S){return _&&_.length&&S&&S.length?zc(_,S):_}function pu(_,S,B){return _&&_.length&&S&&S.length?zc(_,S,qt(B,2)):_}function E1(_,S,B){return _&&_.length&&S&&S.length?zc(_,S,a,B):_}var ky=ro(function(_,S){var B=_==null?0:_.length,X=It(_,S);return Ov(_,Ut(S,function(pe){return ld(pe,B)?+pe:pe}).sort(ff)),X});function vf(_,S){var B=[];if(!(_&&_.length))return B;var X=-1,pe=[],Be=_.length;for(S=qt(S,3);++X<Be;){var Ke=_[X];S(Ke,X,_)&&(B.push(Ke),pe.push(X))}return Ov(_,pe),B}function $i(_){return _==null?_:Ie.call(_)}function jc(_,S,B){var X=_==null?0:_.length;return X?(B&&typeof B!="number"&&$s(_,S,B)?(S=0,B=X):(S=S==null?0:Va(S),B=B===a?X:Va(B)),rl(_,S,B)):[]}function _h(_,S){return Rv(_,S)}function Ty(_,S,B){return my(_,S,qt(B,2))}function k1(_,S){var B=_==null?0:_.length;if(B){var X=Rv(_,S);if(X<B&&Uf(_[X],S))return X}return-1}function Jw(_,S){return Rv(_,S,!0)}function Yr(_,S,B){return my(_,S,qt(B,2),!0)}function Rg(_,S){var B=_==null?0:_.length;if(B){var X=Rv(_,S,!0)-1;if(Uf(_[X],S))return X}return-1}function T1(_){return _&&_.length?gm(_):[]}function Ay(_,S){return _&&_.length?gm(_,qt(S,2)):[]}function ws(_){var S=_==null?0:_.length;return S?rl(_,1,S):[]}function hf(_,S,B){return _&&_.length?(S=B||S===a?1:Va(S),rl(_,0,S<0?0:S)):[]}function Qw(_,S,B){var X=_==null?0:_.length;return X?(S=B||S===a?1:Va(S),S=X-S,rl(_,S<0?0:S,X)):[]}function Sm(_,S){return _&&_.length?Sg(_,qt(S,3),!1,!0):[]}function Wi(_,S){return _&&_.length?Sg(_,qt(S,3)):[]}var Em=Ja(function(_){return ki(bs(_,1,Jo,!0))}),A1=Ja(function(_){var S=Vf(_);return Jo(S)&&(S=a),ki(bs(_,1,Jo,!0),qt(S,2))}),Pg=Ja(function(_){var S=Vf(_);return S=typeof S=="function"?S:a,ki(bs(_,1,Jo,!0),a,S)});function Oy(_){return _&&_.length?ki(_):[]}function ex(_,S){return _&&_.length?ki(_,qt(S,2)):[]}function i0(_,S){return S=typeof S=="function"?S:a,_&&_.length?ki(_,a,S):[]}function O1(_){if(!(_&&_.length))return[];var S=0;return _=Le(_,function(B){if(Jo(B))return S=ga(B.length,S),!0}),lm(S,function(B){return Ut(_,Cl(B))})}function jd(_,S){if(!(_&&_.length))return[];var B=O1(_);return S==null?B:Ut(B,function(X){return Po(S,a,X)})}var Pl=Ja(function(_,S){return Jo(_)?Fs(_,S):[]}),Dy=Ja(function(_){return mc(Le(_,Jo))}),CS=Ja(function(_){var S=Vf(_);return Jo(S)&&(S=a),mc(Le(_,Jo),qt(S,2))}),fd=Ja(function(_){var S=Vf(_);return S=typeof S=="function"?S:a,mc(Le(_,Jo),a,S)}),zv=Ja(O1);function D1(_,S){return gc(_||[],S||[],Pf)}function SS(_,S){return gc(_||[],S||[],Dl)}var ES=Ja(function(_){var S=_.length,B=S>1?_[S-1]:a;return B=typeof B=="function"?(_.pop(),B):a,jd(_,B)});function wh(_){var S=ke(_);return S.__chain__=!0,S}function km(_,S){return S(_),_}function Tm(_,S){return S(_)}var Ha=ro(function(_){var S=_.length,B=S?_[0]:0,X=this.__wrapped__,pe=function(Be){return It(Be,_)};return S>1||this.__actions__.length||!(X instanceof bi)||!ld(B)?this.thru(pe):(X=X.slice(B,+B+(S?1:0)),X.__actions__.push({func:Tm,args:[pe],thisArg:a}),new dc(X,this.__chain__).thru(function(Be){return S&&!Be.length&&Be.push(a),Be}))});function xs(){return wh(this)}function Il(){return new dc(this.value(),this.__chain__)}function Kl(){this.__values__===a&&(this.__values__=d0(this.value()));var _=this.__index__>=this.__values__.length,S=_?a:this.__values__[this.__index__++];return{done:_,value:S}}function Ti(){return this}function xh(_){for(var S,B=this;B instanceof ch;){var X=$v(B);X.__index__=0,X.__values__=a,S?pe.__wrapped__=X:S=X;var pe=X;B=B.__wrapped__}return pe.__wrapped__=_,S}function M1(){var _=this.__wrapped__;if(_ instanceof bi){var S=_;return this.__actions__.length&&(S=new bi(this)),S=S.reverse(),S.__actions__.push({func:Tm,args:[$i],thisArg:a}),new dc(S,this.__chain__)}return this.thru($i)}function Hs(){return f1(this.__wrapped__,this.__actions__)}var Yd=xa(function(_,S,B){Ni.call(_,B)?++_[B]:Pd(_,B,1)});function kS(_,S,B){var X=Ca(_)?oe:If;return B&&$s(_,S,B)&&(S=a),X(_,qt(S,3))}function TS(_,S){var B=Ca(_)?Le:Bf;return B(_,qt(S,3))}var R1=Kp(ds),P1=Kp(yh);function My(_,S){return bs(Ch(_,S),1)}function Ry(_,S){return bs(Ch(_,S),rt)}function Am(_,S,B){return B=B===a?1:Va(B),bs(Ch(_,S),B)}function Ig(_,S){var B=Ca(_)?Z:lf;return B(_,qt(S,3))}function I1(_,S){var B=Ca(_)?N:ad;return B(_,qt(S,3))}var Py=xa(function(_,S,B){Ni.call(_,B)?_[B].push(S):Pd(_,B,[S])});function Bg(_,S,B,X){_=ul(_)?_:jv(_),B=B&&!X?Va(B):0;var pe=_.length;return B<0&&(B=ga(pe+B,0)),Uv(_)?B<=pe&&_.indexOf(S,B)>-1:!!pe&&La(_,S,B)>-1}var bu=Ja(function(_,S,B){var X=-1,pe=typeof S=="function",Be=ul(_)?Ft(_.length):[];return lf(_,function(Ke){Be[++X]=pe?Po(S,Ke,B):vm(Ke,S,B)}),Be}),wc=xa(function(_,S,B){Pd(_,B,S)});function Ch(_,S){var B=Ca(_)?Ut:mm;return B(_,qt(S,3))}function Cs(_,S,B,X){return _==null?[]:(Ca(S)||(S=S==null?[]:[S]),B=X?a:B,Ca(B)||(B=B==null?[]:[B]),jw(_,S,B))}var B1=xa(function(_,S,B){_[B?0:1].push(S)},function(){return[[],[]]});function Hv(_,S,B){var X=Ca(_)?Cr:to,pe=arguments.length<3;return X(_,qt(S,4),B,pe,lf)}function Iy(_,S,B){var X=Ca(_)?On:to,pe=arguments.length<3;return X(_,qt(S,4),B,pe,ad)}function By(_,S){var B=Ca(_)?Le:Bf;return B(_,Mm(qt(S,3)))}function tx(_){var S=Ca(_)?uy:vy;return S(_)}function Ly(_,S,B){(B?$s(_,S,B):S===a)?S=1:S=Va(S);var X=Ca(_)?lo:Mv;return X(_,S)}function o0(_){var S=Ca(_)?Rf:hy;return S(_)}function L1(_){if(_==null)return 0;if(ul(_))return Uv(_)?fc(_):_.length;var S=_s(_);return S==Qe||S==xr?_.size:ly(_).length}function nx(_,S,B){var X=Ca(_)?sr:xg;return B&&$s(_,S,B)&&(S=a),X(_,qt(S,3))}var AS=Ja(function(_,S){if(_==null)return[];var B=S.length;return B>1&&$s(_,S[0],S[1])?S=[]:B>2&&$s(S[0],S[1],S[2])&&(S=[S[0]]),jw(_,bs(S,1),[])}),Vs=Df||function(){return Ro.Date.now()};function Us(_,S){if(typeof S!="function")throw new Za(p);return _=Va(_),function(){if(--_<1)return S.apply(this,arguments)}}function al(_,S,B){return S=B?a:S,S=_&&S==null?_.length:S,ys(_,at,a,a,a,a,S)}function il(_,S){var B;if(typeof S!="function")throw new Za(p);return _=Va(_),function(){return--_>0&&(B=S.apply(this,arguments)),_<=1&&(S=a),B}}var ol=Ja(function(_,S,B){var X=Te;if(B.length){var pe=$a(B,$f(ol));X|=Oe}return ys(_,X,S,B,pe)}),Zo=Ja(function(_,S,B){var X=Te|_e;if(B.length){var pe=$a(B,$f(Zo));X|=Oe}return ys(S,X,_,B,pe)});function s0(_,S,B){S=B?a:S;var X=ys(_,le,a,a,a,a,a,S);return X.placeholder=s0.placeholder,X}function u0(_,S,B){S=B?a:S;var X=ys(_,Pe,a,a,a,a,a,S);return X.placeholder=u0.placeholder,X}function F1(_,S,B){var X,pe,Be,Ke,it,bt,gn=0,bn=!1,Dn=!1,ir=!0;if(typeof _!="function")throw new Za(p);S=qc(S)||0,Ri(B)&&(bn=!!B.leading,Dn="maxWait"in B,Be=Dn?ga(qc(B.maxWait)||0,S):Be,ir="trailing"in B?!!B.trailing:ir);function Or(zi){var Jl=X,dl=pe;return X=pe=a,gn=zi,Ke=_.apply(dl,Jl),Ke}function aa(zi){return gn=zi,it=Qp(ni,S),bn?Or(zi):Ke}function ea(zi){var Jl=zi-bt,dl=zi-gn,Bh=S-Jl;return Dn?tu(Bh,Be-dl):Bh}function Hr(zi){var Jl=zi-bt,dl=zi-gn;return bt===a||Jl>=S||Jl<0||Dn&&dl>=Be}function ni(){var zi=Vs();if(Hr(zi))return Ua(zi);it=Qp(ni,ea(zi))}function Ua(zi){return it=a,ir&&X?Or(zi):(X=pe=a,Ke)}function vs(){it!==a&&dh(it),gn=0,X=bt=pe=it=a}function es(){return it===a?Ke:Ua(Vs())}function io(){var zi=Vs(),Jl=Hr(zi);if(X=arguments,pe=this,bt=zi,Jl){if(it===a)return aa(bt);if(Dn)return dh(it),it=Qp(ni,S),Or(bt)}return it===a&&(it=Qp(ni,S)),Ke}return io.cancel=vs,io.flush=es,io}var Om=Ja(function(_,S){return Uw(_,1,S)}),Sh=Ja(function(_,S,B){return Uw(_,qc(S)||0,B)});function N1(_){return ys(_,de)}function Dm(_,S){if(typeof _!="function"||S!=null&&typeof S!="function")throw new Za(p);var B=function(){var X=arguments,pe=S?S.apply(this,X):X[0],Be=B.cache;if(Be.has(pe))return Be.get(pe);var Ke=_.apply(this,X);return B.cache=Be.set(pe,Ke)||Be,Ke};return B.cache=new(Dm.Cache||Yl),B}Dm.Cache=Yl;function Mm(_){if(typeof _!="function")throw new Za(p);return function(){var S=arguments;switch(S.length){case 0:return!_.call(this);case 1:return!_.call(this,S[0]);case 2:return!_.call(this,S[0],S[1]);case 3:return!_.call(this,S[0],S[1],S[2])}return!_.apply(this,S)}}function Lg(_){return il(2,_)}var Fg=jp(function(_,S){S=S.length==1&&Ca(S[0])?Ut(S[0],Co(qt())):Ut(bs(S,1),Co(qt()));var B=S.length;return Ja(function(X){for(var pe=-1,Be=tu(X.length,B);++pe<Be;)X[pe]=S[pe].call(this,X[pe]);return Po(_,this,X)})}),$1=Ja(function(_,S){var B=$a(S,$f($1));return ys(_,Oe,a,S,B)}),dd=Ja(function(_,S){var B=$a(S,$f(dd));return ys(_,lt,a,S,B)}),Rm=ro(function(_,S){return ys(_,K,a,a,a,S)});function ao(_,S){if(typeof _!="function")throw new Za(p);return S=S===a?S:Va(S),Ja(_,S)}function OS(_,S){if(typeof _!="function")throw new Za(p);return S=S==null?0:ga(Va(S),0),Ja(function(B){var X=B[S],pe=Fd(B,0,S);return X&&ar(pe,X),Po(_,this,pe)})}function DS(_,S,B){var X=!0,pe=!0;if(typeof _!="function")throw new Za(p);return Ri(B)&&(X="leading"in B?!!B.leading:X,pe="trailing"in B?!!B.trailing:pe),F1(_,S,{leading:X,maxWait:S,trailing:pe})}function z1(_){return al(_,1)}function MS(_,S){return $1(Ld(S),_)}function rx(){if(!arguments.length)return[];var _=arguments[0];return Ca(_)?_:[_]}function mn(_){return gu(_,ie)}function RS(_,S){return S=typeof S=="function"?S:a,gu(_,ie,S)}function Ss(_){return gu(_,V|ie)}function Fy(_,S){return S=typeof S=="function"?S:a,gu(_,V|ie,S)}function Pm(_,S){return S==null||hc(_,S,ko(S))}function Uf(_,S){return _===S||_!==_&&S!==S}var sl=Bv(fh),l0=Bv(function(_,S){return _>=S}),qd=ur(function(){return arguments}())?ur:function(_){return Qo(_)&&Ni.call(_,"callee")&&!eu.call(_,"callee")},Ca=Ft.isArray,vd=Qi?Co(Qi):i1;function ul(_){return _!=null&&Im(_.length)&&!Yc(_)}function Jo(_){return Qo(_)&&ul(_)}function Bl(_){return _===!0||_===!1||Qo(_)&&Go(_)==qa}var ll=Jr||Xd,ax=Ic?Co(Ic):$c;function cl(_){return Qo(_)&&_.nodeType===1&&!Ng(_)}function Gd(_){if(_==null)return!0;if(ul(_)&&(Ca(_)||typeof _=="string"||typeof _.splice=="function"||ll(_)||Th(_)||qd(_)))return!_.length;var S=_s(_);if(S==Qe||S==xr)return!_.size;if(bh(_))return!ly(_).length;for(var B in _)if(Ni.call(_,B))return!1;return!0}function Eh(_,S){return wg(_,S)}function c0(_,S,B){B=typeof B=="function"?B:a;var X=B?B(_,S):a;return X===a?wg(_,S,a,B):!!X}function yt(_){if(!Qo(_))return!1;var S=Go(_);return S==Ga||S==xn||typeof _.message=="string"&&typeof _.name=="string"&&!Ng(_)}function Vv(_){return typeof _=="number"&&Mu(_)}function Yc(_){if(!Ri(_))return!1;var S=Go(_);return S==jt||S==kt||S==Ee||S==pn}function ix(_){return typeof _=="number"&&_==Va(_)}function Im(_){return typeof _=="number"&&_>-1&&_%1==0&&_<=We}function Ri(_){var S=typeof _;return _!=null&&(S=="object"||S=="function")}function Qo(_){return _!=null&&typeof _=="object"}var H1=Tt?Co(Tt):Up;function Ny(_,S){return _===S||Wp(_,S,df(S))}function V1(_,S,B){return B=typeof B=="function"?B:a,Wp(_,S,df(S),B)}function $y(_){return kh(_)&&_!=+_}function zy(_){if(Yw(_))throw new oa(m);return o1(_)}function Hy(_){return _===null}function Vy(_){return _==null}function kh(_){return typeof _=="number"||Qo(_)&&Go(_)==st}function Ng(_){if(!Qo(_)||Go(_)!=Jt)return!1;var S=go(_);if(S===null)return!0;var B=Ni.call(S,"constructor")&&S.constructor;return typeof B=="function"&&B instanceof B&&cm.call(B)==Tr}var Uy=Tf?Co(Tf):Id;function PS(_){return ix(_)&&_>=-We&&_<=We}var Bm=eo?Co(eo):Tv;function Uv(_){return typeof _=="string"||!Ca(_)&&Qo(_)&&Go(_)==Un}function Xl(_){return typeof _=="symbol"||Qo(_)&&Go(_)==ba}var Th=gv?Co(gv):gS;function $g(_){return _===a}function Wy(_){return Qo(_)&&_s(_)==ts}function Eo(_){return Qo(_)&&Go(_)==ns}var f0=Bv(hm),Lo=Bv(function(_,S){return _<=S});function d0(_){if(!_)return[];if(ul(_))return Uv(_)?Js(_):bc(_);if(_v&&_[_v])return cc(_[_v]());var S=_s(_),B=S==Qe?hg:S==xr?jl:jv;return B(_)}function xc(_){if(!_)return _===0?_:0;if(_=qc(_),_===rt||_===-rt){var S=_<0?-1:1;return S*z}return _===_?_:0}function Va(_){var S=xc(_),B=S%1;return S===S?B?S-B:S:0}function zg(_){return _?Ls(Va(_),0,dt):0}function qc(_){if(typeof _=="number")return _;if(Xl(_))return ln;if(Ri(_)){var S=typeof _.valueOf=="function"?_.valueOf():_;_=Ri(S)?S+"":S}if(typeof _!="string")return _===0?_:+_;_=_r(_);var B=uu.test(_);return B||Xu.test(_)?vv(_.slice(2),B?2:8):Ps.test(_)?ln:+_}function jy(_){return co(_,Ll(_))}function IS(_){return _?Ls(Va(_),-We,We):_===0?_:0}function Ji(_){return _==null?"":cf(_)}var BS=Qn(function(_,S){if(bh(S)||ul(S)){co(S,ko(S),_);return}for(var B in S)Ni.call(S,B)&&Pf(_,B,S[B])}),v0=Qn(function(_,S){co(S,Ll(S),_)}),Ah=Qn(function(_,S,B,X){co(S,Ll(S),_,X)}),LS=Qn(function(_,S,B,X){co(S,ko(S),_,X)}),ox=ro(It);function Yy(_,S){var B=lh(_);return S==null?B:ls(B,S)}var FS=Ja(function(_,S){_=pi(_);var B=-1,X=S.length,pe=X>2?S[2]:a;for(pe&&$s(S[0],S[1],pe)&&(X=1);++B<X;)for(var Be=S[B],Ke=Ll(Be),it=-1,bt=Ke.length;++it<bt;){var gn=Ke[it],bn=_[gn];(bn===a||Uf(bn,vu[gn])&&!Ni.call(_,gn))&&(_[gn]=Be[gn])}return _}),NS=Ja(function(_){return _.push(a,ud),Po(ux,a,_)});function U1(_,S){return Bi(_,qt(S,3),cs)}function qy(_,S){return Bi(_,qt(S,3),Ol)}function yu(_,S){return _==null?_:xi(_,qt(S,3),Ll)}function Hg(_,S){return _==null?_:Ev(_,qt(S,3),Ll)}function Vg(_,S){return _&&cs(_,qt(S,3))}function sx(_,S){return _&&Ol(_,qt(S,3))}function $S(_){return _==null?[]:a1(_,ko(_))}function h0(_){return _==null?[]:a1(_,Ll(_))}function Lm(_,S,B){var X=_==null?a:Je(_,S);return X===a?B:X}function Fm(_,S){return _!=null&&Tg(_,S,Nc)}function Ug(_,S){return _!=null&&Tg(_,S,Ci)}var m0=h1(function(_,S,B){S!=null&&typeof S.toString!="function"&&(S=uf.call(S)),_[S]=B},Kd(Cc)),Gy=h1(function(_,S,B){S!=null&&typeof S.toString!="function"&&(S=uf.call(S)),Ni.call(_,S)?_[S].push(B):_[S]=[B]},qt),zS=Ja(vm);function ko(_){return ul(_)?mu(_):ly(_)}function Ll(_){return ul(_)?mu(_,!0):Ww(_)}function HS(_,S){var B={};return S=qt(S,3),cs(_,function(X,pe,Be){Pd(B,S(X,pe,Be),X)}),B}function Oh(_,S){var B={};return S=qt(S,3),cs(_,function(X,pe,Be){Pd(B,pe,S(X,pe,Be))}),B}var Dh=Qn(function(_,S,B){Av(_,S,B)}),ux=Qn(function(_,S,B,X){Av(_,S,B,X)}),W1=ro(function(_,S){var B={};if(_==null)return B;var X=!1;S=Ut(S,function(Be){return Be=od(Be,_),X||(X=Be.length>1),Be}),co(_,Nf(_),B),X&&(B=gu(B,V|q|ie,Lv));for(var pe=S.length;pe--;)Cg(B,S[pe]);return B});function j1(_,S){return Ws(_,Mm(qt(S)))}var Y1=ro(function(_,S){return _==null?{}:pS(_,S)});function Ws(_,S){if(_==null)return{};var B=Ut(Nf(_),function(X){return[X]});return S=qt(S),Ko(_,B,function(X,pe){return S(X,pe[0])})}function lx(_,S,B){S=od(S,_);var X=-1,pe=S.length;for(pe||(pe=1,_=a);++X<pe;){var Be=_==null?a:_[cd(S[X])];Be===a&&(X=pe,Be=B),_=Yc(Be)?Be.call(_):Be}return _}function Ky(_,S,B){return _==null?_:Dl(_,S,B)}function cx(_,S,B,X){return X=typeof X=="function"?X:a,_==null?_:Dl(_,S,B,X)}var Xy=_y(ko),Wf=_y(Ll);function Wv(_,S,B){var X=Ca(_),pe=X||ll(_)||Th(_);if(S=qt(S,4),B==null){var Be=_&&_.constructor;pe?B=X?new Be:[]:Ri(_)?B=Yc(Be)?lh(go(_)):{}:B={}}return(pe?Z:cs)(_,function(Ke,it,bt){return S(B,Ke,it,bt)}),B}function fx(_,S){return _==null?!0:Cg(_,S)}function dx(_,S,B){return _==null?_:Pv(_,S,Ld(B))}function Zy(_,S,B,X){return X=typeof X=="function"?X:a,_==null?_:Pv(_,S,Ld(B),X)}function jv(_){return _==null?[]:no(_,ko(_))}function vx(_){return _==null?[]:no(_,Ll(_))}function Wg(_,S,B){return B===a&&(B=S,S=a),B!==a&&(B=qc(B),B=B===B?B:0),S!==a&&(S=qc(S),S=S===S?S:0),Ls(qc(_),S,B)}function VS(_,S,B){return S=xc(S),B===a?(B=S,S=0):B=xc(B),_=qc(_),Mi(_,S,B)}function g0(_,S,B){if(B&&typeof B!="boolean"&&$s(_,S,B)&&(S=B=a),B===a&&(typeof S=="boolean"?(B=S,S=a):typeof _=="boolean"&&(B=_,_=a)),_===a&&S===a?(_=0,S=1):(_=xc(_),S===a?(S=_,_=0):S=xc(S)),_>S){var X=_;_=S,S=X}if(B||_%1||S%1){var pe=he();return tu(_+pe*(S-_+Qf("1e-"+((pe+"").length-1))),S)}return u1(_,S)}var US=Qa(function(_,S,B){return S=S.toLowerCase(),_+(B?Nm(S):S)});function Nm(_){return b0(Ji(_).toLowerCase())}function Mh(_){return _=Ji(_),_&&_.replace(Eu,Bc).replace(ct,"")}function Jy(_,S,B){_=Ji(_),S=cf(S);var X=_.length;B=B===a?X:Ls(Va(B),0,X);var pe=B;return B-=S.length,B>=0&&_.slice(B,pe)==S}function hx(_){return _=Ji(_),_&&ma.test(_)?_.replace(rs,Na):_}function WS(_){return _=Ji(_),_&&wl.test(_)?_.replace(_l,"\\$&"):_}var mx=Qa(function(_,S,B){return _+(B?"-":"")+S.toLowerCase()}),gx=Qa(function(_,S,B){return _+(B?" ":"")+S.toLowerCase()}),Qy=yy("toLowerCase");function jS(_,S,B){_=Ji(_),S=Va(S);var X=S?fc(_):0;if(!S||X>=S)return _;var pe=(S-X)/2;return $d(Du(pe),B)+_+$d(wv(pe),B)}function q1(_,S,B){_=Ji(_),S=Va(S);var X=S?fc(_):0;return S&&X<S?_+$d(S-X,B):_}function YS(_,S,B){_=Ji(_),S=Va(S);var X=S?fc(_):0;return S&&X<S?$d(S-X,B)+_:_}function p0(_,S,B){return B||S==null?S=0:S&&(S=+S),re(Ji(_).replace(Mo,""),S||0)}function qS(_,S,B){return(B?$s(_,S,B):S===a)?S=1:S=Va(S),Dv(Ji(_),S)}function GS(){var _=arguments,S=Ji(_[0]);return _.length<3?S:S.replace(_[1],_[2])}var KS=Qa(function(_,S,B){return _+(B?"_":"")+S.toLowerCase()});function G1(_,S,B){return B&&typeof B!="number"&&$s(_,S,B)&&(S=B=a),B=B===a?dt:B>>>0,B?(_=Ji(_),_&&(typeof S=="string"||S!=null&&!Uy(S))&&(S=cf(S),!S&&Wl(_))?Fd(Js(_),0,B):_.split(S,B)):[]}var XS=Qa(function(_,S,B){return _+(B?" ":"")+b0(S)});function jg(_,S,B){return _=Ji(_),B=B==null?0:Ls(Va(B),0,_.length),S=cf(S),_.slice(B,B+S.length)==S}function px(_,S,B){var X=ke.templateSettings;B&&$s(_,S,B)&&(S=a),_=Ji(_),S=Ah({},S,X,m1);var pe=Ah({},S.imports,X.imports,m1),Be=ko(pe),Ke=no(pe,Be),it,bt,gn=0,bn=S.interpolate||Vl,Dn="__p += '",ir=ed((S.escape||Vl).source+"|"+bn.source+"|"+(bn===Mc?Kn:Vl).source+"|"+(S.evaluate||Vl).source+"|$","g"),Or="//# sourceURL="+(Ni.call(S,"sourceURL")?(S.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Wr+"]")+`
`;_.replace(ir,function(Hr,ni,Ua,vs,es,io){return Ua||(Ua=vs),Dn+=_.slice(gn,io).replace(as,Fi),ni&&(it=!0,Dn+=`' +
__e(`+ni+`) +
'`),es&&(bt=!0,Dn+=`';
`+es+`;
__p += '`),Ua&&(Dn+=`' +
((__t = (`+Ua+`)) == null ? '' : __t) +
'`),gn=io+Hr.length,Hr}),Dn+=`';
`;var aa=Ni.call(S,"variable")&&S.variable;if(!aa)Dn=`with (obj) {
`+Dn+`
}
`;else if(Da.test(aa))throw new oa(x);Dn=(bt?Dn.replace(wo,""):Dn).replace(ia,"$1").replace(Ds,"$1;"),Dn="function("+(aa||"obj")+`) {
`+(aa?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(it?", __e = _.escape":"")+(bt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Dn+`return __p
}`;var ea=xx(function(){return si(Be,Or+"return "+Dn).apply(a,Ke)});if(ea.source=Dn,yt(ea))throw ea;return ea}function ZS(_){return Ji(_).toLowerCase()}function e_(_){return Ji(_).toUpperCase()}function bx(_,S,B){if(_=Ji(_),_&&(B||S===a))return _r(_);if(!_||!(S=cf(S)))return _;var X=Js(_),pe=Js(S),Be=os(X,pe),Ke=Io(X,pe)+1;return Fd(X,Be,Ke).join("")}function t_(_,S,B){if(_=Ji(_),_&&(B||S===a))return _.slice(0,fu(_)+1);if(!_||!(S=cf(S)))return _;var X=Js(_),pe=Io(X,Js(S))+1;return Fd(X,0,pe).join("")}function yx(_,S,B){if(_=Ji(_),_&&(B||S===a))return _.replace(Mo,"");if(!_||!(S=cf(S)))return _;var X=Js(_),pe=os(X,Js(S));return Fd(X,pe).join("")}function _x(_,S){var B=ve,X=Ue;if(Ri(S)){var pe="separator"in S?S.separator:pe;B="length"in S?Va(S.length):B,X="omission"in S?cf(S.omission):X}_=Ji(_);var Be=_.length;if(Wl(_)){var Ke=Js(_);Be=Ke.length}if(B>=Be)return _;var it=B-fc(X);if(it<1)return X;var bt=Ke?Fd(Ke,0,it).join(""):_.slice(0,it);if(pe===a)return bt+X;if(Ke&&(it+=bt.length-it),Uy(pe)){if(_.slice(it).search(pe)){var gn,bn=bt;for(pe.global||(pe=ed(pe.source,Ji(ac.exec(pe))+"g")),pe.lastIndex=0;gn=pe.exec(bn);)var Dn=gn.index;bt=bt.slice(0,Dn===a?it:Dn)}}else if(_.indexOf(cf(pe),it)!=it){var ir=bt.lastIndexOf(pe);ir>-1&&(bt=bt.slice(0,ir))}return bt+X}function Yg(_){return _=Ji(_),_&&Zn.test(_)?_.replace(Ms,El):_}var n_=Qa(function(_,S,B){return _+(B?" ":"")+S.toUpperCase()}),b0=yy("toUpperCase");function wx(_,S,B){return _=Ji(_),S=B?a:S,S===a?ss(_)?sf(_):yr(_):_.match(S)||[]}var xx=Ja(function(_,S){try{return Po(_,a,S)}catch(B){return yt(B)?B:new oa(B)}}),r_=ro(function(_,S){return Z(S,function(B){B=cd(B),Pd(_,B,ol(_[B],_))}),_});function JS(_){var S=_==null?0:_.length,B=qt();return _=S?Ut(_,function(X){if(typeof X[1]!="function")throw new Za(p);return[B(X[0]),X[1]]}):[],Ja(function(X){for(var pe=-1;++pe<S;){var Be=_[pe];if(Po(Be[0],this,X))return Po(Be[1],this,X)}})}function Cx(_){return Ar(gu(_,V))}function Kd(_){return function(){return _}}function qg(_,S){return _==null||_!==_?S:_}var Sx=Nt(),QS=Nt(!0);function Cc(_){return _}function a_(_){return s1(typeof _=="function"?_:gu(_,V))}function i_(_){return cy(gu(_,V))}function Gg(_,S){return id(_,gu(S,V))}var fl=Ja(function(_,S){return function(B){return vm(B,_,S)}}),o_=Ja(function(_,S){return function(B){return vm(_,B,S)}});function Rh(_,S,B){var X=ko(S),pe=a1(S,X);B==null&&!(Ri(S)&&(pe.length||!X.length))&&(B=S,S=_,_=this,pe=a1(S,ko(S)));var Be=!(Ri(B)&&"chain"in B)||!!B.chain,Ke=Yc(_);return Z(pe,function(it){var bt=S[it];_[it]=bt,Ke&&(_.prototype[it]=function(){var gn=this.__chain__;if(Be||gn){var bn=_(this.__wrapped__),Dn=bn.__actions__=bc(this.__actions__);return Dn.push({func:bt,args:arguments,thisArg:_}),bn.__chain__=gn,bn}return bt.apply(_,ar([this.value()],arguments))})}),_}function $m(){return Ro._===this&&(Ro._=Lc),this}function Kg(){}function e2(_){return _=Va(_),Ja(function(S){return dy(S,_)})}var Ex=ym(Ut),s_=ym(oe),Zl=ym(sr);function Xg(_){return p1(_)?Cl(cd(_)):Bd(_)}function t2(_){return function(S){return _==null?a:Je(_,S)}}var zm=hh(),Ph=hh(!0);function Ih(){return[]}function Xd(){return!1}function hd(){return{}}function md(){return""}function K1(){return!0}function X1(_,S){if(_=Va(_),_<1||_>We)return[];var B=dt,X=tu(_,dt);S=qt(S),_-=dt;for(var pe=lm(X,S);++B<_;)S(B);return pe}function u_(_){return Ca(_)?Ut(_,cd):Xl(_)?[_]:bc(Hf(Ji(_)))}function Zg(_){var S=++yv;return Ji(_)+S}var Jg=sd(function(_,S){return _+S},0),Qg=Br("ceil"),Bu=sd(function(_,S){return _/S},1),ep=Br("floor");function tp(_){return _&&_.length?Ns(_,Cc,fh):a}function Z1(_,S){return _&&_.length?Ns(_,qt(S,2),fh):a}function n2(_){return $r(_,Cc)}function l_(_,S){return $r(_,qt(S,2))}function J1(_){return _&&_.length?Ns(_,Cc,hm):a}function _u(_,S){return _&&_.length?Ns(_,qt(S,2),hm):a}var r2=sd(function(_,S){return _*S},1),Zd=Br("round"),Q1=sd(function(_,S){return _-S},0);function c_(_){return _&&_.length?gs(_,Cc):0}function np(_,S){return _&&_.length?gs(_,qt(S,2)):0}return ke.after=Us,ke.ary=al,ke.assign=BS,ke.assignIn=v0,ke.assignInWith=Ah,ke.assignWith=LS,ke.at=ox,ke.before=il,ke.bind=ol,ke.bindAll=r_,ke.bindKey=Zo,ke.castArray=rx,ke.chain=wh,ke.chunk=_1,ke.compact=e0,ke.concat=w1,ke.cond=JS,ke.conforms=Cx,ke.constant=Kd,ke.countBy=Yd,ke.create=Yy,ke.curry=s0,ke.curryRight=u0,ke.debounce=F1,ke.defaults=FS,ke.defaultsDeep=NS,ke.defer=Om,ke.delay=Sh,ke.difference=x1,ke.differenceBy=xm,ke.differenceWith=_S,ke.drop=C1,ke.dropRight=Og,ke.dropRightWhile=t0,ke.dropWhile=n0,ke.fill=Ey,ke.filter=TS,ke.flatMap=My,ke.flatMapDeep=Ry,ke.flatMapDepth=Am,ke.flatten=Xo,ke.flattenDeep=Rl,ke.flattenDepth=Cm,ke.flip=N1,ke.flow=Sx,ke.flowRight=QS,ke.fromPairs=Wc,ke.functions=$S,ke.functionsIn=h0,ke.groupBy=Py,ke.initial=Dg,ke.intersection=Mg,ke.intersectionBy=Kw,ke.intersectionWith=Xw,ke.invert=m0,ke.invertBy=Gy,ke.invokeMap=bu,ke.iteratee=a_,ke.keyBy=wc,ke.keys=ko,ke.keysIn=Ll,ke.map=Ch,ke.mapKeys=HS,ke.mapValues=Oh,ke.matches=i_,ke.matchesProperty=Gg,ke.memoize=Dm,ke.merge=Dh,ke.mergeWith=ux,ke.method=fl,ke.methodOf=o_,ke.mixin=Rh,ke.negate=Mm,ke.nthArg=e2,ke.omit=W1,ke.omitBy=j1,ke.once=Lg,ke.orderBy=Cs,ke.over=Ex,ke.overArgs=Fg,ke.overEvery=s_,ke.overSome=Zl,ke.partial=$1,ke.partialRight=dd,ke.partition=B1,ke.pick=Y1,ke.pickBy=Ws,ke.property=Xg,ke.propertyOf=t2,ke.pull=S1,ke.pullAll=a0,ke.pullAllBy=pu,ke.pullAllWith=E1,ke.pullAt=ky,ke.range=zm,ke.rangeRight=Ph,ke.rearg=Rm,ke.reject=By,ke.remove=vf,ke.rest=ao,ke.reverse=$i,ke.sampleSize=Ly,ke.set=Ky,ke.setWith=cx,ke.shuffle=o0,ke.slice=jc,ke.sortBy=AS,ke.sortedUniq=T1,ke.sortedUniqBy=Ay,ke.split=G1,ke.spread=OS,ke.tail=ws,ke.take=hf,ke.takeRight=Qw,ke.takeRightWhile=Sm,ke.takeWhile=Wi,ke.tap=km,ke.throttle=DS,ke.thru=Tm,ke.toArray=d0,ke.toPairs=Xy,ke.toPairsIn=Wf,ke.toPath=u_,ke.toPlainObject=jy,ke.transform=Wv,ke.unary=z1,ke.union=Em,ke.unionBy=A1,ke.unionWith=Pg,ke.uniq=Oy,ke.uniqBy=ex,ke.uniqWith=i0,ke.unset=fx,ke.unzip=O1,ke.unzipWith=jd,ke.update=dx,ke.updateWith=Zy,ke.values=jv,ke.valuesIn=vx,ke.without=Pl,ke.words=wx,ke.wrap=MS,ke.xor=Dy,ke.xorBy=CS,ke.xorWith=fd,ke.zip=zv,ke.zipObject=D1,ke.zipObjectDeep=SS,ke.zipWith=ES,ke.entries=Xy,ke.entriesIn=Wf,ke.extend=v0,ke.extendWith=Ah,Rh(ke,ke),ke.add=Jg,ke.attempt=xx,ke.camelCase=US,ke.capitalize=Nm,ke.ceil=Qg,ke.clamp=Wg,ke.clone=mn,ke.cloneDeep=Ss,ke.cloneDeepWith=Fy,ke.cloneWith=RS,ke.conformsTo=Pm,ke.deburr=Mh,ke.defaultTo=qg,ke.divide=Bu,ke.endsWith=Jy,ke.eq=Uf,ke.escape=hx,ke.escapeRegExp=WS,ke.every=kS,ke.find=R1,ke.findIndex=ds,ke.findKey=U1,ke.findLast=P1,ke.findLastIndex=yh,ke.findLastKey=qy,ke.floor=ep,ke.forEach=Ig,ke.forEachRight=I1,ke.forIn=yu,ke.forInRight=Hg,ke.forOwn=Vg,ke.forOwnRight=sx,ke.get=Lm,ke.gt=sl,ke.gte=l0,ke.has=Fm,ke.hasIn=Ug,ke.head=r0,ke.identity=Cc,ke.includes=Bg,ke.indexOf=Wd,ke.inRange=VS,ke.invoke=zS,ke.isArguments=qd,ke.isArray=Ca,ke.isArrayBuffer=vd,ke.isArrayLike=ul,ke.isArrayLikeObject=Jo,ke.isBoolean=Bl,ke.isBuffer=ll,ke.isDate=ax,ke.isElement=cl,ke.isEmpty=Gd,ke.isEqual=Eh,ke.isEqualWith=c0,ke.isError=yt,ke.isFinite=Vv,ke.isFunction=Yc,ke.isInteger=ix,ke.isLength=Im,ke.isMap=H1,ke.isMatch=Ny,ke.isMatchWith=V1,ke.isNaN=$y,ke.isNative=zy,ke.isNil=Vy,ke.isNull=Hy,ke.isNumber=kh,ke.isObject=Ri,ke.isObjectLike=Qo,ke.isPlainObject=Ng,ke.isRegExp=Uy,ke.isSafeInteger=PS,ke.isSet=Bm,ke.isString=Uv,ke.isSymbol=Xl,ke.isTypedArray=Th,ke.isUndefined=$g,ke.isWeakMap=Wy,ke.isWeakSet=Eo,ke.join=wS,ke.kebabCase=mx,ke.last=Vf,ke.lastIndexOf=xS,ke.lowerCase=gx,ke.lowerFirst=Qy,ke.lt=f0,ke.lte=Lo,ke.max=tp,ke.maxBy=Z1,ke.mean=n2,ke.meanBy=l_,ke.min=J1,ke.minBy=_u,ke.stubArray=Ih,ke.stubFalse=Xd,ke.stubObject=hd,ke.stubString=md,ke.stubTrue=K1,ke.multiply=r2,ke.nth=Zw,ke.noConflict=$m,ke.noop=Kg,ke.now=Vs,ke.pad=jS,ke.padEnd=q1,ke.padStart=YS,ke.parseInt=p0,ke.random=g0,ke.reduce=Hv,ke.reduceRight=Iy,ke.repeat=qS,ke.replace=GS,ke.result=lx,ke.round=Zd,ke.runInContext=pt,ke.sample=tx,ke.size=L1,ke.snakeCase=KS,ke.some=nx,ke.sortedIndex=_h,ke.sortedIndexBy=Ty,ke.sortedIndexOf=k1,ke.sortedLastIndex=Jw,ke.sortedLastIndexBy=Yr,ke.sortedLastIndexOf=Rg,ke.startCase=XS,ke.startsWith=jg,ke.subtract=Q1,ke.sum=c_,ke.sumBy=np,ke.template=px,ke.times=X1,ke.toFinite=xc,ke.toInteger=Va,ke.toLength=zg,ke.toLower=ZS,ke.toNumber=qc,ke.toSafeInteger=IS,ke.toString=Ji,ke.toUpper=e_,ke.trim=bx,ke.trimEnd=t_,ke.trimStart=yx,ke.truncate=_x,ke.unescape=Yg,ke.uniqueId=Zg,ke.upperCase=n_,ke.upperFirst=b0,ke.each=Ig,ke.eachRight=I1,ke.first=r0,Rh(ke,function(){var _={};return cs(ke,function(S,B){Ni.call(ke.prototype,B)||(_[B]=S)}),_}(),{chain:!1}),ke.VERSION=u,Z(["bind","bindKey","curry","curryRight","partial","partialRight"],function(_){ke[_].placeholder=ke}),Z(["drop","take"],function(_,S){bi.prototype[_]=function(B){B=B===a?1:ga(Va(B),0);var X=this.__filtered__&&!S?new bi(this):this.clone();return X.__filtered__?X.__takeCount__=tu(B,X.__takeCount__):X.__views__.push({size:tu(B,dt),type:_+(X.__dir__<0?"Right":"")}),X},bi.prototype[_+"Right"]=function(B){return this.reverse()[_](B).reverse()}}),Z(["filter","map","takeWhile"],function(_,S){var B=S+1,X=B==$e||B==Ce;bi.prototype[_]=function(pe){var Be=this.clone();return Be.__iteratees__.push({iteratee:qt(pe,3),type:B}),Be.__filtered__=Be.__filtered__||X,Be}}),Z(["head","last"],function(_,S){var B="take"+(S?"Right":"");bi.prototype[_]=function(){return this[B](1).value()[0]}}),Z(["initial","tail"],function(_,S){var B="drop"+(S?"":"Right");bi.prototype[_]=function(){return this.__filtered__?new bi(this):this[B](1)}}),bi.prototype.compact=function(){return this.filter(Cc)},bi.prototype.find=function(_){return this.filter(_).head()},bi.prototype.findLast=function(_){return this.reverse().find(_)},bi.prototype.invokeMap=Ja(function(_,S){return typeof _=="function"?new bi(this):this.map(function(B){return vm(B,_,S)})}),bi.prototype.reject=function(_){return this.filter(Mm(qt(_)))},bi.prototype.slice=function(_,S){_=Va(_);var B=this;return B.__filtered__&&(_>0||S<0)?new bi(B):(_<0?B=B.takeRight(-_):_&&(B=B.drop(_)),S!==a&&(S=Va(S),B=S<0?B.dropRight(-S):B.take(S-_)),B)},bi.prototype.takeRightWhile=function(_){return this.reverse().takeWhile(_).reverse()},bi.prototype.toArray=function(){return this.take(dt)},cs(bi.prototype,function(_,S){var B=/^(?:filter|find|map|reject)|While$/.test(S),X=/^(?:head|last)$/.test(S),pe=ke[X?"take"+(S=="last"?"Right":""):S],Be=X||/^find/.test(S);pe&&(ke.prototype[S]=function(){var Ke=this.__wrapped__,it=X?[1]:arguments,bt=Ke instanceof bi,gn=it[0],bn=bt||Ca(Ke),Dn=function(ni){var Ua=pe.apply(ke,ar([ni],it));return X&&ir?Ua[0]:Ua};bn&&B&&typeof gn=="function"&&gn.length!=1&&(bt=bn=!1);var ir=this.__chain__,Or=!!this.__actions__.length,aa=Be&&!ir,ea=bt&&!Or;if(!Be&&bn){Ke=ea?Ke:new bi(this);var Hr=_.apply(Ke,it);return Hr.__actions__.push({func:Tm,args:[Dn],thisArg:a}),new dc(Hr,ir)}return aa&&ea?_.apply(this,it):(Hr=this.thru(Dn),aa?X?Hr.value()[0]:Hr.value():Hr)})}),Z(["pop","push","shift","sort","splice","unshift"],function(_){var S=Ou[_],B=/^(?:push|sort|unshift)$/.test(_)?"tap":"thru",X=/^(?:pop|shift)$/.test(_);ke.prototype[_]=function(){var pe=arguments;if(X&&!this.__chain__){var Be=this.value();return S.apply(Ca(Be)?Be:[],pe)}return this[B](function(Ke){return S.apply(Ca(Ke)?Ke:[],pe)})}}),cs(bi.prototype,function(_,S){var B=ke[S];if(B){var X=B.name+"";Ni.call(qo,X)||(qo[X]=[]),qo[X].push({name:S,func:B})}}),qo[Eg(a,_e).name]=[{name:"wrapper",func:a}],bi.prototype.clone=fS,bi.prototype.reverse=rd,bi.prototype.value=Fp,ke.prototype.at=Ha,ke.prototype.chain=xs,ke.prototype.commit=Il,ke.prototype.next=Kl,ke.prototype.plant=xh,ke.prototype.reverse=M1,ke.prototype.toJSON=ke.prototype.valueOf=ke.prototype.value=Hs,ke.prototype.first=ke.prototype.head,_v&&(ke.prototype[_v]=Ti),ke},Of=ps();Ra?((Ra.exports=Of)._=Of,Td._=Of):Ro._=Of}).call(xw)})(L5,L5.exports);var lue=L5.exports;const cue=qZ(lue);var ih="top",cg="bottom",fg="right",oh="left",u6="auto",CD=[ih,cg,fg,oh],Rk="start",fD="end",GZ="clippingParents",mj="viewport",QO="popper",KZ="reference",DW=CD.reduce(function(i,t){return i.concat([t+"-"+Rk,t+"-"+fD])},[]),gj=[].concat(CD,[u6]).reduce(function(i,t){return i.concat([t,t+"-"+Rk,t+"-"+fD])},[]),XZ="beforeRead",ZZ="read",JZ="afterRead",QZ="beforeMain",eJ="main",tJ="afterMain",nJ="beforeWrite",rJ="write",aJ="afterWrite",iJ=[XZ,ZZ,JZ,QZ,eJ,tJ,nJ,rJ,aJ];function Qb(i){return i?(i.nodeName||"").toLowerCase():null}function dg(i){if(i==null)return window;if(i.toString()!=="[object Window]"){var t=i.ownerDocument;return t&&t.defaultView||window}return i}function Pk(i){var t=dg(i).Element;return i instanceof t||i instanceof Element}function Dp(i){var t=dg(i).HTMLElement;return i instanceof t||i instanceof HTMLElement}function pj(i){if(typeof ShadowRoot>"u")return!1;var t=dg(i).ShadowRoot;return i instanceof t||i instanceof ShadowRoot}function fue(i){var t=i.state;Object.keys(t.elements).forEach(function(a){var u=t.styles[a]||{},c=t.attributes[a]||{},m=t.elements[a];!Dp(m)||!Qb(m)||(Object.assign(m.style,u),Object.keys(c).forEach(function(p){var x=c[p];x===!1?m.removeAttribute(p):m.setAttribute(p,x===!0?"":x)}))})}function due(i){var t=i.state,a={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,a.popper),t.styles=a,t.elements.arrow&&Object.assign(t.elements.arrow.style,a.arrow),function(){Object.keys(t.elements).forEach(function(u){var c=t.elements[u],m=t.attributes[u]||{},p=Object.keys(t.styles.hasOwnProperty(u)?t.styles[u]:a[u]),x=p.reduce(function(k,D){return k[D]="",k},{});!Dp(c)||!Qb(c)||(Object.assign(c.style,x),Object.keys(m).forEach(function(k){c.removeAttribute(k)}))})}}const bj={name:"applyStyles",enabled:!0,phase:"write",fn:fue,effect:due,requires:["computeStyles"]};function Xb(i){return i.split("-")[0]}var Ak=Math.max,F5=Math.min,dD=Math.round;function MW(){var i=navigator.userAgentData;return i!=null&&i.brands&&Array.isArray(i.brands)?i.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function oJ(){return!/^((?!chrome|android).)*safari/i.test(MW())}function vD(i,t,a){t===void 0&&(t=!1),a===void 0&&(a=!1);var u=i.getBoundingClientRect(),c=1,m=1;t&&Dp(i)&&(c=i.offsetWidth>0&&dD(u.width)/i.offsetWidth||1,m=i.offsetHeight>0&&dD(u.height)/i.offsetHeight||1);var p=Pk(i)?dg(i):window,x=p.visualViewport,k=!oJ()&&a,D=(u.left+(k&&x?x.offsetLeft:0))/c,L=(u.top+(k&&x?x.offsetTop:0))/m,V=u.width/c,q=u.height/m;return{width:V,height:q,top:L,right:D+V,bottom:L+q,left:D,x:D,y:L}}function yj(i){var t=vD(i),a=i.offsetWidth,u=i.offsetHeight;return Math.abs(t.width-a)<=1&&(a=t.width),Math.abs(t.height-u)<=1&&(u=t.height),{x:i.offsetLeft,y:i.offsetTop,width:a,height:u}}function sJ(i,t){var a=t.getRootNode&&t.getRootNode();if(i.contains(t))return!0;if(a&&pj(a)){var u=t;do{if(u&&i.isSameNode(u))return!0;u=u.parentNode||u.host}while(u)}return!1}function Pw(i){return dg(i).getComputedStyle(i)}function vue(i){return["table","td","th"].indexOf(Qb(i))>=0}function iS(i){return((Pk(i)?i.ownerDocument:i.document)||window.document).documentElement}function l6(i){return Qb(i)==="html"?i:i.assignedSlot||i.parentNode||(pj(i)?i.host:null)||iS(i)}function RG(i){return!Dp(i)||Pw(i).position==="fixed"?null:i.offsetParent}function hue(i){var t=/firefox/i.test(MW()),a=/Trident/i.test(MW());if(a&&Dp(i)){var u=Pw(i);if(u.position==="fixed")return null}var c=l6(i);for(pj(c)&&(c=c.host);Dp(c)&&["html","body"].indexOf(Qb(c))<0;){var m=Pw(c);if(m.transform!=="none"||m.perspective!=="none"||m.contain==="paint"||["transform","perspective"].indexOf(m.willChange)!==-1||t&&m.willChange==="filter"||t&&m.filter&&m.filter!=="none")return c;c=c.parentNode}return null}function tI(i){for(var t=dg(i),a=RG(i);a&&vue(a)&&Pw(a).position==="static";)a=RG(a);return a&&(Qb(a)==="html"||Qb(a)==="body"&&Pw(a).position==="static")?t:a||hue(i)||t}function _j(i){return["top","bottom"].indexOf(i)>=0?"x":"y"}function O3(i,t,a){return Ak(i,F5(t,a))}function mue(i,t,a){var u=O3(i,t,a);return u>a?a:u}function uJ(){return{top:0,right:0,bottom:0,left:0}}function lJ(i){return Object.assign({},uJ(),i)}function cJ(i,t){return t.reduce(function(a,u){return a[u]=i,a},{})}var gue=function(t,a){return t=typeof t=="function"?t(Object.assign({},a.rects,{placement:a.placement})):t,lJ(typeof t!="number"?t:cJ(t,CD))};function pue(i){var t,a=i.state,u=i.name,c=i.options,m=a.elements.arrow,p=a.modifiersData.popperOffsets,x=Xb(a.placement),k=_j(x),D=[oh,fg].indexOf(x)>=0,L=D?"height":"width";if(!(!m||!p)){var V=gue(c.padding,a),q=yj(m),ie=k==="y"?ih:oh,ee=k==="y"?cg:fg,se=a.rects.reference[L]+a.rects.reference[k]-p[k]-a.rects.popper[L],Te=p[k]-a.rects.reference[k],_e=tI(m),be=_e?k==="y"?_e.clientHeight||0:_e.clientWidth||0:0,le=se/2-Te/2,Pe=V[ie],Oe=be-q[L]-V[ee],lt=be/2-q[L]/2+le,at=O3(Pe,lt,Oe),K=k;a.modifiersData[u]=(t={},t[K]=at,t.centerOffset=at-lt,t)}}function bue(i){var t=i.state,a=i.options,u=a.element,c=u===void 0?"[data-popper-arrow]":u;c!=null&&(typeof c=="string"&&(c=t.elements.popper.querySelector(c),!c)||sJ(t.elements.popper,c)&&(t.elements.arrow=c))}const fJ={name:"arrow",enabled:!0,phase:"main",fn:pue,effect:bue,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function hD(i){return i.split("-")[1]}var yue={top:"auto",right:"auto",bottom:"auto",left:"auto"};function _ue(i,t){var a=i.x,u=i.y,c=t.devicePixelRatio||1;return{x:dD(a*c)/c||0,y:dD(u*c)/c||0}}function PG(i){var t,a=i.popper,u=i.popperRect,c=i.placement,m=i.variation,p=i.offsets,x=i.position,k=i.gpuAcceleration,D=i.adaptive,L=i.roundOffsets,V=i.isFixed,q=p.x,ie=q===void 0?0:q,ee=p.y,se=ee===void 0?0:ee,Te=typeof L=="function"?L({x:ie,y:se}):{x:ie,y:se};ie=Te.x,se=Te.y;var _e=p.hasOwnProperty("x"),be=p.hasOwnProperty("y"),le=oh,Pe=ih,Oe=window;if(D){var lt=tI(a),at="clientHeight",K="clientWidth";if(lt===dg(a)&&(lt=iS(a),Pw(lt).position!=="static"&&x==="absolute"&&(at="scrollHeight",K="scrollWidth")),lt=lt,c===ih||(c===oh||c===fg)&&m===fD){Pe=cg;var de=V&&lt===Oe&&Oe.visualViewport?Oe.visualViewport.height:lt[at];se-=de-u.height,se*=k?1:-1}if(c===oh||(c===ih||c===cg)&&m===fD){le=fg;var ve=V&&lt===Oe&&Oe.visualViewport?Oe.visualViewport.width:lt[K];ie-=ve-u.width,ie*=k?1:-1}}var Ue=Object.assign({position:x},D&&yue),ue=L===!0?_ue({x:ie,y:se},dg(a)):{x:ie,y:se};if(ie=ue.x,se=ue.y,k){var Y;return Object.assign({},Ue,(Y={},Y[Pe]=be?"0":"",Y[le]=_e?"0":"",Y.transform=(Oe.devicePixelRatio||1)<=1?"translate("+ie+"px, "+se+"px)":"translate3d("+ie+"px, "+se+"px, 0)",Y))}return Object.assign({},Ue,(t={},t[Pe]=be?se+"px":"",t[le]=_e?ie+"px":"",t.transform="",t))}function wue(i){var t=i.state,a=i.options,u=a.gpuAcceleration,c=u===void 0?!0:u,m=a.adaptive,p=m===void 0?!0:m,x=a.roundOffsets,k=x===void 0?!0:x,D={placement:Xb(t.placement),variation:hD(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:c,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,PG(Object.assign({},D,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:p,roundOffsets:k})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,PG(Object.assign({},D,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:k})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const wj={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:wue,data:{}};var PN={passive:!0};function xue(i){var t=i.state,a=i.instance,u=i.options,c=u.scroll,m=c===void 0?!0:c,p=u.resize,x=p===void 0?!0:p,k=dg(t.elements.popper),D=[].concat(t.scrollParents.reference,t.scrollParents.popper);return m&&D.forEach(function(L){L.addEventListener("scroll",a.update,PN)}),x&&k.addEventListener("resize",a.update,PN),function(){m&&D.forEach(function(L){L.removeEventListener("scroll",a.update,PN)}),x&&k.removeEventListener("resize",a.update,PN)}}const xj={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:xue,data:{}};var Cue={left:"right",right:"left",bottom:"top",top:"bottom"};function f5(i){return i.replace(/left|right|bottom|top/g,function(t){return Cue[t]})}var Sue={start:"end",end:"start"};function IG(i){return i.replace(/start|end/g,function(t){return Sue[t]})}function Cj(i){var t=dg(i),a=t.pageXOffset,u=t.pageYOffset;return{scrollLeft:a,scrollTop:u}}function Sj(i){return vD(iS(i)).left+Cj(i).scrollLeft}function Eue(i,t){var a=dg(i),u=iS(i),c=a.visualViewport,m=u.clientWidth,p=u.clientHeight,x=0,k=0;if(c){m=c.width,p=c.height;var D=oJ();(D||!D&&t==="fixed")&&(x=c.offsetLeft,k=c.offsetTop)}return{width:m,height:p,x:x+Sj(i),y:k}}function kue(i){var t,a=iS(i),u=Cj(i),c=(t=i.ownerDocument)==null?void 0:t.body,m=Ak(a.scrollWidth,a.clientWidth,c?c.scrollWidth:0,c?c.clientWidth:0),p=Ak(a.scrollHeight,a.clientHeight,c?c.scrollHeight:0,c?c.clientHeight:0),x=-u.scrollLeft+Sj(i),k=-u.scrollTop;return Pw(c||a).direction==="rtl"&&(x+=Ak(a.clientWidth,c?c.clientWidth:0)-m),{width:m,height:p,x,y:k}}function Ej(i){var t=Pw(i),a=t.overflow,u=t.overflowX,c=t.overflowY;return/auto|scroll|overlay|hidden/.test(a+c+u)}function dJ(i){return["html","body","#document"].indexOf(Qb(i))>=0?i.ownerDocument.body:Dp(i)&&Ej(i)?i:dJ(l6(i))}function D3(i,t){var a;t===void 0&&(t=[]);var u=dJ(i),c=u===((a=i.ownerDocument)==null?void 0:a.body),m=dg(u),p=c?[m].concat(m.visualViewport||[],Ej(u)?u:[]):u,x=t.concat(p);return c?x:x.concat(D3(l6(p)))}function RW(i){return Object.assign({},i,{left:i.x,top:i.y,right:i.x+i.width,bottom:i.y+i.height})}function Tue(i,t){var a=vD(i,!1,t==="fixed");return a.top=a.top+i.clientTop,a.left=a.left+i.clientLeft,a.bottom=a.top+i.clientHeight,a.right=a.left+i.clientWidth,a.width=i.clientWidth,a.height=i.clientHeight,a.x=a.left,a.y=a.top,a}function BG(i,t,a){return t===mj?RW(Eue(i,a)):Pk(t)?Tue(t,a):RW(kue(iS(i)))}function Aue(i){var t=D3(l6(i)),a=["absolute","fixed"].indexOf(Pw(i).position)>=0,u=a&&Dp(i)?tI(i):i;return Pk(u)?t.filter(function(c){return Pk(c)&&sJ(c,u)&&Qb(c)!=="body"}):[]}function Oue(i,t,a,u){var c=t==="clippingParents"?Aue(i):[].concat(t),m=[].concat(c,[a]),p=m[0],x=m.reduce(function(k,D){var L=BG(i,D,u);return k.top=Ak(L.top,k.top),k.right=F5(L.right,k.right),k.bottom=F5(L.bottom,k.bottom),k.left=Ak(L.left,k.left),k},BG(i,p,u));return x.width=x.right-x.left,x.height=x.bottom-x.top,x.x=x.left,x.y=x.top,x}function vJ(i){var t=i.reference,a=i.element,u=i.placement,c=u?Xb(u):null,m=u?hD(u):null,p=t.x+t.width/2-a.width/2,x=t.y+t.height/2-a.height/2,k;switch(c){case ih:k={x:p,y:t.y-a.height};break;case cg:k={x:p,y:t.y+t.height};break;case fg:k={x:t.x+t.width,y:x};break;case oh:k={x:t.x-a.width,y:x};break;default:k={x:t.x,y:t.y}}var D=c?_j(c):null;if(D!=null){var L=D==="y"?"height":"width";switch(m){case Rk:k[D]=k[D]-(t[L]/2-a[L]/2);break;case fD:k[D]=k[D]+(t[L]/2-a[L]/2);break}}return k}function mD(i,t){t===void 0&&(t={});var a=t,u=a.placement,c=u===void 0?i.placement:u,m=a.strategy,p=m===void 0?i.strategy:m,x=a.boundary,k=x===void 0?GZ:x,D=a.rootBoundary,L=D===void 0?mj:D,V=a.elementContext,q=V===void 0?QO:V,ie=a.altBoundary,ee=ie===void 0?!1:ie,se=a.padding,Te=se===void 0?0:se,_e=lJ(typeof Te!="number"?Te:cJ(Te,CD)),be=q===QO?KZ:QO,le=i.rects.popper,Pe=i.elements[ee?be:q],Oe=Oue(Pk(Pe)?Pe:Pe.contextElement||iS(i.elements.popper),k,L,p),lt=vD(i.elements.reference),at=vJ({reference:lt,element:le,strategy:"absolute",placement:c}),K=RW(Object.assign({},le,at)),de=q===QO?K:lt,ve={top:Oe.top-de.top+_e.top,bottom:de.bottom-Oe.bottom+_e.bottom,left:Oe.left-de.left+_e.left,right:de.right-Oe.right+_e.right},Ue=i.modifiersData.offset;if(q===QO&&Ue){var ue=Ue[c];Object.keys(ve).forEach(function(Y){var $e=[fg,cg].indexOf(Y)>=0?1:-1,He=[ih,cg].indexOf(Y)>=0?"y":"x";ve[Y]+=ue[He]*$e})}return ve}function Due(i,t){t===void 0&&(t={});var a=t,u=a.placement,c=a.boundary,m=a.rootBoundary,p=a.padding,x=a.flipVariations,k=a.allowedAutoPlacements,D=k===void 0?gj:k,L=hD(u),V=L?x?DW:DW.filter(function(ee){return hD(ee)===L}):CD,q=V.filter(function(ee){return D.indexOf(ee)>=0});q.length===0&&(q=V);var ie=q.reduce(function(ee,se){return ee[se]=mD(i,{placement:se,boundary:c,rootBoundary:m,padding:p})[Xb(se)],ee},{});return Object.keys(ie).sort(function(ee,se){return ie[ee]-ie[se]})}function Mue(i){if(Xb(i)===u6)return[];var t=f5(i);return[IG(i),t,IG(t)]}function Rue(i){var t=i.state,a=i.options,u=i.name;if(!t.modifiersData[u]._skip){for(var c=a.mainAxis,m=c===void 0?!0:c,p=a.altAxis,x=p===void 0?!0:p,k=a.fallbackPlacements,D=a.padding,L=a.boundary,V=a.rootBoundary,q=a.altBoundary,ie=a.flipVariations,ee=ie===void 0?!0:ie,se=a.allowedAutoPlacements,Te=t.options.placement,_e=Xb(Te),be=_e===Te,le=k||(be||!ee?[f5(Te)]:Mue(Te)),Pe=[Te].concat(le).reduce(function(Kr,_n){return Kr.concat(Xb(_n)===u6?Due(t,{placement:_n,boundary:L,rootBoundary:V,padding:D,flipVariations:ee,allowedAutoPlacements:se}):_n)},[]),Oe=t.rects.reference,lt=t.rects.popper,at=new Map,K=!0,de=Pe[0],ve=0;ve<Pe.length;ve++){var Ue=Pe[ve],ue=Xb(Ue),Y=hD(Ue)===Rk,$e=[ih,cg].indexOf(ue)>=0,He=$e?"width":"height",Ce=mD(t,{placement:Ue,boundary:L,rootBoundary:V,altBoundary:q,padding:D}),rt=$e?Y?fg:oh:Y?cg:ih;Oe[He]>lt[He]&&(rt=f5(rt));var We=f5(rt),z=[];if(m&&z.push(Ce[ue]<=0),x&&z.push(Ce[rt]<=0,Ce[We]<=0),z.every(function(Kr){return Kr})){de=Ue,K=!1;break}at.set(Ue,z)}if(K)for(var ln=ee?3:1,dt=function(_n){var Gn=Pe.find(function(Ee){var qa=at.get(Ee);if(qa)return qa.slice(0,_n).every(function(Vt){return Vt})});if(Gn)return de=Gn,"break"},Dt=ln;Dt>0;Dt--){var mr=dt(Dt);if(mr==="break")break}t.placement!==de&&(t.modifiersData[u]._skip=!0,t.placement=de,t.reset=!0)}}const hJ={name:"flip",enabled:!0,phase:"main",fn:Rue,requiresIfExists:["offset"],data:{_skip:!1}};function LG(i,t,a){return a===void 0&&(a={x:0,y:0}),{top:i.top-t.height-a.y,right:i.right-t.width+a.x,bottom:i.bottom-t.height+a.y,left:i.left-t.width-a.x}}function FG(i){return[ih,fg,cg,oh].some(function(t){return i[t]>=0})}function Pue(i){var t=i.state,a=i.name,u=t.rects.reference,c=t.rects.popper,m=t.modifiersData.preventOverflow,p=mD(t,{elementContext:"reference"}),x=mD(t,{altBoundary:!0}),k=LG(p,u),D=LG(x,c,m),L=FG(k),V=FG(D);t.modifiersData[a]={referenceClippingOffsets:k,popperEscapeOffsets:D,isReferenceHidden:L,hasPopperEscaped:V},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":L,"data-popper-escaped":V})}const mJ={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Pue};function Iue(i,t,a){var u=Xb(i),c=[oh,ih].indexOf(u)>=0?-1:1,m=typeof a=="function"?a(Object.assign({},t,{placement:i})):a,p=m[0],x=m[1];return p=p||0,x=(x||0)*c,[oh,fg].indexOf(u)>=0?{x,y:p}:{x:p,y:x}}function Bue(i){var t=i.state,a=i.options,u=i.name,c=a.offset,m=c===void 0?[0,0]:c,p=gj.reduce(function(L,V){return L[V]=Iue(V,t.rects,m),L},{}),x=p[t.placement],k=x.x,D=x.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=k,t.modifiersData.popperOffsets.y+=D),t.modifiersData[u]=p}const gJ={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Bue};function Lue(i){var t=i.state,a=i.name;t.modifiersData[a]=vJ({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const kj={name:"popperOffsets",enabled:!0,phase:"read",fn:Lue,data:{}};function Fue(i){return i==="x"?"y":"x"}function Nue(i){var t=i.state,a=i.options,u=i.name,c=a.mainAxis,m=c===void 0?!0:c,p=a.altAxis,x=p===void 0?!1:p,k=a.boundary,D=a.rootBoundary,L=a.altBoundary,V=a.padding,q=a.tether,ie=q===void 0?!0:q,ee=a.tetherOffset,se=ee===void 0?0:ee,Te=mD(t,{boundary:k,rootBoundary:D,padding:V,altBoundary:L}),_e=Xb(t.placement),be=hD(t.placement),le=!be,Pe=_j(_e),Oe=Fue(Pe),lt=t.modifiersData.popperOffsets,at=t.rects.reference,K=t.rects.popper,de=typeof se=="function"?se(Object.assign({},t.rects,{placement:t.placement})):se,ve=typeof de=="number"?{mainAxis:de,altAxis:de}:Object.assign({mainAxis:0,altAxis:0},de),Ue=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,ue={x:0,y:0};if(lt){if(m){var Y,$e=Pe==="y"?ih:oh,He=Pe==="y"?cg:fg,Ce=Pe==="y"?"height":"width",rt=lt[Pe],We=rt+Te[$e],z=rt-Te[He],ln=ie?-K[Ce]/2:0,dt=be===Rk?at[Ce]:K[Ce],Dt=be===Rk?-K[Ce]:-at[Ce],mr=t.elements.arrow,Kr=ie&&mr?yj(mr):{width:0,height:0},_n=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:uJ(),Gn=_n[$e],Ee=_n[He],qa=O3(0,at[Ce],Kr[Ce]),Vt=le?at[Ce]/2-ln-qa-Gn-ve.mainAxis:dt-qa-Gn-ve.mainAxis,xn=le?-at[Ce]/2+ln+qa+Ee+ve.mainAxis:Dt+qa+Ee+ve.mainAxis,Ga=t.elements.arrow&&tI(t.elements.arrow),jt=Ga?Pe==="y"?Ga.clientTop||0:Ga.clientLeft||0:0,kt=(Y=Ue==null?void 0:Ue[Pe])!=null?Y:0,Qe=rt+Vt-kt-jt,st=rt+xn-kt,vt=O3(ie?F5(We,Qe):We,rt,ie?Ak(z,st):z);lt[Pe]=vt,ue[Pe]=vt-rt}if(x){var Jt,zn=Pe==="x"?ih:oh,pn=Pe==="x"?cg:fg,Er=lt[Oe],xr=Oe==="y"?"height":"width",Un=Er+Te[zn],ba=Er-Te[pn],ho=[ih,oh].indexOf(_e)!==-1,ts=(Jt=Ue==null?void 0:Ue[Oe])!=null?Jt:0,ns=ho?Un:Er-at[xr]-K[xr]-ts+ve.altAxis,yo=ho?Er+at[xr]+K[xr]-ts-ve.altAxis:ba,Oa=ie&&ho?mue(ns,Er,yo):O3(ie?ns:Un,Er,ie?yo:ba);lt[Oe]=Oa,ue[Oe]=Oa-Er}t.modifiersData[u]=ue}}const pJ={name:"preventOverflow",enabled:!0,phase:"main",fn:Nue,requiresIfExists:["offset"]};function $ue(i){return{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}}function zue(i){return i===dg(i)||!Dp(i)?Cj(i):$ue(i)}function Hue(i){var t=i.getBoundingClientRect(),a=dD(t.width)/i.offsetWidth||1,u=dD(t.height)/i.offsetHeight||1;return a!==1||u!==1}function Vue(i,t,a){a===void 0&&(a=!1);var u=Dp(t),c=Dp(t)&&Hue(t),m=iS(t),p=vD(i,c,a),x={scrollLeft:0,scrollTop:0},k={x:0,y:0};return(u||!u&&!a)&&((Qb(t)!=="body"||Ej(m))&&(x=zue(t)),Dp(t)?(k=vD(t,!0),k.x+=t.clientLeft,k.y+=t.clientTop):m&&(k.x=Sj(m))),{x:p.left+x.scrollLeft-k.x,y:p.top+x.scrollTop-k.y,width:p.width,height:p.height}}function Uue(i){var t=new Map,a=new Set,u=[];i.forEach(function(m){t.set(m.name,m)});function c(m){a.add(m.name);var p=[].concat(m.requires||[],m.requiresIfExists||[]);p.forEach(function(x){if(!a.has(x)){var k=t.get(x);k&&c(k)}}),u.push(m)}return i.forEach(function(m){a.has(m.name)||c(m)}),u}function Wue(i){var t=Uue(i);return iJ.reduce(function(a,u){return a.concat(t.filter(function(c){return c.phase===u}))},[])}function jue(i){var t;return function(){return t||(t=new Promise(function(a){Promise.resolve().then(function(){t=void 0,a(i())})})),t}}function Yue(i){var t=i.reduce(function(a,u){var c=a[u.name];return a[u.name]=c?Object.assign({},c,u,{options:Object.assign({},c.options,u.options),data:Object.assign({},c.data,u.data)}):u,a},{});return Object.keys(t).map(function(a){return t[a]})}var NG={placement:"bottom",modifiers:[],strategy:"absolute"};function $G(){for(var i=arguments.length,t=new Array(i),a=0;a<i;a++)t[a]=arguments[a];return!t.some(function(u){return!(u&&typeof u.getBoundingClientRect=="function")})}function c6(i){i===void 0&&(i={});var t=i,a=t.defaultModifiers,u=a===void 0?[]:a,c=t.defaultOptions,m=c===void 0?NG:c;return function(x,k,D){D===void 0&&(D=m);var L={placement:"bottom",orderedModifiers:[],options:Object.assign({},NG,m),modifiersData:{},elements:{reference:x,popper:k},attributes:{},styles:{}},V=[],q=!1,ie={state:L,setOptions:function(_e){var be=typeof _e=="function"?_e(L.options):_e;se(),L.options=Object.assign({},m,L.options,be),L.scrollParents={reference:Pk(x)?D3(x):x.contextElement?D3(x.contextElement):[],popper:D3(k)};var le=Wue(Yue([].concat(u,L.options.modifiers)));return L.orderedModifiers=le.filter(function(Pe){return Pe.enabled}),ee(),ie.update()},forceUpdate:function(){if(!q){var _e=L.elements,be=_e.reference,le=_e.popper;if($G(be,le)){L.rects={reference:Vue(be,tI(le),L.options.strategy==="fixed"),popper:yj(le)},L.reset=!1,L.placement=L.options.placement,L.orderedModifiers.forEach(function(ve){return L.modifiersData[ve.name]=Object.assign({},ve.data)});for(var Pe=0;Pe<L.orderedModifiers.length;Pe++){if(L.reset===!0){L.reset=!1,Pe=-1;continue}var Oe=L.orderedModifiers[Pe],lt=Oe.fn,at=Oe.options,K=at===void 0?{}:at,de=Oe.name;typeof lt=="function"&&(L=lt({state:L,options:K,name:de,instance:ie})||L)}}}},update:jue(function(){return new Promise(function(Te){ie.forceUpdate(),Te(L)})}),destroy:function(){se(),q=!0}};if(!$G(x,k))return ie;ie.setOptions(D).then(function(Te){!q&&D.onFirstUpdate&&D.onFirstUpdate(Te)});function ee(){L.orderedModifiers.forEach(function(Te){var _e=Te.name,be=Te.options,le=be===void 0?{}:be,Pe=Te.effect;if(typeof Pe=="function"){var Oe=Pe({state:L,name:_e,instance:ie,options:le}),lt=function(){};V.push(Oe||lt)}})}function se(){V.forEach(function(Te){return Te()}),V=[]}return ie}}var que=c6(),Gue=[xj,kj,wj,bj],Kue=c6({defaultModifiers:Gue}),Xue=[xj,kj,wj,bj,gJ,hJ,pJ,fJ,mJ],Tj=c6({defaultModifiers:Xue});const bJ=Object.freeze(Object.defineProperty({__proto__:null,afterMain:tJ,afterRead:JZ,afterWrite:aJ,applyStyles:bj,arrow:fJ,auto:u6,basePlacements:CD,beforeMain:QZ,beforeRead:XZ,beforeWrite:nJ,bottom:cg,clippingParents:GZ,computeStyles:wj,createPopper:Tj,createPopperBase:que,createPopperLite:Kue,detectOverflow:mD,end:fD,eventListeners:xj,flip:hJ,hide:mJ,left:oh,main:eJ,modifierPhases:iJ,offset:gJ,placements:gj,popper:QO,popperGenerator:c6,popperOffsets:kj,preventOverflow:pJ,read:ZZ,reference:KZ,right:fg,start:Rk,top:ih,variationPlacements:DW,viewport:mj,write:rJ},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.1 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const VC=new Map,RU={set(i,t,a){VC.has(i)||VC.set(i,new Map);const u=VC.get(i);if(!u.has(t)&&u.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(u.keys())[0]}.`);return}u.set(t,a)},get(i,t){return VC.has(i)&&VC.get(i).get(t)||null},remove(i,t){if(!VC.has(i))return;const a=VC.get(i);a.delete(t),a.size===0&&VC.delete(i)}},Zue=1e6,Jue=1e3,PW="transitionend",yJ=i=>(i&&window.CSS&&window.CSS.escape&&(i=i.replace(/#([^\s"#']+)/g,(t,a)=>`#${CSS.escape(a)}`)),i),Que=i=>i==null?`${i}`:Object.prototype.toString.call(i).match(/\s([a-z]+)/i)[1].toLowerCase(),ele=i=>{do i+=Math.floor(Math.random()*Zue);while(document.getElementById(i));return i},tle=i=>{if(!i)return 0;let{transitionDuration:t,transitionDelay:a}=window.getComputedStyle(i);const u=Number.parseFloat(t),c=Number.parseFloat(a);return!u&&!c?0:(t=t.split(",")[0],a=a.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(a))*Jue)},_J=i=>{i.dispatchEvent(new Event(PW))},Ow=i=>!i||typeof i!="object"?!1:(typeof i.jquery<"u"&&(i=i[0]),typeof i.nodeType<"u"),eS=i=>Ow(i)?i.jquery?i[0]:i:typeof i=="string"&&i.length>0?document.querySelector(yJ(i)):null,SD=i=>{if(!Ow(i)||i.getClientRects().length===0)return!1;const t=getComputedStyle(i).getPropertyValue("visibility")==="visible",a=i.closest("details:not([open])");if(!a)return t;if(a!==i){const u=i.closest("summary");if(u&&u.parentNode!==a||u===null)return!1}return t},tS=i=>!i||i.nodeType!==Node.ELEMENT_NODE||i.classList.contains("disabled")?!0:typeof i.disabled<"u"?i.disabled:i.hasAttribute("disabled")&&i.getAttribute("disabled")!=="false",wJ=i=>{if(!document.documentElement.attachShadow)return null;if(typeof i.getRootNode=="function"){const t=i.getRootNode();return t instanceof ShadowRoot?t:null}return i instanceof ShadowRoot?i:i.parentNode?wJ(i.parentNode):null},N5=()=>{},nI=i=>{i.offsetHeight},xJ=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,PU=[],nle=i=>{document.readyState==="loading"?(PU.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of PU)t()}),PU.push(i)):i()},Rp=()=>document.documentElement.dir==="rtl",Ip=i=>{nle(()=>{const t=xJ();if(t){const a=i.NAME,u=t.fn[a];t.fn[a]=i.jQueryInterface,t.fn[a].Constructor=i,t.fn[a].noConflict=()=>(t.fn[a]=u,i.jQueryInterface)}})},om=(i,t=[],a=i)=>typeof i=="function"?i(...t):a,CJ=(i,t,a=!0)=>{if(!a){om(i);return}const u=5,c=tle(t)+u;let m=!1;const p=({target:x})=>{x===t&&(m=!0,t.removeEventListener(PW,p),om(i))};t.addEventListener(PW,p),setTimeout(()=>{m||_J(t)},c)},Aj=(i,t,a,u)=>{const c=i.length;let m=i.indexOf(t);return m===-1?!a&&u?i[c-1]:i[0]:(m+=a?1:-1,u&&(m=(m+c)%c),i[Math.max(0,Math.min(m,c-1))])},rle=/[^.]*(?=\..*)\.|.*/,ale=/\..*/,ile=/::\d+$/,IU={};let zG=1;const SJ={mouseenter:"mouseover",mouseleave:"mouseout"},ole=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function EJ(i,t){return t&&`${t}::${zG++}`||i.uidEvent||zG++}function kJ(i){const t=EJ(i);return i.uidEvent=t,IU[t]=IU[t]||{},IU[t]}function sle(i,t){return function a(u){return Oj(u,{delegateTarget:i}),a.oneOff&&Fn.off(i,u.type,t),t.apply(i,[u])}}function ule(i,t,a){return function u(c){const m=i.querySelectorAll(t);for(let{target:p}=c;p&&p!==this;p=p.parentNode)for(const x of m)if(x===p)return Oj(c,{delegateTarget:p}),u.oneOff&&Fn.off(i,c.type,t,a),a.apply(p,[c])}}function TJ(i,t,a=null){return Object.values(i).find(u=>u.callable===t&&u.delegationSelector===a)}function AJ(i,t,a){const u=typeof t=="string",c=u?a:t||a;let m=OJ(i);return ole.has(m)||(m=i),[u,c,m]}function HG(i,t,a,u,c){if(typeof t!="string"||!i)return;let[m,p,x]=AJ(t,a,u);t in SJ&&(p=(ee=>function(se){if(!se.relatedTarget||se.relatedTarget!==se.delegateTarget&&!se.delegateTarget.contains(se.relatedTarget))return ee.call(this,se)})(p));const k=kJ(i),D=k[x]||(k[x]={}),L=TJ(D,p,m?a:null);if(L){L.oneOff=L.oneOff&&c;return}const V=EJ(p,t.replace(rle,"")),q=m?ule(i,a,p):sle(i,p);q.delegationSelector=m?a:null,q.callable=p,q.oneOff=c,q.uidEvent=V,D[V]=q,i.addEventListener(x,q,m)}function IW(i,t,a,u,c){const m=TJ(t[a],u,c);m&&(i.removeEventListener(a,m,!!c),delete t[a][m.uidEvent])}function lle(i,t,a,u){const c=t[a]||{};for(const[m,p]of Object.entries(c))m.includes(u)&&IW(i,t,a,p.callable,p.delegationSelector)}function OJ(i){return i=i.replace(ale,""),SJ[i]||i}const Fn={on(i,t,a,u){HG(i,t,a,u,!1)},one(i,t,a,u){HG(i,t,a,u,!0)},off(i,t,a,u){if(typeof t!="string"||!i)return;const[c,m,p]=AJ(t,a,u),x=p!==t,k=kJ(i),D=k[p]||{},L=t.startsWith(".");if(typeof m<"u"){if(!Object.keys(D).length)return;IW(i,k,p,m,c?a:null);return}if(L)for(const V of Object.keys(k))lle(i,k,V,t.slice(1));for(const[V,q]of Object.entries(D)){const ie=V.replace(ile,"");(!x||t.includes(ie))&&IW(i,k,p,q.callable,q.delegationSelector)}},trigger(i,t,a){if(typeof t!="string"||!i)return null;const u=xJ(),c=OJ(t),m=t!==c;let p=null,x=!0,k=!0,D=!1;m&&u&&(p=u.Event(t,a),u(i).trigger(p),x=!p.isPropagationStopped(),k=!p.isImmediatePropagationStopped(),D=p.isDefaultPrevented());const L=Oj(new Event(t,{bubbles:x,cancelable:!0}),a);return D&&L.preventDefault(),k&&i.dispatchEvent(L),L.defaultPrevented&&p&&p.preventDefault(),L}};function Oj(i,t={}){for(const[a,u]of Object.entries(t))try{i[a]=u}catch{Object.defineProperty(i,a,{configurable:!0,get(){return u}})}return i}function VG(i){if(i==="true")return!0;if(i==="false")return!1;if(i===Number(i).toString())return Number(i);if(i===""||i==="null")return null;if(typeof i!="string")return i;try{return JSON.parse(decodeURIComponent(i))}catch{return i}}function BU(i){return i.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const Dw={setDataAttribute(i,t,a){i.setAttribute(`data-bs-${BU(t)}`,a)},removeDataAttribute(i,t){i.removeAttribute(`data-bs-${BU(t)}`)},getDataAttributes(i){if(!i)return{};const t={},a=Object.keys(i.dataset).filter(u=>u.startsWith("bs")&&!u.startsWith("bsConfig"));for(const u of a){let c=u.replace(/^bs/,"");c=c.charAt(0).toLowerCase()+c.slice(1,c.length),t[c]=VG(i.dataset[u])}return t},getDataAttribute(i,t){return VG(i.getAttribute(`data-bs-${BU(t)}`))}};let rI=class{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,a){const u=Ow(a)?Dw.getDataAttribute(a,"config"):{};return{...this.constructor.Default,...typeof u=="object"?u:{},...Ow(a)?Dw.getDataAttributes(a):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,a=this.constructor.DefaultType){for(const[u,c]of Object.entries(a)){const m=t[u],p=Ow(m)?"element":Que(m);if(!new RegExp(c).test(p))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${u}" provided type "${p}" but expected type "${c}".`)}}};const cle="5.3.1";class Q0 extends rI{constructor(t,a){super(),t=eS(t),t&&(this._element=t,this._config=this._getConfig(a),RU.set(this._element,this.constructor.DATA_KEY,this))}dispose(){RU.remove(this._element,this.constructor.DATA_KEY),Fn.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,a,u=!0){CJ(t,a,u)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return RU.get(eS(t),this.DATA_KEY)}static getOrCreateInstance(t,a={}){return this.getInstance(t)||new this(t,typeof a=="object"?a:null)}static get VERSION(){return cle}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const LU=i=>{let t=i.getAttribute("data-bs-target");if(!t||t==="#"){let a=i.getAttribute("href");if(!a||!a.includes("#")&&!a.startsWith("."))return null;a.includes("#")&&!a.startsWith("#")&&(a=`#${a.split("#")[1]}`),t=a&&a!=="#"?a.trim():null}return yJ(t)},ka={find(i,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,i))},findOne(i,t=document.documentElement){return Element.prototype.querySelector.call(t,i)},children(i,t){return[].concat(...i.children).filter(a=>a.matches(t))},parents(i,t){const a=[];let u=i.parentNode.closest(t);for(;u;)a.push(u),u=u.parentNode.closest(t);return a},prev(i,t){let a=i.previousElementSibling;for(;a;){if(a.matches(t))return[a];a=a.previousElementSibling}return[]},next(i,t){let a=i.nextElementSibling;for(;a;){if(a.matches(t))return[a];a=a.nextElementSibling}return[]},focusableChildren(i){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(a=>`${a}:not([tabindex^="-"])`).join(",");return this.find(t,i).filter(a=>!tS(a)&&SD(a))},getSelectorFromElement(i){const t=LU(i);return t&&ka.findOne(t)?t:null},getElementFromSelector(i){const t=LU(i);return t?ka.findOne(t):null},getMultipleElementsFromSelector(i){const t=LU(i);return t?ka.find(t):[]}},f6=(i,t="hide")=>{const a=`click.dismiss${i.EVENT_KEY}`,u=i.NAME;Fn.on(document,a,`[data-bs-dismiss="${u}"]`,function(c){if(["A","AREA"].includes(this.tagName)&&c.preventDefault(),tS(this))return;const m=ka.getElementFromSelector(this)||this.closest(`.${u}`);i.getOrCreateInstance(m)[t]()})},fle="alert",dle="bs.alert",DJ=`.${dle}`,vle=`close${DJ}`,hle=`closed${DJ}`,mle="fade",gle="show";class d6 extends Q0{static get NAME(){return fle}close(){if(Fn.trigger(this._element,vle).defaultPrevented)return;this._element.classList.remove(gle);const a=this._element.classList.contains(mle);this._queueCallback(()=>this._destroyElement(),this._element,a)}_destroyElement(){this._element.remove(),Fn.trigger(this._element,hle),this.dispose()}static jQueryInterface(t){return this.each(function(){const a=d6.getOrCreateInstance(this);if(typeof t=="string"){if(a[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);a[t](this)}})}}f6(d6,"close");Ip(d6);const ple="button",ble="bs.button",yle=`.${ble}`,_le=".data-api",wle="active",UG='[data-bs-toggle="button"]',xle=`click${yle}${_le}`;class v6 extends Q0{static get NAME(){return ple}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(wle))}static jQueryInterface(t){return this.each(function(){const a=v6.getOrCreateInstance(this);t==="toggle"&&a[t]()})}}Fn.on(document,xle,UG,i=>{i.preventDefault();const t=i.target.closest(UG);v6.getOrCreateInstance(t).toggle()});Ip(v6);const Cle="swipe",ED=".bs.swipe",Sle=`touchstart${ED}`,Ele=`touchmove${ED}`,kle=`touchend${ED}`,Tle=`pointerdown${ED}`,Ale=`pointerup${ED}`,Ole="touch",Dle="pen",Mle="pointer-event",Rle=40,Ple={endCallback:null,leftCallback:null,rightCallback:null},Ile={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class $5 extends rI{constructor(t,a){super(),this._element=t,!(!t||!$5.isSupported())&&(this._config=this._getConfig(a),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Ple}static get DefaultType(){return Ile}static get NAME(){return Cle}dispose(){Fn.off(this._element,ED)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),om(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=Rle)return;const a=t/this._deltaX;this._deltaX=0,a&&om(a>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Fn.on(this._element,Tle,t=>this._start(t)),Fn.on(this._element,Ale,t=>this._end(t)),this._element.classList.add(Mle)):(Fn.on(this._element,Sle,t=>this._start(t)),Fn.on(this._element,Ele,t=>this._move(t)),Fn.on(this._element,kle,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===Dle||t.pointerType===Ole)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Ble="carousel",Lle="bs.carousel",oS=`.${Lle}`,MJ=".data-api",Fle="ArrowLeft",Nle="ArrowRight",$le=500,c3="next",GO="prev",eD="left",d5="right",zle=`slide${oS}`,FU=`slid${oS}`,Hle=`keydown${oS}`,Vle=`mouseenter${oS}`,Ule=`mouseleave${oS}`,Wle=`dragstart${oS}`,jle=`load${oS}${MJ}`,Yle=`click${oS}${MJ}`,RJ="carousel",IN="active",qle="slide",Gle="carousel-item-end",Kle="carousel-item-start",Xle="carousel-item-next",Zle="carousel-item-prev",PJ=".active",IJ=".carousel-item",Jle=PJ+IJ,Qle=".carousel-item img",ece=".carousel-indicators",tce="[data-bs-slide], [data-bs-slide-to]",nce='[data-bs-ride="carousel"]',rce={[Fle]:d5,[Nle]:eD},ace={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},ice={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class aI extends Q0{constructor(t,a){super(t,a),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ka.findOne(ece,this._element),this._addEventListeners(),this._config.ride===RJ&&this.cycle()}static get Default(){return ace}static get DefaultType(){return ice}static get NAME(){return Ble}next(){this._slide(c3)}nextWhenVisible(){!document.hidden&&SD(this._element)&&this.next()}prev(){this._slide(GO)}pause(){this._isSliding&&_J(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){Fn.one(this._element,FU,()=>this.cycle());return}this.cycle()}}to(t){const a=this._getItems();if(t>a.length-1||t<0)return;if(this._isSliding){Fn.one(this._element,FU,()=>this.to(t));return}const u=this._getItemIndex(this._getActive());if(u===t)return;const c=t>u?c3:GO;this._slide(c,a[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&Fn.on(this._element,Hle,t=>this._keydown(t)),this._config.pause==="hover"&&(Fn.on(this._element,Vle,()=>this.pause()),Fn.on(this._element,Ule,()=>this._maybeEnableCycle())),this._config.touch&&$5.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const u of ka.find(Qle,this._element))Fn.on(u,Wle,c=>c.preventDefault());const a={leftCallback:()=>this._slide(this._directionToOrder(eD)),rightCallback:()=>this._slide(this._directionToOrder(d5)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),$le+this._config.interval))}};this._swipeHelper=new $5(this._element,a)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const a=rce[t.key];a&&(t.preventDefault(),this._slide(this._directionToOrder(a)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const a=ka.findOne(PJ,this._indicatorsElement);a.classList.remove(IN),a.removeAttribute("aria-current");const u=ka.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);u&&(u.classList.add(IN),u.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const a=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=a||this._config.defaultInterval}_slide(t,a=null){if(this._isSliding)return;const u=this._getActive(),c=t===c3,m=a||Aj(this._getItems(),u,c,this._config.wrap);if(m===u)return;const p=this._getItemIndex(m),x=ie=>Fn.trigger(this._element,ie,{relatedTarget:m,direction:this._orderToDirection(t),from:this._getItemIndex(u),to:p});if(x(zle).defaultPrevented||!u||!m)return;const D=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(p),this._activeElement=m;const L=c?Kle:Gle,V=c?Xle:Zle;m.classList.add(V),nI(m),u.classList.add(L),m.classList.add(L);const q=()=>{m.classList.remove(L,V),m.classList.add(IN),u.classList.remove(IN,V,L),this._isSliding=!1,x(FU)};this._queueCallback(q,u,this._isAnimated()),D&&this.cycle()}_isAnimated(){return this._element.classList.contains(qle)}_getActive(){return ka.findOne(Jle,this._element)}_getItems(){return ka.find(IJ,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return Rp()?t===eD?GO:c3:t===eD?c3:GO}_orderToDirection(t){return Rp()?t===GO?eD:d5:t===GO?d5:eD}static jQueryInterface(t){return this.each(function(){const a=aI.getOrCreateInstance(this,t);if(typeof t=="number"){a.to(t);return}if(typeof t=="string"){if(a[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);a[t]()}})}}Fn.on(document,Yle,tce,function(i){const t=ka.getElementFromSelector(this);if(!t||!t.classList.contains(RJ))return;i.preventDefault();const a=aI.getOrCreateInstance(t),u=this.getAttribute("data-bs-slide-to");if(u){a.to(u),a._maybeEnableCycle();return}if(Dw.getDataAttribute(this,"slide")==="next"){a.next(),a._maybeEnableCycle();return}a.prev(),a._maybeEnableCycle()});Fn.on(window,jle,()=>{const i=ka.find(nce);for(const t of i)aI.getOrCreateInstance(t)});Ip(aI);const oce="collapse",sce="bs.collapse",iI=`.${sce}`,uce=".data-api",lce=`show${iI}`,cce=`shown${iI}`,fce=`hide${iI}`,dce=`hidden${iI}`,vce=`click${iI}${uce}`,NU="show",rD="collapse",BN="collapsing",hce="collapsed",mce=`:scope .${rD} .${rD}`,gce="collapse-horizontal",pce="width",bce="height",yce=".collapse.show, .collapse.collapsing",BW='[data-bs-toggle="collapse"]',_ce={parent:null,toggle:!0},wce={parent:"(null|element)",toggle:"boolean"};class $3 extends Q0{constructor(t,a){super(t,a),this._isTransitioning=!1,this._triggerArray=[];const u=ka.find(BW);for(const c of u){const m=ka.getSelectorFromElement(c),p=ka.find(m).filter(x=>x===this._element);m!==null&&p.length&&this._triggerArray.push(c)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return _ce}static get DefaultType(){return wce}static get NAME(){return oce}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(yce).filter(x=>x!==this._element).map(x=>$3.getOrCreateInstance(x,{toggle:!1}))),t.length&&t[0]._isTransitioning||Fn.trigger(this._element,lce).defaultPrevented)return;for(const x of t)x.hide();const u=this._getDimension();this._element.classList.remove(rD),this._element.classList.add(BN),this._element.style[u]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const c=()=>{this._isTransitioning=!1,this._element.classList.remove(BN),this._element.classList.add(rD,NU),this._element.style[u]="",Fn.trigger(this._element,cce)},p=`scroll${u[0].toUpperCase()+u.slice(1)}`;this._queueCallback(c,this._element,!0),this._element.style[u]=`${this._element[p]}px`}hide(){if(this._isTransitioning||!this._isShown()||Fn.trigger(this._element,fce).defaultPrevented)return;const a=this._getDimension();this._element.style[a]=`${this._element.getBoundingClientRect()[a]}px`,nI(this._element),this._element.classList.add(BN),this._element.classList.remove(rD,NU);for(const c of this._triggerArray){const m=ka.getElementFromSelector(c);m&&!this._isShown(m)&&this._addAriaAndCollapsedClass([c],!1)}this._isTransitioning=!0;const u=()=>{this._isTransitioning=!1,this._element.classList.remove(BN),this._element.classList.add(rD),Fn.trigger(this._element,dce)};this._element.style[a]="",this._queueCallback(u,this._element,!0)}_isShown(t=this._element){return t.classList.contains(NU)}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=eS(t.parent),t}_getDimension(){return this._element.classList.contains(gce)?pce:bce}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(BW);for(const a of t){const u=ka.getElementFromSelector(a);u&&this._addAriaAndCollapsedClass([a],this._isShown(u))}}_getFirstLevelChildren(t){const a=ka.find(mce,this._config.parent);return ka.find(t,this._config.parent).filter(u=>!a.includes(u))}_addAriaAndCollapsedClass(t,a){if(t.length)for(const u of t)u.classList.toggle(hce,!a),u.setAttribute("aria-expanded",a)}static jQueryInterface(t){const a={};return typeof t=="string"&&/show|hide/.test(t)&&(a.toggle=!1),this.each(function(){const u=$3.getOrCreateInstance(this,a);if(typeof t=="string"){if(typeof u[t]>"u")throw new TypeError(`No method named "${t}"`);u[t]()}})}}Fn.on(document,vce,BW,function(i){(i.target.tagName==="A"||i.delegateTarget&&i.delegateTarget.tagName==="A")&&i.preventDefault();for(const t of ka.getMultipleElementsFromSelector(this))$3.getOrCreateInstance(t,{toggle:!1}).toggle()});Ip($3);const WG="dropdown",xce="bs.dropdown",Fk=`.${xce}`,Dj=".data-api",Cce="Escape",jG="Tab",Sce="ArrowUp",YG="ArrowDown",Ece=2,kce=`hide${Fk}`,Tce=`hidden${Fk}`,Ace=`show${Fk}`,Oce=`shown${Fk}`,BJ=`click${Fk}${Dj}`,LJ=`keydown${Fk}${Dj}`,Dce=`keyup${Fk}${Dj}`,tD="show",Mce="dropup",Rce="dropend",Pce="dropstart",Ice="dropup-center",Bce="dropdown-center",Ck='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Lce=`${Ck}.${tD}`,v5=".dropdown-menu",Fce=".navbar",Nce=".navbar-nav",$ce=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",zce=Rp()?"top-end":"top-start",Hce=Rp()?"top-start":"top-end",Vce=Rp()?"bottom-end":"bottom-start",Uce=Rp()?"bottom-start":"bottom-end",Wce=Rp()?"left-start":"right-start",jce=Rp()?"right-start":"left-start",Yce="top",qce="bottom",Gce={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Kce={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Zb extends Q0{constructor(t,a){super(t,a),this._popper=null,this._parent=this._element.parentNode,this._menu=ka.next(this._element,v5)[0]||ka.prev(this._element,v5)[0]||ka.findOne(v5,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Gce}static get DefaultType(){return Kce}static get NAME(){return WG}toggle(){return this._isShown()?this.hide():this.show()}show(){if(tS(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!Fn.trigger(this._element,Ace,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(Nce))for(const u of[].concat(...document.body.children))Fn.on(u,"mouseover",N5);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(tD),this._element.classList.add(tD),Fn.trigger(this._element,Oce,t)}}hide(){if(tS(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!Fn.trigger(this._element,kce,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const u of[].concat(...document.body.children))Fn.off(u,"mouseover",N5);this._popper&&this._popper.destroy(),this._menu.classList.remove(tD),this._element.classList.remove(tD),this._element.setAttribute("aria-expanded","false"),Dw.removeDataAttribute(this._menu,"popper"),Fn.trigger(this._element,Tce,t)}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!Ow(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${WG.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof bJ>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;this._config.reference==="parent"?t=this._parent:Ow(this._config.reference)?t=eS(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);const a=this._getPopperConfig();this._popper=Tj(t,this._menu,a)}_isShown(){return this._menu.classList.contains(tD)}_getPlacement(){const t=this._parent;if(t.classList.contains(Rce))return Wce;if(t.classList.contains(Pce))return jce;if(t.classList.contains(Ice))return Yce;if(t.classList.contains(Bce))return qce;const a=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return t.classList.contains(Mce)?a?Hce:zce:a?Uce:Vce}_detectNavbar(){return this._element.closest(Fce)!==null}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(a=>Number.parseInt(a,10)):typeof t=="function"?a=>t(a,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Dw.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...om(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:a}){const u=ka.find($ce,this._menu).filter(c=>SD(c));u.length&&Aj(u,a,t===YG,!u.includes(a)).focus()}static jQueryInterface(t){return this.each(function(){const a=Zb.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof a[t]>"u")throw new TypeError(`No method named "${t}"`);a[t]()}})}static clearMenus(t){if(t.button===Ece||t.type==="keyup"&&t.key!==jG)return;const a=ka.find(Lce);for(const u of a){const c=Zb.getInstance(u);if(!c||c._config.autoClose===!1)continue;const m=t.composedPath(),p=m.includes(c._menu);if(m.includes(c._element)||c._config.autoClose==="inside"&&!p||c._config.autoClose==="outside"&&p||c._menu.contains(t.target)&&(t.type==="keyup"&&t.key===jG||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const x={relatedTarget:c._element};t.type==="click"&&(x.clickEvent=t),c._completeHide(x)}}static dataApiKeydownHandler(t){const a=/input|textarea/i.test(t.target.tagName),u=t.key===Cce,c=[Sce,YG].includes(t.key);if(!c&&!u||a&&!u)return;t.preventDefault();const m=this.matches(Ck)?this:ka.prev(this,Ck)[0]||ka.next(this,Ck)[0]||ka.findOne(Ck,t.delegateTarget.parentNode),p=Zb.getOrCreateInstance(m);if(c){t.stopPropagation(),p.show(),p._selectMenuItem(t);return}p._isShown()&&(t.stopPropagation(),p.hide(),m.focus())}}Fn.on(document,LJ,Ck,Zb.dataApiKeydownHandler);Fn.on(document,LJ,v5,Zb.dataApiKeydownHandler);Fn.on(document,BJ,Zb.clearMenus);Fn.on(document,Dce,Zb.clearMenus);Fn.on(document,BJ,Ck,function(i){i.preventDefault(),Zb.getOrCreateInstance(this).toggle()});Ip(Zb);const FJ="backdrop",Xce="fade",qG="show",GG=`mousedown.bs.${FJ}`,Zce={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Jce={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class NJ extends rI{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return Zce}static get DefaultType(){return Jce}static get NAME(){return FJ}show(t){if(!this._config.isVisible){om(t);return}this._append();const a=this._getElement();this._config.isAnimated&&nI(a),a.classList.add(qG),this._emulateAnimation(()=>{om(t)})}hide(t){if(!this._config.isVisible){om(t);return}this._getElement().classList.remove(qG),this._emulateAnimation(()=>{this.dispose(),om(t)})}dispose(){this._isAppended&&(Fn.off(this._element,GG),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(Xce),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=eS(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),Fn.on(t,GG,()=>{om(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){CJ(t,this._getElement(),this._config.isAnimated)}}const Qce="focustrap",efe="bs.focustrap",z5=`.${efe}`,tfe=`focusin${z5}`,nfe=`keydown.tab${z5}`,rfe="Tab",afe="forward",KG="backward",ife={autofocus:!0,trapElement:null},ofe={autofocus:"boolean",trapElement:"element"};class $J extends rI{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return ife}static get DefaultType(){return ofe}static get NAME(){return Qce}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Fn.off(document,z5),Fn.on(document,tfe,t=>this._handleFocusin(t)),Fn.on(document,nfe,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Fn.off(document,z5))}_handleFocusin(t){const{trapElement:a}=this._config;if(t.target===document||t.target===a||a.contains(t.target))return;const u=ka.focusableChildren(a);u.length===0?a.focus():this._lastTabNavDirection===KG?u[u.length-1].focus():u[0].focus()}_handleKeydown(t){t.key===rfe&&(this._lastTabNavDirection=t.shiftKey?KG:afe)}}const XG=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ZG=".sticky-top",LN="padding-right",JG="margin-right";class LW{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,LN,a=>a+t),this._setElementAttributes(XG,LN,a=>a+t),this._setElementAttributes(ZG,JG,a=>a-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,LN),this._resetElementAttributes(XG,LN),this._resetElementAttributes(ZG,JG)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,a,u){const c=this.getWidth(),m=p=>{if(p!==this._element&&window.innerWidth>p.clientWidth+c)return;this._saveInitialAttribute(p,a);const x=window.getComputedStyle(p).getPropertyValue(a);p.style.setProperty(a,`${u(Number.parseFloat(x))}px`)};this._applyManipulationCallback(t,m)}_saveInitialAttribute(t,a){const u=t.style.getPropertyValue(a);u&&Dw.setDataAttribute(t,a,u)}_resetElementAttributes(t,a){const u=c=>{const m=Dw.getDataAttribute(c,a);if(m===null){c.style.removeProperty(a);return}Dw.removeDataAttribute(c,a),c.style.setProperty(a,m)};this._applyManipulationCallback(t,u)}_applyManipulationCallback(t,a){if(Ow(t)){a(t);return}for(const u of ka.find(t,this._element))a(u)}}const sfe="modal",ufe="bs.modal",Pp=`.${ufe}`,lfe=".data-api",cfe="Escape",ffe=`hide${Pp}`,dfe=`hidePrevented${Pp}`,zJ=`hidden${Pp}`,HJ=`show${Pp}`,vfe=`shown${Pp}`,hfe=`resize${Pp}`,mfe=`click.dismiss${Pp}`,gfe=`mousedown.dismiss${Pp}`,pfe=`keydown.dismiss${Pp}`,bfe=`click${Pp}${lfe}`,QG="modal-open",yfe="fade",eK="show",$U="modal-static",_fe=".modal.show",wfe=".modal-dialog",xfe=".modal-body",Cfe='[data-bs-toggle="modal"]',Sfe={backdrop:!0,focus:!0,keyboard:!0},Efe={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};let z3=class VJ extends Q0{constructor(t,a){super(t,a),this._dialog=ka.findOne(wfe,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new LW,this._addEventListeners()}static get Default(){return Sfe}static get DefaultType(){return Efe}static get NAME(){return sfe}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||Fn.trigger(this._element,HJ,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(QG),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||Fn.trigger(this._element,ffe).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(eK),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Fn.off(window,Pp),Fn.off(this._dialog,Pp),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new NJ({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new $J({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const a=ka.findOne(xfe,this._dialog);a&&(a.scrollTop=0),nI(this._element),this._element.classList.add(eK);const u=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Fn.trigger(this._element,vfe,{relatedTarget:t})};this._queueCallback(u,this._dialog,this._isAnimated())}_addEventListeners(){Fn.on(this._element,pfe,t=>{if(t.key===cfe){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),Fn.on(window,hfe,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Fn.on(this._element,gfe,t=>{Fn.one(this._element,mfe,a=>{if(!(this._element!==t.target||this._element!==a.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(QG),this._resetAdjustments(),this._scrollBar.reset(),Fn.trigger(this._element,zJ)})}_isAnimated(){return this._element.classList.contains(yfe)}_triggerBackdropTransition(){if(Fn.trigger(this._element,dfe).defaultPrevented)return;const a=this._element.scrollHeight>document.documentElement.clientHeight,u=this._element.style.overflowY;u==="hidden"||this._element.classList.contains($U)||(a||(this._element.style.overflowY="hidden"),this._element.classList.add($U),this._queueCallback(()=>{this._element.classList.remove($U),this._queueCallback(()=>{this._element.style.overflowY=u},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,a=this._scrollBar.getWidth(),u=a>0;if(u&&!t){const c=Rp()?"paddingLeft":"paddingRight";this._element.style[c]=`${a}px`}if(!u&&t){const c=Rp()?"paddingRight":"paddingLeft";this._element.style[c]=`${a}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,a){return this.each(function(){const u=VJ.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof u[t]>"u")throw new TypeError(`No method named "${t}"`);u[t](a)}})}};Fn.on(document,bfe,Cfe,function(i){const t=ka.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&i.preventDefault(),Fn.one(t,HJ,c=>{c.defaultPrevented||Fn.one(t,zJ,()=>{SD(this)&&this.focus()})});const a=ka.findOne(_fe);a&&z3.getInstance(a).hide(),z3.getOrCreateInstance(t).toggle(this)});f6(z3);Ip(z3);const kfe="offcanvas",Tfe="bs.offcanvas",Lw=`.${Tfe}`,UJ=".data-api",Afe=`load${Lw}${UJ}`,Ofe="Escape",tK="show",nK="showing",rK="hiding",Dfe="offcanvas-backdrop",WJ=".offcanvas.show",Mfe=`show${Lw}`,Rfe=`shown${Lw}`,Pfe=`hide${Lw}`,aK=`hidePrevented${Lw}`,jJ=`hidden${Lw}`,Ife=`resize${Lw}`,Bfe=`click${Lw}${UJ}`,Lfe=`keydown.dismiss${Lw}`,Ffe='[data-bs-toggle="offcanvas"]',Nfe={backdrop:!0,keyboard:!0,scroll:!1},$fe={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class nS extends Q0{constructor(t,a){super(t,a),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Nfe}static get DefaultType(){return $fe}static get NAME(){return kfe}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||Fn.trigger(this._element,Mfe,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new LW().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(nK);const u=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(tK),this._element.classList.remove(nK),Fn.trigger(this._element,Rfe,{relatedTarget:t})};this._queueCallback(u,this._element,!0)}hide(){if(!this._isShown||Fn.trigger(this._element,Pfe).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(rK),this._backdrop.hide();const a=()=>{this._element.classList.remove(tK,rK),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new LW().reset(),Fn.trigger(this._element,jJ)};this._queueCallback(a,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=()=>{if(this._config.backdrop==="static"){Fn.trigger(this._element,aK);return}this.hide()},a=!!this._config.backdrop;return new NJ({className:Dfe,isVisible:a,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:a?t:null})}_initializeFocusTrap(){return new $J({trapElement:this._element})}_addEventListeners(){Fn.on(this._element,Lfe,t=>{if(t.key===Ofe){if(this._config.keyboard){this.hide();return}Fn.trigger(this._element,aK)}})}static jQueryInterface(t){return this.each(function(){const a=nS.getOrCreateInstance(this,t);if(typeof t=="string"){if(a[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);a[t](this)}})}}Fn.on(document,Bfe,Ffe,function(i){const t=ka.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),tS(this))return;Fn.one(t,jJ,()=>{SD(this)&&this.focus()});const a=ka.findOne(WJ);a&&a!==t&&nS.getInstance(a).hide(),nS.getOrCreateInstance(t).toggle(this)});Fn.on(window,Afe,()=>{for(const i of ka.find(WJ))nS.getOrCreateInstance(i).show()});Fn.on(window,Ife,()=>{for(const i of ka.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(i).position!=="fixed"&&nS.getOrCreateInstance(i).hide()});f6(nS);Ip(nS);const zfe=/^aria-[\w-]*$/i,YJ={"*":["class","dir","id","lang","role",zfe],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Hfe=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Vfe=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Ufe=(i,t)=>{const a=i.nodeName.toLowerCase();return t.includes(a)?Hfe.has(a)?!!Vfe.test(i.nodeValue):!0:t.filter(u=>u instanceof RegExp).some(u=>u.test(a))};function Wfe(i,t,a){if(!i.length)return i;if(a&&typeof a=="function")return a(i);const c=new window.DOMParser().parseFromString(i,"text/html"),m=[].concat(...c.body.querySelectorAll("*"));for(const p of m){const x=p.nodeName.toLowerCase();if(!Object.keys(t).includes(x)){p.remove();continue}const k=[].concat(...p.attributes),D=[].concat(t["*"]||[],t[x]||[]);for(const L of k)Ufe(L,D)||p.removeAttribute(L.nodeName)}return c.body.innerHTML}const jfe="TemplateFactory",Yfe={allowList:YJ,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},qfe={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Gfe={entry:"(string|element|function|null)",selector:"(string|element)"};class Kfe extends rI{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return Yfe}static get DefaultType(){return qfe}static get NAME(){return jfe}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[c,m]of Object.entries(this._config.content))this._setContent(t,m,c);const a=t.children[0],u=this._resolvePossibleFunction(this._config.extraClass);return u&&a.classList.add(...u.split(" ")),a}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[a,u]of Object.entries(t))super._typeCheckConfig({selector:a,entry:u},Gfe)}_setContent(t,a,u){const c=ka.findOne(u,t);if(c){if(a=this._resolvePossibleFunction(a),!a){c.remove();return}if(Ow(a)){this._putElementInTemplate(eS(a),c);return}if(this._config.html){c.innerHTML=this._maybeSanitize(a);return}c.textContent=a}}_maybeSanitize(t){return this._config.sanitize?Wfe(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return om(t,[this])}_putElementInTemplate(t,a){if(this._config.html){a.innerHTML="",a.append(t);return}a.textContent=t.textContent}}const Xfe="tooltip",Zfe=new Set(["sanitize","allowList","sanitizeFn"]),zU="fade",Jfe="modal",FN="show",Qfe=".tooltip-inner",iK=`.${Jfe}`,oK="hide.bs.modal",f3="hover",HU="focus",ede="click",tde="manual",nde="hide",rde="hidden",ade="show",ide="shown",ode="inserted",sde="click",ude="focusin",lde="focusout",cde="mouseenter",fde="mouseleave",dde={AUTO:"auto",TOP:"top",RIGHT:Rp()?"left":"right",BOTTOM:"bottom",LEFT:Rp()?"right":"left"},vde={allowList:YJ,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},hde={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};let oI=class qJ extends Q0{constructor(t,a){if(typeof bJ>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,a),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return vde}static get DefaultType(){return hde}static get NAME(){return Xfe}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),Fn.off(this._element.closest(iK),oK,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const t=Fn.trigger(this._element,this.constructor.eventName(ade)),u=(wJ(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!u)return;this._disposePopper();const c=this._getTipElement();this._element.setAttribute("aria-describedby",c.getAttribute("id"));const{container:m}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(m.append(c),Fn.trigger(this._element,this.constructor.eventName(ode))),this._popper=this._createPopper(c),c.classList.add(FN),"ontouchstart"in document.documentElement)for(const x of[].concat(...document.body.children))Fn.on(x,"mouseover",N5);const p=()=>{Fn.trigger(this._element,this.constructor.eventName(ide)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(p,this.tip,this._isAnimated())}hide(){if(!this._isShown()||Fn.trigger(this._element,this.constructor.eventName(nde)).defaultPrevented)return;if(this._getTipElement().classList.remove(FN),"ontouchstart"in document.documentElement)for(const c of[].concat(...document.body.children))Fn.off(c,"mouseover",N5);this._activeTrigger[ede]=!1,this._activeTrigger[HU]=!1,this._activeTrigger[f3]=!1,this._isHovered=null;const u=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Fn.trigger(this._element,this.constructor.eventName(rde)))};this._queueCallback(u,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const a=this._getTemplateFactory(t).toHtml();if(!a)return null;a.classList.remove(zU,FN),a.classList.add(`bs-${this.constructor.NAME}-auto`);const u=ele(this.constructor.NAME).toString();return a.setAttribute("id",u),this._isAnimated()&&a.classList.add(zU),a}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new Kfe({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Qfe]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(zU)}_isShown(){return this.tip&&this.tip.classList.contains(FN)}_createPopper(t){const a=om(this._config.placement,[this,t,this._element]),u=dde[a.toUpperCase()];return Tj(this._element,t,this._getPopperConfig(u))}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(a=>Number.parseInt(a,10)):typeof t=="function"?a=>t(a,this._element):t}_resolvePossibleFunction(t){return om(t,[this._element])}_getPopperConfig(t){const a={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:u=>{this._getTipElement().setAttribute("data-popper-placement",u.state.placement)}}]};return{...a,...om(this._config.popperConfig,[a])}}_setListeners(){const t=this._config.trigger.split(" ");for(const a of t)if(a==="click")Fn.on(this._element,this.constructor.eventName(sde),this._config.selector,u=>{this._initializeOnDelegatedTarget(u).toggle()});else if(a!==tde){const u=a===f3?this.constructor.eventName(cde):this.constructor.eventName(ude),c=a===f3?this.constructor.eventName(fde):this.constructor.eventName(lde);Fn.on(this._element,u,this._config.selector,m=>{const p=this._initializeOnDelegatedTarget(m);p._activeTrigger[m.type==="focusin"?HU:f3]=!0,p._enter()}),Fn.on(this._element,c,this._config.selector,m=>{const p=this._initializeOnDelegatedTarget(m);p._activeTrigger[m.type==="focusout"?HU:f3]=p._element.contains(m.relatedTarget),p._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Fn.on(this._element.closest(iK),oK,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,a){clearTimeout(this._timeout),this._timeout=setTimeout(t,a)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const a=Dw.getDataAttributes(this._element);for(const u of Object.keys(a))Zfe.has(u)&&delete a[u];return t={...a,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:eS(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[a,u]of Object.entries(this._config))this.constructor.Default[a]!==u&&(t[a]=u);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const a=qJ.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof a[t]>"u")throw new TypeError(`No method named "${t}"`);a[t]()}})}};Ip(oI);const mde="popover",gde=".popover-header",pde=".popover-body",bde={...oI.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},yde={...oI.DefaultType,content:"(null|string|element|function)"};class Mj extends oI{static get Default(){return bde}static get DefaultType(){return yde}static get NAME(){return mde}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[gde]:this._getTitle(),[pde]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const a=Mj.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof a[t]>"u")throw new TypeError(`No method named "${t}"`);a[t]()}})}}Ip(Mj);const _de="scrollspy",wde="bs.scrollspy",Rj=`.${wde}`,xde=".data-api",Cde=`activate${Rj}`,sK=`click${Rj}`,Sde=`load${Rj}${xde}`,Ede="dropdown-item",KO="active",kde='[data-bs-spy="scroll"]',VU="[href]",Tde=".nav, .list-group",uK=".nav-link",Ade=".nav-item",Ode=".list-group-item",Dde=`${uK}, ${Ade} > ${uK}, ${Ode}`,Mde=".dropdown",Rde=".dropdown-toggle",Pde={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Ide={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class h6 extends Q0{constructor(t,a){super(t,a),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Pde}static get DefaultType(){return Ide}static get NAME(){return _de}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=eS(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,typeof t.threshold=="string"&&(t.threshold=t.threshold.split(",").map(a=>Number.parseFloat(a))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Fn.off(this._config.target,sK),Fn.on(this._config.target,sK,VU,t=>{const a=this._observableSections.get(t.target.hash);if(a){t.preventDefault();const u=this._rootElement||window,c=a.offsetTop-this._element.offsetTop;if(u.scrollTo){u.scrollTo({top:c,behavior:"smooth"});return}u.scrollTop=c}}))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(a=>this._observerCallback(a),t)}_observerCallback(t){const a=p=>this._targetLinks.get(`#${p.target.id}`),u=p=>{this._previousScrollData.visibleEntryTop=p.target.offsetTop,this._process(a(p))},c=(this._rootElement||document.documentElement).scrollTop,m=c>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=c;for(const p of t){if(!p.isIntersecting){this._activeTarget=null,this._clearActiveClass(a(p));continue}const x=p.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(m&&x){if(u(p),!c)return;continue}!m&&!x&&u(p)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=ka.find(VU,this._config.target);for(const a of t){if(!a.hash||tS(a))continue;const u=ka.findOne(decodeURI(a.hash),this._element);SD(u)&&(this._targetLinks.set(decodeURI(a.hash),a),this._observableSections.set(a.hash,u))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(KO),this._activateParents(t),Fn.trigger(this._element,Cde,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(Ede)){ka.findOne(Rde,t.closest(Mde)).classList.add(KO);return}for(const a of ka.parents(t,Tde))for(const u of ka.prev(a,Dde))u.classList.add(KO)}_clearActiveClass(t){t.classList.remove(KO);const a=ka.find(`${VU}.${KO}`,t);for(const u of a)u.classList.remove(KO)}static jQueryInterface(t){return this.each(function(){const a=h6.getOrCreateInstance(this,t);if(typeof t=="string"){if(a[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);a[t]()}})}}Fn.on(window,Sde,()=>{for(const i of ka.find(kde))h6.getOrCreateInstance(i)});Ip(h6);const Bde="tab",Lde="bs.tab",Nk=`.${Lde}`,Fde=`hide${Nk}`,Nde=`hidden${Nk}`,$de=`show${Nk}`,zde=`shown${Nk}`,Hde=`click${Nk}`,Vde=`keydown${Nk}`,Ude=`load${Nk}`,Wde="ArrowLeft",lK="ArrowRight",jde="ArrowUp",cK="ArrowDown",UU="Home",fK="End",Sk="active",dK="fade",WU="show",Yde="dropdown",qde=".dropdown-toggle",Gde=".dropdown-menu",jU=":not(.dropdown-toggle)",Kde='.list-group, .nav, [role="tablist"]',Xde=".nav-item, .list-group-item",Zde=`.nav-link${jU}, .list-group-item${jU}, [role="tab"]${jU}`,GJ='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',YU=`${Zde}, ${GJ}`,Jde=`.${Sk}[data-bs-toggle="tab"], .${Sk}[data-bs-toggle="pill"], .${Sk}[data-bs-toggle="list"]`;class gD extends Q0{constructor(t){super(t),this._parent=this._element.closest(Kde),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Fn.on(this._element,Vde,a=>this._keydown(a)))}static get NAME(){return Bde}show(){const t=this._element;if(this._elemIsActive(t))return;const a=this._getActiveElem(),u=a?Fn.trigger(a,Fde,{relatedTarget:t}):null;Fn.trigger(t,$de,{relatedTarget:a}).defaultPrevented||u&&u.defaultPrevented||(this._deactivate(a,t),this._activate(t,a))}_activate(t,a){if(!t)return;t.classList.add(Sk),this._activate(ka.getElementFromSelector(t));const u=()=>{if(t.getAttribute("role")!=="tab"){t.classList.add(WU);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),Fn.trigger(t,zde,{relatedTarget:a})};this._queueCallback(u,t,t.classList.contains(dK))}_deactivate(t,a){if(!t)return;t.classList.remove(Sk),t.blur(),this._deactivate(ka.getElementFromSelector(t));const u=()=>{if(t.getAttribute("role")!=="tab"){t.classList.remove(WU);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),Fn.trigger(t,Nde,{relatedTarget:a})};this._queueCallback(u,t,t.classList.contains(dK))}_keydown(t){if(![Wde,lK,jde,cK,UU,fK].includes(t.key))return;t.stopPropagation(),t.preventDefault();const a=this._getChildren().filter(c=>!tS(c));let u;if([UU,fK].includes(t.key))u=a[t.key===UU?0:a.length-1];else{const c=[lK,cK].includes(t.key);u=Aj(a,t.target,c,!0)}u&&(u.focus({preventScroll:!0}),gD.getOrCreateInstance(u).show())}_getChildren(){return ka.find(YU,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,a){this._setAttributeIfNotExists(t,"role","tablist");for(const u of a)this._setInitialAttributesOnChild(u)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const a=this._elemIsActive(t),u=this._getOuterElement(t);t.setAttribute("aria-selected",a),u!==t&&this._setAttributeIfNotExists(u,"role","presentation"),a||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const a=ka.getElementFromSelector(t);a&&(this._setAttributeIfNotExists(a,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(a,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,a){const u=this._getOuterElement(t);if(!u.classList.contains(Yde))return;const c=(m,p)=>{const x=ka.findOne(m,u);x&&x.classList.toggle(p,a)};c(qde,Sk),c(Gde,WU),u.setAttribute("aria-expanded",a)}_setAttributeIfNotExists(t,a,u){t.hasAttribute(a)||t.setAttribute(a,u)}_elemIsActive(t){return t.classList.contains(Sk)}_getInnerElement(t){return t.matches(YU)?t:ka.findOne(YU,t)}_getOuterElement(t){return t.closest(Xde)||t}static jQueryInterface(t){return this.each(function(){const a=gD.getOrCreateInstance(this);if(typeof t=="string"){if(a[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);a[t]()}})}}Fn.on(document,Hde,GJ,function(i){["A","AREA"].includes(this.tagName)&&i.preventDefault(),!tS(this)&&gD.getOrCreateInstance(this).show()});Fn.on(window,Ude,()=>{for(const i of ka.find(Jde))gD.getOrCreateInstance(i)});Ip(gD);const Qde="toast",eve="bs.toast",sS=`.${eve}`,tve=`mouseover${sS}`,nve=`mouseout${sS}`,rve=`focusin${sS}`,ave=`focusout${sS}`,ive=`hide${sS}`,ove=`hidden${sS}`,sve=`show${sS}`,uve=`shown${sS}`,lve="fade",vK="hide",NN="show",$N="showing",cve={animation:"boolean",autohide:"boolean",delay:"number"},fve={animation:!0,autohide:!0,delay:5e3};class m6 extends Q0{constructor(t,a){super(t,a),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return fve}static get DefaultType(){return cve}static get NAME(){return Qde}show(){if(Fn.trigger(this._element,sve).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(lve);const a=()=>{this._element.classList.remove($N),Fn.trigger(this._element,uve),this._maybeScheduleHide()};this._element.classList.remove(vK),nI(this._element),this._element.classList.add(NN,$N),this._queueCallback(a,this._element,this._config.animation)}hide(){if(!this.isShown()||Fn.trigger(this._element,ive).defaultPrevented)return;const a=()=>{this._element.classList.add(vK),this._element.classList.remove($N,NN),Fn.trigger(this._element,ove)};this._element.classList.add($N),this._queueCallback(a,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(NN),super.dispose()}isShown(){return this._element.classList.contains(NN)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,a){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=a;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=a;break}}if(a){this._clearTimeout();return}const u=t.relatedTarget;this._element===u||this._element.contains(u)||this._maybeScheduleHide()}_setListeners(){Fn.on(this._element,tve,t=>this._onInteraction(t,!0)),Fn.on(this._element,nve,t=>this._onInteraction(t,!1)),Fn.on(this._element,rve,t=>this._onInteraction(t,!0)),Fn.on(this._element,ave,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const a=m6.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof a[t]>"u")throw new TypeError(`No method named "${t}"`);a[t](this)}})}}f6(m6);Ip(m6);function KJ(i,t){return function(){return i.apply(t,arguments)}}const{toString:dve}=Object.prototype,{getPrototypeOf:Pj}=Object,g6=(i=>t=>{const a=dve.call(t);return i[a]||(i[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),ty=i=>(i=i.toLowerCase(),t=>g6(t)===i),p6=i=>t=>typeof t===i,{isArray:kD}=Array,H3=p6("undefined");function vve(i){return i!==null&&!H3(i)&&i.constructor!==null&&!H3(i.constructor)&&Mp(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const XJ=ty("ArrayBuffer");function hve(i){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(i):t=i&&i.buffer&&XJ(i.buffer),t}const mve=p6("string"),Mp=p6("function"),ZJ=p6("number"),b6=i=>i!==null&&typeof i=="object",gve=i=>i===!0||i===!1,h5=i=>{if(g6(i)!=="object")return!1;const t=Pj(i);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},pve=ty("Date"),bve=ty("File"),yve=ty("Blob"),_ve=ty("FileList"),wve=i=>b6(i)&&Mp(i.pipe),xve=i=>{let t;return i&&(typeof FormData=="function"&&i instanceof FormData||Mp(i.append)&&((t=g6(i))==="formdata"||t==="object"&&Mp(i.toString)&&i.toString()==="[object FormData]"))},Cve=ty("URLSearchParams"),Sve=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function sI(i,t,{allOwnKeys:a=!1}={}){if(i===null||typeof i>"u")return;let u,c;if(typeof i!="object"&&(i=[i]),kD(i))for(u=0,c=i.length;u<c;u++)t.call(null,i[u],u,i);else{const m=a?Object.getOwnPropertyNames(i):Object.keys(i),p=m.length;let x;for(u=0;u<p;u++)x=m[u],t.call(null,i[x],x,i)}}function JJ(i,t){t=t.toLowerCase();const a=Object.keys(i);let u=a.length,c;for(;u-- >0;)if(c=a[u],t===c.toLowerCase())return c;return null}const QJ=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),eQ=i=>!H3(i)&&i!==QJ;function FW(){const{caseless:i}=eQ(this)&&this||{},t={},a=(u,c)=>{const m=i&&JJ(t,c)||c;h5(t[m])&&h5(u)?t[m]=FW(t[m],u):h5(u)?t[m]=FW({},u):kD(u)?t[m]=u.slice():t[m]=u};for(let u=0,c=arguments.length;u<c;u++)arguments[u]&&sI(arguments[u],a);return t}const Eve=(i,t,a,{allOwnKeys:u}={})=>(sI(t,(c,m)=>{a&&Mp(c)?i[m]=KJ(c,a):i[m]=c},{allOwnKeys:u}),i),kve=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),Tve=(i,t,a,u)=>{i.prototype=Object.create(t.prototype,u),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:t.prototype}),a&&Object.assign(i.prototype,a)},Ave=(i,t,a,u)=>{let c,m,p;const x={};if(t=t||{},i==null)return t;do{for(c=Object.getOwnPropertyNames(i),m=c.length;m-- >0;)p=c[m],(!u||u(p,i,t))&&!x[p]&&(t[p]=i[p],x[p]=!0);i=a!==!1&&Pj(i)}while(i&&(!a||a(i,t))&&i!==Object.prototype);return t},Ove=(i,t,a)=>{i=String(i),(a===void 0||a>i.length)&&(a=i.length),a-=t.length;const u=i.indexOf(t,a);return u!==-1&&u===a},Dve=i=>{if(!i)return null;if(kD(i))return i;let t=i.length;if(!ZJ(t))return null;const a=new Array(t);for(;t-- >0;)a[t]=i[t];return a},Mve=(i=>t=>i&&t instanceof i)(typeof Uint8Array<"u"&&Pj(Uint8Array)),Rve=(i,t)=>{const u=(i&&i[Symbol.iterator]).call(i);let c;for(;(c=u.next())&&!c.done;){const m=c.value;t.call(i,m[0],m[1])}},Pve=(i,t)=>{let a;const u=[];for(;(a=i.exec(t))!==null;)u.push(a);return u},Ive=ty("HTMLFormElement"),Bve=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,u,c){return u.toUpperCase()+c}),hK=(({hasOwnProperty:i})=>(t,a)=>i.call(t,a))(Object.prototype),Lve=ty("RegExp"),tQ=(i,t)=>{const a=Object.getOwnPropertyDescriptors(i),u={};sI(a,(c,m)=>{let p;(p=t(c,m,i))!==!1&&(u[m]=p||c)}),Object.defineProperties(i,u)},Fve=i=>{tQ(i,(t,a)=>{if(Mp(i)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const u=i[a];if(Mp(u)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},Nve=(i,t)=>{const a={},u=c=>{c.forEach(m=>{a[m]=!0})};return kD(i)?u(i):u(String(i).split(t)),a},$ve=()=>{},zve=(i,t)=>(i=+i,Number.isFinite(i)?i:t),qU="abcdefghijklmnopqrstuvwxyz",mK="0123456789",nQ={DIGIT:mK,ALPHA:qU,ALPHA_DIGIT:qU+qU.toUpperCase()+mK},Hve=(i=16,t=nQ.ALPHA_DIGIT)=>{let a="";const{length:u}=t;for(;i--;)a+=t[Math.random()*u|0];return a};function Vve(i){return!!(i&&Mp(i.append)&&i[Symbol.toStringTag]==="FormData"&&i[Symbol.iterator])}const Uve=i=>{const t=new Array(10),a=(u,c)=>{if(b6(u)){if(t.indexOf(u)>=0)return;if(!("toJSON"in u)){t[c]=u;const m=kD(u)?[]:{};return sI(u,(p,x)=>{const k=a(p,c+1);!H3(k)&&(m[x]=k)}),t[c]=void 0,m}}return u};return a(i,0)},Wve=ty("AsyncFunction"),jve=i=>i&&(b6(i)||Mp(i))&&Mp(i.then)&&Mp(i.catch),kn={isArray:kD,isArrayBuffer:XJ,isBuffer:vve,isFormData:xve,isArrayBufferView:hve,isString:mve,isNumber:ZJ,isBoolean:gve,isObject:b6,isPlainObject:h5,isUndefined:H3,isDate:pve,isFile:bve,isBlob:yve,isRegExp:Lve,isFunction:Mp,isStream:wve,isURLSearchParams:Cve,isTypedArray:Mve,isFileList:_ve,forEach:sI,merge:FW,extend:Eve,trim:Sve,stripBOM:kve,inherits:Tve,toFlatObject:Ave,kindOf:g6,kindOfTest:ty,endsWith:Ove,toArray:Dve,forEachEntry:Rve,matchAll:Pve,isHTMLForm:Ive,hasOwnProperty:hK,hasOwnProp:hK,reduceDescriptors:tQ,freezeMethods:Fve,toObjectSet:Nve,toCamelCase:Bve,noop:$ve,toFiniteNumber:zve,findKey:JJ,global:QJ,isContextDefined:eQ,ALPHABET:nQ,generateString:Hve,isSpecCompliantForm:Vve,toJSONObject:Uve,isAsyncFn:Wve,isThenable:jve};function Oo(i,t,a,u,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",t&&(this.code=t),a&&(this.config=a),u&&(this.request=u),c&&(this.response=c)}kn.inherits(Oo,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:kn.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const rQ=Oo.prototype,aQ={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{aQ[i]={value:i}});Object.defineProperties(Oo,aQ);Object.defineProperty(rQ,"isAxiosError",{value:!0});Oo.from=(i,t,a,u,c,m)=>{const p=Object.create(rQ);return kn.toFlatObject(i,p,function(k){return k!==Error.prototype},x=>x!=="isAxiosError"),Oo.call(p,i.message,t,a,u,c),p.cause=i,p.name=i.name,m&&Object.assign(p,m),p};const Yve=null;function NW(i){return kn.isPlainObject(i)||kn.isArray(i)}function iQ(i){return kn.endsWith(i,"[]")?i.slice(0,-2):i}function gK(i,t,a){return i?i.concat(t).map(function(c,m){return c=iQ(c),!a&&m?"["+c+"]":c}).join(a?".":""):t}function qve(i){return kn.isArray(i)&&!i.some(NW)}const Gve=kn.toFlatObject(kn,{},null,function(t){return/^is[A-Z]/.test(t)});function y6(i,t,a){if(!kn.isObject(i))throw new TypeError("target must be an object");t=t||new FormData,a=kn.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(se,Te){return!kn.isUndefined(Te[se])});const u=a.metaTokens,c=a.visitor||L,m=a.dots,p=a.indexes,k=(a.Blob||typeof Blob<"u"&&Blob)&&kn.isSpecCompliantForm(t);if(!kn.isFunction(c))throw new TypeError("visitor must be a function");function D(ee){if(ee===null)return"";if(kn.isDate(ee))return ee.toISOString();if(!k&&kn.isBlob(ee))throw new Oo("Blob is not supported. Use a Buffer instead.");return kn.isArrayBuffer(ee)||kn.isTypedArray(ee)?k&&typeof Blob=="function"?new Blob([ee]):Buffer.from(ee):ee}function L(ee,se,Te){let _e=ee;if(ee&&!Te&&typeof ee=="object"){if(kn.endsWith(se,"{}"))se=u?se:se.slice(0,-2),ee=JSON.stringify(ee);else if(kn.isArray(ee)&&qve(ee)||(kn.isFileList(ee)||kn.endsWith(se,"[]"))&&(_e=kn.toArray(ee)))return se=iQ(se),_e.forEach(function(le,Pe){!(kn.isUndefined(le)||le===null)&&t.append(p===!0?gK([se],Pe,m):p===null?se:se+"[]",D(le))}),!1}return NW(ee)?!0:(t.append(gK(Te,se,m),D(ee)),!1)}const V=[],q=Object.assign(Gve,{defaultVisitor:L,convertValue:D,isVisitable:NW});function ie(ee,se){if(!kn.isUndefined(ee)){if(V.indexOf(ee)!==-1)throw Error("Circular reference detected in "+se.join("."));V.push(ee),kn.forEach(ee,function(_e,be){(!(kn.isUndefined(_e)||_e===null)&&c.call(t,_e,kn.isString(be)?be.trim():be,se,q))===!0&&ie(_e,se?se.concat(be):[be])}),V.pop()}}if(!kn.isObject(i))throw new TypeError("data must be an object");return ie(i),t}function pK(i){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(u){return t[u]})}function Ij(i,t){this._pairs=[],i&&y6(i,this,t)}const oQ=Ij.prototype;oQ.append=function(t,a){this._pairs.push([t,a])};oQ.toString=function(t){const a=t?function(u){return t.call(this,u,pK)}:pK;return this._pairs.map(function(c){return a(c[0])+"="+a(c[1])},"").join("&")};function Kve(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function sQ(i,t,a){if(!t)return i;const u=a&&a.encode||Kve,c=a&&a.serialize;let m;if(c?m=c(t,a):m=kn.isURLSearchParams(t)?t.toString():new Ij(t,a).toString(u),m){const p=i.indexOf("#");p!==-1&&(i=i.slice(0,p)),i+=(i.indexOf("?")===-1?"?":"&")+m}return i}class Xve{constructor(){this.handlers=[]}use(t,a,u){return this.handlers.push({fulfilled:t,rejected:a,synchronous:u?u.synchronous:!1,runWhen:u?u.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){kn.forEach(this.handlers,function(u){u!==null&&t(u)})}}const bK=Xve,uQ={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Zve=typeof URLSearchParams<"u"?URLSearchParams:Ij,Jve=typeof FormData<"u"?FormData:null,Qve=typeof Blob<"u"?Blob:null,ehe=(()=>{let i;return typeof navigator<"u"&&((i=navigator.product)==="ReactNative"||i==="NativeScript"||i==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),the=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),q0={isBrowser:!0,classes:{URLSearchParams:Zve,FormData:Jve,Blob:Qve},isStandardBrowserEnv:ehe,isStandardBrowserWebWorkerEnv:the,protocols:["http","https","file","blob","url","data"]};function nhe(i,t){return y6(i,new q0.classes.URLSearchParams,Object.assign({visitor:function(a,u,c,m){return q0.isNode&&kn.isBuffer(a)?(this.append(u,a.toString("base64")),!1):m.defaultVisitor.apply(this,arguments)}},t))}function rhe(i){return kn.matchAll(/\w+|\[(\w*)]/g,i).map(t=>t[0]==="[]"?"":t[1]||t[0])}function ahe(i){const t={},a=Object.keys(i);let u;const c=a.length;let m;for(u=0;u<c;u++)m=a[u],t[m]=i[m];return t}function lQ(i){function t(a,u,c,m){let p=a[m++];const x=Number.isFinite(+p),k=m>=a.length;return p=!p&&kn.isArray(c)?c.length:p,k?(kn.hasOwnProp(c,p)?c[p]=[c[p],u]:c[p]=u,!x):((!c[p]||!kn.isObject(c[p]))&&(c[p]=[]),t(a,u,c[p],m)&&kn.isArray(c[p])&&(c[p]=ahe(c[p])),!x)}if(kn.isFormData(i)&&kn.isFunction(i.entries)){const a={};return kn.forEachEntry(i,(u,c)=>{t(rhe(u),c,a,0)}),a}return null}function ihe(i,t,a){if(kn.isString(i))try{return(t||JSON.parse)(i),kn.trim(i)}catch(u){if(u.name!=="SyntaxError")throw u}return(a||JSON.stringify)(i)}const Bj={transitional:uQ,adapter:q0.isNode?"http":"xhr",transformRequest:[function(t,a){const u=a.getContentType()||"",c=u.indexOf("application/json")>-1,m=kn.isObject(t);if(m&&kn.isHTMLForm(t)&&(t=new FormData(t)),kn.isFormData(t))return c&&c?JSON.stringify(lQ(t)):t;if(kn.isArrayBuffer(t)||kn.isBuffer(t)||kn.isStream(t)||kn.isFile(t)||kn.isBlob(t))return t;if(kn.isArrayBufferView(t))return t.buffer;if(kn.isURLSearchParams(t))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let x;if(m){if(u.indexOf("application/x-www-form-urlencoded")>-1)return nhe(t,this.formSerializer).toString();if((x=kn.isFileList(t))||u.indexOf("multipart/form-data")>-1){const k=this.env&&this.env.FormData;return y6(x?{"files[]":t}:t,k&&new k,this.formSerializer)}}return m||c?(a.setContentType("application/json",!1),ihe(t)):t}],transformResponse:[function(t){const a=this.transitional||Bj.transitional,u=a&&a.forcedJSONParsing,c=this.responseType==="json";if(t&&kn.isString(t)&&(u&&!this.responseType||c)){const p=!(a&&a.silentJSONParsing)&&c;try{return JSON.parse(t)}catch(x){if(p)throw x.name==="SyntaxError"?Oo.from(x,Oo.ERR_BAD_RESPONSE,this,null,this.response):x}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:q0.classes.FormData,Blob:q0.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};kn.forEach(["delete","get","head","post","put","patch"],i=>{Bj.headers[i]={}});const Lj=Bj,ohe=kn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),she=i=>{const t={};let a,u,c;return i&&i.split(`
`).forEach(function(p){c=p.indexOf(":"),a=p.substring(0,c).trim().toLowerCase(),u=p.substring(c+1).trim(),!(!a||t[a]&&ohe[a])&&(a==="set-cookie"?t[a]?t[a].push(u):t[a]=[u]:t[a]=t[a]?t[a]+", "+u:u)}),t},yK=Symbol("internals");function d3(i){return i&&String(i).trim().toLowerCase()}function m5(i){return i===!1||i==null?i:kn.isArray(i)?i.map(m5):String(i)}function uhe(i){const t=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let u;for(;u=a.exec(i);)t[u[1]]=u[2];return t}const lhe=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function GU(i,t,a,u,c){if(kn.isFunction(u))return u.call(this,t,a);if(c&&(t=a),!!kn.isString(t)){if(kn.isString(u))return t.indexOf(u)!==-1;if(kn.isRegExp(u))return u.test(t)}}function che(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,a,u)=>a.toUpperCase()+u)}function fhe(i,t){const a=kn.toCamelCase(" "+t);["get","set","has"].forEach(u=>{Object.defineProperty(i,u+a,{value:function(c,m,p){return this[u].call(this,t,c,m,p)},configurable:!0})})}class _6{constructor(t){t&&this.set(t)}set(t,a,u){const c=this;function m(x,k,D){const L=d3(k);if(!L)throw new Error("header name must be a non-empty string");const V=kn.findKey(c,L);(!V||c[V]===void 0||D===!0||D===void 0&&c[V]!==!1)&&(c[V||k]=m5(x))}const p=(x,k)=>kn.forEach(x,(D,L)=>m(D,L,k));return kn.isPlainObject(t)||t instanceof this.constructor?p(t,a):kn.isString(t)&&(t=t.trim())&&!lhe(t)?p(she(t),a):t!=null&&m(a,t,u),this}get(t,a){if(t=d3(t),t){const u=kn.findKey(this,t);if(u){const c=this[u];if(!a)return c;if(a===!0)return uhe(c);if(kn.isFunction(a))return a.call(this,c,u);if(kn.isRegExp(a))return a.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,a){if(t=d3(t),t){const u=kn.findKey(this,t);return!!(u&&this[u]!==void 0&&(!a||GU(this,this[u],u,a)))}return!1}delete(t,a){const u=this;let c=!1;function m(p){if(p=d3(p),p){const x=kn.findKey(u,p);x&&(!a||GU(u,u[x],x,a))&&(delete u[x],c=!0)}}return kn.isArray(t)?t.forEach(m):m(t),c}clear(t){const a=Object.keys(this);let u=a.length,c=!1;for(;u--;){const m=a[u];(!t||GU(this,this[m],m,t,!0))&&(delete this[m],c=!0)}return c}normalize(t){const a=this,u={};return kn.forEach(this,(c,m)=>{const p=kn.findKey(u,m);if(p){a[p]=m5(c),delete a[m];return}const x=t?che(m):String(m).trim();x!==m&&delete a[m],a[x]=m5(c),u[x]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const a=Object.create(null);return kn.forEach(this,(u,c)=>{u!=null&&u!==!1&&(a[c]=t&&kn.isArray(u)?u.join(", "):u)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,a])=>t+": "+a).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...a){const u=new this(t);return a.forEach(c=>u.set(c)),u}static accessor(t){const u=(this[yK]=this[yK]={accessors:{}}).accessors,c=this.prototype;function m(p){const x=d3(p);u[x]||(fhe(c,p),u[x]=!0)}return kn.isArray(t)?t.forEach(m):m(t),this}}_6.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);kn.reduceDescriptors(_6.prototype,({value:i},t)=>{let a=t[0].toUpperCase()+t.slice(1);return{get:()=>i,set(u){this[a]=u}}});kn.freezeMethods(_6);const Mw=_6;function KU(i,t){const a=this||Lj,u=t||a,c=Mw.from(u.headers);let m=u.data;return kn.forEach(i,function(x){m=x.call(a,m,c.normalize(),t?t.status:void 0)}),c.normalize(),m}function cQ(i){return!!(i&&i.__CANCEL__)}function uI(i,t,a){Oo.call(this,i??"canceled",Oo.ERR_CANCELED,t,a),this.name="CanceledError"}kn.inherits(uI,Oo,{__CANCEL__:!0});function dhe(i,t,a){const u=a.config.validateStatus;!a.status||!u||u(a.status)?i(a):t(new Oo("Request failed with status code "+a.status,[Oo.ERR_BAD_REQUEST,Oo.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}const vhe=q0.isStandardBrowserEnv?function(){return{write:function(a,u,c,m,p,x){const k=[];k.push(a+"="+encodeURIComponent(u)),kn.isNumber(c)&&k.push("expires="+new Date(c).toGMTString()),kn.isString(m)&&k.push("path="+m),kn.isString(p)&&k.push("domain="+p),x===!0&&k.push("secure"),document.cookie=k.join("; ")},read:function(a){const u=document.cookie.match(new RegExp("(^|;\\s*)("+a+")=([^;]*)"));return u?decodeURIComponent(u[3]):null},remove:function(a){this.write(a,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function hhe(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function mhe(i,t){return t?i.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):i}function fQ(i,t){return i&&!hhe(t)?mhe(i,t):t}const ghe=q0.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),a=document.createElement("a");let u;function c(m){let p=m;return t&&(a.setAttribute("href",p),p=a.href),a.setAttribute("href",p),{href:a.href,protocol:a.protocol?a.protocol.replace(/:$/,""):"",host:a.host,search:a.search?a.search.replace(/^\?/,""):"",hash:a.hash?a.hash.replace(/^#/,""):"",hostname:a.hostname,port:a.port,pathname:a.pathname.charAt(0)==="/"?a.pathname:"/"+a.pathname}}return u=c(window.location.href),function(p){const x=kn.isString(p)?c(p):p;return x.protocol===u.protocol&&x.host===u.host}}():function(){return function(){return!0}}();function phe(i){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return t&&t[1]||""}function bhe(i,t){i=i||10;const a=new Array(i),u=new Array(i);let c=0,m=0,p;return t=t!==void 0?t:1e3,function(k){const D=Date.now(),L=u[m];p||(p=D),a[c]=k,u[c]=D;let V=m,q=0;for(;V!==c;)q+=a[V++],V=V%i;if(c=(c+1)%i,c===m&&(m=(m+1)%i),D-p<t)return;const ie=L&&D-L;return ie?Math.round(q*1e3/ie):void 0}}function _K(i,t){let a=0;const u=bhe(50,250);return c=>{const m=c.loaded,p=c.lengthComputable?c.total:void 0,x=m-a,k=u(x),D=m<=p;a=m;const L={loaded:m,total:p,progress:p?m/p:void 0,bytes:x,rate:k||void 0,estimated:k&&p&&D?(p-m)/k:void 0,event:c};L[t?"download":"upload"]=!0,i(L)}}const yhe=typeof XMLHttpRequest<"u",_he=yhe&&function(i){return new Promise(function(a,u){let c=i.data;const m=Mw.from(i.headers).normalize(),p=i.responseType;let x;function k(){i.cancelToken&&i.cancelToken.unsubscribe(x),i.signal&&i.signal.removeEventListener("abort",x)}kn.isFormData(c)&&(q0.isStandardBrowserEnv||q0.isStandardBrowserWebWorkerEnv?m.setContentType(!1):m.setContentType("multipart/form-data;",!1));let D=new XMLHttpRequest;if(i.auth){const ie=i.auth.username||"",ee=i.auth.password?unescape(encodeURIComponent(i.auth.password)):"";m.set("Authorization","Basic "+btoa(ie+":"+ee))}const L=fQ(i.baseURL,i.url);D.open(i.method.toUpperCase(),sQ(L,i.params,i.paramsSerializer),!0),D.timeout=i.timeout;function V(){if(!D)return;const ie=Mw.from("getAllResponseHeaders"in D&&D.getAllResponseHeaders()),se={data:!p||p==="text"||p==="json"?D.responseText:D.response,status:D.status,statusText:D.statusText,headers:ie,config:i,request:D};dhe(function(_e){a(_e),k()},function(_e){u(_e),k()},se),D=null}if("onloadend"in D?D.onloadend=V:D.onreadystatechange=function(){!D||D.readyState!==4||D.status===0&&!(D.responseURL&&D.responseURL.indexOf("file:")===0)||setTimeout(V)},D.onabort=function(){D&&(u(new Oo("Request aborted",Oo.ECONNABORTED,i,D)),D=null)},D.onerror=function(){u(new Oo("Network Error",Oo.ERR_NETWORK,i,D)),D=null},D.ontimeout=function(){let ee=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const se=i.transitional||uQ;i.timeoutErrorMessage&&(ee=i.timeoutErrorMessage),u(new Oo(ee,se.clarifyTimeoutError?Oo.ETIMEDOUT:Oo.ECONNABORTED,i,D)),D=null},q0.isStandardBrowserEnv){const ie=(i.withCredentials||ghe(L))&&i.xsrfCookieName&&vhe.read(i.xsrfCookieName);ie&&m.set(i.xsrfHeaderName,ie)}c===void 0&&m.setContentType(null),"setRequestHeader"in D&&kn.forEach(m.toJSON(),function(ee,se){D.setRequestHeader(se,ee)}),kn.isUndefined(i.withCredentials)||(D.withCredentials=!!i.withCredentials),p&&p!=="json"&&(D.responseType=i.responseType),typeof i.onDownloadProgress=="function"&&D.addEventListener("progress",_K(i.onDownloadProgress,!0)),typeof i.onUploadProgress=="function"&&D.upload&&D.upload.addEventListener("progress",_K(i.onUploadProgress)),(i.cancelToken||i.signal)&&(x=ie=>{D&&(u(!ie||ie.type?new uI(null,i,D):ie),D.abort(),D=null)},i.cancelToken&&i.cancelToken.subscribe(x),i.signal&&(i.signal.aborted?x():i.signal.addEventListener("abort",x)));const q=phe(L);if(q&&q0.protocols.indexOf(q)===-1){u(new Oo("Unsupported protocol "+q+":",Oo.ERR_BAD_REQUEST,i));return}D.send(c||null)})},g5={http:Yve,xhr:_he};kn.forEach(g5,(i,t)=>{if(i){try{Object.defineProperty(i,"name",{value:t})}catch{}Object.defineProperty(i,"adapterName",{value:t})}});const dQ={getAdapter:i=>{i=kn.isArray(i)?i:[i];const{length:t}=i;let a,u;for(let c=0;c<t&&(a=i[c],!(u=kn.isString(a)?g5[a.toLowerCase()]:a));c++);if(!u)throw u===!1?new Oo(`Adapter ${a} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(kn.hasOwnProp(g5,a)?`Adapter '${a}' is not available in the build`:`Unknown adapter '${a}'`);if(!kn.isFunction(u))throw new TypeError("adapter is not a function");return u},adapters:g5};function XU(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new uI(null,i)}function wK(i){return XU(i),i.headers=Mw.from(i.headers),i.data=KU.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),dQ.getAdapter(i.adapter||Lj.adapter)(i).then(function(u){return XU(i),u.data=KU.call(i,i.transformResponse,u),u.headers=Mw.from(u.headers),u},function(u){return cQ(u)||(XU(i),u&&u.response&&(u.response.data=KU.call(i,i.transformResponse,u.response),u.response.headers=Mw.from(u.response.headers))),Promise.reject(u)})}const xK=i=>i instanceof Mw?i.toJSON():i;function pD(i,t){t=t||{};const a={};function u(D,L,V){return kn.isPlainObject(D)&&kn.isPlainObject(L)?kn.merge.call({caseless:V},D,L):kn.isPlainObject(L)?kn.merge({},L):kn.isArray(L)?L.slice():L}function c(D,L,V){if(kn.isUndefined(L)){if(!kn.isUndefined(D))return u(void 0,D,V)}else return u(D,L,V)}function m(D,L){if(!kn.isUndefined(L))return u(void 0,L)}function p(D,L){if(kn.isUndefined(L)){if(!kn.isUndefined(D))return u(void 0,D)}else return u(void 0,L)}function x(D,L,V){if(V in t)return u(D,L);if(V in i)return u(void 0,D)}const k={url:m,method:m,data:m,baseURL:p,transformRequest:p,transformResponse:p,paramsSerializer:p,timeout:p,timeoutMessage:p,withCredentials:p,adapter:p,responseType:p,xsrfCookieName:p,xsrfHeaderName:p,onUploadProgress:p,onDownloadProgress:p,decompress:p,maxContentLength:p,maxBodyLength:p,beforeRedirect:p,transport:p,httpAgent:p,httpsAgent:p,cancelToken:p,socketPath:p,responseEncoding:p,validateStatus:x,headers:(D,L)=>c(xK(D),xK(L),!0)};return kn.forEach(Object.keys(Object.assign({},i,t)),function(L){const V=k[L]||c,q=V(i[L],t[L],L);kn.isUndefined(q)&&V!==x||(a[L]=q)}),a}const vQ="1.5.0",Fj={};["object","boolean","number","function","string","symbol"].forEach((i,t)=>{Fj[i]=function(u){return typeof u===i||"a"+(t<1?"n ":" ")+i}});const CK={};Fj.transitional=function(t,a,u){function c(m,p){return"[Axios v"+vQ+"] Transitional option '"+m+"'"+p+(u?". "+u:"")}return(m,p,x)=>{if(t===!1)throw new Oo(c(p," has been removed"+(a?" in "+a:"")),Oo.ERR_DEPRECATED);return a&&!CK[p]&&(CK[p]=!0,console.warn(c(p," has been deprecated since v"+a+" and will be removed in the near future"))),t?t(m,p,x):!0}};function whe(i,t,a){if(typeof i!="object")throw new Oo("options must be an object",Oo.ERR_BAD_OPTION_VALUE);const u=Object.keys(i);let c=u.length;for(;c-- >0;){const m=u[c],p=t[m];if(p){const x=i[m],k=x===void 0||p(x,m,i);if(k!==!0)throw new Oo("option "+m+" must be "+k,Oo.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new Oo("Unknown option "+m,Oo.ERR_BAD_OPTION)}}const $W={assertOptions:whe,validators:Fj},UC=$W.validators;class H5{constructor(t){this.defaults=t,this.interceptors={request:new bK,response:new bK}}request(t,a){typeof t=="string"?(a=a||{},a.url=t):a=t||{},a=pD(this.defaults,a);const{transitional:u,paramsSerializer:c,headers:m}=a;u!==void 0&&$W.assertOptions(u,{silentJSONParsing:UC.transitional(UC.boolean),forcedJSONParsing:UC.transitional(UC.boolean),clarifyTimeoutError:UC.transitional(UC.boolean)},!1),c!=null&&(kn.isFunction(c)?a.paramsSerializer={serialize:c}:$W.assertOptions(c,{encode:UC.function,serialize:UC.function},!0)),a.method=(a.method||this.defaults.method||"get").toLowerCase();let p=m&&kn.merge(m.common,m[a.method]);m&&kn.forEach(["delete","get","head","post","put","patch","common"],ee=>{delete m[ee]}),a.headers=Mw.concat(p,m);const x=[];let k=!0;this.interceptors.request.forEach(function(se){typeof se.runWhen=="function"&&se.runWhen(a)===!1||(k=k&&se.synchronous,x.unshift(se.fulfilled,se.rejected))});const D=[];this.interceptors.response.forEach(function(se){D.push(se.fulfilled,se.rejected)});let L,V=0,q;if(!k){const ee=[wK.bind(this),void 0];for(ee.unshift.apply(ee,x),ee.push.apply(ee,D),q=ee.length,L=Promise.resolve(a);V<q;)L=L.then(ee[V++],ee[V++]);return L}q=x.length;let ie=a;for(V=0;V<q;){const ee=x[V++],se=x[V++];try{ie=ee(ie)}catch(Te){se.call(this,Te);break}}try{L=wK.call(this,ie)}catch(ee){return Promise.reject(ee)}for(V=0,q=D.length;V<q;)L=L.then(D[V++],D[V++]);return L}getUri(t){t=pD(this.defaults,t);const a=fQ(t.baseURL,t.url);return sQ(a,t.params,t.paramsSerializer)}}kn.forEach(["delete","get","head","options"],function(t){H5.prototype[t]=function(a,u){return this.request(pD(u||{},{method:t,url:a,data:(u||{}).data}))}});kn.forEach(["post","put","patch"],function(t){function a(u){return function(m,p,x){return this.request(pD(x||{},{method:t,headers:u?{"Content-Type":"multipart/form-data"}:{},url:m,data:p}))}}H5.prototype[t]=a(),H5.prototype[t+"Form"]=a(!0)});const p5=H5;class Nj{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(m){a=m});const u=this;this.promise.then(c=>{if(!u._listeners)return;let m=u._listeners.length;for(;m-- >0;)u._listeners[m](c);u._listeners=null}),this.promise.then=c=>{let m;const p=new Promise(x=>{u.subscribe(x),m=x}).then(c);return p.cancel=function(){u.unsubscribe(m)},p},t(function(m,p,x){u.reason||(u.reason=new uI(m,p,x),a(u.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const a=this._listeners.indexOf(t);a!==-1&&this._listeners.splice(a,1)}static source(){let t;return{token:new Nj(function(c){t=c}),cancel:t}}}const xhe=Nj;function Che(i){return function(a){return i.apply(null,a)}}function She(i){return kn.isObject(i)&&i.isAxiosError===!0}const zW={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(zW).forEach(([i,t])=>{zW[t]=i});const Ehe=zW;function hQ(i){const t=new p5(i),a=KJ(p5.prototype.request,t);return kn.extend(a,p5.prototype,t,{allOwnKeys:!0}),kn.extend(a,t,null,{allOwnKeys:!0}),a.create=function(c){return hQ(pD(i,c))},a}const nf=hQ(Lj);nf.Axios=p5;nf.CanceledError=uI;nf.CancelToken=xhe;nf.isCancel=cQ;nf.VERSION=vQ;nf.toFormData=y6;nf.AxiosError=Oo;nf.Cancel=nf.CanceledError;nf.all=function(t){return Promise.all(t)};nf.spread=Che;nf.isAxiosError=She;nf.mergeConfig=pD;nf.AxiosHeaders=Mw;nf.formToJSON=i=>lQ(kn.isHTMLForm(i)?new FormData(i):i);nf.getAdapter=dQ.getAdapter;nf.HttpStatusCode=Ehe;nf.default=nf;const khe=nf;let zN;const The=new Uint8Array(16);function Ahe(){if(!zN&&(zN=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!zN))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return zN(The)}const Ed=[];for(let i=0;i<256;++i)Ed.push((i+256).toString(16).slice(1));function Ohe(i,t=0){return(Ed[i[t+0]]+Ed[i[t+1]]+Ed[i[t+2]]+Ed[i[t+3]]+"-"+Ed[i[t+4]]+Ed[i[t+5]]+"-"+Ed[i[t+6]]+Ed[i[t+7]]+"-"+Ed[i[t+8]]+Ed[i[t+9]]+"-"+Ed[i[t+10]]+Ed[i[t+11]]+Ed[i[t+12]]+Ed[i[t+13]]+Ed[i[t+14]]+Ed[i[t+15]]).toLowerCase()}const Dhe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),SK={randomUUID:Dhe};function Mhe(i,t,a){if(SK.randomUUID&&!t&&!i)return SK.randomUUID();i=i||{};const u=i.random||(i.rng||Ahe)();if(u[6]=u[6]&15|64,u[8]=u[8]&63|128,t){a=a||0;for(let c=0;c<16;++c)t[a+c]=u[c];return t}return Ohe(u)}function bD(i,t){if(i==null)return{};var a={},u=Object.keys(i),c,m;for(m=0;m<u.length;m++)c=u[m],!(t.indexOf(c)>=0)&&(a[c]=i[c]);return a}function qi(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new qi.InputMask(i,t)}class Su{constructor(t){Object.assign(this,{inserted:"",rawInserted:"",skip:!1,tailShift:0},t)}aggregate(t){return this.rawInserted+=t.rawInserted,this.skip=this.skip||t.skip,this.inserted+=t.inserted,this.tailShift+=t.tailShift,this}get offset(){return this.tailShift+this.inserted.length}}qi.ChangeDetails=Su;function oD(i){return typeof i=="string"||i instanceof String}const Ea={NONE:"NONE",LEFT:"LEFT",FORCE_LEFT:"FORCE_LEFT",RIGHT:"RIGHT",FORCE_RIGHT:"FORCE_RIGHT"};function Rhe(i){switch(i){case Ea.LEFT:return Ea.FORCE_LEFT;case Ea.RIGHT:return Ea.FORCE_RIGHT;default:return i}}function ZU(i){return i.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function V3(i){return Array.isArray(i)?i:[i,new Su]}function V5(i,t){if(t===i)return!0;var a=Array.isArray(t),u=Array.isArray(i),c;if(a&&u){if(t.length!=i.length)return!1;for(c=0;c<t.length;c++)if(!V5(t[c],i[c]))return!1;return!0}if(a!=u)return!1;if(t&&i&&typeof t=="object"&&typeof i=="object"){var m=t instanceof Date,p=i instanceof Date;if(m&&p)return t.getTime()==i.getTime();if(m!=p)return!1;var x=t instanceof RegExp,k=i instanceof RegExp;if(x&&k)return t.toString()==i.toString();if(x!=k)return!1;var D=Object.keys(t);for(c=0;c<D.length;c++)if(!Object.prototype.hasOwnProperty.call(i,D[c]))return!1;for(c=0;c<D.length;c++)if(!V5(i[D[c]],t[D[c]]))return!1;return!0}else if(t&&i&&typeof t=="function"&&typeof i=="function")return t.toString()===i.toString();return!1}class Phe{constructor(t,a,u,c){for(this.value=t,this.cursorPos=a,this.oldValue=u,this.oldSelection=c;this.value.slice(0,this.startChangePos)!==this.oldValue.slice(0,this.startChangePos);)--this.oldSelection.start}get startChangePos(){return Math.min(this.cursorPos,this.oldSelection.start)}get insertedCount(){return this.cursorPos-this.startChangePos}get inserted(){return this.value.substr(this.startChangePos,this.insertedCount)}get removedCount(){return Math.max(this.oldSelection.end-this.startChangePos||this.oldValue.length-this.value.length,0)}get removed(){return this.oldValue.substr(this.startChangePos,this.removedCount)}get head(){return this.value.substring(0,this.startChangePos)}get tail(){return this.value.substring(this.startChangePos+this.insertedCount)}get removeDirection(){return!this.removedCount||this.insertedCount?Ea.NONE:(this.oldSelection.end===this.cursorPos||this.oldSelection.start===this.cursorPos)&&this.oldSelection.end===this.oldSelection.start?Ea.RIGHT:Ea.LEFT}}class Cw{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,u=arguments.length>2?arguments[2]:void 0;this.value=t,this.from=a,this.stop=u}toString(){return this.value}extend(t){this.value+=String(t)}appendTo(t){return t.append(this.toString(),{tail:!0}).aggregate(t._appendPlaceholder())}get state(){return{value:this.value,from:this.from,stop:this.stop}}set state(t){Object.assign(this,t)}unshift(t){if(!this.value.length||t!=null&&this.from>=t)return"";const a=this.value[0];return this.value=this.value.slice(1),a}shift(){if(!this.value.length)return"";const t=this.value[this.value.length-1];return this.value=this.value.slice(0,-1),t}}class um{constructor(t){this._value="",this._update(Object.assign({},um.DEFAULTS,t)),this.isInitialized=!0}updateOptions(t){Object.keys(t).length&&this.withValueRefresh(this._update.bind(this,t))}_update(t){Object.assign(this,t)}get state(){return{_value:this.value}}set state(t){this._value=t._value}reset(){this._value=""}get value(){return this._value}set value(t){this.resolve(t)}resolve(t){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{input:!0};return this.reset(),this.append(t,a,""),this.doCommit(),this.value}get unmaskedValue(){return this.value}set unmaskedValue(t){this.reset(),this.append(t,{},""),this.doCommit()}get typedValue(){return this.doParse(this.value)}set typedValue(t){this.value=this.doFormat(t)}get rawInputValue(){return this.extractInput(0,this.value.length,{raw:!0})}set rawInputValue(t){this.reset(),this.append(t,{raw:!0},""),this.doCommit()}get displayValue(){return this.value}get isComplete(){return!0}get isFilled(){return this.isComplete}nearestInputPos(t,a){return t}totalInputPositions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length;return Math.min(this.value.length,a-t)}extractInput(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length;return this.value.slice(t,a)}extractTail(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length;return new Cw(this.extractInput(t,a),t)}appendTail(t){return oD(t)&&(t=new Cw(String(t))),t.appendTo(this)}_appendCharRaw(t){return t?(this._value+=t,new Su({inserted:t,rawInserted:t})):new Su}_appendChar(t){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=arguments.length>2?arguments[2]:void 0;const c=this.state;let m;if([t,m]=V3(this.doPrepare(t,a)),m=m.aggregate(this._appendCharRaw(t,a)),m.inserted){let p,x=this.doValidate(a)!==!1;if(x&&u!=null){const k=this.state;this.overwrite===!0&&(p=u.state,u.unshift(this.value.length-m.tailShift));let D=this.appendTail(u);x=D.rawInserted===u.toString(),!(x&&D.inserted)&&this.overwrite==="shift"&&(this.state=k,p=u.state,u.shift(),D=this.appendTail(u),x=D.rawInserted===u.toString()),x&&D.inserted&&(this.state=k)}x||(m=new Su,this.state=c,u&&p&&(u.state=p))}return m}_appendPlaceholder(){return new Su}_appendEager(){return new Su}append(t,a,u){if(!oD(t))throw new Error("value should be string");const c=new Su,m=oD(u)?new Cw(String(u)):u;a!=null&&a.tail&&(a._beforeTailState=this.state);for(let p=0;p<t.length;++p){const x=this._appendChar(t[p],a,m);if(!x.rawInserted&&!this.doSkipInvalid(t[p],a,m))break;c.aggregate(x)}return(this.eager===!0||this.eager==="append")&&a!==null&&a!==void 0&&a.input&&t&&c.aggregate(this._appendEager()),m!=null&&(c.tailShift+=this.appendTail(m).tailShift),c}remove(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length;return this._value=this.value.slice(0,t)+this.value.slice(a),new Su}withValueRefresh(t){if(this._refreshing||!this.isInitialized)return t();this._refreshing=!0;const a=this.rawInputValue,u=this.value,c=t();return this.rawInputValue=a,this.value&&this.value!==u&&u.indexOf(this.value)===0&&this.append(u.slice(this.value.length),{},""),delete this._refreshing,c}runIsolated(t){if(this._isolated||!this.isInitialized)return t(this);this._isolated=!0;const a=this.state,u=t(this);return this.state=a,delete this._isolated,u}doSkipInvalid(t){return this.skipInvalid}doPrepare(t){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.prepare?this.prepare(t,this,a):t}doValidate(t){return(!this.validate||this.validate(this.value,this,t))&&(!this.parent||this.parent.doValidate(t))}doCommit(){this.commit&&this.commit(this.value,this)}doFormat(t){return this.format?this.format(t,this):t}doParse(t){return this.parse?this.parse(t,this):t}splice(t,a,u,c){let m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{input:!0};const p=t+a,x=this.extractTail(p),k=this.eager===!0||this.eager==="remove";let D;k&&(c=Rhe(c),D=this.extractInput(0,p,{raw:!0}));let L=t;const V=new Su;if(c!==Ea.NONE&&(L=this.nearestInputPos(t,a>1&&t!==0&&!k?Ea.NONE:c),V.tailShift=L-t),V.aggregate(this.remove(L)),k&&c!==Ea.NONE&&D===this.rawInputValue)if(c===Ea.FORCE_LEFT){let q;for(;D===this.rawInputValue&&(q=this.value.length);)V.aggregate(new Su({tailShift:-1})).aggregate(this.remove(q-1))}else c===Ea.FORCE_RIGHT&&x.unshift();return V.aggregate(this.append(u,m,x))}maskEquals(t){return this.mask===t}typedValueEquals(t){const a=this.typedValue;return t===a||um.EMPTY_VALUES.includes(t)&&um.EMPTY_VALUES.includes(a)||this.doFormat(t)===this.doFormat(this.typedValue)}}um.DEFAULTS={format:String,parse:i=>i,skipInvalid:!0};um.EMPTY_VALUES=[void 0,null,""];qi.Masked=um;function mQ(i){if(i==null)throw new Error("mask property should be defined");return i instanceof RegExp?qi.MaskedRegExp:oD(i)?qi.MaskedPattern:i instanceof Date||i===Date?qi.MaskedDate:i instanceof Number||typeof i=="number"||i===Number?qi.MaskedNumber:Array.isArray(i)||i===Array?qi.MaskedDynamic:qi.Masked&&i.prototype instanceof qi.Masked?i:i instanceof qi.Masked?i.constructor:i instanceof Function?qi.MaskedFunction:(console.warn("Mask not found for mask",i),qi.Masked)}function Ik(i){if(qi.Masked&&i instanceof qi.Masked)return i;i=Object.assign({},i);const t=i.mask;if(qi.Masked&&t instanceof qi.Masked)return t;const a=mQ(t);if(!a)throw new Error("Masked class is not found for provided mask, appropriate module needs to be import manually before creating mask.");return new a(i)}qi.createMask=Ik;const Ihe=["parent","isOptional","placeholderChar","displayChar","lazy","eager"],Bhe={0:/\d/,a:/[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,"*":/./};class gQ{constructor(t){const{parent:a,isOptional:u,placeholderChar:c,displayChar:m,lazy:p,eager:x}=t,k=bD(t,Ihe);this.masked=Ik(k),Object.assign(this,{parent:a,isOptional:u,placeholderChar:c,displayChar:m,lazy:p,eager:x})}reset(){this.isFilled=!1,this.masked.reset()}remove(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length;return t===0&&a>=1?(this.isFilled=!1,this.masked.remove(t,a)):new Su}get value(){return this.masked.value||(this.isFilled&&!this.isOptional?this.placeholderChar:"")}get unmaskedValue(){return this.masked.unmaskedValue}get displayValue(){return this.masked.value&&this.displayChar||this.value}get isComplete(){return!!this.masked.value||this.isOptional}_appendChar(t){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.isFilled)return new Su;const u=this.masked.state,c=this.masked._appendChar(t,a);return c.inserted&&this.doValidate(a)===!1&&(c.inserted=c.rawInserted="",this.masked.state=u),!c.inserted&&!this.isOptional&&!this.lazy&&!a.input&&(c.inserted=this.placeholderChar),c.skip=!c.inserted&&!this.isOptional,this.isFilled=!!c.inserted,c}append(){return this.masked.append(...arguments)}_appendPlaceholder(){const t=new Su;return this.isFilled||this.isOptional||(this.isFilled=!0,t.inserted=this.placeholderChar),t}_appendEager(){return new Su}extractTail(){return this.masked.extractTail(...arguments)}appendTail(){return this.masked.appendTail(...arguments)}extractInput(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,u=arguments.length>2?arguments[2]:void 0;return this.masked.extractInput(t,a,u)}nearestInputPos(t){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ea.NONE;const u=0,c=this.value.length,m=Math.min(Math.max(t,u),c);switch(a){case Ea.LEFT:case Ea.FORCE_LEFT:return this.isComplete?m:u;case Ea.RIGHT:case Ea.FORCE_RIGHT:return this.isComplete?m:c;case Ea.NONE:default:return m}}totalInputPositions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length;return this.value.slice(t,a).length}doValidate(){return this.masked.doValidate(...arguments)&&(!this.parent||this.parent.doValidate(...arguments))}doCommit(){this.masked.doCommit()}get state(){return{masked:this.masked.state,isFilled:this.isFilled}}set state(t){this.masked.state=t.masked,this.isFilled=t.isFilled}}class pQ{constructor(t){Object.assign(this,t),this._value="",this.isFixed=!0}get value(){return this._value}get unmaskedValue(){return this.isUnmasking?this.value:""}get displayValue(){return this.value}reset(){this._isRawInput=!1,this._value=""}remove(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._value.length;return this._value=this._value.slice(0,t)+this._value.slice(a),this._value||(this._isRawInput=!1),new Su}nearestInputPos(t){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ea.NONE;const u=0,c=this._value.length;switch(a){case Ea.LEFT:case Ea.FORCE_LEFT:return u;case Ea.NONE:case Ea.RIGHT:case Ea.FORCE_RIGHT:default:return c}}totalInputPositions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._value.length;return this._isRawInput?a-t:0}extractInput(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._value.length;return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).raw&&this._isRawInput&&this._value.slice(t,a)||""}get isComplete(){return!0}get isFilled(){return!!this._value}_appendChar(t){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const u=new Su;if(this.isFilled)return u;const c=this.eager===!0||this.eager==="append",p=this.char===t&&(this.isUnmasking||a.input||a.raw)&&(!a.raw||!c)&&!a.tail;return p&&(u.rawInserted=this.char),this._value=u.inserted=this.char,this._isRawInput=p&&(a.raw||a.input),u}_appendEager(){return this._appendChar(this.char,{tail:!0})}_appendPlaceholder(){const t=new Su;return this.isFilled||(this._value=t.inserted=this.char),t}extractTail(){return arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,new Cw("")}appendTail(t){return oD(t)&&(t=new Cw(String(t))),t.appendTo(this)}append(t,a,u){const c=this._appendChar(t[0],a);return u!=null&&(c.tailShift+=this.appendTail(u).tailShift),c}doCommit(){}get state(){return{_value:this._value,_isRawInput:this._isRawInput}}set state(t){Object.assign(this,t)}}const Lhe=["chunks"];class Ek{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.chunks=t,this.from=a}toString(){return this.chunks.map(String).join("")}extend(t){if(!String(t))return;oD(t)&&(t=new Cw(String(t)));const a=this.chunks[this.chunks.length-1],u=a&&(a.stop===t.stop||t.stop==null)&&t.from===a.from+a.toString().length;if(t instanceof Cw)u?a.extend(t.toString()):this.chunks.push(t);else if(t instanceof Ek){if(t.stop==null){let c;for(;t.chunks.length&&t.chunks[0].stop==null;)c=t.chunks.shift(),c.from+=t.from,this.extend(c)}t.toString()&&(t.stop=t.blockIndex,this.chunks.push(t))}}appendTo(t){if(!(t instanceof qi.MaskedPattern))return new Cw(this.toString()).appendTo(t);const a=new Su;for(let u=0;u<this.chunks.length&&!a.skip;++u){const c=this.chunks[u],m=t._mapPosToBlock(t.value.length),p=c.stop;let x;if(p!=null&&(!m||m.index<=p)){if(c instanceof Ek||t._stops.indexOf(p)>=0){const k=t._appendPlaceholder(p);a.aggregate(k)}x=c instanceof Ek&&t._blocks[p]}if(x){const k=x.appendTail(c);k.skip=!1,a.aggregate(k),t._value+=k.inserted;const D=c.toString().slice(k.rawInserted.length);D&&a.aggregate(t.append(D,{tail:!0}))}else a.aggregate(t.append(c.toString(),{tail:!0}))}return a}get state(){return{chunks:this.chunks.map(t=>t.state),from:this.from,stop:this.stop,blockIndex:this.blockIndex}}set state(t){const{chunks:a}=t,u=bD(t,Lhe);Object.assign(this,u),this.chunks=a.map(c=>{const m="chunks"in c?new Ek:new Cw;return m.state=c,m})}unshift(t){if(!this.chunks.length||t!=null&&this.from>=t)return"";const a=t!=null?t-this.from:t;let u=0;for(;u<this.chunks.length;){const c=this.chunks[u],m=c.unshift(a);if(c.toString()){if(!m)break;++u}else this.chunks.splice(u,1);if(m)return m}return""}shift(){if(!this.chunks.length)return"";let t=this.chunks.length-1;for(;0<=t;){const a=this.chunks[t],u=a.shift();if(a.toString()){if(!u)break;--t}else this.chunks.splice(t,1);if(u)return u}return""}}class Fhe{constructor(t,a){this.masked=t,this._log=[];const{offset:u,index:c}=t._mapPosToBlock(a)||(a<0?{index:0,offset:0}:{index:this.masked._blocks.length,offset:0});this.offset=u,this.index=c,this.ok=!1}get block(){return this.masked._blocks[this.index]}get pos(){return this.masked._blockStartPos(this.index)+this.offset}get state(){return{index:this.index,offset:this.offset,ok:this.ok}}set state(t){Object.assign(this,t)}pushState(){this._log.push(this.state)}popState(){const t=this._log.pop();return this.state=t,t}bindBlock(){this.block||(this.index<0&&(this.index=0,this.offset=0),this.index>=this.masked._blocks.length&&(this.index=this.masked._blocks.length-1,this.offset=this.block.value.length))}_pushLeft(t){for(this.pushState(),this.bindBlock();0<=this.index;--this.index,this.offset=((a=this.block)===null||a===void 0?void 0:a.value.length)||0){var a;if(t())return this.ok=!0}return this.ok=!1}_pushRight(t){for(this.pushState(),this.bindBlock();this.index<this.masked._blocks.length;++this.index,this.offset=0)if(t())return this.ok=!0;return this.ok=!1}pushLeftBeforeFilled(){return this._pushLeft(()=>{if(!(this.block.isFixed||!this.block.value)&&(this.offset=this.block.nearestInputPos(this.offset,Ea.FORCE_LEFT),this.offset!==0))return!0})}pushLeftBeforeInput(){return this._pushLeft(()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,Ea.LEFT),!0})}pushLeftBeforeRequired(){return this._pushLeft(()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,Ea.LEFT),!0})}pushRightBeforeFilled(){return this._pushRight(()=>{if(!(this.block.isFixed||!this.block.value)&&(this.offset=this.block.nearestInputPos(this.offset,Ea.FORCE_RIGHT),this.offset!==this.block.value.length))return!0})}pushRightBeforeInput(){return this._pushRight(()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,Ea.NONE),!0})}pushRightBeforeRequired(){return this._pushRight(()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,Ea.NONE),!0})}}class Nhe extends um{_update(t){t.mask&&(t.validate=a=>a.search(t.mask)>=0),super._update(t)}}qi.MaskedRegExp=Nhe;const $he=["_blocks"];class lg extends um{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.definitions=Object.assign({},Bhe,t.definitions),super(Object.assign({},lg.DEFAULTS,t))}_update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.definitions=Object.assign({},this.definitions,t.definitions),super._update(t),this._rebuildMask()}_rebuildMask(){const t=this.definitions;this._blocks=[],this._stops=[],this._maskedBlocks={};let a=this.mask;if(!a||!t)return;let u=!1,c=!1;for(let x=0;x<a.length;++x){var m,p;if(this.blocks){const q=a.slice(x),ie=Object.keys(this.blocks).filter(se=>q.indexOf(se)===0);ie.sort((se,Te)=>Te.length-se.length);const ee=ie[0];if(ee){const se=Ik(Object.assign({parent:this,lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,overwrite:this.overwrite},this.blocks[ee]));se&&(this._blocks.push(se),this._maskedBlocks[ee]||(this._maskedBlocks[ee]=[]),this._maskedBlocks[ee].push(this._blocks.length-1)),x+=ee.length-1;continue}}let k=a[x],D=k in t;if(k===lg.STOP_CHAR){this._stops.push(this._blocks.length);continue}if(k==="{"||k==="}"){u=!u;continue}if(k==="["||k==="]"){c=!c;continue}if(k===lg.ESCAPE_CHAR){if(++x,k=a[x],!k)break;D=!1}const L=(m=t[k])!==null&&m!==void 0&&m.mask&&!(((p=t[k])===null||p===void 0?void 0:p.mask.prototype)instanceof qi.Masked)?t[k]:{mask:t[k]},V=D?new gQ(Object.assign({parent:this,isOptional:c,lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar},L)):new pQ({char:k,eager:this.eager,isUnmasking:u});this._blocks.push(V)}}get state(){return Object.assign({},super.state,{_blocks:this._blocks.map(t=>t.state)})}set state(t){const{_blocks:a}=t,u=bD(t,$he);this._blocks.forEach((c,m)=>c.state=a[m]),super.state=u}reset(){super.reset(),this._blocks.forEach(t=>t.reset())}get isComplete(){return this._blocks.every(t=>t.isComplete)}get isFilled(){return this._blocks.every(t=>t.isFilled)}get isFixed(){return this._blocks.every(t=>t.isFixed)}get isOptional(){return this._blocks.every(t=>t.isOptional)}doCommit(){this._blocks.forEach(t=>t.doCommit()),super.doCommit()}get unmaskedValue(){return this._blocks.reduce((t,a)=>t+=a.unmaskedValue,"")}set unmaskedValue(t){super.unmaskedValue=t}get value(){return this._blocks.reduce((t,a)=>t+=a.value,"")}set value(t){super.value=t}get displayValue(){return this._blocks.reduce((t,a)=>t+=a.displayValue,"")}appendTail(t){return super.appendTail(t).aggregate(this._appendPlaceholder())}_appendEager(){var t;const a=new Su;let u=(t=this._mapPosToBlock(this.value.length))===null||t===void 0?void 0:t.index;if(u==null)return a;this._blocks[u].isFilled&&++u;for(let c=u;c<this._blocks.length;++c){const m=this._blocks[c]._appendEager();if(!m.inserted)break;a.aggregate(m)}return a}_appendCharRaw(t){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const u=this._mapPosToBlock(this.value.length),c=new Su;if(!u)return c;for(let x=u.index;;++x){var m,p;const k=this._blocks[x];if(!k)break;const D=k._appendChar(t,Object.assign({},a,{_beforeTailState:(m=a._beforeTailState)===null||m===void 0||(p=m._blocks)===null||p===void 0?void 0:p[x]})),L=D.skip;if(c.aggregate(D),L||D.rawInserted)break}return c}extractTail(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length;const u=new Ek;return t===a||this._forEachBlocksInRange(t,a,(c,m,p,x)=>{const k=c.extractTail(p,x);k.stop=this._findStopBefore(m),k.from=this._blockStartPos(m),k instanceof Ek&&(k.blockIndex=m),u.extend(k)}),u}extractInput(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(t===a)return"";let c="";return this._forEachBlocksInRange(t,a,(m,p,x,k)=>{c+=m.extractInput(x,k,u)}),c}_findStopBefore(t){let a;for(let u=0;u<this._stops.length;++u){const c=this._stops[u];if(c<=t)a=c;else break}return a}_appendPlaceholder(t){const a=new Su;if(this.lazy&&t==null)return a;const u=this._mapPosToBlock(this.value.length);if(!u)return a;const c=u.index,m=t??this._blocks.length;return this._blocks.slice(c,m).forEach(p=>{if(!p.lazy||t!=null){const x=p._blocks!=null?[p._blocks.length]:[],k=p._appendPlaceholder(...x);this._value+=k.inserted,a.aggregate(k)}}),a}_mapPosToBlock(t){let a="";for(let u=0;u<this._blocks.length;++u){const c=this._blocks[u],m=a.length;if(a+=c.value,t<=a.length)return{index:u,offset:t-m}}}_blockStartPos(t){return this._blocks.slice(0,t).reduce((a,u)=>a+=u.value.length,0)}_forEachBlocksInRange(t){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,u=arguments.length>2?arguments[2]:void 0;const c=this._mapPosToBlock(t);if(c){const m=this._mapPosToBlock(a),p=m&&c.index===m.index,x=c.offset,k=m&&p?m.offset:this._blocks[c.index].value.length;if(u(this._blocks[c.index],c.index,x,k),m&&!p){for(let D=c.index+1;D<m.index;++D)u(this._blocks[D],D,0,this._blocks[D].value.length);u(this._blocks[m.index],m.index,0,m.offset)}}}remove(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length;const u=super.remove(t,a);return this._forEachBlocksInRange(t,a,(c,m,p,x)=>{u.aggregate(c.remove(p,x))}),u}nearestInputPos(t){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ea.NONE;if(!this._blocks.length)return 0;const u=new Fhe(this,t);if(a===Ea.NONE)return u.pushRightBeforeInput()||(u.popState(),u.pushLeftBeforeInput())?u.pos:this.value.length;if(a===Ea.LEFT||a===Ea.FORCE_LEFT){if(a===Ea.LEFT){if(u.pushRightBeforeFilled(),u.ok&&u.pos===t)return t;u.popState()}if(u.pushLeftBeforeInput(),u.pushLeftBeforeRequired(),u.pushLeftBeforeFilled(),a===Ea.LEFT){if(u.pushRightBeforeInput(),u.pushRightBeforeRequired(),u.ok&&u.pos<=t||(u.popState(),u.ok&&u.pos<=t))return u.pos;u.popState()}return u.ok?u.pos:a===Ea.FORCE_LEFT?0:(u.popState(),u.ok||(u.popState(),u.ok)?u.pos:0)}return a===Ea.RIGHT||a===Ea.FORCE_RIGHT?(u.pushRightBeforeInput(),u.pushRightBeforeRequired(),u.pushRightBeforeFilled()?u.pos:a===Ea.FORCE_RIGHT?this.value.length:(u.popState(),u.ok||(u.popState(),u.ok)?u.pos:this.nearestInputPos(t,Ea.LEFT))):t}totalInputPositions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,u=0;return this._forEachBlocksInRange(t,a,(c,m,p,x)=>{u+=c.totalInputPositions(p,x)}),u}maskedBlock(t){return this.maskedBlocks(t)[0]}maskedBlocks(t){const a=this._maskedBlocks[t];return a?a.map(u=>this._blocks[u]):[]}}lg.DEFAULTS={lazy:!0,placeholderChar:"_"};lg.STOP_CHAR="`";lg.ESCAPE_CHAR="\\";lg.InputDefinition=gQ;lg.FixedDefinition=pQ;qi.MaskedPattern=lg;class b5 extends lg{get _matchFrom(){return this.maxLength-String(this.from).length}_update(t){t=Object.assign({to:this.to||0,from:this.from||0,maxLength:this.maxLength||0},t);let a=String(t.to).length;t.maxLength!=null&&(a=Math.max(a,t.maxLength)),t.maxLength=a;const u=String(t.from).padStart(a,"0"),c=String(t.to).padStart(a,"0");let m=0;for(;m<c.length&&c[m]===u[m];)++m;t.mask=c.slice(0,m).replace(/0/g,"\\0")+"0".repeat(a-m),super._update(t)}get isComplete(){return super.isComplete&&!!this.value}boundaries(t){let a="",u="";const[,c,m]=t.match(/^(\D*)(\d*)(\D*)/)||[];return m&&(a="0".repeat(c.length)+m,u="9".repeat(c.length)+m),a=a.padEnd(this.maxLength,"0"),u=u.padEnd(this.maxLength,"9"),[a,u]}doPrepare(t){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u;if([t,u]=V3(super.doPrepare(t.replace(/\D/g,""),a)),!this.autofix||!t)return t;const c=String(this.from).padStart(this.maxLength,"0"),m=String(this.to).padStart(this.maxLength,"0");let p=this.value+t;if(p.length>this.maxLength)return"";const[x,k]=this.boundaries(p);return Number(k)<this.from?c[p.length-1]:Number(x)>this.to?this.autofix==="pad"&&p.length<this.maxLength?["",u.aggregate(this.append(c[p.length-1]+t,a))]:m[p.length-1]:t}doValidate(){const t=this.value;if(t.search(/[^0]/)===-1&&t.length<=this._matchFrom)return!0;const[u,c]=this.boundaries(t);return this.from<=Number(c)&&Number(u)<=this.to&&super.doValidate(...arguments)}}qi.MaskedRange=b5;class yD extends lg{constructor(t){super(Object.assign({},yD.DEFAULTS,t))}_update(t){t.mask===Date&&delete t.mask,t.pattern&&(t.mask=t.pattern);const a=t.blocks;t.blocks=Object.assign({},yD.GET_DEFAULT_BLOCKS()),t.min&&(t.blocks.Y.from=t.min.getFullYear()),t.max&&(t.blocks.Y.to=t.max.getFullYear()),t.min&&t.max&&t.blocks.Y.from===t.blocks.Y.to&&(t.blocks.m.from=t.min.getMonth()+1,t.blocks.m.to=t.max.getMonth()+1,t.blocks.m.from===t.blocks.m.to&&(t.blocks.d.from=t.min.getDate(),t.blocks.d.to=t.max.getDate())),Object.assign(t.blocks,this.blocks,a),Object.keys(t.blocks).forEach(u=>{const c=t.blocks[u];!("autofix"in c)&&"autofix"in t&&(c.autofix=t.autofix)}),super._update(t)}doValidate(){const t=this.date;return super.doValidate(...arguments)&&(!this.isComplete||this.isDateExist(this.value)&&t!=null&&(this.min==null||this.min<=t)&&(this.max==null||t<=this.max))}isDateExist(t){return this.format(this.parse(t,this),this).indexOf(t)>=0}get date(){return this.typedValue}set date(t){this.typedValue=t}get typedValue(){return this.isComplete?super.typedValue:null}set typedValue(t){super.typedValue=t}maskEquals(t){return t===Date||super.maskEquals(t)}}yD.DEFAULTS={pattern:"d{.}`m{.}`Y",format:i=>{if(!i)return"";const t=String(i.getDate()).padStart(2,"0"),a=String(i.getMonth()+1).padStart(2,"0"),u=i.getFullYear();return[t,a,u].join(".")},parse:i=>{const[t,a,u]=i.split(".");return new Date(u,a-1,t)}};yD.GET_DEFAULT_BLOCKS=()=>({d:{mask:b5,from:1,to:31,maxLength:2},m:{mask:b5,from:1,to:12,maxLength:2},Y:{mask:b5,from:1900,to:9999}});qi.MaskedDate=yD;class $j{get selectionStart(){let t;try{t=this._unsafeSelectionStart}catch{}return t??this.value.length}get selectionEnd(){let t;try{t=this._unsafeSelectionEnd}catch{}return t??this.value.length}select(t,a){if(!(t==null||a==null||t===this.selectionStart&&a===this.selectionEnd))try{this._unsafeSelect(t,a)}catch{}}_unsafeSelect(t,a){}get isActive(){return!1}bindEvents(t){}unbindEvents(){}}qi.MaskElement=$j;class TD extends $j{constructor(t){super(),this.input=t,this._handlers={}}get rootElement(){var t,a,u;return(t=(a=(u=this.input).getRootNode)===null||a===void 0?void 0:a.call(u))!==null&&t!==void 0?t:document}get isActive(){return this.input===this.rootElement.activeElement}get _unsafeSelectionStart(){return this.input.selectionStart}get _unsafeSelectionEnd(){return this.input.selectionEnd}_unsafeSelect(t,a){this.input.setSelectionRange(t,a)}get value(){return this.input.value}set value(t){this.input.value=t}bindEvents(t){Object.keys(t).forEach(a=>this._toggleEventHandler(TD.EVENTS_MAP[a],t[a]))}unbindEvents(){Object.keys(this._handlers).forEach(t=>this._toggleEventHandler(t))}_toggleEventHandler(t,a){this._handlers[t]&&(this.input.removeEventListener(t,this._handlers[t]),delete this._handlers[t]),a&&(this.input.addEventListener(t,a),this._handlers[t]=a)}}TD.EVENTS_MAP={selectionChange:"keydown",input:"input",drop:"drop",click:"click",focus:"focus",commit:"blur"};qi.HTMLMaskElement=TD;class bQ extends TD{get _unsafeSelectionStart(){const t=this.rootElement,a=t.getSelection&&t.getSelection(),u=a&&a.anchorOffset,c=a&&a.focusOffset;return c==null||u==null||u<c?u:c}get _unsafeSelectionEnd(){const t=this.rootElement,a=t.getSelection&&t.getSelection(),u=a&&a.anchorOffset,c=a&&a.focusOffset;return c==null||u==null||u>c?u:c}_unsafeSelect(t,a){if(!this.rootElement.createRange)return;const u=this.rootElement.createRange();u.setStart(this.input.firstChild||this.input,t),u.setEnd(this.input.lastChild||this.input,a);const c=this.rootElement,m=c.getSelection&&c.getSelection();m&&(m.removeAllRanges(),m.addRange(u))}get value(){return this.input.textContent}set value(t){this.input.textContent=t}}qi.HTMLContenteditableMaskElement=bQ;const zhe=["mask"];class Hhe{constructor(t,a){this.el=t instanceof $j?t:t.isContentEditable&&t.tagName!=="INPUT"&&t.tagName!=="TEXTAREA"?new bQ(t):new TD(t),this.masked=Ik(a),this._listeners={},this._value="",this._unmaskedValue="",this._saveSelection=this._saveSelection.bind(this),this._onInput=this._onInput.bind(this),this._onChange=this._onChange.bind(this),this._onDrop=this._onDrop.bind(this),this._onFocus=this._onFocus.bind(this),this._onClick=this._onClick.bind(this),this.alignCursor=this.alignCursor.bind(this),this.alignCursorFriendly=this.alignCursorFriendly.bind(this),this._bindEvents(),this.updateValue(),this._onChange()}get mask(){return this.masked.mask}maskEquals(t){var a;return t==null||((a=this.masked)===null||a===void 0?void 0:a.maskEquals(t))}set mask(t){if(this.maskEquals(t))return;if(!(t instanceof qi.Masked)&&this.masked.constructor===mQ(t)){this.masked.updateOptions({mask:t});return}const a=Ik({mask:t});a.unmaskedValue=this.masked.unmaskedValue,this.masked=a}get value(){return this._value}set value(t){this.value!==t&&(this.masked.value=t,this.updateControl(),this.alignCursor())}get unmaskedValue(){return this._unmaskedValue}set unmaskedValue(t){this.unmaskedValue!==t&&(this.masked.unmaskedValue=t,this.updateControl(),this.alignCursor())}get typedValue(){return this.masked.typedValue}set typedValue(t){this.masked.typedValueEquals(t)||(this.masked.typedValue=t,this.updateControl(),this.alignCursor())}get displayValue(){return this.masked.displayValue}_bindEvents(){this.el.bindEvents({selectionChange:this._saveSelection,input:this._onInput,drop:this._onDrop,click:this._onClick,focus:this._onFocus,commit:this._onChange})}_unbindEvents(){this.el&&this.el.unbindEvents()}_fireEvent(t){for(var a=arguments.length,u=new Array(a>1?a-1:0),c=1;c<a;c++)u[c-1]=arguments[c];const m=this._listeners[t];m&&m.forEach(p=>p(...u))}get selectionStart(){return this._cursorChanging?this._changingCursorPos:this.el.selectionStart}get cursorPos(){return this._cursorChanging?this._changingCursorPos:this.el.selectionEnd}set cursorPos(t){!this.el||!this.el.isActive||(this.el.select(t,t),this._saveSelection())}_saveSelection(){this.displayValue!==this.el.value&&console.warn("Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly."),this._selection={start:this.selectionStart,end:this.cursorPos}}updateValue(){this.masked.value=this.el.value,this._value=this.masked.value}updateControl(){const t=this.masked.unmaskedValue,a=this.masked.value,u=this.displayValue,c=this.unmaskedValue!==t||this.value!==a;this._unmaskedValue=t,this._value=a,this.el.value!==u&&(this.el.value=u),c&&this._fireChangeEvents()}updateOptions(t){const{mask:a}=t,u=bD(t,zhe),c=!this.maskEquals(a),m=!V5(this.masked,u);c&&(this.mask=a),m&&this.masked.updateOptions(u),(c||m)&&this.updateControl()}updateCursor(t){t!=null&&(this.cursorPos=t,this._delayUpdateCursor(t))}_delayUpdateCursor(t){this._abortUpdateCursor(),this._changingCursorPos=t,this._cursorChanging=setTimeout(()=>{this.el&&(this.cursorPos=this._changingCursorPos,this._abortUpdateCursor())},10)}_fireChangeEvents(){this._fireEvent("accept",this._inputEvent),this.masked.isComplete&&this._fireEvent("complete",this._inputEvent)}_abortUpdateCursor(){this._cursorChanging&&(clearTimeout(this._cursorChanging),delete this._cursorChanging)}alignCursor(){this.cursorPos=this.masked.nearestInputPos(this.masked.nearestInputPos(this.cursorPos,Ea.LEFT))}alignCursorFriendly(){this.selectionStart===this.cursorPos&&this.alignCursor()}on(t,a){return this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(a),this}off(t,a){if(!this._listeners[t])return this;if(!a)return delete this._listeners[t],this;const u=this._listeners[t].indexOf(a);return u>=0&&this._listeners[t].splice(u,1),this}_onInput(t){if(this._inputEvent=t,this._abortUpdateCursor(),!this._selection)return this.updateValue();const a=new Phe(this.el.value,this.cursorPos,this.displayValue,this._selection),u=this.masked.rawInputValue,c=this.masked.splice(a.startChangePos,a.removed.length,a.inserted,a.removeDirection,{input:!0,raw:!0}).offset,m=u===this.masked.rawInputValue?a.removeDirection:Ea.NONE;let p=this.masked.nearestInputPos(a.startChangePos+c,m);m!==Ea.NONE&&(p=this.masked.nearestInputPos(p,Ea.NONE)),this.updateControl(),this.updateCursor(p),delete this._inputEvent}_onChange(){this.displayValue!==this.el.value&&this.updateValue(),this.masked.doCommit(),this.updateControl(),this._saveSelection()}_onDrop(t){t.preventDefault(),t.stopPropagation()}_onFocus(t){this.alignCursorFriendly()}_onClick(t){this.alignCursorFriendly()}destroy(){this._unbindEvents(),this._listeners.length=0,delete this.el}}qi.InputMask=Hhe;class Vhe extends lg{_update(t){t.enum&&(t.mask="*".repeat(t.enum[0].length)),super._update(t)}doValidate(){return this.enum.some(t=>t.indexOf(this.unmaskedValue)>=0)&&super.doValidate(...arguments)}}qi.MaskedEnum=Vhe;class Ap extends um{constructor(t){super(Object.assign({},Ap.DEFAULTS,t))}_update(t){super._update(t),this._updateRegExps()}_updateRegExps(){let t="^"+(this.allowNegative?"[+|\\-]?":""),a="\\d*",u=(this.scale?"(".concat(ZU(this.radix),"\\d{0,").concat(this.scale,"})?"):"")+"$";this._numberRegExp=new RegExp(t+a+u),this._mapToRadixRegExp=new RegExp("[".concat(this.mapToRadix.map(ZU).join(""),"]"),"g"),this._thousandsSeparatorRegExp=new RegExp(ZU(this.thousandsSeparator),"g")}_removeThousandsSeparators(t){return t.replace(this._thousandsSeparatorRegExp,"")}_insertThousandsSeparators(t){const a=t.split(this.radix);return a[0]=a[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator),a.join(this.radix)}doPrepare(t){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t=this._removeThousandsSeparators(this.scale&&this.mapToRadix.length&&(a.input&&a.raw||!a.input&&!a.raw)?t.replace(this._mapToRadixRegExp,this.radix):t);const[u,c]=V3(super.doPrepare(t,a));return t&&!u&&(c.skip=!0),[u,c]}_separatorsCount(t){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=0;for(let c=0;c<t;++c)this._value.indexOf(this.thousandsSeparator,c)===c&&(++u,a&&(t+=this.thousandsSeparator.length));return u}_separatorsCountFromSlice(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._value;return this._separatorsCount(this._removeThousandsSeparators(t).length,!0)}extractInput(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,u=arguments.length>2?arguments[2]:void 0;return[t,a]=this._adjustRangeWithSeparators(t,a),this._removeThousandsSeparators(super.extractInput(t,a,u))}_appendCharRaw(t){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.thousandsSeparator)return super._appendCharRaw(t,a);const u=a.tail&&a._beforeTailState?a._beforeTailState._value:this._value,c=this._separatorsCountFromSlice(u);this._value=this._removeThousandsSeparators(this.value);const m=super._appendCharRaw(t,a);this._value=this._insertThousandsSeparators(this._value);const p=a.tail&&a._beforeTailState?a._beforeTailState._value:this._value,x=this._separatorsCountFromSlice(p);return m.tailShift+=(x-c)*this.thousandsSeparator.length,m.skip=!m.rawInserted&&t===this.thousandsSeparator,m}_findSeparatorAround(t){if(this.thousandsSeparator){const a=t-this.thousandsSeparator.length+1,u=this.value.indexOf(this.thousandsSeparator,a);if(u<=t)return u}return-1}_adjustRangeWithSeparators(t,a){const u=this._findSeparatorAround(t);u>=0&&(t=u);const c=this._findSeparatorAround(a);return c>=0&&(a=c+this.thousandsSeparator.length),[t,a]}remove(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length;[t,a]=this._adjustRangeWithSeparators(t,a);const u=this.value.slice(0,t),c=this.value.slice(a),m=this._separatorsCount(u.length);this._value=this._insertThousandsSeparators(this._removeThousandsSeparators(u+c));const p=this._separatorsCountFromSlice(u);return new Su({tailShift:(p-m)*this.thousandsSeparator.length})}nearestInputPos(t,a){if(!this.thousandsSeparator)return t;switch(a){case Ea.NONE:case Ea.LEFT:case Ea.FORCE_LEFT:{const u=this._findSeparatorAround(t-1);if(u>=0){const c=u+this.thousandsSeparator.length;if(t<c||this.value.length<=c||a===Ea.FORCE_LEFT)return u}break}case Ea.RIGHT:case Ea.FORCE_RIGHT:{const u=this._findSeparatorAround(t);if(u>=0)return u+this.thousandsSeparator.length}}return t}doValidate(t){let a=!!this._removeThousandsSeparators(this.value).match(this._numberRegExp);if(a){const u=this.number;a=a&&!isNaN(u)&&(this.min==null||this.min>=0||this.min<=this.number)&&(this.max==null||this.max<=0||this.number<=this.max)}return a&&super.doValidate(t)}doCommit(){if(this.value){const t=this.number;let a=t;this.min!=null&&(a=Math.max(a,this.min)),this.max!=null&&(a=Math.min(a,this.max)),a!==t&&(this.unmaskedValue=this.doFormat(a));let u=this.value;this.normalizeZeros&&(u=this._normalizeZeros(u)),this.padFractionalZeros&&this.scale>0&&(u=this._padFractionalZeros(u)),this._value=u}super.doCommit()}_normalizeZeros(t){const a=this._removeThousandsSeparators(t).split(this.radix);return a[0]=a[0].replace(/^(\D*)(0*)(\d*)/,(u,c,m,p)=>c+p),t.length&&!/\d$/.test(a[0])&&(a[0]=a[0]+"0"),a.length>1&&(a[1]=a[1].replace(/0*$/,""),a[1].length||(a.length=1)),this._insertThousandsSeparators(a.join(this.radix))}_padFractionalZeros(t){if(!t)return t;const a=t.split(this.radix);return a.length<2&&a.push(""),a[1]=a[1].padEnd(this.scale,"0"),a.join(this.radix)}doSkipInvalid(t){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=arguments.length>2?arguments[2]:void 0;const c=this.scale===0&&t!==this.thousandsSeparator&&(t===this.radix||t===Ap.UNMASKED_RADIX||this.mapToRadix.includes(t));return super.doSkipInvalid(t,a,u)&&!c}get unmaskedValue(){return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix,Ap.UNMASKED_RADIX)}set unmaskedValue(t){super.unmaskedValue=t}get typedValue(){return this.doParse(this.unmaskedValue)}set typedValue(t){this.rawInputValue=this.doFormat(t).replace(Ap.UNMASKED_RADIX,this.radix)}get number(){return this.typedValue}set number(t){this.typedValue=t}get allowNegative(){return this.signed||this.min!=null&&this.min<0||this.max!=null&&this.max<0}typedValueEquals(t){return(super.typedValueEquals(t)||Ap.EMPTY_VALUES.includes(t)&&Ap.EMPTY_VALUES.includes(this.typedValue))&&!(t===0&&this.value==="")}}Ap.UNMASKED_RADIX=".";Ap.DEFAULTS={radix:",",thousandsSeparator:"",mapToRadix:[Ap.UNMASKED_RADIX],scale:2,signed:!1,normalizeZeros:!0,padFractionalZeros:!1,parse:Number,format:i=>i.toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:20})};Ap.EMPTY_VALUES=[...um.EMPTY_VALUES,0];qi.MaskedNumber=Ap;class Uhe extends um{_update(t){t.mask&&(t.validate=t.mask),super._update(t)}}qi.MaskedFunction=Uhe;const Whe=["compiledMasks","currentMaskRef","currentMask"],jhe=["mask"];class w6 extends um{constructor(t){super(Object.assign({},w6.DEFAULTS,t)),this.currentMask=null}_update(t){super._update(t),"mask"in t&&(this.compiledMasks=Array.isArray(t.mask)?t.mask.map(a=>Ik(a)):[])}_appendCharRaw(t){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const u=this._applyDispatch(t,a);return this.currentMask&&u.aggregate(this.currentMask._appendChar(t,this.currentMaskFlags(a))),u}_applyDispatch(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";const c=a.tail&&a._beforeTailState!=null?a._beforeTailState._value:this.value,m=this.rawInputValue,p=a.tail&&a._beforeTailState!=null?a._beforeTailState._rawInputValue:m,x=m.slice(p.length),k=this.currentMask,D=new Su,L=k==null?void 0:k.state;if(this.currentMask=this.doDispatch(t,Object.assign({},a),u),this.currentMask)if(this.currentMask!==k){if(this.currentMask.reset(),p){const V=this.currentMask.append(p,{raw:!0});D.tailShift=V.inserted.length-c.length}x&&(D.tailShift+=this.currentMask.append(x,{raw:!0,tail:!0}).tailShift)}else this.currentMask.state=L;return D}_appendPlaceholder(){const t=this._applyDispatch(...arguments);return this.currentMask&&t.aggregate(this.currentMask._appendPlaceholder()),t}_appendEager(){const t=this._applyDispatch(...arguments);return this.currentMask&&t.aggregate(this.currentMask._appendEager()),t}appendTail(t){const a=new Su;return t&&a.aggregate(this._applyDispatch("",{},t)),a.aggregate(this.currentMask?this.currentMask.appendTail(t):super.appendTail(t))}currentMaskFlags(t){var a,u;return Object.assign({},t,{_beforeTailState:((a=t._beforeTailState)===null||a===void 0?void 0:a.currentMaskRef)===this.currentMask&&((u=t._beforeTailState)===null||u===void 0?void 0:u.currentMask)||t._beforeTailState})}doDispatch(t){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return this.dispatch(t,this,a,u)}doValidate(t){return super.doValidate(t)&&(!this.currentMask||this.currentMask.doValidate(this.currentMaskFlags(t)))}doPrepare(t){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},[u,c]=V3(super.doPrepare(t,a));if(this.currentMask){let m;[u,m]=V3(super.doPrepare(u,this.currentMaskFlags(a))),c=c.aggregate(m)}return[u,c]}reset(){var t;(t=this.currentMask)===null||t===void 0||t.reset(),this.compiledMasks.forEach(a=>a.reset())}get value(){return this.currentMask?this.currentMask.value:""}set value(t){super.value=t}get unmaskedValue(){return this.currentMask?this.currentMask.unmaskedValue:""}set unmaskedValue(t){super.unmaskedValue=t}get typedValue(){return this.currentMask?this.currentMask.typedValue:""}set typedValue(t){let a=String(t);this.currentMask&&(this.currentMask.typedValue=t,a=this.currentMask.unmaskedValue),this.unmaskedValue=a}get displayValue(){return this.currentMask?this.currentMask.displayValue:""}get isComplete(){var t;return!!(!((t=this.currentMask)===null||t===void 0)&&t.isComplete)}get isFilled(){var t;return!!(!((t=this.currentMask)===null||t===void 0)&&t.isFilled)}remove(){const t=new Su;return this.currentMask&&t.aggregate(this.currentMask.remove(...arguments)).aggregate(this._applyDispatch()),t}get state(){var t;return Object.assign({},super.state,{_rawInputValue:this.rawInputValue,compiledMasks:this.compiledMasks.map(a=>a.state),currentMaskRef:this.currentMask,currentMask:(t=this.currentMask)===null||t===void 0?void 0:t.state})}set state(t){const{compiledMasks:a,currentMaskRef:u,currentMask:c}=t,m=bD(t,Whe);this.compiledMasks.forEach((p,x)=>p.state=a[x]),u!=null&&(this.currentMask=u,this.currentMask.state=c),super.state=m}extractInput(){return this.currentMask?this.currentMask.extractInput(...arguments):""}extractTail(){return this.currentMask?this.currentMask.extractTail(...arguments):super.extractTail(...arguments)}doCommit(){this.currentMask&&this.currentMask.doCommit(),super.doCommit()}nearestInputPos(){return this.currentMask?this.currentMask.nearestInputPos(...arguments):super.nearestInputPos(...arguments)}get overwrite(){return this.currentMask?this.currentMask.overwrite:super.overwrite}set overwrite(t){console.warn('"overwrite" option is not available in dynamic mask, use this option in siblings')}get eager(){return this.currentMask?this.currentMask.eager:super.eager}set eager(t){console.warn('"eager" option is not available in dynamic mask, use this option in siblings')}get skipInvalid(){return this.currentMask?this.currentMask.skipInvalid:super.skipInvalid}set skipInvalid(t){(this.isInitialized||t!==um.DEFAULTS.skipInvalid)&&console.warn('"skipInvalid" option is not available in dynamic mask, use this option in siblings')}maskEquals(t){return Array.isArray(t)&&this.compiledMasks.every((a,u)=>{if(!t[u])return;const c=t[u],{mask:m}=c,p=bD(c,jhe);return V5(a,p)&&a.maskEquals(m)})}typedValueEquals(t){var a;return!!(!((a=this.currentMask)===null||a===void 0)&&a.typedValueEquals(t))}}w6.DEFAULTS={dispatch:(i,t,a,u)=>{if(!t.compiledMasks.length)return;const c=t.rawInputValue,m=t.compiledMasks.map((p,x)=>{const k=t.currentMask===p,D=k?p.value.length:p.nearestInputPos(p.value.length,Ea.FORCE_LEFT);return p.rawInputValue!==c?(p.reset(),p.append(c,{raw:!0})):k||p.remove(D),p.append(i,t.currentMaskFlags(a)),p.appendTail(u),{index:x,weight:p.rawInputValue.length,totalInputPositions:p.totalInputPositions(0,Math.max(D,p.nearestInputPos(p.value.length,Ea.FORCE_LEFT)))}});return m.sort((p,x)=>x.weight-p.weight||x.totalInputPositions-p.totalInputPositions),t.compiledMasks[m[0].index]}};qi.MaskedDynamic=w6;const HW={MASKED:"value",UNMASKED:"unmaskedValue",TYPED:"typedValue"};function yQ(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:HW.MASKED,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:HW.MASKED;const u=Ik(i);return c=>u.runIsolated(m=>(m[t]=c,m[a]))}function Yhe(i){for(var t=arguments.length,a=new Array(t>1?t-1:0),u=1;u<t;u++)a[u-1]=arguments[u];return yQ(...a)(i)}qi.PIPE_TYPE=HW;qi.createPipe=yQ;qi.pipe=Yhe;try{globalThis.IMask=qi}catch{}/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function lI(i){return i+.5|0}const YC=(i,t,a)=>Math.max(Math.min(i,a),t);function C3(i){return YC(lI(i*2.55),0,255)}function JC(i){return YC(lI(i*255),0,255)}function _w(i){return YC(lI(i/2.55)/100,0,1)}function EK(i){return YC(lI(i*100),0,100)}const Cp={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},VW=[..."0123456789ABCDEF"],qhe=i=>VW[i&15],Ghe=i=>VW[(i&240)>>4]+VW[i&15],HN=i=>(i&240)>>4===(i&15),Khe=i=>HN(i.r)&&HN(i.g)&&HN(i.b)&&HN(i.a);function Xhe(i){var t=i.length,a;return i[0]==="#"&&(t===4||t===5?a={r:255&Cp[i[1]]*17,g:255&Cp[i[2]]*17,b:255&Cp[i[3]]*17,a:t===5?Cp[i[4]]*17:255}:(t===7||t===9)&&(a={r:Cp[i[1]]<<4|Cp[i[2]],g:Cp[i[3]]<<4|Cp[i[4]],b:Cp[i[5]]<<4|Cp[i[6]],a:t===9?Cp[i[7]]<<4|Cp[i[8]]:255})),a}const Zhe=(i,t)=>i<255?t(i):"";function Jhe(i){var t=Khe(i)?qhe:Ghe;return i?"#"+t(i.r)+t(i.g)+t(i.b)+Zhe(i.a,t):void 0}const Qhe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function _Q(i,t,a){const u=t*Math.min(a,1-a),c=(m,p=(m+i/30)%12)=>a-u*Math.max(Math.min(p-3,9-p,1),-1);return[c(0),c(8),c(4)]}function eme(i,t,a){const u=(c,m=(c+i/60)%6)=>a-a*t*Math.max(Math.min(m,4-m,1),0);return[u(5),u(3),u(1)]}function tme(i,t,a){const u=_Q(i,1,.5);let c;for(t+a>1&&(c=1/(t+a),t*=c,a*=c),c=0;c<3;c++)u[c]*=1-t-a,u[c]+=t;return u}function nme(i,t,a,u,c){return i===c?(t-a)/u+(t<a?6:0):t===c?(a-i)/u+2:(i-t)/u+4}function zj(i){const a=i.r/255,u=i.g/255,c=i.b/255,m=Math.max(a,u,c),p=Math.min(a,u,c),x=(m+p)/2;let k,D,L;return m!==p&&(L=m-p,D=x>.5?L/(2-m-p):L/(m+p),k=nme(a,u,c,L,m),k=k*60+.5),[k|0,D||0,x]}function Hj(i,t,a,u){return(Array.isArray(t)?i(t[0],t[1],t[2]):i(t,a,u)).map(JC)}function Vj(i,t,a){return Hj(_Q,i,t,a)}function rme(i,t,a){return Hj(tme,i,t,a)}function ame(i,t,a){return Hj(eme,i,t,a)}function wQ(i){return(i%360+360)%360}function ime(i){const t=Qhe.exec(i);let a=255,u;if(!t)return;t[5]!==u&&(a=t[6]?C3(+t[5]):JC(+t[5]));const c=wQ(+t[2]),m=+t[3]/100,p=+t[4]/100;return t[1]==="hwb"?u=rme(c,m,p):t[1]==="hsv"?u=ame(c,m,p):u=Vj(c,m,p),{r:u[0],g:u[1],b:u[2],a}}function ome(i,t){var a=zj(i);a[0]=wQ(a[0]+t),a=Vj(a),i.r=a[0],i.g=a[1],i.b=a[2]}function sme(i){if(!i)return;const t=zj(i),a=t[0],u=EK(t[1]),c=EK(t[2]);return i.a<255?`hsla(${a}, ${u}%, ${c}%, ${_w(i.a)})`:`hsl(${a}, ${u}%, ${c}%)`}const kK={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},TK={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function ume(){const i={},t=Object.keys(TK),a=Object.keys(kK);let u,c,m,p,x;for(u=0;u<t.length;u++){for(p=x=t[u],c=0;c<a.length;c++)m=a[c],x=x.replace(m,kK[m]);m=parseInt(TK[p],16),i[x]=[m>>16&255,m>>8&255,m&255]}return i}let VN;function lme(i){VN||(VN=ume(),VN.transparent=[0,0,0,0]);const t=VN[i.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const cme=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function fme(i){const t=cme.exec(i);let a=255,u,c,m;if(t){if(t[7]!==u){const p=+t[7];a=t[8]?C3(p):YC(p*255,0,255)}return u=+t[1],c=+t[3],m=+t[5],u=255&(t[2]?C3(u):YC(u,0,255)),c=255&(t[4]?C3(c):YC(c,0,255)),m=255&(t[6]?C3(m):YC(m,0,255)),{r:u,g:c,b:m,a}}}function dme(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${_w(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}const JU=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,XO=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function vme(i,t,a){const u=XO(_w(i.r)),c=XO(_w(i.g)),m=XO(_w(i.b));return{r:JC(JU(u+a*(XO(_w(t.r))-u))),g:JC(JU(c+a*(XO(_w(t.g))-c))),b:JC(JU(m+a*(XO(_w(t.b))-m))),a:i.a+a*(t.a-i.a)}}function UN(i,t,a){if(i){let u=zj(i);u[t]=Math.max(0,Math.min(u[t]+u[t]*a,t===0?360:1)),u=Vj(u),i.r=u[0],i.g=u[1],i.b=u[2]}}function xQ(i,t){return i&&Object.assign(t||{},i)}function AK(i){var t={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(t={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(t.a=JC(i[3]))):(t=xQ(i,{r:0,g:0,b:0,a:1}),t.a=JC(t.a)),t}function hme(i){return i.charAt(0)==="r"?fme(i):ime(i)}class U3{constructor(t){if(t instanceof U3)return t;const a=typeof t;let u;a==="object"?u=AK(t):a==="string"&&(u=Xhe(t)||lme(t)||hme(t)),this._rgb=u,this._valid=!!u}get valid(){return this._valid}get rgb(){var t=xQ(this._rgb);return t&&(t.a=_w(t.a)),t}set rgb(t){this._rgb=AK(t)}rgbString(){return this._valid?dme(this._rgb):void 0}hexString(){return this._valid?Jhe(this._rgb):void 0}hslString(){return this._valid?sme(this._rgb):void 0}mix(t,a){if(t){const u=this.rgb,c=t.rgb;let m;const p=a===m?.5:a,x=2*p-1,k=u.a-c.a,D=((x*k===-1?x:(x+k)/(1+x*k))+1)/2;m=1-D,u.r=255&D*u.r+m*c.r+.5,u.g=255&D*u.g+m*c.g+.5,u.b=255&D*u.b+m*c.b+.5,u.a=p*u.a+(1-p)*c.a,this.rgb=u}return this}interpolate(t,a){return t&&(this._rgb=vme(this._rgb,t._rgb,a)),this}clone(){return new U3(this.rgb)}alpha(t){return this._rgb.a=JC(t),this}clearer(t){const a=this._rgb;return a.a*=1-t,this}greyscale(){const t=this._rgb,a=lI(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=a,this}opaquer(t){const a=this._rgb;return a.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return UN(this._rgb,2,t),this}darken(t){return UN(this._rgb,2,-t),this}saturate(t){return UN(this._rgb,1,t),this}desaturate(t){return UN(this._rgb,1,-t),this}rotate(t){return ome(this._rgb,t),this}}/*!
 * Chart.js v4.4.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function vw(){}const mme=(()=>{let i=0;return()=>i++})();function Do(i){return i===null||typeof i>"u"}function ju(i){if(Array.isArray&&Array.isArray(i))return!0;const t=Object.prototype.toString.call(i);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function so(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function nc(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function og(i,t){return nc(i)?i:t}function Ei(i,t){return typeof i>"u"?t:i}const gme=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:+i/t,CQ=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*t:+i;function Cu(i,t,a){if(i&&typeof i.call=="function")return i.apply(a,t)}function As(i,t,a,u){let c,m,p;if(ju(i))if(m=i.length,u)for(c=m-1;c>=0;c--)t.call(a,i[c],c);else for(c=0;c<m;c++)t.call(a,i[c],c);else if(so(i))for(p=Object.keys(i),m=p.length,c=0;c<m;c++)t.call(a,i[p[c]],p[c])}function U5(i,t){let a,u,c,m;if(!i||!t||i.length!==t.length)return!1;for(a=0,u=i.length;a<u;++a)if(c=i[a],m=t[a],c.datasetIndex!==m.datasetIndex||c.index!==m.index)return!1;return!0}function W5(i){if(ju(i))return i.map(W5);if(so(i)){const t=Object.create(null),a=Object.keys(i),u=a.length;let c=0;for(;c<u;++c)t[a[c]]=W5(i[a[c]]);return t}return i}function SQ(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function pme(i,t,a,u){if(!SQ(i))return;const c=t[i],m=a[i];so(c)&&so(m)?W3(c,m,u):t[i]=W5(m)}function W3(i,t,a){const u=ju(t)?t:[t],c=u.length;if(!so(i))return i;a=a||{};const m=a.merger||pme;let p;for(let x=0;x<c;++x){if(p=u[x],!so(p))continue;const k=Object.keys(p);for(let D=0,L=k.length;D<L;++D)m(k[D],i,p,a)}return i}function M3(i,t){return W3(i,t,{merger:bme})}function bme(i,t,a){if(!SQ(i))return;const u=t[i],c=a[i];so(u)&&so(c)?M3(u,c):Object.prototype.hasOwnProperty.call(t,i)||(t[i]=W5(c))}const OK={"":i=>i,x:i=>i.x,y:i=>i.y};function yme(i){const t=i.split("."),a=[];let u="";for(const c of t)u+=c,u.endsWith("\\")?u=u.slice(0,-1)+".":(a.push(u),u="");return a}function _me(i){const t=yme(i);return a=>{for(const u of t){if(u==="")break;a=a&&a[u]}return a}}function rS(i,t){return(OK[t]||(OK[t]=_me(t)))(i)}function Uj(i){return i.charAt(0).toUpperCase()+i.slice(1)}const j3=i=>typeof i<"u",aS=i=>typeof i=="function",DK=(i,t)=>{if(i.size!==t.size)return!1;for(const a of i)if(!t.has(a))return!1;return!0};function wme(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}const qu=Math.PI,Yu=2*qu,xme=Yu+qu,j5=Number.POSITIVE_INFINITY,Cme=qu/180,Dc=qu/2,fk=qu/4,MK=qu*2/3,qC=Math.log10,Jb=Math.sign;function R3(i,t,a){return Math.abs(i-t)<a}function RK(i){const t=Math.round(i);i=R3(i,t,i/1e3)?t:i;const a=Math.pow(10,Math.floor(qC(i))),u=i/a;return(u<=1?1:u<=2?2:u<=5?5:10)*a}function Sme(i){const t=[],a=Math.sqrt(i);let u;for(u=1;u<a;u++)i%u===0&&(t.push(u),t.push(i/u));return a===(a|0)&&t.push(a),t.sort((c,m)=>c-m).pop(),t}function _D(i){return!isNaN(parseFloat(i))&&isFinite(i)}function Eme(i,t){const a=Math.round(i);return a-t<=i&&a+t>=i}function EQ(i,t,a){let u,c,m;for(u=0,c=i.length;u<c;u++)m=i[u][a],isNaN(m)||(t.min=Math.min(t.min,m),t.max=Math.max(t.max,m))}function G0(i){return i*(qu/180)}function Wj(i){return i*(180/qu)}function PK(i){if(!nc(i))return;let t=1,a=0;for(;Math.round(i*t)/t!==i;)t*=10,a++;return a}function kQ(i,t){const a=t.x-i.x,u=t.y-i.y,c=Math.sqrt(a*a+u*u);let m=Math.atan2(u,a);return m<-.5*qu&&(m+=Yu),{angle:m,distance:c}}function UW(i,t){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))}function kme(i,t){return(i-t+xme)%Yu-qu}function sg(i){return(i%Yu+Yu)%Yu}function Y3(i,t,a,u){const c=sg(i),m=sg(t),p=sg(a),x=sg(m-c),k=sg(p-c),D=sg(c-m),L=sg(c-p);return c===m||c===p||u&&m===p||x>k&&D<L}function Jf(i,t,a){return Math.max(t,Math.min(a,i))}function Tme(i){return Jf(i,-32768,32767)}function Sw(i,t,a,u=1e-6){return i>=Math.min(t,a)-u&&i<=Math.max(t,a)+u}function jj(i,t,a){a=a||(p=>i[p]<t);let u=i.length-1,c=0,m;for(;u-c>1;)m=c+u>>1,a(m)?c=m:u=m;return{lo:c,hi:u}}const Ew=(i,t,a,u)=>jj(i,a,u?c=>{const m=i[c][t];return m<a||m===a&&i[c+1][t]===a}:c=>i[c][t]<a),Ame=(i,t,a)=>jj(i,a,u=>i[u][t]>=a);function Ome(i,t,a){let u=0,c=i.length;for(;u<c&&i[u]<t;)u++;for(;c>u&&i[c-1]>a;)c--;return u>0||c<i.length?i.slice(u,c):i}const TQ=["push","pop","shift","splice","unshift"];function Dme(i,t){if(i._chartjs){i._chartjs.listeners.push(t);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),TQ.forEach(a=>{const u="_onData"+Uj(a),c=i[a];Object.defineProperty(i,a,{configurable:!0,enumerable:!1,value(...m){const p=c.apply(this,m);return i._chartjs.listeners.forEach(x=>{typeof x[u]=="function"&&x[u](...m)}),p}})})}function IK(i,t){const a=i._chartjs;if(!a)return;const u=a.listeners,c=u.indexOf(t);c!==-1&&u.splice(c,1),!(u.length>0)&&(TQ.forEach(m=>{delete i[m]}),delete i._chartjs)}function AQ(i){const t=new Set(i);return t.size===i.length?i:Array.from(t)}const OQ=function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame}();function DQ(i,t){let a=[],u=!1;return function(...c){a=c,u||(u=!0,OQ.call(window,()=>{u=!1,i.apply(t,a)}))}}function Mme(i,t){let a;return function(...u){return t?(clearTimeout(a),a=setTimeout(i,t,u)):i.apply(this,u),t}}const Yj=i=>i==="start"?"left":i==="end"?"right":"center",sv=(i,t,a)=>i==="start"?t:i==="end"?a:(t+a)/2,Rme=(i,t,a,u)=>i===(u?"left":"right")?a:i==="center"?(t+a)/2:t;function MQ(i,t,a){const u=t.length;let c=0,m=u;if(i._sorted){const{iScale:p,_parsed:x}=i,k=p.axis,{min:D,max:L,minDefined:V,maxDefined:q}=p.getUserBounds();V&&(c=Jf(Math.min(Ew(x,k,D).lo,a?u:Ew(t,k,p.getPixelForValue(D)).lo),0,u-1)),q?m=Jf(Math.max(Ew(x,p.axis,L,!0).hi+1,a?0:Ew(t,k,p.getPixelForValue(L),!0).hi+1),c,u)-c:m=u-c}return{start:c,count:m}}function RQ(i){const{xScale:t,yScale:a,_scaleRanges:u}=i,c={xmin:t.min,xmax:t.max,ymin:a.min,ymax:a.max};if(!u)return i._scaleRanges=c,!0;const m=u.xmin!==t.min||u.xmax!==t.max||u.ymin!==a.min||u.ymax!==a.max;return Object.assign(u,c),m}const WN=i=>i===0||i===1,BK=(i,t,a)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-t)*Yu/a)),LK=(i,t,a)=>Math.pow(2,-10*i)*Math.sin((i-t)*Yu/a)+1,P3={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*Dc)+1,easeOutSine:i=>Math.sin(i*Dc),easeInOutSine:i=>-.5*(Math.cos(qu*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>WN(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>WN(i)?i:BK(i,.075,.3),easeOutElastic:i=>WN(i)?i:LK(i,.075,.3),easeInOutElastic(i){return WN(i)?i:i<.5?.5*BK(i*2,.1125,.45):.5+.5*LK(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let t=1.70158;return(i/=.5)<1?.5*(i*i*(((t*=1.525)+1)*i-t)):.5*((i-=2)*i*(((t*=1.525)+1)*i+t)+2)},easeInBounce:i=>1-P3.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?P3.easeInBounce(i*2)*.5:P3.easeOutBounce(i*2-1)*.5+.5};function qj(i){if(i&&typeof i=="object"){const t=i.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function FK(i){return qj(i)?i:new U3(i)}function QU(i){return qj(i)?i:new U3(i).saturate(.5).darken(.1).hexString()}const Pme=["x","y","borderWidth","radius","tension"],Ime=["color","borderColor","backgroundColor"];function Bme(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),i.set("animations",{colors:{type:"color",properties:Ime},numbers:{type:"number",properties:Pme}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Lme(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const NK=new Map;function Fme(i,t){t=t||{};const a=i+JSON.stringify(t);let u=NK.get(a);return u||(u=new Intl.NumberFormat(i,t),NK.set(a,u)),u}function cI(i,t,a){return Fme(t,a).format(i)}const PQ={values(i){return ju(i)?i:""+i},numeric(i,t,a){if(i===0)return"0";const u=this.chart.options.locale;let c,m=i;if(a.length>1){const D=Math.max(Math.abs(a[0].value),Math.abs(a[a.length-1].value));(D<1e-4||D>1e15)&&(c="scientific"),m=Nme(i,a)}const p=qC(Math.abs(m)),x=isNaN(p)?1:Math.max(Math.min(-1*Math.floor(p),20),0),k={notation:c,minimumFractionDigits:x,maximumFractionDigits:x};return Object.assign(k,this.options.ticks.format),cI(i,u,k)},logarithmic(i,t,a){if(i===0)return"0";const u=a[t].significand||i/Math.pow(10,Math.floor(qC(i)));return[1,2,3,5,10,15].includes(u)||t>.8*a.length?PQ.numeric.call(this,i,t,a):""}};function Nme(i,t){let a=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(a)>=1&&i!==Math.floor(i)&&(a=i-Math.floor(i)),a}var x6={formatters:PQ};function $me(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,a)=>a.lineWidth,tickColor:(t,a)=>a.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:x6.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Bk=Object.create(null),WW=Object.create(null);function I3(i,t){if(!t)return i;const a=t.split(".");for(let u=0,c=a.length;u<c;++u){const m=a[u];i=i[m]||(i[m]=Object.create(null))}return i}function eW(i,t,a){return typeof t=="string"?W3(I3(i,t),a):W3(I3(i,""),t)}class zme{constructor(t,a){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=u=>u.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(u,c)=>QU(c.backgroundColor),this.hoverBorderColor=(u,c)=>QU(c.borderColor),this.hoverColor=(u,c)=>QU(c.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(a)}set(t,a){return eW(this,t,a)}get(t){return I3(this,t)}describe(t,a){return eW(WW,t,a)}override(t,a){return eW(Bk,t,a)}route(t,a,u,c){const m=I3(this,t),p=I3(this,u),x="_"+a;Object.defineProperties(m,{[x]:{value:m[a],writable:!0},[a]:{enumerable:!0,get(){const k=this[x],D=p[c];return so(k)?Object.assign({},D,k):Ei(k,D)},set(k){this[x]=k}}})}apply(t){t.forEach(a=>a(this))}}var rc=new zme({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Bme,Lme,$me]);function Hme(i){return!i||Do(i.size)||Do(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function Y5(i,t,a,u,c){let m=t[c];return m||(m=t[c]=i.measureText(c).width,a.push(c)),m>u&&(u=m),u}function Vme(i,t,a,u){u=u||{};let c=u.data=u.data||{},m=u.garbageCollect=u.garbageCollect||[];u.font!==t&&(c=u.data={},m=u.garbageCollect=[],u.font=t),i.save(),i.font=t;let p=0;const x=a.length;let k,D,L,V,q;for(k=0;k<x;k++)if(V=a[k],V!=null&&!ju(V))p=Y5(i,c,m,p,V);else if(ju(V))for(D=0,L=V.length;D<L;D++)q=V[D],q!=null&&!ju(q)&&(p=Y5(i,c,m,p,q));i.restore();const ie=m.length/2;if(ie>a.length){for(k=0;k<ie;k++)delete c[m[k]];m.splice(0,ie)}return p}function dk(i,t,a){const u=i.currentDevicePixelRatio,c=a!==0?Math.max(a/2,.5):0;return Math.round((t-c)*u)/u+c}function $K(i,t){t=t||i.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,i.width,i.height),t.restore()}function jW(i,t,a,u){IQ(i,t,a,u,null)}function IQ(i,t,a,u,c){let m,p,x,k,D,L,V,q;const ie=t.pointStyle,ee=t.rotation,se=t.radius;let Te=(ee||0)*Cme;if(ie&&typeof ie=="object"&&(m=ie.toString(),m==="[object HTMLImageElement]"||m==="[object HTMLCanvasElement]")){i.save(),i.translate(a,u),i.rotate(Te),i.drawImage(ie,-ie.width/2,-ie.height/2,ie.width,ie.height),i.restore();return}if(!(isNaN(se)||se<=0)){switch(i.beginPath(),ie){default:c?i.ellipse(a,u,c/2,se,0,0,Yu):i.arc(a,u,se,0,Yu),i.closePath();break;case"triangle":L=c?c/2:se,i.moveTo(a+Math.sin(Te)*L,u-Math.cos(Te)*se),Te+=MK,i.lineTo(a+Math.sin(Te)*L,u-Math.cos(Te)*se),Te+=MK,i.lineTo(a+Math.sin(Te)*L,u-Math.cos(Te)*se),i.closePath();break;case"rectRounded":D=se*.516,k=se-D,p=Math.cos(Te+fk)*k,V=Math.cos(Te+fk)*(c?c/2-D:k),x=Math.sin(Te+fk)*k,q=Math.sin(Te+fk)*(c?c/2-D:k),i.arc(a-V,u-x,D,Te-qu,Te-Dc),i.arc(a+q,u-p,D,Te-Dc,Te),i.arc(a+V,u+x,D,Te,Te+Dc),i.arc(a-q,u+p,D,Te+Dc,Te+qu),i.closePath();break;case"rect":if(!ee){k=Math.SQRT1_2*se,L=c?c/2:k,i.rect(a-L,u-k,2*L,2*k);break}Te+=fk;case"rectRot":V=Math.cos(Te)*(c?c/2:se),p=Math.cos(Te)*se,x=Math.sin(Te)*se,q=Math.sin(Te)*(c?c/2:se),i.moveTo(a-V,u-x),i.lineTo(a+q,u-p),i.lineTo(a+V,u+x),i.lineTo(a-q,u+p),i.closePath();break;case"crossRot":Te+=fk;case"cross":V=Math.cos(Te)*(c?c/2:se),p=Math.cos(Te)*se,x=Math.sin(Te)*se,q=Math.sin(Te)*(c?c/2:se),i.moveTo(a-V,u-x),i.lineTo(a+V,u+x),i.moveTo(a+q,u-p),i.lineTo(a-q,u+p);break;case"star":V=Math.cos(Te)*(c?c/2:se),p=Math.cos(Te)*se,x=Math.sin(Te)*se,q=Math.sin(Te)*(c?c/2:se),i.moveTo(a-V,u-x),i.lineTo(a+V,u+x),i.moveTo(a+q,u-p),i.lineTo(a-q,u+p),Te+=fk,V=Math.cos(Te)*(c?c/2:se),p=Math.cos(Te)*se,x=Math.sin(Te)*se,q=Math.sin(Te)*(c?c/2:se),i.moveTo(a-V,u-x),i.lineTo(a+V,u+x),i.moveTo(a+q,u-p),i.lineTo(a-q,u+p);break;case"line":p=c?c/2:Math.cos(Te)*se,x=Math.sin(Te)*se,i.moveTo(a-p,u-x),i.lineTo(a+p,u+x);break;case"dash":i.moveTo(a,u),i.lineTo(a+Math.cos(Te)*(c?c/2:se),u+Math.sin(Te)*se);break;case!1:i.closePath();break}i.fill(),t.borderWidth>0&&i.stroke()}}function kw(i,t,a){return a=a||.5,!t||i&&i.x>t.left-a&&i.x<t.right+a&&i.y>t.top-a&&i.y<t.bottom+a}function C6(i,t){i.save(),i.beginPath(),i.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),i.clip()}function S6(i){i.restore()}function Ume(i,t,a,u,c){if(!t)return i.lineTo(a.x,a.y);if(c==="middle"){const m=(t.x+a.x)/2;i.lineTo(m,t.y),i.lineTo(m,a.y)}else c==="after"!=!!u?i.lineTo(t.x,a.y):i.lineTo(a.x,t.y);i.lineTo(a.x,a.y)}function Wme(i,t,a,u){if(!t)return i.lineTo(a.x,a.y);i.bezierCurveTo(u?t.cp1x:t.cp2x,u?t.cp1y:t.cp2y,u?a.cp2x:a.cp1x,u?a.cp2y:a.cp1y,a.x,a.y)}function jme(i,t){t.translation&&i.translate(t.translation[0],t.translation[1]),Do(t.rotation)||i.rotate(t.rotation),t.color&&(i.fillStyle=t.color),t.textAlign&&(i.textAlign=t.textAlign),t.textBaseline&&(i.textBaseline=t.textBaseline)}function Yme(i,t,a,u,c){if(c.strikethrough||c.underline){const m=i.measureText(u),p=t-m.actualBoundingBoxLeft,x=t+m.actualBoundingBoxRight,k=a-m.actualBoundingBoxAscent,D=a+m.actualBoundingBoxDescent,L=c.strikethrough?(k+D)/2:D;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=c.decorationWidth||2,i.moveTo(p,L),i.lineTo(x,L),i.stroke()}}function qme(i,t){const a=i.fillStyle;i.fillStyle=t.color,i.fillRect(t.left,t.top,t.width,t.height),i.fillStyle=a}function Lk(i,t,a,u,c,m={}){const p=ju(t)?t:[t],x=m.strokeWidth>0&&m.strokeColor!=="";let k,D;for(i.save(),i.font=c.string,jme(i,m),k=0;k<p.length;++k)D=p[k],m.backdrop&&qme(i,m.backdrop),x&&(m.strokeColor&&(i.strokeStyle=m.strokeColor),Do(m.strokeWidth)||(i.lineWidth=m.strokeWidth),i.strokeText(D,a,u,m.maxWidth)),i.fillText(D,a,u,m.maxWidth),Yme(i,a,u,D,m),u+=Number(c.lineHeight);i.restore()}function q3(i,t){const{x:a,y:u,w:c,h:m,radius:p}=t;i.arc(a+p.topLeft,u+p.topLeft,p.topLeft,1.5*qu,qu,!0),i.lineTo(a,u+m-p.bottomLeft),i.arc(a+p.bottomLeft,u+m-p.bottomLeft,p.bottomLeft,qu,Dc,!0),i.lineTo(a+c-p.bottomRight,u+m),i.arc(a+c-p.bottomRight,u+m-p.bottomRight,p.bottomRight,Dc,0,!0),i.lineTo(a+c,u+p.topRight),i.arc(a+c-p.topRight,u+p.topRight,p.topRight,0,-Dc,!0),i.lineTo(a+p.topLeft,u)}const Gme=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Kme=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Xme(i,t){const a=(""+i).match(Gme);if(!a||a[1]==="normal")return t*1.2;switch(i=+a[2],a[3]){case"px":return i;case"%":i/=100;break}return t*i}const Zme=i=>+i||0;function Gj(i,t){const a={},u=so(t),c=u?Object.keys(t):t,m=so(i)?u?p=>Ei(i[p],i[t[p]]):p=>i[p]:()=>i;for(const p of c)a[p]=Zme(m(p));return a}function BQ(i){return Gj(i,{top:"y",right:"x",bottom:"y",left:"x"})}function Ok(i){return Gj(i,["topLeft","topRight","bottomLeft","bottomRight"])}function cv(i){const t=BQ(i);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Sf(i,t){i=i||{},t=t||rc.font;let a=Ei(i.size,t.size);typeof a=="string"&&(a=parseInt(a,10));let u=Ei(i.style,t.style);u&&!(""+u).match(Kme)&&(console.warn('Invalid font style specified: "'+u+'"'),u=void 0);const c={family:Ei(i.family,t.family),lineHeight:Xme(Ei(i.lineHeight,t.lineHeight),a),size:a,style:u,weight:Ei(i.weight,t.weight),string:""};return c.string=Hme(c),c}function S3(i,t,a,u){let c=!0,m,p,x;for(m=0,p=i.length;m<p;++m)if(x=i[m],x!==void 0&&(t!==void 0&&typeof x=="function"&&(x=x(t),c=!1),a!==void 0&&ju(x)&&(x=x[a%x.length],c=!1),x!==void 0))return u&&!c&&(u.cacheable=!1),x}function Jme(i,t,a){const{min:u,max:c}=i,m=CQ(t,(c-u)/2),p=(x,k)=>a&&x===0?0:x+k;return{min:p(u,-Math.abs(m)),max:p(c,m)}}function uS(i,t){return Object.assign(Object.create(i),t)}function Kj(i,t=[""],a,u,c=()=>i[0]){const m=a||i;typeof u>"u"&&(u=$Q("_fallback",i));const p={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:m,_fallback:u,_getTarget:c,override:x=>Kj([x,...i],t,m,u)};return new Proxy(p,{deleteProperty(x,k){return delete x[k],delete x._keys,delete i[0][k],!0},get(x,k){return FQ(x,k,()=>oge(k,t,i,x))},getOwnPropertyDescriptor(x,k){return Reflect.getOwnPropertyDescriptor(x._scopes[0],k)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(x,k){return HK(x).includes(k)},ownKeys(x){return HK(x)},set(x,k,D){const L=x._storage||(x._storage=c());return x[k]=L[k]=D,delete x._keys,!0}})}function wD(i,t,a,u){const c={_cacheable:!1,_proxy:i,_context:t,_subProxy:a,_stack:new Set,_descriptors:LQ(i,u),setContext:m=>wD(i,m,a,u),override:m=>wD(i.override(m),t,a,u)};return new Proxy(c,{deleteProperty(m,p){return delete m[p],delete i[p],!0},get(m,p,x){return FQ(m,p,()=>ege(m,p,x))},getOwnPropertyDescriptor(m,p){return m._descriptors.allKeys?Reflect.has(i,p)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,p)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(m,p){return Reflect.has(i,p)},ownKeys(){return Reflect.ownKeys(i)},set(m,p,x){return i[p]=x,delete m[p],!0}})}function LQ(i,t={scriptable:!0,indexable:!0}){const{_scriptable:a=t.scriptable,_indexable:u=t.indexable,_allKeys:c=t.allKeys}=i;return{allKeys:c,scriptable:a,indexable:u,isScriptable:aS(a)?a:()=>a,isIndexable:aS(u)?u:()=>u}}const Qme=(i,t)=>i?i+Uj(t):t,Xj=(i,t)=>so(t)&&i!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function FQ(i,t,a){if(Object.prototype.hasOwnProperty.call(i,t))return i[t];const u=a();return i[t]=u,u}function ege(i,t,a){const{_proxy:u,_context:c,_subProxy:m,_descriptors:p}=i;let x=u[t];return aS(x)&&p.isScriptable(t)&&(x=tge(t,x,i,a)),ju(x)&&x.length&&(x=nge(t,x,i,p.isIndexable)),Xj(t,x)&&(x=wD(x,c,m&&m[t],p)),x}function tge(i,t,a,u){const{_proxy:c,_context:m,_subProxy:p,_stack:x}=a;if(x.has(i))throw new Error("Recursion detected: "+Array.from(x).join("->")+"->"+i);x.add(i);let k=t(m,p||u);return x.delete(i),Xj(i,k)&&(k=Zj(c._scopes,c,i,k)),k}function nge(i,t,a,u){const{_proxy:c,_context:m,_subProxy:p,_descriptors:x}=a;if(typeof m.index<"u"&&u(i))return t[m.index%t.length];if(so(t[0])){const k=t,D=c._scopes.filter(L=>L!==k);t=[];for(const L of k){const V=Zj(D,c,i,L);t.push(wD(V,m,p&&p[i],x))}}return t}function NQ(i,t,a){return aS(i)?i(t,a):i}const rge=(i,t)=>i===!0?t:typeof i=="string"?rS(t,i):void 0;function age(i,t,a,u,c){for(const m of t){const p=rge(a,m);if(p){i.add(p);const x=NQ(p._fallback,a,c);if(typeof x<"u"&&x!==a&&x!==u)return x}else if(p===!1&&typeof u<"u"&&a!==u)return null}return!1}function Zj(i,t,a,u){const c=t._rootScopes,m=NQ(t._fallback,a,u),p=[...i,...c],x=new Set;x.add(u);let k=zK(x,p,a,m||a,u);return k===null||typeof m<"u"&&m!==a&&(k=zK(x,p,m,k,u),k===null)?!1:Kj(Array.from(x),[""],c,m,()=>ige(t,a,u))}function zK(i,t,a,u,c){for(;a;)a=age(i,t,a,u,c);return a}function ige(i,t,a){const u=i._getTarget();t in u||(u[t]={});const c=u[t];return ju(c)&&so(a)?a:c||{}}function oge(i,t,a,u){let c;for(const m of t)if(c=$Q(Qme(m,i),a),typeof c<"u")return Xj(i,c)?Zj(a,u,i,c):c}function $Q(i,t){for(const a of t){if(!a)continue;const u=a[i];if(typeof u<"u")return u}}function HK(i){let t=i._keys;return t||(t=i._keys=sge(i._scopes)),t}function sge(i){const t=new Set;for(const a of i)for(const u of Object.keys(a).filter(c=>!c.startsWith("_")))t.add(u);return Array.from(t)}function zQ(i,t,a,u){const{iScale:c}=i,{key:m="r"}=this._parsing,p=new Array(u);let x,k,D,L;for(x=0,k=u;x<k;++x)D=x+a,L=t[D],p[x]={r:c.parse(rS(L,m),D)};return p}const uge=Number.EPSILON||1e-14,xD=(i,t)=>t<i.length&&!i[t].skip&&i[t],HQ=i=>i==="x"?"y":"x";function lge(i,t,a,u){const c=i.skip?t:i,m=t,p=a.skip?t:a,x=UW(m,c),k=UW(p,m);let D=x/(x+k),L=k/(x+k);D=isNaN(D)?0:D,L=isNaN(L)?0:L;const V=u*D,q=u*L;return{previous:{x:m.x-V*(p.x-c.x),y:m.y-V*(p.y-c.y)},next:{x:m.x+q*(p.x-c.x),y:m.y+q*(p.y-c.y)}}}function cge(i,t,a){const u=i.length;let c,m,p,x,k,D=xD(i,0);for(let L=0;L<u-1;++L)if(k=D,D=xD(i,L+1),!(!k||!D)){if(R3(t[L],0,uge)){a[L]=a[L+1]=0;continue}c=a[L]/t[L],m=a[L+1]/t[L],x=Math.pow(c,2)+Math.pow(m,2),!(x<=9)&&(p=3/Math.sqrt(x),a[L]=c*p*t[L],a[L+1]=m*p*t[L])}}function fge(i,t,a="x"){const u=HQ(a),c=i.length;let m,p,x,k=xD(i,0);for(let D=0;D<c;++D){if(p=x,x=k,k=xD(i,D+1),!x)continue;const L=x[a],V=x[u];p&&(m=(L-p[a])/3,x[`cp1${a}`]=L-m,x[`cp1${u}`]=V-m*t[D]),k&&(m=(k[a]-L)/3,x[`cp2${a}`]=L+m,x[`cp2${u}`]=V+m*t[D])}}function dge(i,t="x"){const a=HQ(t),u=i.length,c=Array(u).fill(0),m=Array(u);let p,x,k,D=xD(i,0);for(p=0;p<u;++p)if(x=k,k=D,D=xD(i,p+1),!!k){if(D){const L=D[t]-k[t];c[p]=L!==0?(D[a]-k[a])/L:0}m[p]=x?D?Jb(c[p-1])!==Jb(c[p])?0:(c[p-1]+c[p])/2:c[p-1]:c[p]}cge(i,c,m),fge(i,m,t)}function jN(i,t,a){return Math.max(Math.min(i,a),t)}function vge(i,t){let a,u,c,m,p,x=kw(i[0],t);for(a=0,u=i.length;a<u;++a)p=m,m=x,x=a<u-1&&kw(i[a+1],t),m&&(c=i[a],p&&(c.cp1x=jN(c.cp1x,t.left,t.right),c.cp1y=jN(c.cp1y,t.top,t.bottom)),x&&(c.cp2x=jN(c.cp2x,t.left,t.right),c.cp2y=jN(c.cp2y,t.top,t.bottom)))}function hge(i,t,a,u,c){let m,p,x,k;if(t.spanGaps&&(i=i.filter(D=>!D.skip)),t.cubicInterpolationMode==="monotone")dge(i,c);else{let D=u?i[i.length-1]:i[0];for(m=0,p=i.length;m<p;++m)x=i[m],k=lge(D,x,i[Math.min(m+1,p-(u?0:1))%p],t.tension),x.cp1x=k.previous.x,x.cp1y=k.previous.y,x.cp2x=k.next.x,x.cp2y=k.next.y,D=x}t.capBezierPoints&&vge(i,a)}function VQ(){return typeof window<"u"&&typeof document<"u"}function Jj(i){let t=i.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function q5(i,t,a){let u;return typeof i=="string"?(u=parseInt(i,10),i.indexOf("%")!==-1&&(u=u/100*t.parentNode[a])):u=i,u}const E6=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function mge(i,t){return E6(i).getPropertyValue(t)}const gge=["top","right","bottom","left"];function Dk(i,t,a){const u={};a=a?"-"+a:"";for(let c=0;c<4;c++){const m=gge[c];u[m]=parseFloat(i[t+"-"+m+a])||0}return u.width=u.left+u.right,u.height=u.top+u.bottom,u}const pge=(i,t,a)=>(i>0||t>0)&&(!a||!a.shadowRoot);function bge(i,t){const a=i.touches,u=a&&a.length?a[0]:i,{offsetX:c,offsetY:m}=u;let p=!1,x,k;if(pge(c,m,i.target))x=c,k=m;else{const D=t.getBoundingClientRect();x=u.clientX-D.left,k=u.clientY-D.top,p=!0}return{x,y:k,box:p}}function wk(i,t){if("native"in i)return i;const{canvas:a,currentDevicePixelRatio:u}=t,c=E6(a),m=c.boxSizing==="border-box",p=Dk(c,"padding"),x=Dk(c,"border","width"),{x:k,y:D,box:L}=bge(i,a),V=p.left+(L&&x.left),q=p.top+(L&&x.top);let{width:ie,height:ee}=t;return m&&(ie-=p.width+x.width,ee-=p.height+x.height),{x:Math.round((k-V)/ie*a.width/u),y:Math.round((D-q)/ee*a.height/u)}}function yge(i,t,a){let u,c;if(t===void 0||a===void 0){const m=Jj(i);if(!m)t=i.clientWidth,a=i.clientHeight;else{const p=m.getBoundingClientRect(),x=E6(m),k=Dk(x,"border","width"),D=Dk(x,"padding");t=p.width-D.width-k.width,a=p.height-D.height-k.height,u=q5(x.maxWidth,m,"clientWidth"),c=q5(x.maxHeight,m,"clientHeight")}}return{width:t,height:a,maxWidth:u||j5,maxHeight:c||j5}}const YN=i=>Math.round(i*10)/10;function _ge(i,t,a,u){const c=E6(i),m=Dk(c,"margin"),p=q5(c.maxWidth,i,"clientWidth")||j5,x=q5(c.maxHeight,i,"clientHeight")||j5,k=yge(i,t,a);let{width:D,height:L}=k;if(c.boxSizing==="content-box"){const q=Dk(c,"border","width"),ie=Dk(c,"padding");D-=ie.width+q.width,L-=ie.height+q.height}return D=Math.max(0,D-m.width),L=Math.max(0,u?D/u:L-m.height),D=YN(Math.min(D,p,k.maxWidth)),L=YN(Math.min(L,x,k.maxHeight)),D&&!L&&(L=YN(D/2)),(t!==void 0||a!==void 0)&&u&&k.height&&L>k.height&&(L=k.height,D=YN(Math.floor(L*u))),{width:D,height:L}}function VK(i,t,a){const u=t||1,c=Math.floor(i.height*u),m=Math.floor(i.width*u);i.height=Math.floor(i.height),i.width=Math.floor(i.width);const p=i.canvas;return p.style&&(a||!p.style.height&&!p.style.width)&&(p.style.height=`${i.height}px`,p.style.width=`${i.width}px`),i.currentDevicePixelRatio!==u||p.height!==c||p.width!==m?(i.currentDevicePixelRatio=u,p.height=c,p.width=m,i.ctx.setTransform(u,0,0,u,0,0),!0):!1}const wge=function(){let i=!1;try{const t={get passive(){return i=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return i}();function UK(i,t){const a=mge(i,t),u=a&&a.match(/^(\d+)(\.\d+)?px$/);return u?+u[1]:void 0}function xk(i,t,a,u){return{x:i.x+a*(t.x-i.x),y:i.y+a*(t.y-i.y)}}function xge(i,t,a,u){return{x:i.x+a*(t.x-i.x),y:u==="middle"?a<.5?i.y:t.y:u==="after"?a<1?i.y:t.y:a>0?t.y:i.y}}function Cge(i,t,a,u){const c={x:i.cp2x,y:i.cp2y},m={x:t.cp1x,y:t.cp1y},p=xk(i,c,a),x=xk(c,m,a),k=xk(m,t,a),D=xk(p,x,a),L=xk(x,k,a);return xk(D,L,a)}const Sge=function(i,t){return{x(a){return i+i+t-a},setWidth(a){t=a},textAlign(a){return a==="center"?a:a==="right"?"left":"right"},xPlus(a,u){return a-u},leftForLtr(a,u){return a-u}}},Ege=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,t){return i+t},leftForLtr(i,t){return i}}};function sD(i,t,a){return i?Sge(t,a):Ege()}function UQ(i,t){let a,u;(t==="ltr"||t==="rtl")&&(a=i.canvas.style,u=[a.getPropertyValue("direction"),a.getPropertyPriority("direction")],a.setProperty("direction",t,"important"),i.prevTextDirection=u)}function WQ(i,t){t!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",t[0],t[1]))}function jQ(i){return i==="angle"?{between:Y3,compare:kme,normalize:sg}:{between:Sw,compare:(t,a)=>t-a,normalize:t=>t}}function WK({start:i,end:t,count:a,loop:u,style:c}){return{start:i%a,end:t%a,loop:u&&(t-i+1)%a===0,style:c}}function kge(i,t,a){const{property:u,start:c,end:m}=a,{between:p,normalize:x}=jQ(u),k=t.length;let{start:D,end:L,loop:V}=i,q,ie;if(V){for(D+=k,L+=k,q=0,ie=k;q<ie&&p(x(t[D%k][u]),c,m);++q)D--,L--;D%=k,L%=k}return L<D&&(L+=k),{start:D,end:L,loop:V,style:i.style}}function YQ(i,t,a){if(!a)return[i];const{property:u,start:c,end:m}=a,p=t.length,{compare:x,between:k,normalize:D}=jQ(u),{start:L,end:V,loop:q,style:ie}=kge(i,t,a),ee=[];let se=!1,Te=null,_e,be,le;const Pe=()=>k(c,le,_e)&&x(c,le)!==0,Oe=()=>x(m,_e)===0||k(m,le,_e),lt=()=>se||Pe(),at=()=>!se||Oe();for(let K=L,de=L;K<=V;++K)be=t[K%p],!be.skip&&(_e=D(be[u]),_e!==le&&(se=k(_e,c,m),Te===null&&lt()&&(Te=x(_e,c)===0?K:de),Te!==null&&at()&&(ee.push(WK({start:Te,end:K,loop:q,count:p,style:ie})),Te=null),de=K,le=_e));return Te!==null&&ee.push(WK({start:Te,end:V,loop:q,count:p,style:ie})),ee}function qQ(i,t){const a=[],u=i.segments;for(let c=0;c<u.length;c++){const m=YQ(u[c],i.points,t);m.length&&a.push(...m)}return a}function Tge(i,t,a,u){let c=0,m=t-1;if(a&&!u)for(;c<t&&!i[c].skip;)c++;for(;c<t&&i[c].skip;)c++;for(c%=t,a&&(m+=c);m>c&&i[m%t].skip;)m--;return m%=t,{start:c,end:m}}function Age(i,t,a,u){const c=i.length,m=[];let p=t,x=i[t],k;for(k=t+1;k<=a;++k){const D=i[k%c];D.skip||D.stop?x.skip||(u=!1,m.push({start:t%c,end:(k-1)%c,loop:u}),t=p=D.stop?k:null):(p=k,x.skip&&(t=k)),x=D}return p!==null&&m.push({start:t%c,end:p%c,loop:u}),m}function Oge(i,t){const a=i.points,u=i.options.spanGaps,c=a.length;if(!c)return[];const m=!!i._loop,{start:p,end:x}=Tge(a,c,m,u);if(u===!0)return jK(i,[{start:p,end:x,loop:m}],a,t);const k=x<p?x+c:x,D=!!i._fullLoop&&p===0&&x===c-1;return jK(i,Age(a,p,k,D),a,t)}function jK(i,t,a,u){return!u||!u.setContext||!a?t:Dge(i,t,a,u)}function Dge(i,t,a,u){const c=i._chart.getContext(),m=YK(i.options),{_datasetIndex:p,options:{spanGaps:x}}=i,k=a.length,D=[];let L=m,V=t[0].start,q=V;function ie(ee,se,Te,_e){const be=x?-1:1;if(ee!==se){for(ee+=k;a[ee%k].skip;)ee-=be;for(;a[se%k].skip;)se+=be;ee%k!==se%k&&(D.push({start:ee%k,end:se%k,loop:Te,style:_e}),L=_e,V=se%k)}}for(const ee of t){V=x?V:ee.start;let se=a[V%k],Te;for(q=V+1;q<=ee.end;q++){const _e=a[q%k];Te=YK(u.setContext(uS(c,{type:"segment",p0:se,p1:_e,p0DataIndex:(q-1)%k,p1DataIndex:q%k,datasetIndex:p}))),Mge(Te,L)&&ie(V,q-1,ee.loop,L),se=_e,L=Te}V<q-1&&ie(V,q-1,ee.loop,L)}return D}function YK(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function Mge(i,t){if(!t)return!1;const a=[],u=function(c,m){return qj(m)?(a.includes(m)||a.push(m),a.indexOf(m)):m};return JSON.stringify(i,u)!==JSON.stringify(t,u)}/*!
 * Chart.js v4.4.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */class Rge{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,a,u,c){const m=a.listeners[c],p=a.duration;m.forEach(x=>x({chart:t,initial:a.initial,numSteps:p,currentStep:Math.min(u-a.start,p)}))}_refresh(){this._request||(this._running=!0,this._request=OQ.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let a=0;this._charts.forEach((u,c)=>{if(!u.running||!u.items.length)return;const m=u.items;let p=m.length-1,x=!1,k;for(;p>=0;--p)k=m[p],k._active?(k._total>u.duration&&(u.duration=k._total),k.tick(t),x=!0):(m[p]=m[m.length-1],m.pop());x&&(c.draw(),this._notify(c,u,t,"progress")),m.length||(u.running=!1,this._notify(c,u,t,"complete"),u.initial=!1),a+=m.length}),this._lastDate=t,a===0&&(this._running=!1)}_getAnims(t){const a=this._charts;let u=a.get(t);return u||(u={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},a.set(t,u)),u}listen(t,a,u){this._getAnims(t).listeners[a].push(u)}add(t,a){!a||!a.length||this._getAnims(t).items.push(...a)}has(t){return this._getAnims(t).items.length>0}start(t){const a=this._charts.get(t);a&&(a.running=!0,a.start=Date.now(),a.duration=a.items.reduce((u,c)=>Math.max(u,c._duration),0),this._refresh())}running(t){if(!this._running)return!1;const a=this._charts.get(t);return!(!a||!a.running||!a.items.length)}stop(t){const a=this._charts.get(t);if(!a||!a.items.length)return;const u=a.items;let c=u.length-1;for(;c>=0;--c)u[c].cancel();a.items=[],this._notify(t,a,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var gw=new Rge;const qK="transparent",Pge={boolean(i,t,a){return a>.5?t:i},color(i,t,a){const u=FK(i||qK),c=u.valid&&FK(t||qK);return c&&c.valid?c.mix(u,a).hexString():t},number(i,t,a){return i+(t-i)*a}};class Ige{constructor(t,a,u,c){const m=a[u];c=S3([t.to,c,m,t.from]);const p=S3([t.from,m,c]);this._active=!0,this._fn=t.fn||Pge[t.type||typeof p],this._easing=P3[t.easing]||P3.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=a,this._prop=u,this._from=p,this._to=c,this._promises=void 0}active(){return this._active}update(t,a,u){if(this._active){this._notify(!1);const c=this._target[this._prop],m=u-this._start,p=this._duration-m;this._start=u,this._duration=Math.floor(Math.max(p,t.duration)),this._total+=m,this._loop=!!t.loop,this._to=S3([t.to,a,c,t.from]),this._from=S3([t.from,c,a])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const a=t-this._start,u=this._duration,c=this._prop,m=this._from,p=this._loop,x=this._to;let k;if(this._active=m!==x&&(p||a<u),!this._active){this._target[c]=x,this._notify(!0);return}if(a<0){this._target[c]=m;return}k=a/u%2,k=p&&k>1?2-k:k,k=this._easing(Math.min(1,Math.max(0,k))),this._target[c]=this._fn(m,x,k)}wait(){const t=this._promises||(this._promises=[]);return new Promise((a,u)=>{t.push({res:a,rej:u})})}_notify(t){const a=t?"res":"rej",u=this._promises||[];for(let c=0;c<u.length;c++)u[c][a]()}}class GQ{constructor(t,a){this._chart=t,this._properties=new Map,this.configure(a)}configure(t){if(!so(t))return;const a=Object.keys(rc.animation),u=this._properties;Object.getOwnPropertyNames(t).forEach(c=>{const m=t[c];if(!so(m))return;const p={};for(const x of a)p[x]=m[x];(ju(m.properties)&&m.properties||[c]).forEach(x=>{(x===c||!u.has(x))&&u.set(x,p)})})}_animateOptions(t,a){const u=a.options,c=Lge(t,u);if(!c)return[];const m=this._createAnimations(c,u);return u.$shared&&Bge(t.options.$animations,u).then(()=>{t.options=u},()=>{}),m}_createAnimations(t,a){const u=this._properties,c=[],m=t.$animations||(t.$animations={}),p=Object.keys(a),x=Date.now();let k;for(k=p.length-1;k>=0;--k){const D=p[k];if(D.charAt(0)==="$")continue;if(D==="options"){c.push(...this._animateOptions(t,a));continue}const L=a[D];let V=m[D];const q=u.get(D);if(V)if(q&&V.active()){V.update(q,L,x);continue}else V.cancel();if(!q||!q.duration){t[D]=L;continue}m[D]=V=new Ige(q,t,D,L),c.push(V)}return c}update(t,a){if(this._properties.size===0){Object.assign(t,a);return}const u=this._createAnimations(t,a);if(u.length)return gw.add(this._chart,u),!0}}function Bge(i,t){const a=[],u=Object.keys(t);for(let c=0;c<u.length;c++){const m=i[u[c]];m&&m.active()&&a.push(m.wait())}return Promise.all(a)}function Lge(i,t){if(!t)return;let a=i.options;if(!a){i.options=t;return}return a.$shared&&(i.options=a=Object.assign({},a,{$shared:!1,$animations:{}})),a}function GK(i,t){const a=i&&i.options||{},u=a.reverse,c=a.min===void 0?t:0,m=a.max===void 0?t:0;return{start:u?m:c,end:u?c:m}}function Fge(i,t,a){if(a===!1)return!1;const u=GK(i,a),c=GK(t,a);return{top:c.end,right:u.end,bottom:c.start,left:u.start}}function Nge(i){let t,a,u,c;return so(i)?(t=i.top,a=i.right,u=i.bottom,c=i.left):t=a=u=c=i,{top:t,right:a,bottom:u,left:c,disabled:i===!1}}function KQ(i,t){const a=[],u=i._getSortedDatasetMetas(t);let c,m;for(c=0,m=u.length;c<m;++c)a.push(u[c].index);return a}function KK(i,t,a,u={}){const c=i.keys,m=u.mode==="single";let p,x,k,D;if(t!==null){for(p=0,x=c.length;p<x;++p){if(k=+c[p],k===a){if(u.all)continue;break}D=i.values[k],nc(D)&&(m||t===0||Jb(t)===Jb(D))&&(t+=D)}return t}}function $ge(i){const t=Object.keys(i),a=new Array(t.length);let u,c,m;for(u=0,c=t.length;u<c;++u)m=t[u],a[u]={x:m,y:i[m]};return a}function XK(i,t){const a=i&&i.options.stacked;return a||a===void 0&&t.stack!==void 0}function zge(i,t,a){return`${i.id}.${t.id}.${a.stack||a.type}`}function Hge(i){const{min:t,max:a,minDefined:u,maxDefined:c}=i.getUserBounds();return{min:u?t:Number.NEGATIVE_INFINITY,max:c?a:Number.POSITIVE_INFINITY}}function Vge(i,t,a){const u=i[t]||(i[t]={});return u[a]||(u[a]={})}function ZK(i,t,a,u){for(const c of t.getMatchingVisibleMetas(u).reverse()){const m=i[c.index];if(a&&m>0||!a&&m<0)return c.index}return null}function JK(i,t){const{chart:a,_cachedMeta:u}=i,c=a._stacks||(a._stacks={}),{iScale:m,vScale:p,index:x}=u,k=m.axis,D=p.axis,L=zge(m,p,u),V=t.length;let q;for(let ie=0;ie<V;++ie){const ee=t[ie],{[k]:se,[D]:Te}=ee,_e=ee._stacks||(ee._stacks={});q=_e[D]=Vge(c,L,se),q[x]=Te,q._top=ZK(q,p,!0,u.type),q._bottom=ZK(q,p,!1,u.type);const be=q._visualValues||(q._visualValues={});be[x]=Te}}function tW(i,t){const a=i.scales;return Object.keys(a).filter(u=>a[u].axis===t).shift()}function Uge(i,t){return uS(i,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Wge(i,t,a){return uS(i,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:a,index:t,mode:"default",type:"data"})}function v3(i,t){const a=i.controller.index,u=i.vScale&&i.vScale.axis;if(u){t=t||i._parsed;for(const c of t){const m=c._stacks;if(!m||m[u]===void 0||m[u][a]===void 0)return;delete m[u][a],m[u]._visualValues!==void 0&&m[u]._visualValues[a]!==void 0&&delete m[u]._visualValues[a]}}}const nW=i=>i==="reset"||i==="none",QK=(i,t)=>t?i:Object.assign({},i),jge=(i,t,a)=>i&&!t.hidden&&t._stacked&&{keys:KQ(a,!0),values:null};class X0{constructor(t,a){this.chart=t,this._ctx=t.ctx,this.index=a,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=XK(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&v3(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,a=this._cachedMeta,u=this.getDataset(),c=(V,q,ie,ee)=>V==="x"?q:V==="r"?ee:ie,m=a.xAxisID=Ei(u.xAxisID,tW(t,"x")),p=a.yAxisID=Ei(u.yAxisID,tW(t,"y")),x=a.rAxisID=Ei(u.rAxisID,tW(t,"r")),k=a.indexAxis,D=a.iAxisID=c(k,m,p,x),L=a.vAxisID=c(k,p,m,x);a.xScale=this.getScaleForId(m),a.yScale=this.getScaleForId(p),a.rScale=this.getScaleForId(x),a.iScale=this.getScaleForId(D),a.vScale=this.getScaleForId(L)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const a=this._cachedMeta;return t===a.iScale?a.vScale:a.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&IK(this._data,this),t._stacked&&v3(t)}_dataCheck(){const t=this.getDataset(),a=t.data||(t.data=[]),u=this._data;if(so(a))this._data=$ge(a);else if(u!==a){if(u){IK(u,this);const c=this._cachedMeta;v3(c),c._parsed=[]}a&&Object.isExtensible(a)&&Dme(a,this),this._syncList=[],this._data=a}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const a=this._cachedMeta,u=this.getDataset();let c=!1;this._dataCheck();const m=a._stacked;a._stacked=XK(a.vScale,a),a.stack!==u.stack&&(c=!0,v3(a),a.stack=u.stack),this._resyncElements(t),(c||m!==a._stacked)&&JK(this,a._parsed)}configure(){const t=this.chart.config,a=t.datasetScopeKeys(this._type),u=t.getOptionScopes(this.getDataset(),a,!0);this.options=t.createResolver(u,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,a){const{_cachedMeta:u,_data:c}=this,{iScale:m,_stacked:p}=u,x=m.axis;let k=t===0&&a===c.length?!0:u._sorted,D=t>0&&u._parsed[t-1],L,V,q;if(this._parsing===!1)u._parsed=c,u._sorted=!0,q=c;else{ju(c[t])?q=this.parseArrayData(u,c,t,a):so(c[t])?q=this.parseObjectData(u,c,t,a):q=this.parsePrimitiveData(u,c,t,a);const ie=()=>V[x]===null||D&&V[x]<D[x];for(L=0;L<a;++L)u._parsed[L+t]=V=q[L],k&&(ie()&&(k=!1),D=V);u._sorted=k}p&&JK(this,q)}parsePrimitiveData(t,a,u,c){const{iScale:m,vScale:p}=t,x=m.axis,k=p.axis,D=m.getLabels(),L=m===p,V=new Array(c);let q,ie,ee;for(q=0,ie=c;q<ie;++q)ee=q+u,V[q]={[x]:L||m.parse(D[ee],ee),[k]:p.parse(a[ee],ee)};return V}parseArrayData(t,a,u,c){const{xScale:m,yScale:p}=t,x=new Array(c);let k,D,L,V;for(k=0,D=c;k<D;++k)L=k+u,V=a[L],x[k]={x:m.parse(V[0],L),y:p.parse(V[1],L)};return x}parseObjectData(t,a,u,c){const{xScale:m,yScale:p}=t,{xAxisKey:x="x",yAxisKey:k="y"}=this._parsing,D=new Array(c);let L,V,q,ie;for(L=0,V=c;L<V;++L)q=L+u,ie=a[q],D[L]={x:m.parse(rS(ie,x),q),y:p.parse(rS(ie,k),q)};return D}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,a,u){const c=this.chart,m=this._cachedMeta,p=a[t.axis],x={keys:KQ(c,!0),values:a._stacks[t.axis]._visualValues};return KK(x,p,m.index,{mode:u})}updateRangeFromParsed(t,a,u,c){const m=u[a.axis];let p=m===null?NaN:m;const x=c&&u._stacks[a.axis];c&&x&&(c.values=x,p=KK(c,m,this._cachedMeta.index)),t.min=Math.min(t.min,p),t.max=Math.max(t.max,p)}getMinMax(t,a){const u=this._cachedMeta,c=u._parsed,m=u._sorted&&t===u.iScale,p=c.length,x=this._getOtherScale(t),k=jge(a,u,this.chart),D={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:L,max:V}=Hge(x);let q,ie;function ee(){ie=c[q];const se=ie[x.axis];return!nc(ie[t.axis])||L>se||V<se}for(q=0;q<p&&!(!ee()&&(this.updateRangeFromParsed(D,t,ie,k),m));++q);if(m){for(q=p-1;q>=0;--q)if(!ee()){this.updateRangeFromParsed(D,t,ie,k);break}}return D}getAllParsedValues(t){const a=this._cachedMeta._parsed,u=[];let c,m,p;for(c=0,m=a.length;c<m;++c)p=a[c][t.axis],nc(p)&&u.push(p);return u}getMaxOverflow(){return!1}getLabelAndValue(t){const a=this._cachedMeta,u=a.iScale,c=a.vScale,m=this.getParsed(t);return{label:u?""+u.getLabelForValue(m[u.axis]):"",value:c?""+c.getLabelForValue(m[c.axis]):""}}_update(t){const a=this._cachedMeta;this.update(t||"default"),a._clip=Nge(Ei(this.options.clip,Fge(a.xScale,a.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,a=this.chart,u=this._cachedMeta,c=u.data||[],m=a.chartArea,p=[],x=this._drawStart||0,k=this._drawCount||c.length-x,D=this.options.drawActiveElementsOnTop;let L;for(u.dataset&&u.dataset.draw(t,m,x,k),L=x;L<x+k;++L){const V=c[L];V.hidden||(V.active&&D?p.push(V):V.draw(t,m))}for(L=0;L<p.length;++L)p[L].draw(t,m)}getStyle(t,a){const u=a?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(u):this.resolveDataElementOptions(t||0,u)}getContext(t,a,u){const c=this.getDataset();let m;if(t>=0&&t<this._cachedMeta.data.length){const p=this._cachedMeta.data[t];m=p.$context||(p.$context=Wge(this.getContext(),t,p)),m.parsed=this.getParsed(t),m.raw=c.data[t],m.index=m.dataIndex=t}else m=this.$context||(this.$context=Uge(this.chart.getContext(),this.index)),m.dataset=c,m.index=m.datasetIndex=this.index;return m.active=!!a,m.mode=u,m}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,a){return this._resolveElementOptions(this.dataElementType.id,a,t)}_resolveElementOptions(t,a="default",u){const c=a==="active",m=this._cachedDataOpts,p=t+"-"+a,x=m[p],k=this.enableOptionSharing&&j3(u);if(x)return QK(x,k);const D=this.chart.config,L=D.datasetElementScopeKeys(this._type,t),V=c?[`${t}Hover`,"hover",t,""]:[t,""],q=D.getOptionScopes(this.getDataset(),L),ie=Object.keys(rc.elements[t]),ee=()=>this.getContext(u,c,a),se=D.resolveNamedOptions(q,ie,ee,V);return se.$shared&&(se.$shared=k,m[p]=Object.freeze(QK(se,k))),se}_resolveAnimations(t,a,u){const c=this.chart,m=this._cachedDataOpts,p=`animation-${a}`,x=m[p];if(x)return x;let k;if(c.options.animation!==!1){const L=this.chart.config,V=L.datasetAnimationScopeKeys(this._type,a),q=L.getOptionScopes(this.getDataset(),V);k=L.createResolver(q,this.getContext(t,u,a))}const D=new GQ(c,k&&k.animations);return k&&k._cacheable&&(m[p]=Object.freeze(D)),D}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,a){return!a||nW(t)||this.chart._animationsDisabled}_getSharedOptions(t,a){const u=this.resolveDataElementOptions(t,a),c=this._sharedOptions,m=this.getSharedOptions(u),p=this.includeOptions(a,m)||m!==c;return this.updateSharedOptions(m,a,u),{sharedOptions:m,includeOptions:p}}updateElement(t,a,u,c){nW(c)?Object.assign(t,u):this._resolveAnimations(a,c).update(t,u)}updateSharedOptions(t,a,u){t&&!nW(a)&&this._resolveAnimations(void 0,a).update(t,u)}_setStyle(t,a,u,c){t.active=c;const m=this.getStyle(a,c);this._resolveAnimations(a,u,c).update(t,{options:!c&&this.getSharedOptions(m)||m})}removeHoverStyle(t,a,u){this._setStyle(t,u,"active",!1)}setHoverStyle(t,a,u){this._setStyle(t,u,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const a=this._data,u=this._cachedMeta.data;for(const[x,k,D]of this._syncList)this[x](k,D);this._syncList=[];const c=u.length,m=a.length,p=Math.min(m,c);p&&this.parse(0,p),m>c?this._insertElements(c,m-c,t):m<c&&this._removeElements(m,c-m)}_insertElements(t,a,u=!0){const c=this._cachedMeta,m=c.data,p=t+a;let x;const k=D=>{for(D.length+=a,x=D.length-1;x>=p;x--)D[x]=D[x-a]};for(k(m),x=t;x<p;++x)m[x]=new this.dataElementType;this._parsing&&k(c._parsed),this.parse(t,a),u&&this.updateElements(m,t,a,"reset")}updateElements(t,a,u,c){}_removeElements(t,a){const u=this._cachedMeta;if(this._parsing){const c=u._parsed.splice(t,a);u._stacked&&v3(u,c)}u.data.splice(t,a)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[a,u,c]=t;this[a](u,c)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,a){a&&this._sync(["_removeElements",t,a]);const u=arguments.length-2;u&&this._sync(["_insertElements",t,u])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}fr(X0,"defaults",{}),fr(X0,"datasetElementType",null),fr(X0,"dataElementType",null);function Yge(i,t){if(!i._cache.$bar){const a=i.getMatchingVisibleMetas(t);let u=[];for(let c=0,m=a.length;c<m;c++)u=u.concat(a[c].controller.getAllParsedValues(i));i._cache.$bar=AQ(u.sort((c,m)=>c-m))}return i._cache.$bar}function qge(i){const t=i.iScale,a=Yge(t,i.type);let u=t._length,c,m,p,x;const k=()=>{p===32767||p===-32768||(j3(x)&&(u=Math.min(u,Math.abs(p-x)||u)),x=p)};for(c=0,m=a.length;c<m;++c)p=t.getPixelForValue(a[c]),k();for(x=void 0,c=0,m=t.ticks.length;c<m;++c)p=t.getPixelForTick(c),k();return u}function Gge(i,t,a,u){const c=a.barThickness;let m,p;return Do(c)?(m=t.min*a.categoryPercentage,p=a.barPercentage):(m=c*u,p=1),{chunk:m/u,ratio:p,start:t.pixels[i]-m/2}}function Kge(i,t,a,u){const c=t.pixels,m=c[i];let p=i>0?c[i-1]:null,x=i<c.length-1?c[i+1]:null;const k=a.categoryPercentage;p===null&&(p=m-(x===null?t.end-t.start:x-m)),x===null&&(x=m+m-p);const D=m-(m-Math.min(p,x))/2*k;return{chunk:Math.abs(x-p)/2*k/u,ratio:a.barPercentage,start:D}}function Xge(i,t,a,u){const c=a.parse(i[0],u),m=a.parse(i[1],u),p=Math.min(c,m),x=Math.max(c,m);let k=p,D=x;Math.abs(p)>Math.abs(x)&&(k=x,D=p),t[a.axis]=D,t._custom={barStart:k,barEnd:D,start:c,end:m,min:p,max:x}}function XQ(i,t,a,u){return ju(i)?Xge(i,t,a,u):t[a.axis]=a.parse(i,u),t}function eX(i,t,a,u){const c=i.iScale,m=i.vScale,p=c.getLabels(),x=c===m,k=[];let D,L,V,q;for(D=a,L=a+u;D<L;++D)q=t[D],V={},V[c.axis]=x||c.parse(p[D],D),k.push(XQ(q,V,m,D));return k}function rW(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function Zge(i,t,a){return i!==0?Jb(i):(t.isHorizontal()?1:-1)*(t.min>=a?1:-1)}function Jge(i){let t,a,u,c,m;return i.horizontal?(t=i.base>i.x,a="left",u="right"):(t=i.base<i.y,a="bottom",u="top"),t?(c="end",m="start"):(c="start",m="end"),{start:a,end:u,reverse:t,top:c,bottom:m}}function Qge(i,t,a,u){let c=t.borderSkipped;const m={};if(!c){i.borderSkipped=m;return}if(c===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:p,end:x,reverse:k,top:D,bottom:L}=Jge(i);c==="middle"&&a&&(i.enableBorderRadius=!0,(a._top||0)===u?c=D:(a._bottom||0)===u?c=L:(m[tX(L,p,x,k)]=!0,c=D)),m[tX(c,p,x,k)]=!0,i.borderSkipped=m}function tX(i,t,a,u){return u?(i=epe(i,t,a),i=nX(i,a,t)):i=nX(i,t,a),i}function epe(i,t,a){return i===t?a:i===a?t:i}function nX(i,t,a){return i==="start"?t:i==="end"?a:i}function tpe(i,{inflateAmount:t},a){i.inflateAmount=t==="auto"?a===1?.33:0:t}class y5 extends X0{parsePrimitiveData(t,a,u,c){return eX(t,a,u,c)}parseArrayData(t,a,u,c){return eX(t,a,u,c)}parseObjectData(t,a,u,c){const{iScale:m,vScale:p}=t,{xAxisKey:x="x",yAxisKey:k="y"}=this._parsing,D=m.axis==="x"?x:k,L=p.axis==="x"?x:k,V=[];let q,ie,ee,se;for(q=u,ie=u+c;q<ie;++q)se=a[q],ee={},ee[m.axis]=m.parse(rS(se,D),q),V.push(XQ(rS(se,L),ee,p,q));return V}updateRangeFromParsed(t,a,u,c){super.updateRangeFromParsed(t,a,u,c);const m=u._custom;m&&a===this._cachedMeta.vScale&&(t.min=Math.min(t.min,m.min),t.max=Math.max(t.max,m.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const a=this._cachedMeta,{iScale:u,vScale:c}=a,m=this.getParsed(t),p=m._custom,x=rW(p)?"["+p.start+", "+p.end+"]":""+c.getLabelForValue(m[c.axis]);return{label:""+u.getLabelForValue(m[u.axis]),value:x}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const a=this._cachedMeta;this.updateElements(a.data,0,a.data.length,t)}updateElements(t,a,u,c){const m=c==="reset",{index:p,_cachedMeta:{vScale:x}}=this,k=x.getBasePixel(),D=x.isHorizontal(),L=this._getRuler(),{sharedOptions:V,includeOptions:q}=this._getSharedOptions(a,c);for(let ie=a;ie<a+u;ie++){const ee=this.getParsed(ie),se=m||Do(ee[x.axis])?{base:k,head:k}:this._calculateBarValuePixels(ie),Te=this._calculateBarIndexPixels(ie,L),_e=(ee._stacks||{})[x.axis],be={horizontal:D,base:se.base,enableBorderRadius:!_e||rW(ee._custom)||p===_e._top||p===_e._bottom,x:D?se.head:Te.center,y:D?Te.center:se.head,height:D?Te.size:Math.abs(se.size),width:D?Math.abs(se.size):Te.size};q&&(be.options=V||this.resolveDataElementOptions(ie,t[ie].active?"active":c));const le=be.options||t[ie].options;Qge(be,le,_e,p),tpe(be,le,L.ratio),this.updateElement(t[ie],ie,be,c)}}_getStacks(t,a){const{iScale:u}=this._cachedMeta,c=u.getMatchingVisibleMetas(this._type).filter(k=>k.controller.options.grouped),m=u.options.stacked,p=[],x=k=>{const D=k.controller.getParsed(a),L=D&&D[k.vScale.axis];if(Do(L)||isNaN(L))return!0};for(const k of c)if(!(a!==void 0&&x(k))&&((m===!1||p.indexOf(k.stack)===-1||m===void 0&&k.stack===void 0)&&p.push(k.stack),k.index===t))break;return p.length||p.push(void 0),p}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,a,u){const c=this._getStacks(t,u),m=a!==void 0?c.indexOf(a):-1;return m===-1?c.length-1:m}_getRuler(){const t=this.options,a=this._cachedMeta,u=a.iScale,c=[];let m,p;for(m=0,p=a.data.length;m<p;++m)c.push(u.getPixelForValue(this.getParsed(m)[u.axis],m));const x=t.barThickness;return{min:x||qge(a),pixels:c,start:u._startPixel,end:u._endPixel,stackCount:this._getStackCount(),scale:u,grouped:t.grouped,ratio:x?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:a,_stacked:u,index:c},options:{base:m,minBarLength:p}}=this,x=m||0,k=this.getParsed(t),D=k._custom,L=rW(D);let V=k[a.axis],q=0,ie=u?this.applyStack(a,k,u):V,ee,se;ie!==V&&(q=ie-V,ie=V),L&&(V=D.barStart,ie=D.barEnd-D.barStart,V!==0&&Jb(V)!==Jb(D.barEnd)&&(q=0),q+=V);const Te=!Do(m)&&!L?m:q;let _e=a.getPixelForValue(Te);if(this.chart.getDataVisibility(t)?ee=a.getPixelForValue(q+ie):ee=_e,se=ee-_e,Math.abs(se)<p){se=Zge(se,a,x)*p,V===x&&(_e-=se/2);const be=a.getPixelForDecimal(0),le=a.getPixelForDecimal(1),Pe=Math.min(be,le),Oe=Math.max(be,le);_e=Math.max(Math.min(_e,Oe),Pe),ee=_e+se,u&&!L&&(k._stacks[a.axis]._visualValues[c]=a.getValueForPixel(ee)-a.getValueForPixel(_e))}if(_e===a.getPixelForValue(x)){const be=Jb(se)*a.getLineWidthForValue(x)/2;_e+=be,se-=be}return{size:se,base:_e,head:ee,center:ee+se/2}}_calculateBarIndexPixels(t,a){const u=a.scale,c=this.options,m=c.skipNull,p=Ei(c.maxBarThickness,1/0);let x,k;if(a.grouped){const D=m?this._getStackCount(t):a.stackCount,L=c.barThickness==="flex"?Kge(t,a,c,D):Gge(t,a,c,D),V=this._getStackIndex(this.index,this._cachedMeta.stack,m?t:void 0);x=L.start+L.chunk*V+L.chunk/2,k=Math.min(p,L.chunk*L.ratio)}else x=u.getPixelForValue(this.getParsed(t)[u.axis],t),k=Math.min(p,a.min*a.ratio);return{base:x-k/2,head:x+k/2,center:x,size:k}}draw(){const t=this._cachedMeta,a=t.vScale,u=t.data,c=u.length;let m=0;for(;m<c;++m)this.getParsed(m)[a.axis]!==null&&u[m].draw(this._ctx)}}fr(y5,"id","bar"),fr(y5,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),fr(y5,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class _5 extends X0{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,a,u,c){const m=super.parsePrimitiveData(t,a,u,c);for(let p=0;p<m.length;p++)m[p]._custom=this.resolveDataElementOptions(p+u).radius;return m}parseArrayData(t,a,u,c){const m=super.parseArrayData(t,a,u,c);for(let p=0;p<m.length;p++){const x=a[u+p];m[p]._custom=Ei(x[2],this.resolveDataElementOptions(p+u).radius)}return m}parseObjectData(t,a,u,c){const m=super.parseObjectData(t,a,u,c);for(let p=0;p<m.length;p++){const x=a[u+p];m[p]._custom=Ei(x&&x.r&&+x.r,this.resolveDataElementOptions(p+u).radius)}return m}getMaxOverflow(){const t=this._cachedMeta.data;let a=0;for(let u=t.length-1;u>=0;--u)a=Math.max(a,t[u].size(this.resolveDataElementOptions(u))/2);return a>0&&a}getLabelAndValue(t){const a=this._cachedMeta,u=this.chart.data.labels||[],{xScale:c,yScale:m}=a,p=this.getParsed(t),x=c.getLabelForValue(p.x),k=m.getLabelForValue(p.y),D=p._custom;return{label:u[t]||"",value:"("+x+", "+k+(D?", "+D:"")+")"}}update(t){const a=this._cachedMeta.data;this.updateElements(a,0,a.length,t)}updateElements(t,a,u,c){const m=c==="reset",{iScale:p,vScale:x}=this._cachedMeta,{sharedOptions:k,includeOptions:D}=this._getSharedOptions(a,c),L=p.axis,V=x.axis;for(let q=a;q<a+u;q++){const ie=t[q],ee=!m&&this.getParsed(q),se={},Te=se[L]=m?p.getPixelForDecimal(.5):p.getPixelForValue(ee[L]),_e=se[V]=m?x.getBasePixel():x.getPixelForValue(ee[V]);se.skip=isNaN(Te)||isNaN(_e),D&&(se.options=k||this.resolveDataElementOptions(q,ie.active?"active":c),m&&(se.options.radius=0)),this.updateElement(ie,q,se,c)}}resolveDataElementOptions(t,a){const u=this.getParsed(t);let c=super.resolveDataElementOptions(t,a);c.$shared&&(c=Object.assign({},c,{$shared:!1}));const m=c.radius;return a!=="active"&&(c.radius=0),c.radius+=Ei(u&&u._custom,m),c}}fr(_5,"id","bubble"),fr(_5,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),fr(_5,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function npe(i,t,a){let u=1,c=1,m=0,p=0;if(t<Yu){const x=i,k=x+t,D=Math.cos(x),L=Math.sin(x),V=Math.cos(k),q=Math.sin(k),ie=(le,Pe,Oe)=>Y3(le,x,k,!0)?1:Math.max(Pe,Pe*a,Oe,Oe*a),ee=(le,Pe,Oe)=>Y3(le,x,k,!0)?-1:Math.min(Pe,Pe*a,Oe,Oe*a),se=ie(0,D,V),Te=ie(Dc,L,q),_e=ee(qu,D,V),be=ee(qu+Dc,L,q);u=(se-_e)/2,c=(Te-be)/2,m=-(se+_e)/2,p=-(Te+be)/2}return{ratioX:u,ratioY:c,offsetX:m,offsetY:p}}class kk extends X0{constructor(t,a){super(t,a),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,a){const u=this.getDataset().data,c=this._cachedMeta;if(this._parsing===!1)c._parsed=u;else{let m=k=>+u[k];if(so(u[t])){const{key:k="value"}=this._parsing;m=D=>+rS(u[D],k)}let p,x;for(p=t,x=t+a;p<x;++p)c._parsed[p]=m(p)}}_getRotation(){return G0(this.options.rotation-90)}_getCircumference(){return G0(this.options.circumference)}_getRotationExtents(){let t=Yu,a=-Yu;for(let u=0;u<this.chart.data.datasets.length;++u)if(this.chart.isDatasetVisible(u)&&this.chart.getDatasetMeta(u).type===this._type){const c=this.chart.getDatasetMeta(u).controller,m=c._getRotation(),p=c._getCircumference();t=Math.min(t,m),a=Math.max(a,m+p)}return{rotation:t,circumference:a-t}}update(t){const a=this.chart,{chartArea:u}=a,c=this._cachedMeta,m=c.data,p=this.getMaxBorderWidth()+this.getMaxOffset(m)+this.options.spacing,x=Math.max((Math.min(u.width,u.height)-p)/2,0),k=Math.min(gme(this.options.cutout,x),1),D=this._getRingWeight(this.index),{circumference:L,rotation:V}=this._getRotationExtents(),{ratioX:q,ratioY:ie,offsetX:ee,offsetY:se}=npe(V,L,k),Te=(u.width-p)/q,_e=(u.height-p)/ie,be=Math.max(Math.min(Te,_e)/2,0),le=CQ(this.options.radius,be),Pe=Math.max(le*k,0),Oe=(le-Pe)/this._getVisibleDatasetWeightTotal();this.offsetX=ee*le,this.offsetY=se*le,c.total=this.calculateTotal(),this.outerRadius=le-Oe*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Oe*D,0),this.updateElements(m,0,m.length,t)}_circumference(t,a){const u=this.options,c=this._cachedMeta,m=this._getCircumference();return a&&u.animation.animateRotate||!this.chart.getDataVisibility(t)||c._parsed[t]===null||c.data[t].hidden?0:this.calculateCircumference(c._parsed[t]*m/Yu)}updateElements(t,a,u,c){const m=c==="reset",p=this.chart,x=p.chartArea,D=p.options.animation,L=(x.left+x.right)/2,V=(x.top+x.bottom)/2,q=m&&D.animateScale,ie=q?0:this.innerRadius,ee=q?0:this.outerRadius,{sharedOptions:se,includeOptions:Te}=this._getSharedOptions(a,c);let _e=this._getRotation(),be;for(be=0;be<a;++be)_e+=this._circumference(be,m);for(be=a;be<a+u;++be){const le=this._circumference(be,m),Pe=t[be],Oe={x:L+this.offsetX,y:V+this.offsetY,startAngle:_e,endAngle:_e+le,circumference:le,outerRadius:ee,innerRadius:ie};Te&&(Oe.options=se||this.resolveDataElementOptions(be,Pe.active?"active":c)),_e+=le,this.updateElement(Pe,be,Oe,c)}}calculateTotal(){const t=this._cachedMeta,a=t.data;let u=0,c;for(c=0;c<a.length;c++){const m=t._parsed[c];m!==null&&!isNaN(m)&&this.chart.getDataVisibility(c)&&!a[c].hidden&&(u+=Math.abs(m))}return u}calculateCircumference(t){const a=this._cachedMeta.total;return a>0&&!isNaN(t)?Yu*(Math.abs(t)/a):0}getLabelAndValue(t){const a=this._cachedMeta,u=this.chart,c=u.data.labels||[],m=cI(a._parsed[t],u.options.locale);return{label:c[t]||"",value:m}}getMaxBorderWidth(t){let a=0;const u=this.chart;let c,m,p,x,k;if(!t){for(c=0,m=u.data.datasets.length;c<m;++c)if(u.isDatasetVisible(c)){p=u.getDatasetMeta(c),t=p.data,x=p.controller;break}}if(!t)return 0;for(c=0,m=t.length;c<m;++c)k=x.resolveDataElementOptions(c),k.borderAlign!=="inner"&&(a=Math.max(a,k.borderWidth||0,k.hoverBorderWidth||0));return a}getMaxOffset(t){let a=0;for(let u=0,c=t.length;u<c;++u){const m=this.resolveDataElementOptions(u);a=Math.max(a,m.offset||0,m.hoverOffset||0)}return a}_getRingWeightOffset(t){let a=0;for(let u=0;u<t;++u)this.chart.isDatasetVisible(u)&&(a+=this._getRingWeight(u));return a}_getRingWeight(t){return Math.max(Ei(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}fr(kk,"id","doughnut"),fr(kk,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),fr(kk,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),fr(kk,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const a=t.data;if(a.labels.length&&a.datasets.length){const{labels:{pointStyle:u,color:c}}=t.legend.options;return a.labels.map((m,p)=>{const k=t.getDatasetMeta(0).controller.getStyle(p);return{text:m,fillStyle:k.backgroundColor,strokeStyle:k.borderColor,fontColor:c,lineWidth:k.borderWidth,pointStyle:u,hidden:!t.getDataVisibility(p),index:p}})}return[]}},onClick(t,a,u){u.chart.toggleDataVisibility(a.index),u.chart.update()}}}});class w5 extends X0{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const a=this._cachedMeta,{dataset:u,data:c=[],_dataset:m}=a,p=this.chart._animationsDisabled;let{start:x,count:k}=MQ(a,c,p);this._drawStart=x,this._drawCount=k,RQ(a)&&(x=0,k=c.length),u._chart=this.chart,u._datasetIndex=this.index,u._decimated=!!m._decimated,u.points=c;const D=this.resolveDatasetElementOptions(t);this.options.showLine||(D.borderWidth=0),D.segment=this.options.segment,this.updateElement(u,void 0,{animated:!p,options:D},t),this.updateElements(c,x,k,t)}updateElements(t,a,u,c){const m=c==="reset",{iScale:p,vScale:x,_stacked:k,_dataset:D}=this._cachedMeta,{sharedOptions:L,includeOptions:V}=this._getSharedOptions(a,c),q=p.axis,ie=x.axis,{spanGaps:ee,segment:se}=this.options,Te=_D(ee)?ee:Number.POSITIVE_INFINITY,_e=this.chart._animationsDisabled||m||c==="none",be=a+u,le=t.length;let Pe=a>0&&this.getParsed(a-1);for(let Oe=0;Oe<le;++Oe){const lt=t[Oe],at=_e?lt:{};if(Oe<a||Oe>=be){at.skip=!0;continue}const K=this.getParsed(Oe),de=Do(K[ie]),ve=at[q]=p.getPixelForValue(K[q],Oe),Ue=at[ie]=m||de?x.getBasePixel():x.getPixelForValue(k?this.applyStack(x,K,k):K[ie],Oe);at.skip=isNaN(ve)||isNaN(Ue)||de,at.stop=Oe>0&&Math.abs(K[q]-Pe[q])>Te,se&&(at.parsed=K,at.raw=D.data[Oe]),V&&(at.options=L||this.resolveDataElementOptions(Oe,lt.active?"active":c)),_e||this.updateElement(lt,Oe,at,c),Pe=K}}getMaxOverflow(){const t=this._cachedMeta,a=t.dataset,u=a.options&&a.options.borderWidth||0,c=t.data||[];if(!c.length)return u;const m=c[0].size(this.resolveDataElementOptions(0)),p=c[c.length-1].size(this.resolveDataElementOptions(c.length-1));return Math.max(u,m,p)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}fr(w5,"id","line"),fr(w5,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),fr(w5,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class B3 extends X0{constructor(t,a){super(t,a),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const a=this._cachedMeta,u=this.chart,c=u.data.labels||[],m=cI(a._parsed[t].r,u.options.locale);return{label:c[t]||"",value:m}}parseObjectData(t,a,u,c){return zQ.bind(this)(t,a,u,c)}update(t){const a=this._cachedMeta.data;this._updateRadius(),this.updateElements(a,0,a.length,t)}getMinMax(){const t=this._cachedMeta,a={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((u,c)=>{const m=this.getParsed(c).r;!isNaN(m)&&this.chart.getDataVisibility(c)&&(m<a.min&&(a.min=m),m>a.max&&(a.max=m))}),a}_updateRadius(){const t=this.chart,a=t.chartArea,u=t.options,c=Math.min(a.right-a.left,a.bottom-a.top),m=Math.max(c/2,0),p=Math.max(u.cutoutPercentage?m/100*u.cutoutPercentage:1,0),x=(m-p)/t.getVisibleDatasetCount();this.outerRadius=m-x*this.index,this.innerRadius=this.outerRadius-x}updateElements(t,a,u,c){const m=c==="reset",p=this.chart,k=p.options.animation,D=this._cachedMeta.rScale,L=D.xCenter,V=D.yCenter,q=D.getIndexAngle(0)-.5*qu;let ie=q,ee;const se=360/this.countVisibleElements();for(ee=0;ee<a;++ee)ie+=this._computeAngle(ee,c,se);for(ee=a;ee<a+u;ee++){const Te=t[ee];let _e=ie,be=ie+this._computeAngle(ee,c,se),le=p.getDataVisibility(ee)?D.getDistanceFromCenterForValue(this.getParsed(ee).r):0;ie=be,m&&(k.animateScale&&(le=0),k.animateRotate&&(_e=be=q));const Pe={x:L,y:V,innerRadius:0,outerRadius:le,startAngle:_e,endAngle:be,options:this.resolveDataElementOptions(ee,Te.active?"active":c)};this.updateElement(Te,ee,Pe,c)}}countVisibleElements(){const t=this._cachedMeta;let a=0;return t.data.forEach((u,c)=>{!isNaN(this.getParsed(c).r)&&this.chart.getDataVisibility(c)&&a++}),a}_computeAngle(t,a,u){return this.chart.getDataVisibility(t)?G0(this.resolveDataElementOptions(t,a).angle||u):0}}fr(B3,"id","polarArea"),fr(B3,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),fr(B3,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const a=t.data;if(a.labels.length&&a.datasets.length){const{labels:{pointStyle:u,color:c}}=t.legend.options;return a.labels.map((m,p)=>{const k=t.getDatasetMeta(0).controller.getStyle(p);return{text:m,fillStyle:k.backgroundColor,strokeStyle:k.borderColor,fontColor:c,lineWidth:k.borderWidth,pointStyle:u,hidden:!t.getDataVisibility(p),index:p}})}return[]}},onClick(t,a,u){u.chart.toggleDataVisibility(a.index),u.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class YW extends kk{}fr(YW,"id","pie"),fr(YW,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class x5 extends X0{getLabelAndValue(t){const a=this._cachedMeta.vScale,u=this.getParsed(t);return{label:a.getLabels()[t],value:""+a.getLabelForValue(u[a.axis])}}parseObjectData(t,a,u,c){return zQ.bind(this)(t,a,u,c)}update(t){const a=this._cachedMeta,u=a.dataset,c=a.data||[],m=a.iScale.getLabels();if(u.points=c,t!=="resize"){const p=this.resolveDatasetElementOptions(t);this.options.showLine||(p.borderWidth=0);const x={_loop:!0,_fullLoop:m.length===c.length,options:p};this.updateElement(u,void 0,x,t)}this.updateElements(c,0,c.length,t)}updateElements(t,a,u,c){const m=this._cachedMeta.rScale,p=c==="reset";for(let x=a;x<a+u;x++){const k=t[x],D=this.resolveDataElementOptions(x,k.active?"active":c),L=m.getPointPositionForValue(x,this.getParsed(x).r),V=p?m.xCenter:L.x,q=p?m.yCenter:L.y,ie={x:V,y:q,angle:L.angle,skip:isNaN(V)||isNaN(q),options:D};this.updateElement(k,x,ie,c)}}}fr(x5,"id","radar"),fr(x5,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),fr(x5,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class C5 extends X0{getLabelAndValue(t){const a=this._cachedMeta,u=this.chart.data.labels||[],{xScale:c,yScale:m}=a,p=this.getParsed(t),x=c.getLabelForValue(p.x),k=m.getLabelForValue(p.y);return{label:u[t]||"",value:"("+x+", "+k+")"}}update(t){const a=this._cachedMeta,{data:u=[]}=a,c=this.chart._animationsDisabled;let{start:m,count:p}=MQ(a,u,c);if(this._drawStart=m,this._drawCount=p,RQ(a)&&(m=0,p=u.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:x,_dataset:k}=a;x._chart=this.chart,x._datasetIndex=this.index,x._decimated=!!k._decimated,x.points=u;const D=this.resolveDatasetElementOptions(t);D.segment=this.options.segment,this.updateElement(x,void 0,{animated:!c,options:D},t)}else this.datasetElementType&&(delete a.dataset,this.datasetElementType=!1);this.updateElements(u,m,p,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,a,u,c){const m=c==="reset",{iScale:p,vScale:x,_stacked:k,_dataset:D}=this._cachedMeta,L=this.resolveDataElementOptions(a,c),V=this.getSharedOptions(L),q=this.includeOptions(c,V),ie=p.axis,ee=x.axis,{spanGaps:se,segment:Te}=this.options,_e=_D(se)?se:Number.POSITIVE_INFINITY,be=this.chart._animationsDisabled||m||c==="none";let le=a>0&&this.getParsed(a-1);for(let Pe=a;Pe<a+u;++Pe){const Oe=t[Pe],lt=this.getParsed(Pe),at=be?Oe:{},K=Do(lt[ee]),de=at[ie]=p.getPixelForValue(lt[ie],Pe),ve=at[ee]=m||K?x.getBasePixel():x.getPixelForValue(k?this.applyStack(x,lt,k):lt[ee],Pe);at.skip=isNaN(de)||isNaN(ve)||K,at.stop=Pe>0&&Math.abs(lt[ie]-le[ie])>_e,Te&&(at.parsed=lt,at.raw=D.data[Pe]),q&&(at.options=V||this.resolveDataElementOptions(Pe,Oe.active?"active":c)),be||this.updateElement(Oe,Pe,at,c),le=lt}this.updateSharedOptions(V,c,L)}getMaxOverflow(){const t=this._cachedMeta,a=t.data||[];if(!this.options.showLine){let x=0;for(let k=a.length-1;k>=0;--k)x=Math.max(x,a[k].size(this.resolveDataElementOptions(k))/2);return x>0&&x}const u=t.dataset,c=u.options&&u.options.borderWidth||0;if(!a.length)return c;const m=a[0].size(this.resolveDataElementOptions(0)),p=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(c,m,p)/2}}fr(C5,"id","scatter"),fr(C5,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),fr(C5,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var rpe=Object.freeze({__proto__:null,BarController:y5,BubbleController:_5,DoughnutController:kk,LineController:w5,PieController:YW,PolarAreaController:B3,RadarController:x5,ScatterController:C5});function vk(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Qj{constructor(t){fr(this,"options");this.options=t||{}}static override(t){Object.assign(Qj.prototype,t)}init(){}formats(){return vk()}parse(){return vk()}format(){return vk()}add(){return vk()}diff(){return vk()}startOf(){return vk()}endOf(){return vk()}}var ape={_date:Qj};function ipe(i,t,a,u){const{controller:c,data:m,_sorted:p}=i,x=c._cachedMeta.iScale;if(x&&t===x.axis&&t!=="r"&&p&&m.length){const k=x._reversePixels?Ame:Ew;if(u){if(c._sharedOptions){const D=m[0],L=typeof D.getRange=="function"&&D.getRange(t);if(L){const V=k(m,t,a-L),q=k(m,t,a+L);return{lo:V.lo,hi:q.hi}}}}else return k(m,t,a)}return{lo:0,hi:m.length-1}}function fI(i,t,a,u,c){const m=i.getSortedVisibleDatasetMetas(),p=a[t];for(let x=0,k=m.length;x<k;++x){const{index:D,data:L}=m[x],{lo:V,hi:q}=ipe(m[x],t,p,c);for(let ie=V;ie<=q;++ie){const ee=L[ie];ee.skip||u(ee,D,ie)}}}function ope(i){const t=i.indexOf("x")!==-1,a=i.indexOf("y")!==-1;return function(u,c){const m=t?Math.abs(u.x-c.x):0,p=a?Math.abs(u.y-c.y):0;return Math.sqrt(Math.pow(m,2)+Math.pow(p,2))}}function aW(i,t,a,u,c){const m=[];return!c&&!i.isPointInArea(t)||fI(i,a,t,function(x,k,D){!c&&!kw(x,i.chartArea,0)||x.inRange(t.x,t.y,u)&&m.push({element:x,datasetIndex:k,index:D})},!0),m}function spe(i,t,a,u){let c=[];function m(p,x,k){const{startAngle:D,endAngle:L}=p.getProps(["startAngle","endAngle"],u),{angle:V}=kQ(p,{x:t.x,y:t.y});Y3(V,D,L)&&c.push({element:p,datasetIndex:x,index:k})}return fI(i,a,t,m),c}function upe(i,t,a,u,c,m){let p=[];const x=ope(a);let k=Number.POSITIVE_INFINITY;function D(L,V,q){const ie=L.inRange(t.x,t.y,c);if(u&&!ie)return;const ee=L.getCenterPoint(c);if(!(!!m||i.isPointInArea(ee))&&!ie)return;const Te=x(t,ee);Te<k?(p=[{element:L,datasetIndex:V,index:q}],k=Te):Te===k&&p.push({element:L,datasetIndex:V,index:q})}return fI(i,a,t,D),p}function iW(i,t,a,u,c,m){return!m&&!i.isPointInArea(t)?[]:a==="r"&&!u?spe(i,t,a,c):upe(i,t,a,u,c,m)}function rX(i,t,a,u,c){const m=[],p=a==="x"?"inXRange":"inYRange";let x=!1;return fI(i,a,t,(k,D,L)=>{k[p](t[a],c)&&(m.push({element:k,datasetIndex:D,index:L}),x=x||k.inRange(t.x,t.y,c))}),u&&!x?[]:m}var lpe={evaluateInteractionItems:fI,modes:{index(i,t,a,u){const c=wk(t,i),m=a.axis||"x",p=a.includeInvisible||!1,x=a.intersect?aW(i,c,m,u,p):iW(i,c,m,!1,u,p),k=[];return x.length?(i.getSortedVisibleDatasetMetas().forEach(D=>{const L=x[0].index,V=D.data[L];V&&!V.skip&&k.push({element:V,datasetIndex:D.index,index:L})}),k):[]},dataset(i,t,a,u){const c=wk(t,i),m=a.axis||"xy",p=a.includeInvisible||!1;let x=a.intersect?aW(i,c,m,u,p):iW(i,c,m,!1,u,p);if(x.length>0){const k=x[0].datasetIndex,D=i.getDatasetMeta(k).data;x=[];for(let L=0;L<D.length;++L)x.push({element:D[L],datasetIndex:k,index:L})}return x},point(i,t,a,u){const c=wk(t,i),m=a.axis||"xy",p=a.includeInvisible||!1;return aW(i,c,m,u,p)},nearest(i,t,a,u){const c=wk(t,i),m=a.axis||"xy",p=a.includeInvisible||!1;return iW(i,c,m,a.intersect,u,p)},x(i,t,a,u){const c=wk(t,i);return rX(i,c,"x",a.intersect,u)},y(i,t,a,u){const c=wk(t,i);return rX(i,c,"y",a.intersect,u)}}};const ZQ=["left","top","right","bottom"];function h3(i,t){return i.filter(a=>a.pos===t)}function aX(i,t){return i.filter(a=>ZQ.indexOf(a.pos)===-1&&a.box.axis===t)}function m3(i,t){return i.sort((a,u)=>{const c=t?u:a,m=t?a:u;return c.weight===m.weight?c.index-m.index:c.weight-m.weight})}function cpe(i){const t=[];let a,u,c,m,p,x;for(a=0,u=(i||[]).length;a<u;++a)c=i[a],{position:m,options:{stack:p,stackWeight:x=1}}=c,t.push({index:a,box:c,pos:m,horizontal:c.isHorizontal(),weight:c.weight,stack:p&&m+p,stackWeight:x});return t}function fpe(i){const t={};for(const a of i){const{stack:u,pos:c,stackWeight:m}=a;if(!u||!ZQ.includes(c))continue;const p=t[u]||(t[u]={count:0,placed:0,weight:0,size:0});p.count++,p.weight+=m}return t}function dpe(i,t){const a=fpe(i),{vBoxMaxWidth:u,hBoxMaxHeight:c}=t;let m,p,x;for(m=0,p=i.length;m<p;++m){x=i[m];const{fullSize:k}=x.box,D=a[x.stack],L=D&&x.stackWeight/D.weight;x.horizontal?(x.width=L?L*u:k&&t.availableWidth,x.height=c):(x.width=u,x.height=L?L*c:k&&t.availableHeight)}return a}function vpe(i){const t=cpe(i),a=m3(t.filter(D=>D.box.fullSize),!0),u=m3(h3(t,"left"),!0),c=m3(h3(t,"right")),m=m3(h3(t,"top"),!0),p=m3(h3(t,"bottom")),x=aX(t,"x"),k=aX(t,"y");return{fullSize:a,leftAndTop:u.concat(m),rightAndBottom:c.concat(k).concat(p).concat(x),chartArea:h3(t,"chartArea"),vertical:u.concat(c).concat(k),horizontal:m.concat(p).concat(x)}}function iX(i,t,a,u){return Math.max(i[a],t[a])+Math.max(i[u],t[u])}function JQ(i,t){i.top=Math.max(i.top,t.top),i.left=Math.max(i.left,t.left),i.bottom=Math.max(i.bottom,t.bottom),i.right=Math.max(i.right,t.right)}function hpe(i,t,a,u){const{pos:c,box:m}=a,p=i.maxPadding;if(!so(c)){a.size&&(i[c]-=a.size);const V=u[a.stack]||{size:0,count:1};V.size=Math.max(V.size,a.horizontal?m.height:m.width),a.size=V.size/V.count,i[c]+=a.size}m.getPadding&&JQ(p,m.getPadding());const x=Math.max(0,t.outerWidth-iX(p,i,"left","right")),k=Math.max(0,t.outerHeight-iX(p,i,"top","bottom")),D=x!==i.w,L=k!==i.h;return i.w=x,i.h=k,a.horizontal?{same:D,other:L}:{same:L,other:D}}function mpe(i){const t=i.maxPadding;function a(u){const c=Math.max(t[u]-i[u],0);return i[u]+=c,c}i.y+=a("top"),i.x+=a("left"),a("right"),a("bottom")}function gpe(i,t){const a=t.maxPadding;function u(c){const m={left:0,top:0,right:0,bottom:0};return c.forEach(p=>{m[p]=Math.max(t[p],a[p])}),m}return u(i?["left","right"]:["top","bottom"])}function E3(i,t,a,u){const c=[];let m,p,x,k,D,L;for(m=0,p=i.length,D=0;m<p;++m){x=i[m],k=x.box,k.update(x.width||t.w,x.height||t.h,gpe(x.horizontal,t));const{same:V,other:q}=hpe(t,a,x,u);D|=V&&c.length,L=L||q,k.fullSize||c.push(x)}return D&&E3(c,t,a,u)||L}function qN(i,t,a,u,c){i.top=a,i.left=t,i.right=t+u,i.bottom=a+c,i.width=u,i.height=c}function oX(i,t,a,u){const c=a.padding;let{x:m,y:p}=t;for(const x of i){const k=x.box,D=u[x.stack]||{count:1,placed:0,weight:1},L=x.stackWeight/D.weight||1;if(x.horizontal){const V=t.w*L,q=D.size||k.height;j3(D.start)&&(p=D.start),k.fullSize?qN(k,c.left,p,a.outerWidth-c.right-c.left,q):qN(k,t.left+D.placed,p,V,q),D.start=p,D.placed+=V,p=k.bottom}else{const V=t.h*L,q=D.size||k.width;j3(D.start)&&(m=D.start),k.fullSize?qN(k,m,c.top,q,a.outerHeight-c.bottom-c.top):qN(k,m,t.top+D.placed,q,V),D.start=m,D.placed+=V,m=k.right}}t.x=m,t.y=p}var uv={addBox(i,t){i.boxes||(i.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(a){t.draw(a)}}]},i.boxes.push(t)},removeBox(i,t){const a=i.boxes?i.boxes.indexOf(t):-1;a!==-1&&i.boxes.splice(a,1)},configure(i,t,a){t.fullSize=a.fullSize,t.position=a.position,t.weight=a.weight},update(i,t,a,u){if(!i)return;const c=cv(i.options.layout.padding),m=Math.max(t-c.width,0),p=Math.max(a-c.height,0),x=vpe(i.boxes),k=x.vertical,D=x.horizontal;As(i.boxes,se=>{typeof se.beforeLayout=="function"&&se.beforeLayout()});const L=k.reduce((se,Te)=>Te.box.options&&Te.box.options.display===!1?se:se+1,0)||1,V=Object.freeze({outerWidth:t,outerHeight:a,padding:c,availableWidth:m,availableHeight:p,vBoxMaxWidth:m/2/L,hBoxMaxHeight:p/2}),q=Object.assign({},c);JQ(q,cv(u));const ie=Object.assign({maxPadding:q,w:m,h:p,x:c.left,y:c.top},c),ee=dpe(k.concat(D),V);E3(x.fullSize,ie,V,ee),E3(k,ie,V,ee),E3(D,ie,V,ee)&&E3(k,ie,V,ee),mpe(ie),oX(x.leftAndTop,ie,V,ee),ie.x+=ie.w,ie.y+=ie.h,oX(x.rightAndBottom,ie,V,ee),i.chartArea={left:ie.left,top:ie.top,right:ie.left+ie.w,bottom:ie.top+ie.h,height:ie.h,width:ie.w},As(x.chartArea,se=>{const Te=se.box;Object.assign(Te,i.chartArea),Te.update(ie.w,ie.h,{left:0,top:0,right:0,bottom:0})})}};class QQ{acquireContext(t,a){}releaseContext(t){return!1}addEventListener(t,a,u){}removeEventListener(t,a,u){}getDevicePixelRatio(){return 1}getMaximumSize(t,a,u,c){return a=Math.max(0,a||t.width),u=u||t.height,{width:a,height:Math.max(0,c?Math.floor(a/c):u)}}isAttached(t){return!0}updateConfig(t){}}class ppe extends QQ{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const S5="$chartjs",bpe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},sX=i=>i===null||i==="";function ype(i,t){const a=i.style,u=i.getAttribute("height"),c=i.getAttribute("width");if(i[S5]={initial:{height:u,width:c,style:{display:a.display,height:a.height,width:a.width}}},a.display=a.display||"block",a.boxSizing=a.boxSizing||"border-box",sX(c)){const m=UK(i,"width");m!==void 0&&(i.width=m)}if(sX(u))if(i.style.height==="")i.height=i.width/(t||2);else{const m=UK(i,"height");m!==void 0&&(i.height=m)}return i}const eee=wge?{passive:!0}:!1;function _pe(i,t,a){i.addEventListener(t,a,eee)}function wpe(i,t,a){i.canvas.removeEventListener(t,a,eee)}function xpe(i,t){const a=bpe[i.type]||i.type,{x:u,y:c}=wk(i,t);return{type:a,chart:t,native:i,x:u!==void 0?u:null,y:c!==void 0?c:null}}function G5(i,t){for(const a of i)if(a===t||a.contains(t))return!0}function Cpe(i,t,a){const u=i.canvas,c=new MutationObserver(m=>{let p=!1;for(const x of m)p=p||G5(x.addedNodes,u),p=p&&!G5(x.removedNodes,u);p&&a()});return c.observe(document,{childList:!0,subtree:!0}),c}function Spe(i,t,a){const u=i.canvas,c=new MutationObserver(m=>{let p=!1;for(const x of m)p=p||G5(x.removedNodes,u),p=p&&!G5(x.addedNodes,u);p&&a()});return c.observe(document,{childList:!0,subtree:!0}),c}const G3=new Map;let uX=0;function tee(){const i=window.devicePixelRatio;i!==uX&&(uX=i,G3.forEach((t,a)=>{a.currentDevicePixelRatio!==i&&t()}))}function Epe(i,t){G3.size||window.addEventListener("resize",tee),G3.set(i,t)}function kpe(i){G3.delete(i),G3.size||window.removeEventListener("resize",tee)}function Tpe(i,t,a){const u=i.canvas,c=u&&Jj(u);if(!c)return;const m=DQ((x,k)=>{const D=c.clientWidth;a(x,k),D<c.clientWidth&&a()},window),p=new ResizeObserver(x=>{const k=x[0],D=k.contentRect.width,L=k.contentRect.height;D===0&&L===0||m(D,L)});return p.observe(c),Epe(i,m),p}function oW(i,t,a){a&&a.disconnect(),t==="resize"&&kpe(i)}function Ape(i,t,a){const u=i.canvas,c=DQ(m=>{i.ctx!==null&&a(xpe(m,i))},i);return _pe(u,t,c),c}class Ope extends QQ{acquireContext(t,a){const u=t&&t.getContext&&t.getContext("2d");return u&&u.canvas===t?(ype(t,a),u):null}releaseContext(t){const a=t.canvas;if(!a[S5])return!1;const u=a[S5].initial;["height","width"].forEach(m=>{const p=u[m];Do(p)?a.removeAttribute(m):a.setAttribute(m,p)});const c=u.style||{};return Object.keys(c).forEach(m=>{a.style[m]=c[m]}),a.width=a.width,delete a[S5],!0}addEventListener(t,a,u){this.removeEventListener(t,a);const c=t.$proxies||(t.$proxies={}),p={attach:Cpe,detach:Spe,resize:Tpe}[a]||Ape;c[a]=p(t,a,u)}removeEventListener(t,a){const u=t.$proxies||(t.$proxies={}),c=u[a];if(!c)return;({attach:oW,detach:oW,resize:oW}[a]||wpe)(t,a,c),u[a]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,a,u,c){return _ge(t,a,u,c)}isAttached(t){const a=Jj(t);return!!(a&&a.isConnected)}}function Dpe(i){return!VQ()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?ppe:Ope}var c5;let Fw=(c5=class{constructor(){fr(this,"x");fr(this,"y");fr(this,"active",!1);fr(this,"options");fr(this,"$animations")}tooltipPosition(t){const{x:a,y:u}=this.getProps(["x","y"],t);return{x:a,y:u}}hasValue(){return _D(this.x)&&_D(this.y)}getProps(t,a){const u=this.$animations;if(!a||!u)return this;const c={};return t.forEach(m=>{c[m]=u[m]&&u[m].active()?u[m]._to:this[m]}),c}},fr(c5,"defaults",{}),fr(c5,"defaultRoutes"),c5);function Mpe(i,t){const a=i.options.ticks,u=Rpe(i),c=Math.min(a.maxTicksLimit||u,u),m=a.major.enabled?Ipe(t):[],p=m.length,x=m[0],k=m[p-1],D=[];if(p>c)return Bpe(t,D,m,p/c),D;const L=Ppe(m,t,c);if(p>0){let V,q;const ie=p>1?Math.round((k-x)/(p-1)):null;for(GN(t,D,L,Do(ie)?0:x-ie,x),V=0,q=p-1;V<q;V++)GN(t,D,L,m[V],m[V+1]);return GN(t,D,L,k,Do(ie)?t.length:k+ie),D}return GN(t,D,L),D}function Rpe(i){const t=i.options.offset,a=i._tickSize(),u=i._length/a+(t?0:1),c=i._maxLength/a;return Math.floor(Math.min(u,c))}function Ppe(i,t,a){const u=Lpe(i),c=t.length/a;if(!u)return Math.max(c,1);const m=Sme(u);for(let p=0,x=m.length-1;p<x;p++){const k=m[p];if(k>c)return k}return Math.max(c,1)}function Ipe(i){const t=[];let a,u;for(a=0,u=i.length;a<u;a++)i[a].major&&t.push(a);return t}function Bpe(i,t,a,u){let c=0,m=a[0],p;for(u=Math.ceil(u),p=0;p<i.length;p++)p===m&&(t.push(i[p]),c++,m=a[c*u])}function GN(i,t,a,u,c){const m=Ei(u,0),p=Math.min(Ei(c,i.length),i.length);let x=0,k,D,L;for(a=Math.ceil(a),c&&(k=c-u,a=k/Math.floor(k/a)),L=m;L<0;)x++,L=Math.round(m+x*a);for(D=Math.max(m,0);D<p;D++)D===L&&(t.push(i[D]),x++,L=Math.round(m+x*a))}function Lpe(i){const t=i.length;let a,u;if(t<2)return!1;for(u=i[0],a=1;a<t;++a)if(i[a]-i[a-1]!==u)return!1;return u}const Fpe=i=>i==="left"?"right":i==="right"?"left":i,lX=(i,t,a)=>t==="top"||t==="left"?i[t]+a:i[t]-a,cX=(i,t)=>Math.min(t||i,i);function fX(i,t){const a=[],u=i.length/t,c=i.length;let m=0;for(;m<c;m+=u)a.push(i[Math.floor(m)]);return a}function Npe(i,t,a){const u=i.ticks.length,c=Math.min(t,u-1),m=i._startPixel,p=i._endPixel,x=1e-6;let k=i.getPixelForTick(c),D;if(!(a&&(u===1?D=Math.max(k-m,p-k):t===0?D=(i.getPixelForTick(1)-k)/2:D=(k-i.getPixelForTick(c-1))/2,k+=c<t?D:-D,k<m-x||k>p+x)))return k}function $pe(i,t){As(i,a=>{const u=a.gc,c=u.length/2;let m;if(c>t){for(m=0;m<c;++m)delete a.data[u[m]];u.splice(0,c)}})}function g3(i){return i.drawTicks?i.tickLength:0}function dX(i,t){if(!i.display)return 0;const a=Sf(i.font,t),u=cv(i.padding);return(ju(i.text)?i.text.length:1)*a.lineHeight+u.height}function zpe(i,t){return uS(i,{scale:t,type:"scale"})}function Hpe(i,t,a){return uS(i,{tick:a,index:t,type:"tick"})}function Vpe(i,t,a){let u=Yj(i);return(a&&t!=="right"||!a&&t==="right")&&(u=Fpe(u)),u}function Upe(i,t,a,u){const{top:c,left:m,bottom:p,right:x,chart:k}=i,{chartArea:D,scales:L}=k;let V=0,q,ie,ee;const se=p-c,Te=x-m;if(i.isHorizontal()){if(ie=sv(u,m,x),so(a)){const _e=Object.keys(a)[0],be=a[_e];ee=L[_e].getPixelForValue(be)+se-t}else a==="center"?ee=(D.bottom+D.top)/2+se-t:ee=lX(i,a,t);q=x-m}else{if(so(a)){const _e=Object.keys(a)[0],be=a[_e];ie=L[_e].getPixelForValue(be)-Te+t}else a==="center"?ie=(D.left+D.right)/2-Te+t:ie=lX(i,a,t);ee=sv(u,p,c),V=a==="left"?-Dc:Dc}return{titleX:ie,titleY:ee,maxWidth:q,rotation:V}}class $k extends Fw{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,a){return t}getUserBounds(){let{_userMin:t,_userMax:a,_suggestedMin:u,_suggestedMax:c}=this;return t=og(t,Number.POSITIVE_INFINITY),a=og(a,Number.NEGATIVE_INFINITY),u=og(u,Number.POSITIVE_INFINITY),c=og(c,Number.NEGATIVE_INFINITY),{min:og(t,u),max:og(a,c),minDefined:nc(t),maxDefined:nc(a)}}getMinMax(t){let{min:a,max:u,minDefined:c,maxDefined:m}=this.getUserBounds(),p;if(c&&m)return{min:a,max:u};const x=this.getMatchingVisibleMetas();for(let k=0,D=x.length;k<D;++k)p=x[k].controller.getMinMax(this,t),c||(a=Math.min(a,p.min)),m||(u=Math.max(u,p.max));return a=m&&a>u?u:a,u=c&&a>u?a:u,{min:og(a,og(u,a)),max:og(u,og(a,u))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Cu(this.options.beforeUpdate,[this])}update(t,a,u){const{beginAtZero:c,grace:m,ticks:p}=this.options,x=p.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=a,this._margins=u=Object.assign({left:0,right:0,top:0,bottom:0},u),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+u.left+u.right:this.height+u.top+u.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Jme(this,m,c),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const k=x<this.ticks.length;this._convertTicksToLabels(k?fX(this.ticks,x):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),p.display&&(p.autoSkip||p.source==="auto")&&(this.ticks=Mpe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),k&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,a,u;this.isHorizontal()?(a=this.left,u=this.right):(a=this.top,u=this.bottom,t=!t),this._startPixel=a,this._endPixel=u,this._reversePixels=t,this._length=u-a,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Cu(this.options.afterUpdate,[this])}beforeSetDimensions(){Cu(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Cu(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Cu(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Cu(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const a=this.options.ticks;let u,c,m;for(u=0,c=t.length;u<c;u++)m=t[u],m.label=Cu(a.callback,[m.value,u,t],this)}afterTickToLabelConversion(){Cu(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Cu(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,a=t.ticks,u=cX(this.ticks.length,t.ticks.maxTicksLimit),c=a.minRotation||0,m=a.maxRotation;let p=c,x,k,D;if(!this._isVisible()||!a.display||c>=m||u<=1||!this.isHorizontal()){this.labelRotation=c;return}const L=this._getLabelSizes(),V=L.widest.width,q=L.highest.height,ie=Jf(this.chart.width-V,0,this.maxWidth);x=t.offset?this.maxWidth/u:ie/(u-1),V+6>x&&(x=ie/(u-(t.offset?.5:1)),k=this.maxHeight-g3(t.grid)-a.padding-dX(t.title,this.chart.options.font),D=Math.sqrt(V*V+q*q),p=Wj(Math.min(Math.asin(Jf((L.highest.height+6)/x,-1,1)),Math.asin(Jf(k/D,-1,1))-Math.asin(Jf(q/D,-1,1)))),p=Math.max(c,Math.min(m,p))),this.labelRotation=p}afterCalculateLabelRotation(){Cu(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Cu(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:a,options:{ticks:u,title:c,grid:m}}=this,p=this._isVisible(),x=this.isHorizontal();if(p){const k=dX(c,a.options.font);if(x?(t.width=this.maxWidth,t.height=g3(m)+k):(t.height=this.maxHeight,t.width=g3(m)+k),u.display&&this.ticks.length){const{first:D,last:L,widest:V,highest:q}=this._getLabelSizes(),ie=u.padding*2,ee=G0(this.labelRotation),se=Math.cos(ee),Te=Math.sin(ee);if(x){const _e=u.mirror?0:Te*V.width+se*q.height;t.height=Math.min(this.maxHeight,t.height+_e+ie)}else{const _e=u.mirror?0:se*V.width+Te*q.height;t.width=Math.min(this.maxWidth,t.width+_e+ie)}this._calculatePadding(D,L,Te,se)}}this._handleMargins(),x?(this.width=this._length=a.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=a.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,a,u,c){const{ticks:{align:m,padding:p},position:x}=this.options,k=this.labelRotation!==0,D=x!=="top"&&this.axis==="x";if(this.isHorizontal()){const L=this.getPixelForTick(0)-this.left,V=this.right-this.getPixelForTick(this.ticks.length-1);let q=0,ie=0;k?D?(q=c*t.width,ie=u*a.height):(q=u*t.height,ie=c*a.width):m==="start"?ie=a.width:m==="end"?q=t.width:m!=="inner"&&(q=t.width/2,ie=a.width/2),this.paddingLeft=Math.max((q-L+p)*this.width/(this.width-L),0),this.paddingRight=Math.max((ie-V+p)*this.width/(this.width-V),0)}else{let L=a.height/2,V=t.height/2;m==="start"?(L=0,V=t.height):m==="end"&&(L=a.height,V=0),this.paddingTop=L+p,this.paddingBottom=V+p}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Cu(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:a}=this.options;return a==="top"||a==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let a,u;for(a=0,u=t.length;a<u;a++)Do(t[a].label)&&(t.splice(a,1),u--,a--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const a=this.options.ticks.sampleSize;let u=this.ticks;a<u.length&&(u=fX(u,a)),this._labelSizes=t=this._computeLabelSizes(u,u.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,a,u){const{ctx:c,_longestTextCache:m}=this,p=[],x=[],k=Math.floor(a/cX(a,u));let D=0,L=0,V,q,ie,ee,se,Te,_e,be,le,Pe,Oe;for(V=0;V<a;V+=k){if(ee=t[V].label,se=this._resolveTickFontOptions(V),c.font=Te=se.string,_e=m[Te]=m[Te]||{data:{},gc:[]},be=se.lineHeight,le=Pe=0,!Do(ee)&&!ju(ee))le=Y5(c,_e.data,_e.gc,le,ee),Pe=be;else if(ju(ee))for(q=0,ie=ee.length;q<ie;++q)Oe=ee[q],!Do(Oe)&&!ju(Oe)&&(le=Y5(c,_e.data,_e.gc,le,Oe),Pe+=be);p.push(le),x.push(Pe),D=Math.max(le,D),L=Math.max(Pe,L)}$pe(m,a);const lt=p.indexOf(D),at=x.indexOf(L),K=de=>({width:p[de]||0,height:x[de]||0});return{first:K(0),last:K(a-1),widest:K(lt),highest:K(at),widths:p,heights:x}}getLabelForValue(t){return t}getPixelForValue(t,a){return NaN}getValueForPixel(t){}getPixelForTick(t){const a=this.ticks;return t<0||t>a.length-1?null:this.getPixelForValue(a[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const a=this._startPixel+t*this._length;return Tme(this._alignToPixels?dk(this.chart,a,0):a)}getDecimalForPixel(t){const a=(t-this._startPixel)/this._length;return this._reversePixels?1-a:a}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:a}=this;return t<0&&a<0?a:t>0&&a>0?t:0}getContext(t){const a=this.ticks||[];if(t>=0&&t<a.length){const u=a[t];return u.$context||(u.$context=Hpe(this.getContext(),t,u))}return this.$context||(this.$context=zpe(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,a=G0(this.labelRotation),u=Math.abs(Math.cos(a)),c=Math.abs(Math.sin(a)),m=this._getLabelSizes(),p=t.autoSkipPadding||0,x=m?m.widest.width+p:0,k=m?m.highest.height+p:0;return this.isHorizontal()?k*u>x*c?x/u:k/c:k*c<x*u?k/u:x/c}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const a=this.axis,u=this.chart,c=this.options,{grid:m,position:p,border:x}=c,k=m.offset,D=this.isHorizontal(),V=this.ticks.length+(k?1:0),q=g3(m),ie=[],ee=x.setContext(this.getContext()),se=ee.display?ee.width:0,Te=se/2,_e=function(Ce){return dk(u,Ce,se)};let be,le,Pe,Oe,lt,at,K,de,ve,Ue,ue,Y;if(p==="top")be=_e(this.bottom),at=this.bottom-q,de=be-Te,Ue=_e(t.top)+Te,Y=t.bottom;else if(p==="bottom")be=_e(this.top),Ue=t.top,Y=_e(t.bottom)-Te,at=be+Te,de=this.top+q;else if(p==="left")be=_e(this.right),lt=this.right-q,K=be-Te,ve=_e(t.left)+Te,ue=t.right;else if(p==="right")be=_e(this.left),ve=t.left,ue=_e(t.right)-Te,lt=be+Te,K=this.left+q;else if(a==="x"){if(p==="center")be=_e((t.top+t.bottom)/2+.5);else if(so(p)){const Ce=Object.keys(p)[0],rt=p[Ce];be=_e(this.chart.scales[Ce].getPixelForValue(rt))}Ue=t.top,Y=t.bottom,at=be+Te,de=at+q}else if(a==="y"){if(p==="center")be=_e((t.left+t.right)/2);else if(so(p)){const Ce=Object.keys(p)[0],rt=p[Ce];be=_e(this.chart.scales[Ce].getPixelForValue(rt))}lt=be-Te,K=lt-q,ve=t.left,ue=t.right}const $e=Ei(c.ticks.maxTicksLimit,V),He=Math.max(1,Math.ceil(V/$e));for(le=0;le<V;le+=He){const Ce=this.getContext(le),rt=m.setContext(Ce),We=x.setContext(Ce),z=rt.lineWidth,ln=rt.color,dt=We.dash||[],Dt=We.dashOffset,mr=rt.tickWidth,Kr=rt.tickColor,_n=rt.tickBorderDash||[],Gn=rt.tickBorderDashOffset;Pe=Npe(this,le,k),Pe!==void 0&&(Oe=dk(u,Pe,z),D?lt=K=ve=ue=Oe:at=de=Ue=Y=Oe,ie.push({tx1:lt,ty1:at,tx2:K,ty2:de,x1:ve,y1:Ue,x2:ue,y2:Y,width:z,color:ln,borderDash:dt,borderDashOffset:Dt,tickWidth:mr,tickColor:Kr,tickBorderDash:_n,tickBorderDashOffset:Gn}))}return this._ticksLength=V,this._borderValue=be,ie}_computeLabelItems(t){const a=this.axis,u=this.options,{position:c,ticks:m}=u,p=this.isHorizontal(),x=this.ticks,{align:k,crossAlign:D,padding:L,mirror:V}=m,q=g3(u.grid),ie=q+L,ee=V?-L:ie,se=-G0(this.labelRotation),Te=[];let _e,be,le,Pe,Oe,lt,at,K,de,ve,Ue,ue,Y="middle";if(c==="top")lt=this.bottom-ee,at=this._getXAxisLabelAlignment();else if(c==="bottom")lt=this.top+ee,at=this._getXAxisLabelAlignment();else if(c==="left"){const He=this._getYAxisLabelAlignment(q);at=He.textAlign,Oe=He.x}else if(c==="right"){const He=this._getYAxisLabelAlignment(q);at=He.textAlign,Oe=He.x}else if(a==="x"){if(c==="center")lt=(t.top+t.bottom)/2+ie;else if(so(c)){const He=Object.keys(c)[0],Ce=c[He];lt=this.chart.scales[He].getPixelForValue(Ce)+ie}at=this._getXAxisLabelAlignment()}else if(a==="y"){if(c==="center")Oe=(t.left+t.right)/2-ie;else if(so(c)){const He=Object.keys(c)[0],Ce=c[He];Oe=this.chart.scales[He].getPixelForValue(Ce)}at=this._getYAxisLabelAlignment(q).textAlign}a==="y"&&(k==="start"?Y="top":k==="end"&&(Y="bottom"));const $e=this._getLabelSizes();for(_e=0,be=x.length;_e<be;++_e){le=x[_e],Pe=le.label;const He=m.setContext(this.getContext(_e));K=this.getPixelForTick(_e)+m.labelOffset,de=this._resolveTickFontOptions(_e),ve=de.lineHeight,Ue=ju(Pe)?Pe.length:1;const Ce=Ue/2,rt=He.color,We=He.textStrokeColor,z=He.textStrokeWidth;let ln=at;p?(Oe=K,at==="inner"&&(_e===be-1?ln=this.options.reverse?"left":"right":_e===0?ln=this.options.reverse?"right":"left":ln="center"),c==="top"?D==="near"||se!==0?ue=-Ue*ve+ve/2:D==="center"?ue=-$e.highest.height/2-Ce*ve+ve:ue=-$e.highest.height+ve/2:D==="near"||se!==0?ue=ve/2:D==="center"?ue=$e.highest.height/2-Ce*ve:ue=$e.highest.height-Ue*ve,V&&(ue*=-1),se!==0&&!He.showLabelBackdrop&&(Oe+=ve/2*Math.sin(se))):(lt=K,ue=(1-Ue)*ve/2);let dt;if(He.showLabelBackdrop){const Dt=cv(He.backdropPadding),mr=$e.heights[_e],Kr=$e.widths[_e];let _n=ue-Dt.top,Gn=0-Dt.left;switch(Y){case"middle":_n-=mr/2;break;case"bottom":_n-=mr;break}switch(at){case"center":Gn-=Kr/2;break;case"right":Gn-=Kr;break}dt={left:Gn,top:_n,width:Kr+Dt.width,height:mr+Dt.height,color:He.backdropColor}}Te.push({label:Pe,font:de,textOffset:ue,options:{rotation:se,color:rt,strokeColor:We,strokeWidth:z,textAlign:ln,textBaseline:Y,translation:[Oe,lt],backdrop:dt}})}return Te}_getXAxisLabelAlignment(){const{position:t,ticks:a}=this.options;if(-G0(this.labelRotation))return t==="top"?"left":"right";let c="center";return a.align==="start"?c="left":a.align==="end"?c="right":a.align==="inner"&&(c="inner"),c}_getYAxisLabelAlignment(t){const{position:a,ticks:{crossAlign:u,mirror:c,padding:m}}=this.options,p=this._getLabelSizes(),x=t+m,k=p.widest.width;let D,L;return a==="left"?c?(L=this.right+m,u==="near"?D="left":u==="center"?(D="center",L+=k/2):(D="right",L+=k)):(L=this.right-x,u==="near"?D="right":u==="center"?(D="center",L-=k/2):(D="left",L=this.left)):a==="right"?c?(L=this.left+m,u==="near"?D="right":u==="center"?(D="center",L-=k/2):(D="left",L-=k)):(L=this.left+x,u==="near"?D="left":u==="center"?(D="center",L+=k/2):(D="right",L=this.right)):D="right",{textAlign:D,x:L}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,a=this.options.position;if(a==="left"||a==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(a==="top"||a==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:a},left:u,top:c,width:m,height:p}=this;a&&(t.save(),t.fillStyle=a,t.fillRect(u,c,m,p),t.restore())}getLineWidthForValue(t){const a=this.options.grid;if(!this._isVisible()||!a.display)return 0;const c=this.ticks.findIndex(m=>m.value===t);return c>=0?a.setContext(this.getContext(c)).lineWidth:0}drawGrid(t){const a=this.options.grid,u=this.ctx,c=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let m,p;const x=(k,D,L)=>{!L.width||!L.color||(u.save(),u.lineWidth=L.width,u.strokeStyle=L.color,u.setLineDash(L.borderDash||[]),u.lineDashOffset=L.borderDashOffset,u.beginPath(),u.moveTo(k.x,k.y),u.lineTo(D.x,D.y),u.stroke(),u.restore())};if(a.display)for(m=0,p=c.length;m<p;++m){const k=c[m];a.drawOnChartArea&&x({x:k.x1,y:k.y1},{x:k.x2,y:k.y2},k),a.drawTicks&&x({x:k.tx1,y:k.ty1},{x:k.tx2,y:k.ty2},{color:k.tickColor,width:k.tickWidth,borderDash:k.tickBorderDash,borderDashOffset:k.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:a,options:{border:u,grid:c}}=this,m=u.setContext(this.getContext()),p=u.display?m.width:0;if(!p)return;const x=c.setContext(this.getContext(0)).lineWidth,k=this._borderValue;let D,L,V,q;this.isHorizontal()?(D=dk(t,this.left,p)-p/2,L=dk(t,this.right,x)+x/2,V=q=k):(V=dk(t,this.top,p)-p/2,q=dk(t,this.bottom,x)+x/2,D=L=k),a.save(),a.lineWidth=m.width,a.strokeStyle=m.color,a.beginPath(),a.moveTo(D,V),a.lineTo(L,q),a.stroke(),a.restore()}drawLabels(t){if(!this.options.ticks.display)return;const u=this.ctx,c=this._computeLabelArea();c&&C6(u,c);const m=this.getLabelItems(t);for(const p of m){const x=p.options,k=p.font,D=p.label,L=p.textOffset;Lk(u,D,0,L,k,x)}c&&S6(u)}drawTitle(){const{ctx:t,options:{position:a,title:u,reverse:c}}=this;if(!u.display)return;const m=Sf(u.font),p=cv(u.padding),x=u.align;let k=m.lineHeight/2;a==="bottom"||a==="center"||so(a)?(k+=p.bottom,ju(u.text)&&(k+=m.lineHeight*(u.text.length-1))):k+=p.top;const{titleX:D,titleY:L,maxWidth:V,rotation:q}=Upe(this,k,a,x);Lk(t,u.text,0,0,m,{color:u.color,maxWidth:V,rotation:q,textAlign:Vpe(x,a,c),textBaseline:"middle",translation:[D,L]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,a=t.ticks&&t.ticks.z||0,u=Ei(t.grid&&t.grid.z,-1),c=Ei(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==$k.prototype.draw?[{z:a,draw:m=>{this.draw(m)}}]:[{z:u,draw:m=>{this.drawBackground(),this.drawGrid(m),this.drawTitle()}},{z:c,draw:()=>{this.drawBorder()}},{z:a,draw:m=>{this.drawLabels(m)}}]}getMatchingVisibleMetas(t){const a=this.chart.getSortedVisibleDatasetMetas(),u=this.axis+"AxisID",c=[];let m,p;for(m=0,p=a.length;m<p;++m){const x=a[m];x[u]===this.id&&(!t||x.type===t)&&c.push(x)}return c}_resolveTickFontOptions(t){const a=this.options.ticks.setContext(this.getContext(t));return Sf(a.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class KN{constructor(t,a,u){this.type=t,this.scope=a,this.override=u,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const a=Object.getPrototypeOf(t);let u;Ype(a)&&(u=this.register(a));const c=this.items,m=t.id,p=this.scope+"."+m;if(!m)throw new Error("class does not have id: "+t);return m in c||(c[m]=t,Wpe(t,p,u),this.override&&rc.override(t.id,t.overrides)),p}get(t){return this.items[t]}unregister(t){const a=this.items,u=t.id,c=this.scope;u in a&&delete a[u],c&&u in rc[c]&&(delete rc[c][u],this.override&&delete Bk[u])}}function Wpe(i,t,a){const u=W3(Object.create(null),[a?rc.get(a):{},rc.get(t),i.defaults]);rc.set(t,u),i.defaultRoutes&&jpe(t,i.defaultRoutes),i.descriptors&&rc.describe(t,i.descriptors)}function jpe(i,t){Object.keys(t).forEach(a=>{const u=a.split("."),c=u.pop(),m=[i].concat(u).join("."),p=t[a].split("."),x=p.pop(),k=p.join(".");rc.route(m,c,k,x)})}function Ype(i){return"id"in i&&"defaults"in i}class qpe{constructor(){this.controllers=new KN(X0,"datasets",!0),this.elements=new KN(Fw,"elements"),this.plugins=new KN(Object,"plugins"),this.scales=new KN($k,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,a,u){[...a].forEach(c=>{const m=u||this._getRegistryForType(c);u||m.isForType(c)||m===this.plugins&&c.id?this._exec(t,m,c):As(c,p=>{const x=u||this._getRegistryForType(p);this._exec(t,x,p)})})}_exec(t,a,u){const c=Uj(t);Cu(u["before"+c],[],u),a[t](u),Cu(u["after"+c],[],u)}_getRegistryForType(t){for(let a=0;a<this._typedRegistries.length;a++){const u=this._typedRegistries[a];if(u.isForType(t))return u}return this.plugins}_get(t,a,u){const c=a.get(t);if(c===void 0)throw new Error('"'+t+'" is not a registered '+u+".");return c}}var Gb=new qpe;class Gpe{constructor(){this._init=[]}notify(t,a,u,c){a==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const m=c?this._descriptors(t).filter(c):this._descriptors(t),p=this._notify(m,t,a,u);return a==="afterDestroy"&&(this._notify(m,t,"stop"),this._notify(this._init,t,"uninstall")),p}_notify(t,a,u,c){c=c||{};for(const m of t){const p=m.plugin,x=p[u],k=[a,c,m.options];if(Cu(x,k,p)===!1&&c.cancelable)return!1}return!0}invalidate(){Do(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const a=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),a}_createDescriptors(t,a){const u=t&&t.config,c=Ei(u.options&&u.options.plugins,{}),m=Kpe(u);return c===!1&&!a?[]:Zpe(t,m,c,a)}_notifyStateChanges(t){const a=this._oldCache||[],u=this._cache,c=(m,p)=>m.filter(x=>!p.some(k=>x.plugin.id===k.plugin.id));this._notify(c(a,u),t,"stop"),this._notify(c(u,a),t,"start")}}function Kpe(i){const t={},a=[],u=Object.keys(Gb.plugins.items);for(let m=0;m<u.length;m++)a.push(Gb.getPlugin(u[m]));const c=i.plugins||[];for(let m=0;m<c.length;m++){const p=c[m];a.indexOf(p)===-1&&(a.push(p),t[p.id]=!0)}return{plugins:a,localIds:t}}function Xpe(i,t){return!t&&i===!1?null:i===!0?{}:i}function Zpe(i,{plugins:t,localIds:a},u,c){const m=[],p=i.getContext();for(const x of t){const k=x.id,D=Xpe(u[k],c);D!==null&&m.push({plugin:x,options:Jpe(i.config,{plugin:x,local:a[k]},D,p)})}return m}function Jpe(i,{plugin:t,local:a},u,c){const m=i.pluginScopeKeys(t),p=i.getOptionScopes(u,m);return a&&t.defaults&&p.push(t.defaults),i.createResolver(p,c,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function qW(i,t){const a=rc.datasets[i]||{};return((t.datasets||{})[i]||{}).indexAxis||t.indexAxis||a.indexAxis||"x"}function Qpe(i,t){let a=i;return i==="_index_"?a=t:i==="_value_"&&(a=t==="x"?"y":"x"),a}function e0e(i,t){return i===t?"_index_":"_value_"}function vX(i){if(i==="x"||i==="y"||i==="r")return i}function t0e(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function GW(i,...t){if(vX(i))return i;for(const a of t){const u=a.axis||t0e(a.position)||i.length>1&&vX(i[0].toLowerCase());if(u)return u}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function hX(i,t,a){if(a[t+"AxisID"]===i)return{axis:t}}function n0e(i,t){if(t.data&&t.data.datasets){const a=t.data.datasets.filter(u=>u.xAxisID===i||u.yAxisID===i);if(a.length)return hX(i,"x",a[0])||hX(i,"y",a[0])}return{}}function r0e(i,t){const a=Bk[i.type]||{scales:{}},u=t.scales||{},c=qW(i.type,t),m=Object.create(null);return Object.keys(u).forEach(p=>{const x=u[p];if(!so(x))return console.error(`Invalid scale configuration for scale: ${p}`);if(x._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${p}`);const k=GW(p,x,n0e(p,i),rc.scales[x.type]),D=e0e(k,c),L=a.scales||{};m[p]=M3(Object.create(null),[{axis:k},x,L[k],L[D]])}),i.data.datasets.forEach(p=>{const x=p.type||i.type,k=p.indexAxis||qW(x,t),L=(Bk[x]||{}).scales||{};Object.keys(L).forEach(V=>{const q=Qpe(V,k),ie=p[q+"AxisID"]||q;m[ie]=m[ie]||Object.create(null),M3(m[ie],[{axis:q},u[ie],L[V]])})}),Object.keys(m).forEach(p=>{const x=m[p];M3(x,[rc.scales[x.type],rc.scale])}),m}function nee(i){const t=i.options||(i.options={});t.plugins=Ei(t.plugins,{}),t.scales=r0e(i,t)}function ree(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function a0e(i){return i=i||{},i.data=ree(i.data),nee(i),i}const mX=new Map,aee=new Set;function XN(i,t){let a=mX.get(i);return a||(a=t(),mX.set(i,a),aee.add(a)),a}const p3=(i,t,a)=>{const u=rS(t,a);u!==void 0&&i.add(u)};class i0e{constructor(t){this._config=a0e(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=ree(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),nee(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return XN(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,a){return XN(`${t}.transition.${a}`,()=>[[`datasets.${t}.transitions.${a}`,`transitions.${a}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,a){return XN(`${t}-${a}`,()=>[[`datasets.${t}.elements.${a}`,`datasets.${t}`,`elements.${a}`,""]])}pluginScopeKeys(t){const a=t.id,u=this.type;return XN(`${u}-plugin-${a}`,()=>[[`plugins.${a}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,a){const u=this._scopeCache;let c=u.get(t);return(!c||a)&&(c=new Map,u.set(t,c)),c}getOptionScopes(t,a,u){const{options:c,type:m}=this,p=this._cachedScopes(t,u),x=p.get(a);if(x)return x;const k=new Set;a.forEach(L=>{t&&(k.add(t),L.forEach(V=>p3(k,t,V))),L.forEach(V=>p3(k,c,V)),L.forEach(V=>p3(k,Bk[m]||{},V)),L.forEach(V=>p3(k,rc,V)),L.forEach(V=>p3(k,WW,V))});const D=Array.from(k);return D.length===0&&D.push(Object.create(null)),aee.has(a)&&p.set(a,D),D}chartOptionScopes(){const{options:t,type:a}=this;return[t,Bk[a]||{},rc.datasets[a]||{},{type:a},rc,WW]}resolveNamedOptions(t,a,u,c=[""]){const m={$shared:!0},{resolver:p,subPrefixes:x}=gX(this._resolverCache,t,c);let k=p;if(s0e(p,a)){m.$shared=!1,u=aS(u)?u():u;const D=this.createResolver(t,u,x);k=wD(p,u,D)}for(const D of a)m[D]=k[D];return m}createResolver(t,a,u=[""],c){const{resolver:m}=gX(this._resolverCache,t,u);return so(a)?wD(m,a,void 0,c):m}}function gX(i,t,a){let u=i.get(t);u||(u=new Map,i.set(t,u));const c=a.join();let m=u.get(c);return m||(m={resolver:Kj(t,a),subPrefixes:a.filter(x=>!x.toLowerCase().includes("hover"))},u.set(c,m)),m}const o0e=i=>so(i)&&Object.getOwnPropertyNames(i).reduce((t,a)=>t||aS(i[a]),!1);function s0e(i,t){const{isScriptable:a,isIndexable:u}=LQ(i);for(const c of t){const m=a(c),p=u(c),x=(p||m)&&i[c];if(m&&(aS(x)||o0e(x))||p&&ju(x))return!0}return!1}var u0e="4.4.0";const l0e=["top","bottom","left","right","chartArea"];function pX(i,t){return i==="top"||i==="bottom"||l0e.indexOf(i)===-1&&t==="x"}function bX(i,t){return function(a,u){return a[i]===u[i]?a[t]-u[t]:a[i]-u[i]}}function yX(i){const t=i.chart,a=t.options.animation;t.notifyPlugins("afterRender"),Cu(a&&a.onComplete,[i],t)}function c0e(i){const t=i.chart,a=t.options.animation;Cu(a&&a.onProgress,[i],t)}function iee(i){return VQ()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}const E5={},_X=i=>{const t=iee(i);return Object.values(E5).filter(a=>a.canvas===t).pop()};function f0e(i,t,a){const u=Object.keys(i);for(const c of u){const m=+c;if(m>=t){const p=i[c];delete i[c],(a>0||m>t)&&(i[m+a]=p)}}}function d0e(i,t,a,u){return!a||i.type==="mouseout"?null:u?t:i}function ZN(i,t,a){return i.options.clip?i[a]:t[a]}function v0e(i,t){const{xScale:a,yScale:u}=i;return a&&u?{left:ZN(a,t,"left"),right:ZN(a,t,"right"),top:ZN(u,t,"top"),bottom:ZN(u,t,"bottom")}:t}class ww{static register(...t){Gb.add(...t),wX()}static unregister(...t){Gb.remove(...t),wX()}constructor(t,a){const u=this.config=new i0e(a),c=iee(t),m=_X(c);if(m)throw new Error("Canvas is already in use. Chart with ID '"+m.id+"' must be destroyed before the canvas with ID '"+m.canvas.id+"' can be reused.");const p=u.createResolver(u.chartOptionScopes(),this.getContext());this.platform=new(u.platform||Dpe(c)),this.platform.updateConfig(u);const x=this.platform.acquireContext(c,p.aspectRatio),k=x&&x.canvas,D=k&&k.height,L=k&&k.width;if(this.id=mme(),this.ctx=x,this.canvas=k,this.width=L,this.height=D,this._options=p,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Gpe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Mme(V=>this.update(V),p.resizeDelay||0),this._dataChanges=[],E5[this.id]=this,!x||!k){console.error("Failed to create chart: can't acquire context from the given item");return}gw.listen(this,"complete",yX),gw.listen(this,"progress",c0e),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:a},width:u,height:c,_aspectRatio:m}=this;return Do(t)?a&&m?m:c?u/c:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Gb}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():VK(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return $K(this.canvas,this.ctx),this}stop(){return gw.stop(this),this}resize(t,a){gw.running(this)?this._resizeBeforeDraw={width:t,height:a}:this._resize(t,a)}_resize(t,a){const u=this.options,c=this.canvas,m=u.maintainAspectRatio&&this.aspectRatio,p=this.platform.getMaximumSize(c,t,a,m),x=u.devicePixelRatio||this.platform.getDevicePixelRatio(),k=this.width?"resize":"attach";this.width=p.width,this.height=p.height,this._aspectRatio=this.aspectRatio,VK(this,x,!0)&&(this.notifyPlugins("resize",{size:p}),Cu(u.onResize,[this,p],this),this.attached&&this._doResize(k)&&this.render())}ensureScalesHaveIDs(){const a=this.options.scales||{};As(a,(u,c)=>{u.id=c})}buildOrUpdateScales(){const t=this.options,a=t.scales,u=this.scales,c=Object.keys(u).reduce((p,x)=>(p[x]=!1,p),{});let m=[];a&&(m=m.concat(Object.keys(a).map(p=>{const x=a[p],k=GW(p,x),D=k==="r",L=k==="x";return{options:x,dposition:D?"chartArea":L?"bottom":"left",dtype:D?"radialLinear":L?"category":"linear"}}))),As(m,p=>{const x=p.options,k=x.id,D=GW(k,x),L=Ei(x.type,p.dtype);(x.position===void 0||pX(x.position,D)!==pX(p.dposition))&&(x.position=p.dposition),c[k]=!0;let V=null;if(k in u&&u[k].type===L)V=u[k];else{const q=Gb.getScale(L);V=new q({id:k,type:L,ctx:this.ctx,chart:this}),u[V.id]=V}V.init(x,t)}),As(c,(p,x)=>{p||delete u[x]}),As(u,p=>{uv.configure(this,p,p.options),uv.addBox(this,p)})}_updateMetasets(){const t=this._metasets,a=this.data.datasets.length,u=t.length;if(t.sort((c,m)=>c.index-m.index),u>a){for(let c=a;c<u;++c)this._destroyDatasetMeta(c);t.splice(a,u-a)}this._sortedMetasets=t.slice(0).sort(bX("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:a}}=this;t.length>a.length&&delete this._stacks,t.forEach((u,c)=>{a.filter(m=>m===u._dataset).length===0&&this._destroyDatasetMeta(c)})}buildOrUpdateControllers(){const t=[],a=this.data.datasets;let u,c;for(this._removeUnreferencedMetasets(),u=0,c=a.length;u<c;u++){const m=a[u];let p=this.getDatasetMeta(u);const x=m.type||this.config.type;if(p.type&&p.type!==x&&(this._destroyDatasetMeta(u),p=this.getDatasetMeta(u)),p.type=x,p.indexAxis=m.indexAxis||qW(x,this.options),p.order=m.order||0,p.index=u,p.label=""+m.label,p.visible=this.isDatasetVisible(u),p.controller)p.controller.updateIndex(u),p.controller.linkScales();else{const k=Gb.getController(x),{datasetElementType:D,dataElementType:L}=rc.datasets[x];Object.assign(k,{dataElementType:Gb.getElement(L),datasetElementType:D&&Gb.getElement(D)}),p.controller=new k(this,u),t.push(p.controller)}}return this._updateMetasets(),t}_resetElements(){As(this.data.datasets,(t,a)=>{this.getDatasetMeta(a).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const a=this.config;a.update();const u=this._options=a.createResolver(a.chartOptionScopes(),this.getContext()),c=this._animationsDisabled=!u.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const m=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let p=0;for(let D=0,L=this.data.datasets.length;D<L;D++){const{controller:V}=this.getDatasetMeta(D),q=!c&&m.indexOf(V)===-1;V.buildOrUpdateElements(q),p=Math.max(+V.getMaxOverflow(),p)}p=this._minPadding=u.layout.autoPadding?p:0,this._updateLayout(p),c||As(m,D=>{D.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(bX("z","_idx"));const{_active:x,_lastEvent:k}=this;k?this._eventHandler(k,!0):x.length&&this._updateHoverStyles(x,x,!0),this.render()}_updateScales(){As(this.scales,t=>{uv.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,a=new Set(Object.keys(this._listeners)),u=new Set(t.events);(!DK(a,u)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,a=this._getUniformDataChanges()||[];for(const{method:u,start:c,count:m}of a){const p=u==="_removeElements"?-m:m;f0e(t,c,p)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const a=this.data.datasets.length,u=m=>new Set(t.filter(p=>p[0]===m).map((p,x)=>x+","+p.splice(1).join(","))),c=u(0);for(let m=1;m<a;m++)if(!DK(c,u(m)))return;return Array.from(c).map(m=>m.split(",")).map(m=>({method:m[1],start:+m[2],count:+m[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;uv.update(this,this.width,this.height,t);const a=this.chartArea,u=a.width<=0||a.height<=0;this._layers=[],As(this.boxes,c=>{u&&c.position==="chartArea"||(c.configure&&c.configure(),this._layers.push(...c._layers()))},this),this._layers.forEach((c,m)=>{c._idx=m}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let a=0,u=this.data.datasets.length;a<u;++a)this.getDatasetMeta(a).controller.configure();for(let a=0,u=this.data.datasets.length;a<u;++a)this._updateDataset(a,aS(t)?t({datasetIndex:a}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,a){const u=this.getDatasetMeta(t),c={meta:u,index:t,mode:a,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",c)!==!1&&(u.controller._update(a),c.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",c))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(gw.has(this)?this.attached&&!gw.running(this)&&gw.start(this):(this.draw(),yX({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:u,height:c}=this._resizeBeforeDraw;this._resize(u,c),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const a=this._layers;for(t=0;t<a.length&&a[t].z<=0;++t)a[t].draw(this.chartArea);for(this._drawDatasets();t<a.length;++t)a[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const a=this._sortedMetasets,u=[];let c,m;for(c=0,m=a.length;c<m;++c){const p=a[c];(!t||p.visible)&&u.push(p)}return u}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let a=t.length-1;a>=0;--a)this._drawDataset(t[a]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const a=this.ctx,u=t._clip,c=!u.disabled,m=v0e(t,this.chartArea),p={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",p)!==!1&&(c&&C6(a,{left:u.left===!1?0:m.left-u.left,right:u.right===!1?this.width:m.right+u.right,top:u.top===!1?0:m.top-u.top,bottom:u.bottom===!1?this.height:m.bottom+u.bottom}),t.controller.draw(),c&&S6(a),p.cancelable=!1,this.notifyPlugins("afterDatasetDraw",p))}isPointInArea(t){return kw(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,a,u,c){const m=lpe.modes[a];return typeof m=="function"?m(this,t,u,c):[]}getDatasetMeta(t){const a=this.data.datasets[t],u=this._metasets;let c=u.filter(m=>m&&m._dataset===a).pop();return c||(c={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:a&&a.order||0,index:t,_dataset:a,_parsed:[],_sorted:!1},u.push(c)),c}getContext(){return this.$context||(this.$context=uS(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const a=this.data.datasets[t];if(!a)return!1;const u=this.getDatasetMeta(t);return typeof u.hidden=="boolean"?!u.hidden:!a.hidden}setDatasetVisibility(t,a){const u=this.getDatasetMeta(t);u.hidden=!a}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,a,u){const c=u?"show":"hide",m=this.getDatasetMeta(t),p=m.controller._resolveAnimations(void 0,c);j3(a)?(m.data[a].hidden=!u,this.update()):(this.setDatasetVisibility(t,u),p.update(m,{visible:u}),this.update(x=>x.datasetIndex===t?c:void 0))}hide(t,a){this._updateVisibility(t,a,!1)}show(t,a){this._updateVisibility(t,a,!0)}_destroyDatasetMeta(t){const a=this._metasets[t];a&&a.controller&&a.controller._destroy(),delete this._metasets[t]}_stop(){let t,a;for(this.stop(),gw.remove(this),t=0,a=this.data.datasets.length;t<a;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:a}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),$K(t,a),this.platform.releaseContext(a),this.canvas=null,this.ctx=null),delete E5[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,a=this.platform,u=(m,p)=>{a.addEventListener(this,m,p),t[m]=p},c=(m,p,x)=>{m.offsetX=p,m.offsetY=x,this._eventHandler(m)};As(this.options.events,m=>u(m,c))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,a=this.platform,u=(k,D)=>{a.addEventListener(this,k,D),t[k]=D},c=(k,D)=>{t[k]&&(a.removeEventListener(this,k,D),delete t[k])},m=(k,D)=>{this.canvas&&this.resize(k,D)};let p;const x=()=>{c("attach",x),this.attached=!0,this.resize(),u("resize",m),u("detach",p)};p=()=>{this.attached=!1,c("resize",m),this._stop(),this._resize(0,0),u("attach",x)},a.isAttached(this.canvas)?x():p()}unbindEvents(){As(this._listeners,(t,a)=>{this.platform.removeEventListener(this,a,t)}),this._listeners={},As(this._responsiveListeners,(t,a)=>{this.platform.removeEventListener(this,a,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,a,u){const c=u?"set":"remove";let m,p,x,k;for(a==="dataset"&&(m=this.getDatasetMeta(t[0].datasetIndex),m.controller["_"+c+"DatasetHoverStyle"]()),x=0,k=t.length;x<k;++x){p=t[x];const D=p&&this.getDatasetMeta(p.datasetIndex).controller;D&&D[c+"HoverStyle"](p.element,p.datasetIndex,p.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const a=this._active||[],u=t.map(({datasetIndex:m,index:p})=>{const x=this.getDatasetMeta(m);if(!x)throw new Error("No dataset found at index "+m);return{datasetIndex:m,element:x.data[p],index:p}});!U5(u,a)&&(this._active=u,this._lastEvent=null,this._updateHoverStyles(u,a))}notifyPlugins(t,a,u){return this._plugins.notify(this,t,a,u)}isPluginEnabled(t){return this._plugins._cache.filter(a=>a.plugin.id===t).length===1}_updateHoverStyles(t,a,u){const c=this.options.hover,m=(k,D)=>k.filter(L=>!D.some(V=>L.datasetIndex===V.datasetIndex&&L.index===V.index)),p=m(a,t),x=u?t:m(t,a);p.length&&this.updateHoverStyle(p,c.mode,!1),x.length&&c.mode&&this.updateHoverStyle(x,c.mode,!0)}_eventHandler(t,a){const u={event:t,replay:a,cancelable:!0,inChartArea:this.isPointInArea(t)},c=p=>(p.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",u,c)===!1)return;const m=this._handleEvent(t,a,u.inChartArea);return u.cancelable=!1,this.notifyPlugins("afterEvent",u,c),(m||u.changed)&&this.render(),this}_handleEvent(t,a,u){const{_active:c=[],options:m}=this,p=a,x=this._getActiveElements(t,c,u,p),k=wme(t),D=d0e(t,this._lastEvent,u,k);u&&(this._lastEvent=null,Cu(m.onHover,[t,x,this],this),k&&Cu(m.onClick,[t,x,this],this));const L=!U5(x,c);return(L||a)&&(this._active=x,this._updateHoverStyles(x,c,a)),this._lastEvent=D,L}_getActiveElements(t,a,u,c){if(t.type==="mouseout")return[];if(!u)return a;const m=this.options.hover;return this.getElementsAtEventForMode(t,m.mode,m,c)}}fr(ww,"defaults",rc),fr(ww,"instances",E5),fr(ww,"overrides",Bk),fr(ww,"registry",Gb),fr(ww,"version",u0e),fr(ww,"getChart",_X);function wX(){return As(ww.instances,i=>i._plugins.invalidate())}function h0e(i,t,a){const{startAngle:u,pixelMargin:c,x:m,y:p,outerRadius:x,innerRadius:k}=t;let D=c/x;i.beginPath(),i.arc(m,p,x,u-D,a+D),k>c?(D=c/k,i.arc(m,p,k,a+D,u-D,!0)):i.arc(m,p,c,a+Dc,u-Dc),i.closePath(),i.clip()}function m0e(i){return Gj(i,["outerStart","outerEnd","innerStart","innerEnd"])}function g0e(i,t,a,u){const c=m0e(i.options.borderRadius),m=(a-t)/2,p=Math.min(m,u*t/2),x=k=>{const D=(a-Math.min(m,k))*u/2;return Jf(k,0,Math.min(m,D))};return{outerStart:x(c.outerStart),outerEnd:x(c.outerEnd),innerStart:Jf(c.innerStart,0,p),innerEnd:Jf(c.innerEnd,0,p)}}function ZO(i,t,a,u){return{x:a+i*Math.cos(t),y:u+i*Math.sin(t)}}function K5(i,t,a,u,c,m){const{x:p,y:x,startAngle:k,pixelMargin:D,innerRadius:L}=t,V=Math.max(t.outerRadius+u+a-D,0),q=L>0?L+u+a+D:0;let ie=0;const ee=c-k;if(u){const He=L>0?L-u:0,Ce=V>0?V-u:0,rt=(He+Ce)/2,We=rt!==0?ee*rt/(rt+u):ee;ie=(ee-We)/2}const se=Math.max(.001,ee*V-a/qu)/V,Te=(ee-se)/2,_e=k+Te+ie,be=c-Te-ie,{outerStart:le,outerEnd:Pe,innerStart:Oe,innerEnd:lt}=g0e(t,q,V,be-_e),at=V-le,K=V-Pe,de=_e+le/at,ve=be-Pe/K,Ue=q+Oe,ue=q+lt,Y=_e+Oe/Ue,$e=be-lt/ue;if(i.beginPath(),m){const He=(de+ve)/2;if(i.arc(p,x,V,de,He),i.arc(p,x,V,He,ve),Pe>0){const z=ZO(K,ve,p,x);i.arc(z.x,z.y,Pe,ve,be+Dc)}const Ce=ZO(ue,be,p,x);if(i.lineTo(Ce.x,Ce.y),lt>0){const z=ZO(ue,$e,p,x);i.arc(z.x,z.y,lt,be+Dc,$e+Math.PI)}const rt=(be-lt/q+(_e+Oe/q))/2;if(i.arc(p,x,q,be-lt/q,rt,!0),i.arc(p,x,q,rt,_e+Oe/q,!0),Oe>0){const z=ZO(Ue,Y,p,x);i.arc(z.x,z.y,Oe,Y+Math.PI,_e-Dc)}const We=ZO(at,_e,p,x);if(i.lineTo(We.x,We.y),le>0){const z=ZO(at,de,p,x);i.arc(z.x,z.y,le,_e-Dc,de)}}else{i.moveTo(p,x);const He=Math.cos(de)*V+p,Ce=Math.sin(de)*V+x;i.lineTo(He,Ce);const rt=Math.cos(ve)*V+p,We=Math.sin(ve)*V+x;i.lineTo(rt,We)}i.closePath()}function p0e(i,t,a,u,c){const{fullCircles:m,startAngle:p,circumference:x}=t;let k=t.endAngle;if(m){K5(i,t,a,u,k,c);for(let D=0;D<m;++D)i.fill();isNaN(x)||(k=p+(x%Yu||Yu))}return K5(i,t,a,u,k,c),i.fill(),k}function b0e(i,t,a,u,c){const{fullCircles:m,startAngle:p,circumference:x,options:k}=t,{borderWidth:D,borderJoinStyle:L,borderDash:V,borderDashOffset:q}=k,ie=k.borderAlign==="inner";if(!D)return;i.setLineDash(V||[]),i.lineDashOffset=q,ie?(i.lineWidth=D*2,i.lineJoin=L||"round"):(i.lineWidth=D,i.lineJoin=L||"bevel");let ee=t.endAngle;if(m){K5(i,t,a,u,ee,c);for(let se=0;se<m;++se)i.stroke();isNaN(x)||(ee=p+(x%Yu||Yu))}ie&&h0e(i,t,ee),m||(K5(i,t,a,u,ee,c),i.stroke())}class k3 extends Fw{constructor(a){super();fr(this,"circumference");fr(this,"endAngle");fr(this,"fullCircles");fr(this,"innerRadius");fr(this,"outerRadius");fr(this,"pixelMargin");fr(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,a&&Object.assign(this,a)}inRange(a,u,c){const m=this.getProps(["x","y"],c),{angle:p,distance:x}=kQ(m,{x:a,y:u}),{startAngle:k,endAngle:D,innerRadius:L,outerRadius:V,circumference:q}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],c),ie=(this.options.spacing+this.options.borderWidth)/2,se=Ei(q,D-k)>=Yu||Y3(p,k,D),Te=Sw(x,L+ie,V+ie);return se&&Te}getCenterPoint(a){const{x:u,y:c,startAngle:m,endAngle:p,innerRadius:x,outerRadius:k}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],a),{offset:D,spacing:L}=this.options,V=(m+p)/2,q=(x+k+L+D)/2;return{x:u+Math.cos(V)*q,y:c+Math.sin(V)*q}}tooltipPosition(a){return this.getCenterPoint(a)}draw(a){const{options:u,circumference:c}=this,m=(u.offset||0)/4,p=(u.spacing||0)/2,x=u.circular;if(this.pixelMargin=u.borderAlign==="inner"?.33:0,this.fullCircles=c>Yu?Math.floor(c/Yu):0,c===0||this.innerRadius<0||this.outerRadius<0)return;a.save();const k=(this.startAngle+this.endAngle)/2;a.translate(Math.cos(k)*m,Math.sin(k)*m);const D=1-Math.sin(Math.min(qu,c||0)),L=m*D;a.fillStyle=u.backgroundColor,a.strokeStyle=u.borderColor,p0e(a,this,L,p,x),b0e(a,this,L,p,x),a.restore()}}fr(k3,"id","arc"),fr(k3,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),fr(k3,"defaultRoutes",{backgroundColor:"backgroundColor"}),fr(k3,"descriptors",{_scriptable:!0,_indexable:a=>a!=="borderDash"});function oee(i,t,a=t){i.lineCap=Ei(a.borderCapStyle,t.borderCapStyle),i.setLineDash(Ei(a.borderDash,t.borderDash)),i.lineDashOffset=Ei(a.borderDashOffset,t.borderDashOffset),i.lineJoin=Ei(a.borderJoinStyle,t.borderJoinStyle),i.lineWidth=Ei(a.borderWidth,t.borderWidth),i.strokeStyle=Ei(a.borderColor,t.borderColor)}function y0e(i,t,a){i.lineTo(a.x,a.y)}function _0e(i){return i.stepped?Ume:i.tension||i.cubicInterpolationMode==="monotone"?Wme:y0e}function see(i,t,a={}){const u=i.length,{start:c=0,end:m=u-1}=a,{start:p,end:x}=t,k=Math.max(c,p),D=Math.min(m,x),L=c<p&&m<p||c>x&&m>x;return{count:u,start:k,loop:t.loop,ilen:D<k&&!L?u+D-k:D-k}}function w0e(i,t,a,u){const{points:c,options:m}=t,{count:p,start:x,loop:k,ilen:D}=see(c,a,u),L=_0e(m);let{move:V=!0,reverse:q}=u||{},ie,ee,se;for(ie=0;ie<=D;++ie)ee=c[(x+(q?D-ie:ie))%p],!ee.skip&&(V?(i.moveTo(ee.x,ee.y),V=!1):L(i,se,ee,q,m.stepped),se=ee);return k&&(ee=c[(x+(q?D:0))%p],L(i,se,ee,q,m.stepped)),!!k}function x0e(i,t,a,u){const c=t.points,{count:m,start:p,ilen:x}=see(c,a,u),{move:k=!0,reverse:D}=u||{};let L=0,V=0,q,ie,ee,se,Te,_e;const be=Pe=>(p+(D?x-Pe:Pe))%m,le=()=>{se!==Te&&(i.lineTo(L,Te),i.lineTo(L,se),i.lineTo(L,_e))};for(k&&(ie=c[be(0)],i.moveTo(ie.x,ie.y)),q=0;q<=x;++q){if(ie=c[be(q)],ie.skip)continue;const Pe=ie.x,Oe=ie.y,lt=Pe|0;lt===ee?(Oe<se?se=Oe:Oe>Te&&(Te=Oe),L=(V*L+Pe)/++V):(le(),i.lineTo(Pe,Oe),ee=lt,V=0,se=Te=Oe),_e=Oe}le()}function KW(i){const t=i.options,a=t.borderDash&&t.borderDash.length;return!i._decimated&&!i._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!a?x0e:w0e}function C0e(i){return i.stepped?xge:i.tension||i.cubicInterpolationMode==="monotone"?Cge:xk}function S0e(i,t,a,u){let c=t._path;c||(c=t._path=new Path2D,t.path(c,a,u)&&c.closePath()),oee(i,t.options),i.stroke(c)}function E0e(i,t,a,u){const{segments:c,options:m}=t,p=KW(t);for(const x of c)oee(i,m,x.style),i.beginPath(),p(i,t,x,{start:a,end:a+u-1})&&i.closePath(),i.stroke()}const k0e=typeof Path2D=="function";function T0e(i,t,a,u){k0e&&!t.options.segment?S0e(i,t,a,u):E0e(i,t,a,u)}class GC extends Fw{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,a){const u=this.options;if((u.tension||u.cubicInterpolationMode==="monotone")&&!u.stepped&&!this._pointsUpdated){const c=u.spanGaps?this._loop:this._fullLoop;hge(this._points,u,t,c,a),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Oge(this,this.options.segment))}first(){const t=this.segments,a=this.points;return t.length&&a[t[0].start]}last(){const t=this.segments,a=this.points,u=t.length;return u&&a[t[u-1].end]}interpolate(t,a){const u=this.options,c=t[a],m=this.points,p=qQ(this,{property:a,start:c,end:c});if(!p.length)return;const x=[],k=C0e(u);let D,L;for(D=0,L=p.length;D<L;++D){const{start:V,end:q}=p[D],ie=m[V],ee=m[q];if(ie===ee){x.push(ie);continue}const se=Math.abs((c-ie[a])/(ee[a]-ie[a])),Te=k(ie,ee,se,u.stepped);Te[a]=t[a],x.push(Te)}return x.length===1?x[0]:x}pathSegment(t,a,u){return KW(this)(t,this,a,u)}path(t,a,u){const c=this.segments,m=KW(this);let p=this._loop;a=a||0,u=u||this.points.length-a;for(const x of c)p&=m(t,this,x,{start:a,end:a+u-1});return!!p}draw(t,a,u,c){const m=this.options||{};(this.points||[]).length&&m.borderWidth&&(t.save(),T0e(t,this,u,c),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}fr(GC,"id","line"),fr(GC,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),fr(GC,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),fr(GC,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function xX(i,t,a,u){const c=i.options,{[a]:m}=i.getProps([a],u);return Math.abs(t-m)<c.radius+c.hitRadius}class k5 extends Fw{constructor(a){super();fr(this,"parsed");fr(this,"skip");fr(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,a&&Object.assign(this,a)}inRange(a,u,c){const m=this.options,{x:p,y:x}=this.getProps(["x","y"],c);return Math.pow(a-p,2)+Math.pow(u-x,2)<Math.pow(m.hitRadius+m.radius,2)}inXRange(a,u){return xX(this,a,"x",u)}inYRange(a,u){return xX(this,a,"y",u)}getCenterPoint(a){const{x:u,y:c}=this.getProps(["x","y"],a);return{x:u,y:c}}size(a){a=a||this.options||{};let u=a.radius||0;u=Math.max(u,u&&a.hoverRadius||0);const c=u&&a.borderWidth||0;return(u+c)*2}draw(a,u){const c=this.options;this.skip||c.radius<.1||!kw(this,u,this.size(c)/2)||(a.strokeStyle=c.borderColor,a.lineWidth=c.borderWidth,a.fillStyle=c.backgroundColor,jW(a,c,this.x,this.y))}getRange(){const a=this.options||{};return a.radius+a.hitRadius}}fr(k5,"id","point"),fr(k5,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),fr(k5,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function uee(i,t){const{x:a,y:u,base:c,width:m,height:p}=i.getProps(["x","y","base","width","height"],t);let x,k,D,L,V;return i.horizontal?(V=p/2,x=Math.min(a,c),k=Math.max(a,c),D=u-V,L=u+V):(V=m/2,x=a-V,k=a+V,D=Math.min(u,c),L=Math.max(u,c)),{left:x,top:D,right:k,bottom:L}}function KC(i,t,a,u){return i?0:Jf(t,a,u)}function A0e(i,t,a){const u=i.options.borderWidth,c=i.borderSkipped,m=BQ(u);return{t:KC(c.top,m.top,0,a),r:KC(c.right,m.right,0,t),b:KC(c.bottom,m.bottom,0,a),l:KC(c.left,m.left,0,t)}}function O0e(i,t,a){const{enableBorderRadius:u}=i.getProps(["enableBorderRadius"]),c=i.options.borderRadius,m=Ok(c),p=Math.min(t,a),x=i.borderSkipped,k=u||so(c);return{topLeft:KC(!k||x.top||x.left,m.topLeft,0,p),topRight:KC(!k||x.top||x.right,m.topRight,0,p),bottomLeft:KC(!k||x.bottom||x.left,m.bottomLeft,0,p),bottomRight:KC(!k||x.bottom||x.right,m.bottomRight,0,p)}}function D0e(i){const t=uee(i),a=t.right-t.left,u=t.bottom-t.top,c=A0e(i,a/2,u/2),m=O0e(i,a/2,u/2);return{outer:{x:t.left,y:t.top,w:a,h:u,radius:m},inner:{x:t.left+c.l,y:t.top+c.t,w:a-c.l-c.r,h:u-c.t-c.b,radius:{topLeft:Math.max(0,m.topLeft-Math.max(c.t,c.l)),topRight:Math.max(0,m.topRight-Math.max(c.t,c.r)),bottomLeft:Math.max(0,m.bottomLeft-Math.max(c.b,c.l)),bottomRight:Math.max(0,m.bottomRight-Math.max(c.b,c.r))}}}}function sW(i,t,a,u){const c=t===null,m=a===null,x=i&&!(c&&m)&&uee(i,u);return x&&(c||Sw(t,x.left,x.right))&&(m||Sw(a,x.top,x.bottom))}function M0e(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function R0e(i,t){i.rect(t.x,t.y,t.w,t.h)}function uW(i,t,a={}){const u=i.x!==a.x?-t:0,c=i.y!==a.y?-t:0,m=(i.x+i.w!==a.x+a.w?t:0)-u,p=(i.y+i.h!==a.y+a.h?t:0)-c;return{x:i.x+u,y:i.y+c,w:i.w+m,h:i.h+p,radius:i.radius}}class T5 extends Fw{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:a,options:{borderColor:u,backgroundColor:c}}=this,{inner:m,outer:p}=D0e(this),x=M0e(p.radius)?q3:R0e;t.save(),(p.w!==m.w||p.h!==m.h)&&(t.beginPath(),x(t,uW(p,a,m)),t.clip(),x(t,uW(m,-a,p)),t.fillStyle=u,t.fill("evenodd")),t.beginPath(),x(t,uW(m,a)),t.fillStyle=c,t.fill(),t.restore()}inRange(t,a,u){return sW(this,t,a,u)}inXRange(t,a){return sW(this,t,null,a)}inYRange(t,a){return sW(this,null,t,a)}getCenterPoint(t){const{x:a,y:u,base:c,horizontal:m}=this.getProps(["x","y","base","horizontal"],t);return{x:m?(a+c)/2:a,y:m?u:(u+c)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}fr(T5,"id","bar"),fr(T5,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),fr(T5,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var P0e=Object.freeze({__proto__:null,ArcElement:k3,BarElement:T5,LineElement:GC,PointElement:k5});const XW=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],CX=XW.map(i=>i.replace("rgb(","rgba(").replace(")",", 0.5)"));function lee(i){return XW[i%XW.length]}function cee(i){return CX[i%CX.length]}function I0e(i,t){return i.borderColor=lee(t),i.backgroundColor=cee(t),++t}function B0e(i,t){return i.backgroundColor=i.data.map(()=>lee(t++)),t}function L0e(i,t){return i.backgroundColor=i.data.map(()=>cee(t++)),t}function F0e(i){let t=0;return(a,u)=>{const c=i.getDatasetMeta(u).controller;c instanceof kk?t=B0e(a,t):c instanceof B3?t=L0e(a,t):c&&(t=I0e(a,t))}}function SX(i){let t;for(t in i)if(i[t].borderColor||i[t].backgroundColor)return!0;return!1}function N0e(i){return i&&(i.borderColor||i.backgroundColor)}var $0e={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(i,t,a){if(!a.enabled)return;const{data:{datasets:u},options:c}=i.config,{elements:m}=c;if(!a.forceOverride&&(SX(u)||N0e(c)||m&&SX(m)))return;const p=F0e(i);u.forEach(p)}};function z0e(i,t,a,u,c){const m=c.samples||u;if(m>=a)return i.slice(t,t+a);const p=[],x=(a-2)/(m-2);let k=0;const D=t+a-1;let L=t,V,q,ie,ee,se;for(p[k++]=i[L],V=0;V<m-2;V++){let Te=0,_e=0,be;const le=Math.floor((V+1)*x)+1+t,Pe=Math.min(Math.floor((V+2)*x)+1,a)+t,Oe=Pe-le;for(be=le;be<Pe;be++)Te+=i[be].x,_e+=i[be].y;Te/=Oe,_e/=Oe;const lt=Math.floor(V*x)+1+t,at=Math.min(Math.floor((V+1)*x)+1,a)+t,{x:K,y:de}=i[L];for(ie=ee=-1,be=lt;be<at;be++)ee=.5*Math.abs((K-Te)*(i[be].y-de)-(K-i[be].x)*(_e-de)),ee>ie&&(ie=ee,q=i[be],se=be);p[k++]=q,L=se}return p[k++]=i[D],p}function H0e(i,t,a,u){let c=0,m=0,p,x,k,D,L,V,q,ie,ee,se;const Te=[],_e=t+a-1,be=i[t].x,Pe=i[_e].x-be;for(p=t;p<t+a;++p){x=i[p],k=(x.x-be)/Pe*u,D=x.y;const Oe=k|0;if(Oe===L)D<ee?(ee=D,V=p):D>se&&(se=D,q=p),c=(m*c+x.x)/++m;else{const lt=p-1;if(!Do(V)&&!Do(q)){const at=Math.min(V,q),K=Math.max(V,q);at!==ie&&at!==lt&&Te.push({...i[at],x:c}),K!==ie&&K!==lt&&Te.push({...i[K],x:c})}p>0&&lt!==ie&&Te.push(i[lt]),Te.push(x),L=Oe,m=0,ee=se=D,V=q=ie=p}}return Te}function fee(i){if(i._decimated){const t=i._data;delete i._decimated,delete i._data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function EX(i){i.data.datasets.forEach(t=>{fee(t)})}function V0e(i,t){const a=t.length;let u=0,c;const{iScale:m}=i,{min:p,max:x,minDefined:k,maxDefined:D}=m.getUserBounds();return k&&(u=Jf(Ew(t,m.axis,p).lo,0,a-1)),D?c=Jf(Ew(t,m.axis,x).hi+1,u,a)-u:c=a-u,{start:u,count:c}}var U0e={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(i,t,a)=>{if(!a.enabled){EX(i);return}const u=i.width;i.data.datasets.forEach((c,m)=>{const{_data:p,indexAxis:x}=c,k=i.getDatasetMeta(m),D=p||c.data;if(S3([x,i.options.indexAxis])==="y"||!k.controller.supportsDecimation)return;const L=i.scales[k.xAxisID];if(L.type!=="linear"&&L.type!=="time"||i.options.parsing)return;let{start:V,count:q}=V0e(k,D);const ie=a.threshold||4*u;if(q<=ie){fee(c);return}Do(p)&&(c._data=D,delete c.data,Object.defineProperty(c,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(se){this._data=se}}));let ee;switch(a.algorithm){case"lttb":ee=z0e(D,V,q,u,a);break;case"min-max":ee=H0e(D,V,q,u);break;default:throw new Error(`Unsupported decimation algorithm '${a.algorithm}'`)}c._decimated=ee})},destroy(i){EX(i)}};function W0e(i,t,a){const u=i.segments,c=i.points,m=t.points,p=[];for(const x of u){let{start:k,end:D}=x;D=eY(k,D,c);const L=ZW(a,c[k],c[D],x.loop);if(!t.segments){p.push({source:x,target:L,start:c[k],end:c[D]});continue}const V=qQ(t,L);for(const q of V){const ie=ZW(a,m[q.start],m[q.end],q.loop),ee=YQ(x,c,ie);for(const se of ee)p.push({source:se,target:q,start:{[a]:kX(L,ie,"start",Math.max)},end:{[a]:kX(L,ie,"end",Math.min)}})}}return p}function ZW(i,t,a,u){if(u)return;let c=t[i],m=a[i];return i==="angle"&&(c=sg(c),m=sg(m)),{property:i,start:c,end:m}}function j0e(i,t){const{x:a=null,y:u=null}=i||{},c=t.points,m=[];return t.segments.forEach(({start:p,end:x})=>{x=eY(p,x,c);const k=c[p],D=c[x];u!==null?(m.push({x:k.x,y:u}),m.push({x:D.x,y:u})):a!==null&&(m.push({x:a,y:k.y}),m.push({x:a,y:D.y}))}),m}function eY(i,t,a){for(;t>i;t--){const u=a[t];if(!isNaN(u.x)&&!isNaN(u.y))break}return t}function kX(i,t,a,u){return i&&t?u(i[a],t[a]):i?i[a]:t?t[a]:0}function dee(i,t){let a=[],u=!1;return ju(i)?(u=!0,a=i):a=j0e(i,t),a.length?new GC({points:a,options:{tension:0},_loop:u,_fullLoop:u}):null}function TX(i){return i&&i.fill!==!1}function Y0e(i,t,a){let c=i[t].fill;const m=[t];let p;if(!a)return c;for(;c!==!1&&m.indexOf(c)===-1;){if(!nc(c))return c;if(p=i[c],!p)return!1;if(p.visible)return c;m.push(c),c=p.fill}return!1}function q0e(i,t,a){const u=Z0e(i);if(so(u))return isNaN(u.value)?!1:u;let c=parseFloat(u);return nc(c)&&Math.floor(c)===c?G0e(u[0],t,c,a):["origin","start","end","stack","shape"].indexOf(u)>=0&&u}function G0e(i,t,a,u){return(i==="-"||i==="+")&&(a=t+a),a===t||a<0||a>=u?!1:a}function K0e(i,t){let a=null;return i==="start"?a=t.bottom:i==="end"?a=t.top:so(i)?a=t.getPixelForValue(i.value):t.getBasePixel&&(a=t.getBasePixel()),a}function X0e(i,t,a){let u;return i==="start"?u=a:i==="end"?u=t.options.reverse?t.min:t.max:so(i)?u=i.value:u=t.getBaseValue(),u}function Z0e(i){const t=i.options,a=t.fill;let u=Ei(a&&a.target,a);return u===void 0&&(u=!!t.backgroundColor),u===!1||u===null?!1:u===!0?"origin":u}function J0e(i){const{scale:t,index:a,line:u}=i,c=[],m=u.segments,p=u.points,x=Q0e(t,a);x.push(dee({x:null,y:t.bottom},u));for(let k=0;k<m.length;k++){const D=m[k];for(let L=D.start;L<=D.end;L++)e1e(c,p[L],x)}return new GC({points:c,options:{}})}function Q0e(i,t){const a=[],u=i.getMatchingVisibleMetas("line");for(let c=0;c<u.length;c++){const m=u[c];if(m.index===t)break;m.hidden||a.unshift(m.dataset)}return a}function e1e(i,t,a){const u=[];for(let c=0;c<a.length;c++){const m=a[c],{first:p,last:x,point:k}=t1e(m,t,"x");if(!(!k||p&&x)){if(p)u.unshift(k);else if(i.push(k),!x)break}}i.push(...u)}function t1e(i,t,a){const u=i.interpolate(t,a);if(!u)return{};const c=u[a],m=i.segments,p=i.points;let x=!1,k=!1;for(let D=0;D<m.length;D++){const L=m[D],V=p[L.start][a],q=p[L.end][a];if(Sw(c,V,q)){x=c===V,k=c===q;break}}return{first:x,last:k,point:u}}class vee{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,a,u){const{x:c,y:m,radius:p}=this;return a=a||{start:0,end:Yu},t.arc(c,m,p,a.end,a.start,!0),!u.bounds}interpolate(t){const{x:a,y:u,radius:c}=this,m=t.angle;return{x:a+Math.cos(m)*c,y:u+Math.sin(m)*c,angle:m}}}function n1e(i){const{chart:t,fill:a,line:u}=i;if(nc(a))return r1e(t,a);if(a==="stack")return J0e(i);if(a==="shape")return!0;const c=a1e(i);return c instanceof vee?c:dee(c,u)}function r1e(i,t){const a=i.getDatasetMeta(t);return a&&i.isDatasetVisible(t)?a.dataset:null}function a1e(i){return(i.scale||{}).getPointPositionForValue?o1e(i):i1e(i)}function i1e(i){const{scale:t={},fill:a}=i,u=K0e(a,t);if(nc(u)){const c=t.isHorizontal();return{x:c?u:null,y:c?null:u}}return null}function o1e(i){const{scale:t,fill:a}=i,u=t.options,c=t.getLabels().length,m=u.reverse?t.max:t.min,p=X0e(a,t,m),x=[];if(u.grid.circular){const k=t.getPointPositionForValue(0,m);return new vee({x:k.x,y:k.y,radius:t.getDistanceFromCenterForValue(p)})}for(let k=0;k<c;++k)x.push(t.getPointPositionForValue(k,p));return x}function lW(i,t,a){const u=n1e(t),{line:c,scale:m,axis:p}=t,x=c.options,k=x.fill,D=x.backgroundColor,{above:L=D,below:V=D}=k||{};u&&c.points.length&&(C6(i,a),s1e(i,{line:c,target:u,above:L,below:V,area:a,scale:m,axis:p}),S6(i))}function s1e(i,t){const{line:a,target:u,above:c,below:m,area:p,scale:x}=t,k=a._loop?"angle":t.axis;i.save(),k==="x"&&m!==c&&(AX(i,u,p.top),OX(i,{line:a,target:u,color:c,scale:x,property:k}),i.restore(),i.save(),AX(i,u,p.bottom)),OX(i,{line:a,target:u,color:m,scale:x,property:k}),i.restore()}function AX(i,t,a){const{segments:u,points:c}=t;let m=!0,p=!1;i.beginPath();for(const x of u){const{start:k,end:D}=x,L=c[k],V=c[eY(k,D,c)];m?(i.moveTo(L.x,L.y),m=!1):(i.lineTo(L.x,a),i.lineTo(L.x,L.y)),p=!!t.pathSegment(i,x,{move:p}),p?i.closePath():i.lineTo(V.x,a)}i.lineTo(t.first().x,a),i.closePath(),i.clip()}function OX(i,t){const{line:a,target:u,property:c,color:m,scale:p}=t,x=W0e(a,u,c);for(const{source:k,target:D,start:L,end:V}of x){const{style:{backgroundColor:q=m}={}}=k,ie=u!==!0;i.save(),i.fillStyle=q,u1e(i,p,ie&&ZW(c,L,V)),i.beginPath();const ee=!!a.pathSegment(i,k);let se;if(ie){ee?i.closePath():DX(i,u,V,c);const Te=!!u.pathSegment(i,D,{move:ee,reverse:!0});se=ee&&Te,se||DX(i,u,L,c)}i.closePath(),i.fill(se?"evenodd":"nonzero"),i.restore()}}function u1e(i,t,a){const{top:u,bottom:c}=t.chart.chartArea,{property:m,start:p,end:x}=a||{};m==="x"&&(i.beginPath(),i.rect(p,u,x-p,c-u),i.clip())}function DX(i,t,a,u){const c=t.interpolate(a,u);c&&i.lineTo(c.x,c.y)}var l1e={id:"filler",afterDatasetsUpdate(i,t,a){const u=(i.data.datasets||[]).length,c=[];let m,p,x,k;for(p=0;p<u;++p)m=i.getDatasetMeta(p),x=m.dataset,k=null,x&&x.options&&x instanceof GC&&(k={visible:i.isDatasetVisible(p),index:p,fill:q0e(x,p,u),chart:i,axis:m.controller.options.indexAxis,scale:m.vScale,line:x}),m.$filler=k,c.push(k);for(p=0;p<u;++p)k=c[p],!(!k||k.fill===!1)&&(k.fill=Y0e(c,p,a.propagate))},beforeDraw(i,t,a){const u=a.drawTime==="beforeDraw",c=i.getSortedVisibleDatasetMetas(),m=i.chartArea;for(let p=c.length-1;p>=0;--p){const x=c[p].$filler;x&&(x.line.updateControlPoints(m,x.axis),u&&x.fill&&lW(i.ctx,x,m))}},beforeDatasetsDraw(i,t,a){if(a.drawTime!=="beforeDatasetsDraw")return;const u=i.getSortedVisibleDatasetMetas();for(let c=u.length-1;c>=0;--c){const m=u[c].$filler;TX(m)&&lW(i.ctx,m,i.chartArea)}},beforeDatasetDraw(i,t,a){const u=t.meta.$filler;!TX(u)||a.drawTime!=="beforeDatasetDraw"||lW(i.ctx,u,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const MX=(i,t)=>{let{boxHeight:a=t,boxWidth:u=t}=i;return i.usePointStyle&&(a=Math.min(a,t),u=i.pointStyleWidth||Math.min(u,t)),{boxWidth:u,boxHeight:a,itemHeight:Math.max(t,a)}},c1e=(i,t)=>i!==null&&t!==null&&i.datasetIndex===t.datasetIndex&&i.index===t.index;class RX extends Fw{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,a,u){this.maxWidth=t,this.maxHeight=a,this._margins=u,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let a=Cu(t.generateLabels,[this.chart],this)||[];t.filter&&(a=a.filter(u=>t.filter(u,this.chart.data))),t.sort&&(a=a.sort((u,c)=>t.sort(u,c,this.chart.data))),this.options.reverse&&a.reverse(),this.legendItems=a}fit(){const{options:t,ctx:a}=this;if(!t.display){this.width=this.height=0;return}const u=t.labels,c=Sf(u.font),m=c.size,p=this._computeTitleHeight(),{boxWidth:x,itemHeight:k}=MX(u,m);let D,L;a.font=c.string,this.isHorizontal()?(D=this.maxWidth,L=this._fitRows(p,m,x,k)+10):(L=this.maxHeight,D=this._fitCols(p,c,x,k)+10),this.width=Math.min(D,t.maxWidth||this.maxWidth),this.height=Math.min(L,t.maxHeight||this.maxHeight)}_fitRows(t,a,u,c){const{ctx:m,maxWidth:p,options:{labels:{padding:x}}}=this,k=this.legendHitBoxes=[],D=this.lineWidths=[0],L=c+x;let V=t;m.textAlign="left",m.textBaseline="middle";let q=-1,ie=-L;return this.legendItems.forEach((ee,se)=>{const Te=u+a/2+m.measureText(ee.text).width;(se===0||D[D.length-1]+Te+2*x>p)&&(V+=L,D[D.length-(se>0?0:1)]=0,ie+=L,q++),k[se]={left:0,top:ie,row:q,width:Te,height:c},D[D.length-1]+=Te+x}),V}_fitCols(t,a,u,c){const{ctx:m,maxHeight:p,options:{labels:{padding:x}}}=this,k=this.legendHitBoxes=[],D=this.columnSizes=[],L=p-t;let V=x,q=0,ie=0,ee=0,se=0;return this.legendItems.forEach((Te,_e)=>{const{itemWidth:be,itemHeight:le}=f1e(u,a,m,Te,c);_e>0&&ie+le+2*x>L&&(V+=q+x,D.push({width:q,height:ie}),ee+=q+x,se++,q=ie=0),k[_e]={left:ee,top:ie,col:se,width:be,height:le},q=Math.max(q,be),ie+=le+x}),V+=q,D.push({width:q,height:ie}),V}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:a,options:{align:u,labels:{padding:c},rtl:m}}=this,p=sD(m,this.left,this.width);if(this.isHorizontal()){let x=0,k=sv(u,this.left+c,this.right-this.lineWidths[x]);for(const D of a)x!==D.row&&(x=D.row,k=sv(u,this.left+c,this.right-this.lineWidths[x])),D.top+=this.top+t+c,D.left=p.leftForLtr(p.x(k),D.width),k+=D.width+c}else{let x=0,k=sv(u,this.top+t+c,this.bottom-this.columnSizes[x].height);for(const D of a)D.col!==x&&(x=D.col,k=sv(u,this.top+t+c,this.bottom-this.columnSizes[x].height)),D.top=k,D.left+=this.left+c,D.left=p.leftForLtr(p.x(D.left),D.width),k+=D.height+c}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;C6(t,this),this._draw(),S6(t)}}_draw(){const{options:t,columnSizes:a,lineWidths:u,ctx:c}=this,{align:m,labels:p}=t,x=rc.color,k=sD(t.rtl,this.left,this.width),D=Sf(p.font),{padding:L}=p,V=D.size,q=V/2;let ie;this.drawTitle(),c.textAlign=k.textAlign("left"),c.textBaseline="middle",c.lineWidth=.5,c.font=D.string;const{boxWidth:ee,boxHeight:se,itemHeight:Te}=MX(p,V),_e=function(lt,at,K){if(isNaN(ee)||ee<=0||isNaN(se)||se<0)return;c.save();const de=Ei(K.lineWidth,1);if(c.fillStyle=Ei(K.fillStyle,x),c.lineCap=Ei(K.lineCap,"butt"),c.lineDashOffset=Ei(K.lineDashOffset,0),c.lineJoin=Ei(K.lineJoin,"miter"),c.lineWidth=de,c.strokeStyle=Ei(K.strokeStyle,x),c.setLineDash(Ei(K.lineDash,[])),p.usePointStyle){const ve={radius:se*Math.SQRT2/2,pointStyle:K.pointStyle,rotation:K.rotation,borderWidth:de},Ue=k.xPlus(lt,ee/2),ue=at+q;IQ(c,ve,Ue,ue,p.pointStyleWidth&&ee)}else{const ve=at+Math.max((V-se)/2,0),Ue=k.leftForLtr(lt,ee),ue=Ok(K.borderRadius);c.beginPath(),Object.values(ue).some(Y=>Y!==0)?q3(c,{x:Ue,y:ve,w:ee,h:se,radius:ue}):c.rect(Ue,ve,ee,se),c.fill(),de!==0&&c.stroke()}c.restore()},be=function(lt,at,K){Lk(c,K.text,lt,at+Te/2,D,{strikethrough:K.hidden,textAlign:k.textAlign(K.textAlign)})},le=this.isHorizontal(),Pe=this._computeTitleHeight();le?ie={x:sv(m,this.left+L,this.right-u[0]),y:this.top+L+Pe,line:0}:ie={x:this.left+L,y:sv(m,this.top+Pe+L,this.bottom-a[0].height),line:0},UQ(this.ctx,t.textDirection);const Oe=Te+L;this.legendItems.forEach((lt,at)=>{c.strokeStyle=lt.fontColor,c.fillStyle=lt.fontColor;const K=c.measureText(lt.text).width,de=k.textAlign(lt.textAlign||(lt.textAlign=p.textAlign)),ve=ee+q+K;let Ue=ie.x,ue=ie.y;k.setWidth(this.width),le?at>0&&Ue+ve+L>this.right&&(ue=ie.y+=Oe,ie.line++,Ue=ie.x=sv(m,this.left+L,this.right-u[ie.line])):at>0&&ue+Oe>this.bottom&&(Ue=ie.x=Ue+a[ie.line].width+L,ie.line++,ue=ie.y=sv(m,this.top+Pe+L,this.bottom-a[ie.line].height));const Y=k.x(Ue);if(_e(Y,ue,lt),Ue=Rme(de,Ue+ee+q,le?Ue+ve:this.right,t.rtl),be(k.x(Ue),ue,lt),le)ie.x+=ve+L;else if(typeof lt.text!="string"){const $e=D.lineHeight;ie.y+=hee(lt,$e)+L}else ie.y+=Oe}),WQ(this.ctx,t.textDirection)}drawTitle(){const t=this.options,a=t.title,u=Sf(a.font),c=cv(a.padding);if(!a.display)return;const m=sD(t.rtl,this.left,this.width),p=this.ctx,x=a.position,k=u.size/2,D=c.top+k;let L,V=this.left,q=this.width;if(this.isHorizontal())q=Math.max(...this.lineWidths),L=this.top+D,V=sv(t.align,V,this.right-q);else{const ee=this.columnSizes.reduce((se,Te)=>Math.max(se,Te.height),0);L=D+sv(t.align,this.top,this.bottom-ee-t.labels.padding-this._computeTitleHeight())}const ie=sv(x,V,V+q);p.textAlign=m.textAlign(Yj(x)),p.textBaseline="middle",p.strokeStyle=a.color,p.fillStyle=a.color,p.font=u.string,Lk(p,a.text,ie,L,u)}_computeTitleHeight(){const t=this.options.title,a=Sf(t.font),u=cv(t.padding);return t.display?a.lineHeight+u.height:0}_getLegendItemAt(t,a){let u,c,m;if(Sw(t,this.left,this.right)&&Sw(a,this.top,this.bottom)){for(m=this.legendHitBoxes,u=0;u<m.length;++u)if(c=m[u],Sw(t,c.left,c.left+c.width)&&Sw(a,c.top,c.top+c.height))return this.legendItems[u]}return null}handleEvent(t){const a=this.options;if(!h1e(t.type,a))return;const u=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const c=this._hoveredItem,m=c1e(c,u);c&&!m&&Cu(a.onLeave,[t,c,this],this),this._hoveredItem=u,u&&!m&&Cu(a.onHover,[t,u,this],this)}else u&&Cu(a.onClick,[t,u,this],this)}}function f1e(i,t,a,u,c){const m=d1e(u,i,t,a),p=v1e(c,u,t.lineHeight);return{itemWidth:m,itemHeight:p}}function d1e(i,t,a,u){let c=i.text;return c&&typeof c!="string"&&(c=c.reduce((m,p)=>m.length>p.length?m:p)),t+a.size/2+u.measureText(c).width}function v1e(i,t,a){let u=i;return typeof t.text!="string"&&(u=hee(t,a)),u}function hee(i,t){const a=i.text?i.text.length:0;return t*a}function h1e(i,t){return!!((i==="mousemove"||i==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(i==="click"||i==="mouseup"))}var m1e={id:"legend",_element:RX,start(i,t,a){const u=i.legend=new RX({ctx:i.ctx,options:a,chart:i});uv.configure(i,u,a),uv.addBox(i,u)},stop(i){uv.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,t,a){const u=i.legend;uv.configure(i,u,a),u.options=a},afterUpdate(i){const t=i.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(i,t){t.replay||i.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,t,a){const u=t.datasetIndex,c=a.chart;c.isDatasetVisible(u)?(c.hide(u),t.hidden=!0):(c.show(u),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){const t=i.data.datasets,{labels:{usePointStyle:a,pointStyle:u,textAlign:c,color:m,useBorderRadius:p,borderRadius:x}}=i.legend.options;return i._getSortedDatasetMetas().map(k=>{const D=k.controller.getStyle(a?0:void 0),L=cv(D.borderWidth);return{text:t[k.index].label,fillStyle:D.backgroundColor,fontColor:m,hidden:!k.visible,lineCap:D.borderCapStyle,lineDash:D.borderDash,lineDashOffset:D.borderDashOffset,lineJoin:D.borderJoinStyle,lineWidth:(L.width+L.height)/4,strokeStyle:D.borderColor,pointStyle:u||D.pointStyle,rotation:D.rotation,textAlign:c||D.textAlign,borderRadius:p&&(x||D.borderRadius),datasetIndex:k.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}};class tY extends Fw{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,a){const u=this.options;if(this.left=0,this.top=0,!u.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=a;const c=ju(u.text)?u.text.length:1;this._padding=cv(u.padding);const m=c*Sf(u.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=m:this.width=m}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:a,left:u,bottom:c,right:m,options:p}=this,x=p.align;let k=0,D,L,V;return this.isHorizontal()?(L=sv(x,u,m),V=a+t,D=m-u):(p.position==="left"?(L=u+t,V=sv(x,c,a),k=qu*-.5):(L=m-t,V=sv(x,a,c),k=qu*.5),D=c-a),{titleX:L,titleY:V,maxWidth:D,rotation:k}}draw(){const t=this.ctx,a=this.options;if(!a.display)return;const u=Sf(a.font),m=u.lineHeight/2+this._padding.top,{titleX:p,titleY:x,maxWidth:k,rotation:D}=this._drawArgs(m);Lk(t,a.text,0,0,u,{color:a.color,maxWidth:k,rotation:D,textAlign:Yj(a.align),textBaseline:"middle",translation:[p,x]})}}function g1e(i,t){const a=new tY({ctx:i.ctx,options:t,chart:i});uv.configure(i,a,t),uv.addBox(i,a),i.titleBlock=a}var p1e={id:"title",_element:tY,start(i,t,a){g1e(i,a)},stop(i){const t=i.titleBlock;uv.removeBox(i,t),delete i.titleBlock},beforeUpdate(i,t,a){const u=i.titleBlock;uv.configure(i,u,a),u.options=a},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const JN=new WeakMap;var b1e={id:"subtitle",start(i,t,a){const u=new tY({ctx:i.ctx,options:a,chart:i});uv.configure(i,u,a),uv.addBox(i,u),JN.set(i,u)},stop(i){uv.removeBox(i,JN.get(i)),JN.delete(i)},beforeUpdate(i,t,a){const u=JN.get(i);uv.configure(i,u,a),u.options=a},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const T3={average(i){if(!i.length)return!1;let t,a,u=0,c=0,m=0;for(t=0,a=i.length;t<a;++t){const p=i[t].element;if(p&&p.hasValue()){const x=p.tooltipPosition();u+=x.x,c+=x.y,++m}}return{x:u/m,y:c/m}},nearest(i,t){if(!i.length)return!1;let a=t.x,u=t.y,c=Number.POSITIVE_INFINITY,m,p,x;for(m=0,p=i.length;m<p;++m){const k=i[m].element;if(k&&k.hasValue()){const D=k.getCenterPoint(),L=UW(t,D);L<c&&(c=L,x=k)}}if(x){const k=x.tooltipPosition();a=k.x,u=k.y}return{x:a,y:u}}};function qb(i,t){return t&&(ju(t)?Array.prototype.push.apply(i,t):i.push(t)),i}function pw(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function y1e(i,t){const{element:a,datasetIndex:u,index:c}=t,m=i.getDatasetMeta(u).controller,{label:p,value:x}=m.getLabelAndValue(c);return{chart:i,label:p,parsed:m.getParsed(c),raw:i.data.datasets[u].data[c],formattedValue:x,dataset:m.getDataset(),dataIndex:c,datasetIndex:u,element:a}}function PX(i,t){const a=i.chart.ctx,{body:u,footer:c,title:m}=i,{boxWidth:p,boxHeight:x}=t,k=Sf(t.bodyFont),D=Sf(t.titleFont),L=Sf(t.footerFont),V=m.length,q=c.length,ie=u.length,ee=cv(t.padding);let se=ee.height,Te=0,_e=u.reduce((Pe,Oe)=>Pe+Oe.before.length+Oe.lines.length+Oe.after.length,0);if(_e+=i.beforeBody.length+i.afterBody.length,V&&(se+=V*D.lineHeight+(V-1)*t.titleSpacing+t.titleMarginBottom),_e){const Pe=t.displayColors?Math.max(x,k.lineHeight):k.lineHeight;se+=ie*Pe+(_e-ie)*k.lineHeight+(_e-1)*t.bodySpacing}q&&(se+=t.footerMarginTop+q*L.lineHeight+(q-1)*t.footerSpacing);let be=0;const le=function(Pe){Te=Math.max(Te,a.measureText(Pe).width+be)};return a.save(),a.font=D.string,As(i.title,le),a.font=k.string,As(i.beforeBody.concat(i.afterBody),le),be=t.displayColors?p+2+t.boxPadding:0,As(u,Pe=>{As(Pe.before,le),As(Pe.lines,le),As(Pe.after,le)}),be=0,a.font=L.string,As(i.footer,le),a.restore(),Te+=ee.width,{width:Te,height:se}}function _1e(i,t){const{y:a,height:u}=t;return a<u/2?"top":a>i.height-u/2?"bottom":"center"}function w1e(i,t,a,u){const{x:c,width:m}=u,p=a.caretSize+a.caretPadding;if(i==="left"&&c+m+p>t.width||i==="right"&&c-m-p<0)return!0}function x1e(i,t,a,u){const{x:c,width:m}=a,{width:p,chartArea:{left:x,right:k}}=i;let D="center";return u==="center"?D=c<=(x+k)/2?"left":"right":c<=m/2?D="left":c>=p-m/2&&(D="right"),w1e(D,i,t,a)&&(D="center"),D}function IX(i,t,a){const u=a.yAlign||t.yAlign||_1e(i,a);return{xAlign:a.xAlign||t.xAlign||x1e(i,t,a,u),yAlign:u}}function C1e(i,t){let{x:a,width:u}=i;return t==="right"?a-=u:t==="center"&&(a-=u/2),a}function S1e(i,t,a){let{y:u,height:c}=i;return t==="top"?u+=a:t==="bottom"?u-=c+a:u-=c/2,u}function BX(i,t,a,u){const{caretSize:c,caretPadding:m,cornerRadius:p}=i,{xAlign:x,yAlign:k}=a,D=c+m,{topLeft:L,topRight:V,bottomLeft:q,bottomRight:ie}=Ok(p);let ee=C1e(t,x);const se=S1e(t,k,D);return k==="center"?x==="left"?ee+=D:x==="right"&&(ee-=D):x==="left"?ee-=Math.max(L,q)+c:x==="right"&&(ee+=Math.max(V,ie)+c),{x:Jf(ee,0,u.width-t.width),y:Jf(se,0,u.height-t.height)}}function QN(i,t,a){const u=cv(a.padding);return t==="center"?i.x+i.width/2:t==="right"?i.x+i.width-u.right:i.x+u.left}function LX(i){return qb([],pw(i))}function E1e(i,t,a){return uS(i,{tooltip:t,tooltipItems:a,type:"tooltip"})}function FX(i,t){const a=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return a?i.override(a):i}const mee={beforeTitle:vw,title(i){if(i.length>0){const t=i[0],a=t.chart.data.labels,u=a?a.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(u>0&&t.dataIndex<u)return a[t.dataIndex]}return""},afterTitle:vw,beforeBody:vw,beforeLabel:vw,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let t=i.dataset.label||"";t&&(t+=": ");const a=i.formattedValue;return Do(a)||(t+=a),t},labelColor(i){const a=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:a.borderColor,backgroundColor:a.backgroundColor,borderWidth:a.borderWidth,borderDash:a.borderDash,borderDashOffset:a.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){const a=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:a.pointStyle,rotation:a.rotation}},afterLabel:vw,afterBody:vw,beforeFooter:vw,footer:vw,afterFooter:vw};function rm(i,t,a,u){const c=i[t].call(a,u);return typeof c>"u"?mee[t].call(a,u):c}class JW extends Fw{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const a=this.chart,u=this.options.setContext(this.getContext()),c=u.enabled&&a.options.animation&&u.animations,m=new GQ(this.chart,c);return c._cacheable&&(this._cachedAnimations=Object.freeze(m)),m}getContext(){return this.$context||(this.$context=E1e(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,a){const{callbacks:u}=a,c=rm(u,"beforeTitle",this,t),m=rm(u,"title",this,t),p=rm(u,"afterTitle",this,t);let x=[];return x=qb(x,pw(c)),x=qb(x,pw(m)),x=qb(x,pw(p)),x}getBeforeBody(t,a){return LX(rm(a.callbacks,"beforeBody",this,t))}getBody(t,a){const{callbacks:u}=a,c=[];return As(t,m=>{const p={before:[],lines:[],after:[]},x=FX(u,m);qb(p.before,pw(rm(x,"beforeLabel",this,m))),qb(p.lines,rm(x,"label",this,m)),qb(p.after,pw(rm(x,"afterLabel",this,m))),c.push(p)}),c}getAfterBody(t,a){return LX(rm(a.callbacks,"afterBody",this,t))}getFooter(t,a){const{callbacks:u}=a,c=rm(u,"beforeFooter",this,t),m=rm(u,"footer",this,t),p=rm(u,"afterFooter",this,t);let x=[];return x=qb(x,pw(c)),x=qb(x,pw(m)),x=qb(x,pw(p)),x}_createItems(t){const a=this._active,u=this.chart.data,c=[],m=[],p=[];let x=[],k,D;for(k=0,D=a.length;k<D;++k)x.push(y1e(this.chart,a[k]));return t.filter&&(x=x.filter((L,V,q)=>t.filter(L,V,q,u))),t.itemSort&&(x=x.sort((L,V)=>t.itemSort(L,V,u))),As(x,L=>{const V=FX(t.callbacks,L);c.push(rm(V,"labelColor",this,L)),m.push(rm(V,"labelPointStyle",this,L)),p.push(rm(V,"labelTextColor",this,L))}),this.labelColors=c,this.labelPointStyles=m,this.labelTextColors=p,this.dataPoints=x,x}update(t,a){const u=this.options.setContext(this.getContext()),c=this._active;let m,p=[];if(!c.length)this.opacity!==0&&(m={opacity:0});else{const x=T3[u.position].call(this,c,this._eventPosition);p=this._createItems(u),this.title=this.getTitle(p,u),this.beforeBody=this.getBeforeBody(p,u),this.body=this.getBody(p,u),this.afterBody=this.getAfterBody(p,u),this.footer=this.getFooter(p,u);const k=this._size=PX(this,u),D=Object.assign({},x,k),L=IX(this.chart,u,D),V=BX(u,D,L,this.chart);this.xAlign=L.xAlign,this.yAlign=L.yAlign,m={opacity:1,x:V.x,y:V.y,width:k.width,height:k.height,caretX:x.x,caretY:x.y}}this._tooltipItems=p,this.$context=void 0,m&&this._resolveAnimations().update(this,m),t&&u.external&&u.external.call(this,{chart:this.chart,tooltip:this,replay:a})}drawCaret(t,a,u,c){const m=this.getCaretPosition(t,u,c);a.lineTo(m.x1,m.y1),a.lineTo(m.x2,m.y2),a.lineTo(m.x3,m.y3)}getCaretPosition(t,a,u){const{xAlign:c,yAlign:m}=this,{caretSize:p,cornerRadius:x}=u,{topLeft:k,topRight:D,bottomLeft:L,bottomRight:V}=Ok(x),{x:q,y:ie}=t,{width:ee,height:se}=a;let Te,_e,be,le,Pe,Oe;return m==="center"?(Pe=ie+se/2,c==="left"?(Te=q,_e=Te-p,le=Pe+p,Oe=Pe-p):(Te=q+ee,_e=Te+p,le=Pe-p,Oe=Pe+p),be=Te):(c==="left"?_e=q+Math.max(k,L)+p:c==="right"?_e=q+ee-Math.max(D,V)-p:_e=this.caretX,m==="top"?(le=ie,Pe=le-p,Te=_e-p,be=_e+p):(le=ie+se,Pe=le+p,Te=_e+p,be=_e-p),Oe=le),{x1:Te,x2:_e,x3:be,y1:le,y2:Pe,y3:Oe}}drawTitle(t,a,u){const c=this.title,m=c.length;let p,x,k;if(m){const D=sD(u.rtl,this.x,this.width);for(t.x=QN(this,u.titleAlign,u),a.textAlign=D.textAlign(u.titleAlign),a.textBaseline="middle",p=Sf(u.titleFont),x=u.titleSpacing,a.fillStyle=u.titleColor,a.font=p.string,k=0;k<m;++k)a.fillText(c[k],D.x(t.x),t.y+p.lineHeight/2),t.y+=p.lineHeight+x,k+1===m&&(t.y+=u.titleMarginBottom-x)}}_drawColorBox(t,a,u,c,m){const p=this.labelColors[u],x=this.labelPointStyles[u],{boxHeight:k,boxWidth:D}=m,L=Sf(m.bodyFont),V=QN(this,"left",m),q=c.x(V),ie=k<L.lineHeight?(L.lineHeight-k)/2:0,ee=a.y+ie;if(m.usePointStyle){const se={radius:Math.min(D,k)/2,pointStyle:x.pointStyle,rotation:x.rotation,borderWidth:1},Te=c.leftForLtr(q,D)+D/2,_e=ee+k/2;t.strokeStyle=m.multiKeyBackground,t.fillStyle=m.multiKeyBackground,jW(t,se,Te,_e),t.strokeStyle=p.borderColor,t.fillStyle=p.backgroundColor,jW(t,se,Te,_e)}else{t.lineWidth=so(p.borderWidth)?Math.max(...Object.values(p.borderWidth)):p.borderWidth||1,t.strokeStyle=p.borderColor,t.setLineDash(p.borderDash||[]),t.lineDashOffset=p.borderDashOffset||0;const se=c.leftForLtr(q,D),Te=c.leftForLtr(c.xPlus(q,1),D-2),_e=Ok(p.borderRadius);Object.values(_e).some(be=>be!==0)?(t.beginPath(),t.fillStyle=m.multiKeyBackground,q3(t,{x:se,y:ee,w:D,h:k,radius:_e}),t.fill(),t.stroke(),t.fillStyle=p.backgroundColor,t.beginPath(),q3(t,{x:Te,y:ee+1,w:D-2,h:k-2,radius:_e}),t.fill()):(t.fillStyle=m.multiKeyBackground,t.fillRect(se,ee,D,k),t.strokeRect(se,ee,D,k),t.fillStyle=p.backgroundColor,t.fillRect(Te,ee+1,D-2,k-2))}t.fillStyle=this.labelTextColors[u]}drawBody(t,a,u){const{body:c}=this,{bodySpacing:m,bodyAlign:p,displayColors:x,boxHeight:k,boxWidth:D,boxPadding:L}=u,V=Sf(u.bodyFont);let q=V.lineHeight,ie=0;const ee=sD(u.rtl,this.x,this.width),se=function(K){a.fillText(K,ee.x(t.x+ie),t.y+q/2),t.y+=q+m},Te=ee.textAlign(p);let _e,be,le,Pe,Oe,lt,at;for(a.textAlign=p,a.textBaseline="middle",a.font=V.string,t.x=QN(this,Te,u),a.fillStyle=u.bodyColor,As(this.beforeBody,se),ie=x&&Te!=="right"?p==="center"?D/2+L:D+2+L:0,Pe=0,lt=c.length;Pe<lt;++Pe){for(_e=c[Pe],be=this.labelTextColors[Pe],a.fillStyle=be,As(_e.before,se),le=_e.lines,x&&le.length&&(this._drawColorBox(a,t,Pe,ee,u),q=Math.max(V.lineHeight,k)),Oe=0,at=le.length;Oe<at;++Oe)se(le[Oe]),q=V.lineHeight;As(_e.after,se)}ie=0,q=V.lineHeight,As(this.afterBody,se),t.y-=m}drawFooter(t,a,u){const c=this.footer,m=c.length;let p,x;if(m){const k=sD(u.rtl,this.x,this.width);for(t.x=QN(this,u.footerAlign,u),t.y+=u.footerMarginTop,a.textAlign=k.textAlign(u.footerAlign),a.textBaseline="middle",p=Sf(u.footerFont),a.fillStyle=u.footerColor,a.font=p.string,x=0;x<m;++x)a.fillText(c[x],k.x(t.x),t.y+p.lineHeight/2),t.y+=p.lineHeight+u.footerSpacing}}drawBackground(t,a,u,c){const{xAlign:m,yAlign:p}=this,{x,y:k}=t,{width:D,height:L}=u,{topLeft:V,topRight:q,bottomLeft:ie,bottomRight:ee}=Ok(c.cornerRadius);a.fillStyle=c.backgroundColor,a.strokeStyle=c.borderColor,a.lineWidth=c.borderWidth,a.beginPath(),a.moveTo(x+V,k),p==="top"&&this.drawCaret(t,a,u,c),a.lineTo(x+D-q,k),a.quadraticCurveTo(x+D,k,x+D,k+q),p==="center"&&m==="right"&&this.drawCaret(t,a,u,c),a.lineTo(x+D,k+L-ee),a.quadraticCurveTo(x+D,k+L,x+D-ee,k+L),p==="bottom"&&this.drawCaret(t,a,u,c),a.lineTo(x+ie,k+L),a.quadraticCurveTo(x,k+L,x,k+L-ie),p==="center"&&m==="left"&&this.drawCaret(t,a,u,c),a.lineTo(x,k+V),a.quadraticCurveTo(x,k,x+V,k),a.closePath(),a.fill(),c.borderWidth>0&&a.stroke()}_updateAnimationTarget(t){const a=this.chart,u=this.$animations,c=u&&u.x,m=u&&u.y;if(c||m){const p=T3[t.position].call(this,this._active,this._eventPosition);if(!p)return;const x=this._size=PX(this,t),k=Object.assign({},p,this._size),D=IX(a,t,k),L=BX(t,k,D,a);(c._to!==L.x||m._to!==L.y)&&(this.xAlign=D.xAlign,this.yAlign=D.yAlign,this.width=x.width,this.height=x.height,this.caretX=p.x,this.caretY=p.y,this._resolveAnimations().update(this,L))}}_willRender(){return!!this.opacity}draw(t){const a=this.options.setContext(this.getContext());let u=this.opacity;if(!u)return;this._updateAnimationTarget(a);const c={width:this.width,height:this.height},m={x:this.x,y:this.y};u=Math.abs(u)<.001?0:u;const p=cv(a.padding),x=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;a.enabled&&x&&(t.save(),t.globalAlpha=u,this.drawBackground(m,t,c,a),UQ(t,a.textDirection),m.y+=p.top,this.drawTitle(m,t,a),this.drawBody(m,t,a),this.drawFooter(m,t,a),WQ(t,a.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,a){const u=this._active,c=t.map(({datasetIndex:x,index:k})=>{const D=this.chart.getDatasetMeta(x);if(!D)throw new Error("Cannot find a dataset at index "+x);return{datasetIndex:x,element:D.data[k],index:k}}),m=!U5(u,c),p=this._positionChanged(c,a);(m||p)&&(this._active=c,this._eventPosition=a,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,a,u=!0){if(a&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const c=this.options,m=this._active||[],p=this._getActiveElements(t,m,a,u),x=this._positionChanged(p,t),k=a||!U5(p,m)||x;return k&&(this._active=p,(c.enabled||c.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,a))),k}_getActiveElements(t,a,u,c){const m=this.options;if(t.type==="mouseout")return[];if(!c)return a;const p=this.chart.getElementsAtEventForMode(t,m.mode,m,u);return m.reverse&&p.reverse(),p}_positionChanged(t,a){const{caretX:u,caretY:c,options:m}=this,p=T3[m.position].call(this,t,a);return p!==!1&&(u!==p.x||c!==p.y)}}fr(JW,"positioners",T3);var k1e={id:"tooltip",_element:JW,positioners:T3,afterInit(i,t,a){a&&(i.tooltip=new JW({chart:i,options:a}))},beforeUpdate(i,t,a){i.tooltip&&i.tooltip.initialize(a)},reset(i,t,a){i.tooltip&&i.tooltip.initialize(a)},afterDraw(i){const t=i.tooltip;if(t&&t._willRender()){const a={tooltip:t};if(i.notifyPlugins("beforeTooltipDraw",{...a,cancelable:!0})===!1)return;t.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",a)}},afterEvent(i,t){if(i.tooltip){const a=t.replay;i.tooltip.handleEvent(t.event,a,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,t)=>t.bodyFont.size,boxWidth:(i,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:mee},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},T1e=Object.freeze({__proto__:null,Colors:$0e,Decimation:U0e,Filler:l1e,Legend:m1e,SubTitle:b1e,Title:p1e,Tooltip:k1e});const A1e=(i,t,a,u)=>(typeof t=="string"?(a=i.push(t)-1,u.unshift({index:a,label:t})):isNaN(t)&&(a=null),a);function O1e(i,t,a,u){const c=i.indexOf(t);if(c===-1)return A1e(i,t,a,u);const m=i.lastIndexOf(t);return c!==m?a:c}const D1e=(i,t)=>i===null?null:Jf(Math.round(i),0,t);function NX(i){const t=this.getLabels();return i>=0&&i<t.length?t[i]:i}class QW extends $k{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const a=this._addedLabels;if(a.length){const u=this.getLabels();for(const{index:c,label:m}of a)u[c]===m&&u.splice(c,1);this._addedLabels=[]}super.init(t)}parse(t,a){if(Do(t))return null;const u=this.getLabels();return a=isFinite(a)&&u[a]===t?a:O1e(u,t,Ei(a,t),this._addedLabels),D1e(a,u.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:a}=this.getUserBounds();let{min:u,max:c}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(u=0),a||(c=this.getLabels().length-1)),this.min=u,this.max=c}buildTicks(){const t=this.min,a=this.max,u=this.options.offset,c=[];let m=this.getLabels();m=t===0&&a===m.length-1?m:m.slice(t,a+1),this._valueRange=Math.max(m.length-(u?0:1),1),this._startValue=this.min-(u?.5:0);for(let p=t;p<=a;p++)c.push({value:p});return c}getLabelForValue(t){return NX.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const a=this.ticks;return t<0||t>a.length-1?null:this.getPixelForValue(a[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}fr(QW,"id","category"),fr(QW,"defaults",{ticks:{callback:NX}});function M1e(i,t){const a=[],{bounds:c,step:m,min:p,max:x,precision:k,count:D,maxTicks:L,maxDigits:V,includeBounds:q}=i,ie=m||1,ee=L-1,{min:se,max:Te}=t,_e=!Do(p),be=!Do(x),le=!Do(D),Pe=(Te-se)/(V+1);let Oe=RK((Te-se)/ee/ie)*ie,lt,at,K,de;if(Oe<1e-14&&!_e&&!be)return[{value:se},{value:Te}];de=Math.ceil(Te/Oe)-Math.floor(se/Oe),de>ee&&(Oe=RK(de*Oe/ee/ie)*ie),Do(k)||(lt=Math.pow(10,k),Oe=Math.ceil(Oe*lt)/lt),c==="ticks"?(at=Math.floor(se/Oe)*Oe,K=Math.ceil(Te/Oe)*Oe):(at=se,K=Te),_e&&be&&m&&Eme((x-p)/m,Oe/1e3)?(de=Math.round(Math.min((x-p)/Oe,L)),Oe=(x-p)/de,at=p,K=x):le?(at=_e?p:at,K=be?x:K,de=D-1,Oe=(K-at)/de):(de=(K-at)/Oe,R3(de,Math.round(de),Oe/1e3)?de=Math.round(de):de=Math.ceil(de));const ve=Math.max(PK(Oe),PK(at));lt=Math.pow(10,Do(k)?ve:k),at=Math.round(at*lt)/lt,K=Math.round(K*lt)/lt;let Ue=0;for(_e&&(q&&at!==p?(a.push({value:p}),at<p&&Ue++,R3(Math.round((at+Ue*Oe)*lt)/lt,p,$X(p,Pe,i))&&Ue++):at<p&&Ue++);Ue<de;++Ue){const ue=Math.round((at+Ue*Oe)*lt)/lt;if(be&&ue>x)break;a.push({value:ue})}return be&&q&&K!==x?a.length&&R3(a[a.length-1].value,x,$X(x,Pe,i))?a[a.length-1].value=x:a.push({value:x}):(!be||K===x)&&a.push({value:K}),a}function $X(i,t,{horizontal:a,minRotation:u}){const c=G0(u),m=(a?Math.sin(c):Math.cos(c))||.001,p=.75*t*(""+i).length;return Math.min(t/m,p)}class X5 extends $k{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,a){return Do(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:a,maxDefined:u}=this.getUserBounds();let{min:c,max:m}=this;const p=k=>c=a?c:k,x=k=>m=u?m:k;if(t){const k=Jb(c),D=Jb(m);k<0&&D<0?x(0):k>0&&D>0&&p(0)}if(c===m){let k=m===0?1:Math.abs(m*.05);x(m+k),t||p(c-k)}this.min=c,this.max=m}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:a,stepSize:u}=t,c;return u?(c=Math.ceil(this.max/u)-Math.floor(this.min/u)+1,c>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${u} would result generating up to ${c} ticks. Limiting to 1000.`),c=1e3)):(c=this.computeTickLimit(),a=a||11),a&&(c=Math.min(a,c)),c}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,a=t.ticks;let u=this.getTickLimit();u=Math.max(2,u);const c={maxTicks:u,bounds:t.bounds,min:t.min,max:t.max,precision:a.precision,step:a.stepSize,count:a.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:a.minRotation||0,includeBounds:a.includeBounds!==!1},m=this._range||this,p=M1e(c,m);return t.bounds==="ticks"&&EQ(p,this,"value"),t.reverse?(p.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),p}configure(){const t=this.ticks;let a=this.min,u=this.max;if(super.configure(),this.options.offset&&t.length){const c=(u-a)/Math.max(t.length-1,1)/2;a-=c,u+=c}this._startValue=a,this._endValue=u,this._valueRange=u-a}getLabelForValue(t){return cI(t,this.chart.options.locale,this.options.ticks.format)}}class ej extends X5{determineDataLimits(){const{min:t,max:a}=this.getMinMax(!0);this.min=nc(t)?t:0,this.max=nc(a)?a:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),a=t?this.width:this.height,u=G0(this.options.ticks.minRotation),c=(t?Math.sin(u):Math.cos(u))||.001,m=this._resolveTickFontOptions(0);return Math.ceil(a/Math.min(40,m.lineHeight/c))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}fr(ej,"id","linear"),fr(ej,"defaults",{ticks:{callback:x6.formatters.numeric}});const K3=i=>Math.floor(qC(i)),hk=(i,t)=>Math.pow(10,K3(i)+t);function zX(i){return i/Math.pow(10,K3(i))===1}function HX(i,t,a){const u=Math.pow(10,a),c=Math.floor(i/u);return Math.ceil(t/u)-c}function R1e(i,t){const a=t-i;let u=K3(a);for(;HX(i,t,u)>10;)u++;for(;HX(i,t,u)<10;)u--;return Math.min(u,K3(i))}function P1e(i,{min:t,max:a}){t=og(i.min,t);const u=[],c=K3(t);let m=R1e(t,a),p=m<0?Math.pow(10,Math.abs(m)):1;const x=Math.pow(10,m),k=c>m?Math.pow(10,c):0,D=Math.round((t-k)*p)/p,L=Math.floor((t-k)/x/10)*x*10;let V=Math.floor((D-L)/Math.pow(10,m)),q=og(i.min,Math.round((k+L+V*Math.pow(10,m))*p)/p);for(;q<a;)u.push({value:q,major:zX(q),significand:V}),V>=10?V=V<15?15:20:V++,V>=20&&(m++,V=2,p=m>=0?1:p),q=Math.round((k+L+V*Math.pow(10,m))*p)/p;const ie=og(i.max,q);return u.push({value:ie,major:zX(ie),significand:V}),u}class tj extends $k{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,a){const u=X5.prototype.parse.apply(this,[t,a]);if(u===0){this._zero=!0;return}return nc(u)&&u>0?u:null}determineDataLimits(){const{min:t,max:a}=this.getMinMax(!0);this.min=nc(t)?Math.max(0,t):null,this.max=nc(a)?Math.max(0,a):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!nc(this._userMin)&&(this.min=t===hk(this.min,0)?hk(this.min,-1):hk(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:a}=this.getUserBounds();let u=this.min,c=this.max;const m=x=>u=t?u:x,p=x=>c=a?c:x;u===c&&(u<=0?(m(1),p(10)):(m(hk(u,-1)),p(hk(c,1)))),u<=0&&m(hk(c,-1)),c<=0&&p(hk(u,1)),this.min=u,this.max=c}buildTicks(){const t=this.options,a={min:this._userMin,max:this._userMax},u=P1e(a,this);return t.bounds==="ticks"&&EQ(u,this,"value"),t.reverse?(u.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),u}getLabelForValue(t){return t===void 0?"0":cI(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=qC(t),this._valueRange=qC(this.max)-qC(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(qC(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const a=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+a*this._valueRange)}}fr(tj,"id","logarithmic"),fr(tj,"defaults",{ticks:{callback:x6.formatters.logarithmic,major:{enabled:!0}}});function nj(i){const t=i.ticks;if(t.display&&i.display){const a=cv(t.backdropPadding);return Ei(t.font&&t.font.size,rc.font.size)+a.height}return 0}function I1e(i,t,a){return a=ju(a)?a:[a],{w:Vme(i,t.string,a),h:a.length*t.lineHeight}}function VX(i,t,a,u,c){return i===u||i===c?{start:t-a/2,end:t+a/2}:i<u||i>c?{start:t-a,end:t}:{start:t,end:t+a}}function B1e(i){const t={l:i.left+i._padding.left,r:i.right-i._padding.right,t:i.top+i._padding.top,b:i.bottom-i._padding.bottom},a=Object.assign({},t),u=[],c=[],m=i._pointLabels.length,p=i.options.pointLabels,x=p.centerPointLabels?qu/m:0;for(let k=0;k<m;k++){const D=p.setContext(i.getPointLabelContext(k));c[k]=D.padding;const L=i.getPointPosition(k,i.drawingArea+c[k],x),V=Sf(D.font),q=I1e(i.ctx,V,i._pointLabels[k]);u[k]=q;const ie=sg(i.getIndexAngle(k)+x),ee=Math.round(Wj(ie)),se=VX(ee,L.x,q.w,0,180),Te=VX(ee,L.y,q.h,90,270);L1e(a,t,ie,se,Te)}i.setCenterPoint(t.l-a.l,a.r-t.r,t.t-a.t,a.b-t.b),i._pointLabelItems=$1e(i,u,c)}function L1e(i,t,a,u,c){const m=Math.abs(Math.sin(a)),p=Math.abs(Math.cos(a));let x=0,k=0;u.start<t.l?(x=(t.l-u.start)/m,i.l=Math.min(i.l,t.l-x)):u.end>t.r&&(x=(u.end-t.r)/m,i.r=Math.max(i.r,t.r+x)),c.start<t.t?(k=(t.t-c.start)/p,i.t=Math.min(i.t,t.t-k)):c.end>t.b&&(k=(c.end-t.b)/p,i.b=Math.max(i.b,t.b+k))}function F1e(i,t,a){const u=i.drawingArea,{extra:c,additionalAngle:m,padding:p,size:x}=a,k=i.getPointPosition(t,u+c+p,m),D=Math.round(Wj(sg(k.angle+Dc))),L=V1e(k.y,x.h,D),V=z1e(D),q=H1e(k.x,x.w,V);return{visible:!0,x:k.x,y:L,textAlign:V,left:q,top:L,right:q+x.w,bottom:L+x.h}}function N1e(i,t){if(!t)return!0;const{left:a,top:u,right:c,bottom:m}=i;return!(kw({x:a,y:u},t)||kw({x:a,y:m},t)||kw({x:c,y:u},t)||kw({x:c,y:m},t))}function $1e(i,t,a){const u=[],c=i._pointLabels.length,m=i.options,{centerPointLabels:p,display:x}=m.pointLabels,k={extra:nj(m)/2,additionalAngle:p?qu/c:0};let D;for(let L=0;L<c;L++){k.padding=a[L],k.size=t[L];const V=F1e(i,L,k);u.push(V),x==="auto"&&(V.visible=N1e(V,D),V.visible&&(D=V))}return u}function z1e(i){return i===0||i===180?"center":i<180?"left":"right"}function H1e(i,t,a){return a==="right"?i-=t:a==="center"&&(i-=t/2),i}function V1e(i,t,a){return a===90||a===270?i-=t/2:(a>270||a<90)&&(i-=t),i}function U1e(i,t,a){const{left:u,top:c,right:m,bottom:p}=a,{backdropColor:x}=t;if(!Do(x)){const k=Ok(t.borderRadius),D=cv(t.backdropPadding);i.fillStyle=x;const L=u-D.left,V=c-D.top,q=m-u+D.width,ie=p-c+D.height;Object.values(k).some(ee=>ee!==0)?(i.beginPath(),q3(i,{x:L,y:V,w:q,h:ie,radius:k}),i.fill()):i.fillRect(L,V,q,ie)}}function W1e(i,t){const{ctx:a,options:{pointLabels:u}}=i;for(let c=t-1;c>=0;c--){const m=i._pointLabelItems[c];if(!m.visible)continue;const p=u.setContext(i.getPointLabelContext(c));U1e(a,p,m);const x=Sf(p.font),{x:k,y:D,textAlign:L}=m;Lk(a,i._pointLabels[c],k,D+x.lineHeight/2,x,{color:p.color,textAlign:L,textBaseline:"middle"})}}function gee(i,t,a,u){const{ctx:c}=i;if(a)c.arc(i.xCenter,i.yCenter,t,0,Yu);else{let m=i.getPointPosition(0,t);c.moveTo(m.x,m.y);for(let p=1;p<u;p++)m=i.getPointPosition(p,t),c.lineTo(m.x,m.y)}}function j1e(i,t,a,u,c){const m=i.ctx,p=t.circular,{color:x,lineWidth:k}=t;!p&&!u||!x||!k||a<0||(m.save(),m.strokeStyle=x,m.lineWidth=k,m.setLineDash(c.dash),m.lineDashOffset=c.dashOffset,m.beginPath(),gee(i,a,p,u),m.closePath(),m.stroke(),m.restore())}function Y1e(i,t,a){return uS(i,{label:a,index:t,type:"pointLabel"})}class A3 extends X5{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=cv(nj(this.options)/2),a=this.width=this.maxWidth-t.width,u=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+a/2+t.left),this.yCenter=Math.floor(this.top+u/2+t.top),this.drawingArea=Math.floor(Math.min(a,u)/2)}determineDataLimits(){const{min:t,max:a}=this.getMinMax(!1);this.min=nc(t)&&!isNaN(t)?t:0,this.max=nc(a)&&!isNaN(a)?a:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/nj(this.options))}generateTickLabels(t){X5.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((a,u)=>{const c=Cu(this.options.pointLabels.callback,[a,u],this);return c||c===0?c:""}).filter((a,u)=>this.chart.getDataVisibility(u))}fit(){const t=this.options;t.display&&t.pointLabels.display?B1e(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,a,u,c){this.xCenter+=Math.floor((t-a)/2),this.yCenter+=Math.floor((u-c)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,a,u,c))}getIndexAngle(t){const a=Yu/(this._pointLabels.length||1),u=this.options.startAngle||0;return sg(t*a+G0(u))}getDistanceFromCenterForValue(t){if(Do(t))return NaN;const a=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*a:(t-this.min)*a}getValueForDistanceFromCenter(t){if(Do(t))return NaN;const a=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-a:this.min+a}getPointLabelContext(t){const a=this._pointLabels||[];if(t>=0&&t<a.length){const u=a[t];return Y1e(this.getContext(),t,u)}}getPointPosition(t,a,u=0){const c=this.getIndexAngle(t)-Dc+u;return{x:Math.cos(c)*a+this.xCenter,y:Math.sin(c)*a+this.yCenter,angle:c}}getPointPositionForValue(t,a){return this.getPointPosition(t,this.getDistanceFromCenterForValue(a))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:a,top:u,right:c,bottom:m}=this._pointLabelItems[t];return{left:a,top:u,right:c,bottom:m}}drawBackground(){const{backgroundColor:t,grid:{circular:a}}=this.options;if(t){const u=this.ctx;u.save(),u.beginPath(),gee(this,this.getDistanceFromCenterForValue(this._endValue),a,this._pointLabels.length),u.closePath(),u.fillStyle=t,u.fill(),u.restore()}}drawGrid(){const t=this.ctx,a=this.options,{angleLines:u,grid:c,border:m}=a,p=this._pointLabels.length;let x,k,D;if(a.pointLabels.display&&W1e(this,p),c.display&&this.ticks.forEach((L,V)=>{if(V!==0){k=this.getDistanceFromCenterForValue(L.value);const q=this.getContext(V),ie=c.setContext(q),ee=m.setContext(q);j1e(this,ie,k,p,ee)}}),u.display){for(t.save(),x=p-1;x>=0;x--){const L=u.setContext(this.getPointLabelContext(x)),{color:V,lineWidth:q}=L;!q||!V||(t.lineWidth=q,t.strokeStyle=V,t.setLineDash(L.borderDash),t.lineDashOffset=L.borderDashOffset,k=this.getDistanceFromCenterForValue(a.ticks.reverse?this.min:this.max),D=this.getPointPosition(x,k),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(D.x,D.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,a=this.options,u=a.ticks;if(!u.display)return;const c=this.getIndexAngle(0);let m,p;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(c),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((x,k)=>{if(k===0&&!a.reverse)return;const D=u.setContext(this.getContext(k)),L=Sf(D.font);if(m=this.getDistanceFromCenterForValue(this.ticks[k].value),D.showLabelBackdrop){t.font=L.string,p=t.measureText(x.label).width,t.fillStyle=D.backdropColor;const V=cv(D.backdropPadding);t.fillRect(-p/2-V.left,-m-L.size/2-V.top,p+V.width,L.size+V.height)}Lk(t,x.label,0,-m,L,{color:D.color,strokeColor:D.textStrokeColor,strokeWidth:D.textStrokeWidth})}),t.restore()}drawTitle(){}}fr(A3,"id","radialLinear"),fr(A3,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:x6.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),fr(A3,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),fr(A3,"descriptors",{angleLines:{_fallback:"grid"}});const k6={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},sm=Object.keys(k6);function UX(i,t){return i-t}function WX(i,t){if(Do(t))return null;const a=i._adapter,{parser:u,round:c,isoWeekday:m}=i._parseOpts;let p=t;return typeof u=="function"&&(p=u(p)),nc(p)||(p=typeof u=="string"?a.parse(p,u):a.parse(p)),p===null?null:(c&&(p=c==="week"&&(_D(m)||m===!0)?a.startOf(p,"isoWeek",m):a.startOf(p,c)),+p)}function jX(i,t,a,u){const c=sm.length;for(let m=sm.indexOf(i);m<c-1;++m){const p=k6[sm[m]],x=p.steps?p.steps:Number.MAX_SAFE_INTEGER;if(p.common&&Math.ceil((a-t)/(x*p.size))<=u)return sm[m]}return sm[c-1]}function q1e(i,t,a,u,c){for(let m=sm.length-1;m>=sm.indexOf(a);m--){const p=sm[m];if(k6[p].common&&i._adapter.diff(c,u,p)>=t-1)return p}return sm[a?sm.indexOf(a):0]}function G1e(i){for(let t=sm.indexOf(i)+1,a=sm.length;t<a;++t)if(k6[sm[t]].common)return sm[t]}function YX(i,t,a){if(!a)i[t]=!0;else if(a.length){const{lo:u,hi:c}=jj(a,t),m=a[u]>=t?a[u]:a[c];i[m]=!0}}function K1e(i,t,a,u){const c=i._adapter,m=+c.startOf(t[0].value,u),p=t[t.length-1].value;let x,k;for(x=m;x<=p;x=+c.add(x,1,u))k=a[x],k>=0&&(t[k].major=!0);return t}function qX(i,t,a){const u=[],c={},m=t.length;let p,x;for(p=0;p<m;++p)x=t[p],c[x]=p,u.push({value:x,major:!1});return m===0||!a?u:K1e(i,u,c,a)}class X3 extends $k{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,a={}){const u=t.time||(t.time={}),c=this._adapter=new ape._date(t.adapters.date);c.init(a),M3(u.displayFormats,c.formats()),this._parseOpts={parser:u.parser,round:u.round,isoWeekday:u.isoWeekday},super.init(t),this._normalized=a.normalized}parse(t,a){return t===void 0?null:WX(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,a=this._adapter,u=t.time.unit||"day";let{min:c,max:m,minDefined:p,maxDefined:x}=this.getUserBounds();function k(D){!p&&!isNaN(D.min)&&(c=Math.min(c,D.min)),!x&&!isNaN(D.max)&&(m=Math.max(m,D.max))}(!p||!x)&&(k(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&k(this.getMinMax(!1))),c=nc(c)&&!isNaN(c)?c:+a.startOf(Date.now(),u),m=nc(m)&&!isNaN(m)?m:+a.endOf(Date.now(),u)+1,this.min=Math.min(c,m-1),this.max=Math.max(c+1,m)}_getLabelBounds(){const t=this.getLabelTimestamps();let a=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY;return t.length&&(a=t[0],u=t[t.length-1]),{min:a,max:u}}buildTicks(){const t=this.options,a=t.time,u=t.ticks,c=u.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&c.length&&(this.min=this._userMin||c[0],this.max=this._userMax||c[c.length-1]);const m=this.min,p=this.max,x=Ome(c,m,p);return this._unit=a.unit||(u.autoSkip?jX(a.minUnit,this.min,this.max,this._getLabelCapacity(m)):q1e(this,x.length,a.minUnit,this.min,this.max)),this._majorUnit=!u.major.enabled||this._unit==="year"?void 0:G1e(this._unit),this.initOffsets(c),t.reverse&&x.reverse(),qX(this,x,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let a=0,u=0,c,m;this.options.offset&&t.length&&(c=this.getDecimalForValue(t[0]),t.length===1?a=1-c:a=(this.getDecimalForValue(t[1])-c)/2,m=this.getDecimalForValue(t[t.length-1]),t.length===1?u=m:u=(m-this.getDecimalForValue(t[t.length-2]))/2);const p=t.length<3?.5:.25;a=Jf(a,0,p),u=Jf(u,0,p),this._offsets={start:a,end:u,factor:1/(a+1+u)}}_generate(){const t=this._adapter,a=this.min,u=this.max,c=this.options,m=c.time,p=m.unit||jX(m.minUnit,a,u,this._getLabelCapacity(a)),x=Ei(c.ticks.stepSize,1),k=p==="week"?m.isoWeekday:!1,D=_D(k)||k===!0,L={};let V=a,q,ie;if(D&&(V=+t.startOf(V,"isoWeek",k)),V=+t.startOf(V,D?"day":p),t.diff(u,a,p)>1e5*x)throw new Error(a+" and "+u+" are too far apart with stepSize of "+x+" "+p);const ee=c.ticks.source==="data"&&this.getDataTimestamps();for(q=V,ie=0;q<u;q=+t.add(q,x,p),ie++)YX(L,q,ee);return(q===u||c.bounds==="ticks"||ie===1)&&YX(L,q,ee),Object.keys(L).sort(UX).map(se=>+se)}getLabelForValue(t){const a=this._adapter,u=this.options.time;return u.tooltipFormat?a.format(t,u.tooltipFormat):a.format(t,u.displayFormats.datetime)}format(t,a){const c=this.options.time.displayFormats,m=this._unit,p=a||c[m];return this._adapter.format(t,p)}_tickFormatFunction(t,a,u,c){const m=this.options,p=m.ticks.callback;if(p)return Cu(p,[t,a,u],this);const x=m.time.displayFormats,k=this._unit,D=this._majorUnit,L=k&&x[k],V=D&&x[D],q=u[a],ie=D&&V&&q&&q.major;return this._adapter.format(t,c||(ie?V:L))}generateTickLabels(t){let a,u,c;for(a=0,u=t.length;a<u;++a)c=t[a],c.label=this._tickFormatFunction(c.value,a,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const a=this._offsets,u=this.getDecimalForValue(t);return this.getPixelForDecimal((a.start+u)*a.factor)}getValueForPixel(t){const a=this._offsets,u=this.getDecimalForPixel(t)/a.factor-a.end;return this.min+u*(this.max-this.min)}_getLabelSize(t){const a=this.options.ticks,u=this.ctx.measureText(t).width,c=G0(this.isHorizontal()?a.maxRotation:a.minRotation),m=Math.cos(c),p=Math.sin(c),x=this._resolveTickFontOptions(0).size;return{w:u*m+x*p,h:u*p+x*m}}_getLabelCapacity(t){const a=this.options.time,u=a.displayFormats,c=u[a.unit]||u.millisecond,m=this._tickFormatFunction(t,0,qX(this,[t],this._majorUnit),c),p=this._getLabelSize(m),x=Math.floor(this.isHorizontal()?this.width/p.w:this.height/p.h)-1;return x>0?x:1}getDataTimestamps(){let t=this._cache.data||[],a,u;if(t.length)return t;const c=this.getMatchingVisibleMetas();if(this._normalized&&c.length)return this._cache.data=c[0].controller.getAllParsedValues(this);for(a=0,u=c.length;a<u;++a)t=t.concat(c[a].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let a,u;if(t.length)return t;const c=this.getLabels();for(a=0,u=c.length;a<u;++a)t.push(WX(this,c[a]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return AQ(t.sort(UX))}}fr(X3,"id","time"),fr(X3,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function e5(i,t,a){let u=0,c=i.length-1,m,p,x,k;a?(t>=i[u].pos&&t<=i[c].pos&&({lo:u,hi:c}=Ew(i,"pos",t)),{pos:m,time:x}=i[u],{pos:p,time:k}=i[c]):(t>=i[u].time&&t<=i[c].time&&({lo:u,hi:c}=Ew(i,"time",t)),{time:m,pos:x}=i[u],{time:p,pos:k}=i[c]);const D=p-m;return D?x+(k-x)*(t-m)/D:x}class rj extends X3{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),a=this._table=this.buildLookupTable(t);this._minPos=e5(a,this.min),this._tableRange=e5(a,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:a,max:u}=this,c=[],m=[];let p,x,k,D,L;for(p=0,x=t.length;p<x;++p)D=t[p],D>=a&&D<=u&&c.push(D);if(c.length<2)return[{time:a,pos:0},{time:u,pos:1}];for(p=0,x=c.length;p<x;++p)L=c[p+1],k=c[p-1],D=c[p],Math.round((L+k)/2)!==D&&m.push({time:D,pos:p/(x-1)});return m}_generate(){const t=this.min,a=this.max;let u=super.getDataTimestamps();return(!u.includes(t)||!u.length)&&u.splice(0,0,t),(!u.includes(a)||u.length===1)&&u.push(a),u.sort((c,m)=>c-m)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const a=this.getDataTimestamps(),u=this.getLabelTimestamps();return a.length&&u.length?t=this.normalize(a.concat(u)):t=a.length?a:u,t=this._cache.all=t,t}getDecimalForValue(t){return(e5(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const a=this._offsets,u=this.getDecimalForPixel(t)/a.factor-a.end;return e5(this._table,u*this._tableRange+this._minPos,!0)}}fr(rj,"id","timeseries"),fr(rj,"defaults",X3.defaults);var X1e=Object.freeze({__proto__:null,CategoryScale:QW,LinearScale:ej,LogarithmicScale:tj,RadialLinearScale:A3,TimeScale:X3,TimeSeriesScale:rj});const Z1e=[rpe,P0e,T1e,X1e];ww.register(...Z1e);function cW(i,t){i.split(/\s+/).forEach(a=>{t(a)})}class J1e{constructor(){this._events=void 0,this._events={}}on(t,a){cW(t,u=>{const c=this._events[u]||[];c.push(a),this._events[u]=c})}off(t,a){var u=arguments.length;if(u===0){this._events={};return}cW(t,c=>{if(u===1){delete this._events[c];return}const m=this._events[c];m!==void 0&&(m.splice(m.indexOf(a),1),this._events[c]=m)})}trigger(t,...a){var u=this;cW(t,c=>{const m=u._events[c];m!==void 0&&m.forEach(p=>{p.apply(u,a)})})}}function Q1e(i){return i.plugins={},class extends i{constructor(...t){super(...t),this.plugins={names:[],settings:{},requested:{},loaded:{}}}static define(t,a){i.plugins[t]={name:t,fn:a}}initializePlugins(t){var a,u;const c=this,m=[];if(Array.isArray(t))t.forEach(p=>{typeof p=="string"?m.push(p):(c.plugins.settings[p.name]=p.options,m.push(p.name))});else if(t)for(a in t)t.hasOwnProperty(a)&&(c.plugins.settings[a]=t[a],m.push(a));for(;u=m.shift();)c.require(u)}loadPlugin(t){var a=this,u=a.plugins,c=i.plugins[t];if(!i.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');u.requested[t]=!0,u.loaded[t]=c.fn.apply(a,[a.plugins.settings[t]||{}]),u.names.push(t)}require(t){var a=this,u=a.plugins;if(!a.plugins.loaded.hasOwnProperty(t)){if(u.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');a.loadPlugin(t)}return u.loaded[t]}}}/*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) */const T6=i=>(i=i.filter(Boolean),i.length<2?i[0]||"":tbe(i)==1?"["+i.join("")+"]":"(?:"+i.join("|")+")"),pee=i=>{if(!ebe(i))return i.join("");let t="",a=0;const u=()=>{a>1&&(t+="{"+a+"}")};return i.forEach((c,m)=>{if(c===i[m-1]){a++;return}u(),t+=c,a=1}),u(),t},bee=i=>{let t=nY(i);return T6(t)},ebe=i=>new Set(i).size!==i.length,Z3=i=>(i+"").replace(/([\$\(\)\*\+\.\?\[\]\^\{\|\}\\])/gu,"\\$1"),tbe=i=>i.reduce((t,a)=>Math.max(t,nbe(a)),0),nbe=i=>nY(i).length,nY=i=>Array.from(i);/*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) */const yee=i=>{if(i.length===1)return[[i]];let t=[];const a=i.substring(1);return yee(a).forEach(function(c){let m=c.slice(0);m[0]=i.charAt(0)+m[0],t.push(m),m=c.slice(0),m.unshift(i.charAt(0)),t.push(m)}),t};/*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) */const rbe=[[0,65535]],abe="[̀-ͯ·ʾʼ]";let Z5,_ee;const ibe=3,rY={},GX={"/":"⁄∕",0:"߀",a:"ⱥɐɑ",aa:"ꜳ",ae:"æǽǣ",ao:"ꜵ",au:"ꜷ",av:"ꜹꜻ",ay:"ꜽ",b:"ƀɓƃ",c:"ꜿƈȼↄ",d:"đɗɖᴅƌꮷԁɦ",e:"ɛǝᴇɇ",f:"ꝼƒ",g:"ǥɠꞡᵹꝿɢ",h:"ħⱨⱶɥ",i:"ɨı",j:"ɉȷ",k:"ƙⱪꝁꝃꝅꞣ",l:"łƚɫⱡꝉꝇꞁɭ",m:"ɱɯϻ",n:"ꞥƞɲꞑᴎлԉ",o:"øǿɔɵꝋꝍᴑ",oe:"œ",oi:"ƣ",oo:"ꝏ",ou:"ȣ",p:"ƥᵽꝑꝓꝕρ",q:"ꝗꝙɋ",r:"ɍɽꝛꞧꞃ",s:"ßȿꞩꞅʂ",t:"ŧƭʈⱦꞇ",th:"þ",tz:"ꜩ",u:"ʉ",v:"ʋꝟʌ",vy:"ꝡ",w:"ⱳ",y:"ƴɏỿ",z:"ƶȥɀⱬꝣ",hv:"ƕ"};for(let i in GX){let t=GX[i]||"";for(let a=0;a<t.length;a++){let u=t.substring(a,a+1);rY[u]=i}}const obe=new RegExp(Object.keys(rY).join("|")+"|"+abe,"gu"),sbe=i=>{Z5===void 0&&(Z5=fbe(i||rbe))},KX=(i,t="NFKD")=>i.normalize(t),J5=i=>nY(i).reduce((t,a)=>t+ube(a),""),ube=i=>(i=KX(i).toLowerCase().replace(obe,t=>rY[t]||""),KX(i,"NFC"));function*lbe(i){for(const[t,a]of i)for(let u=t;u<=a;u++){let c=String.fromCharCode(u),m=J5(c);m!=c.toLowerCase()&&(m.length>ibe||m.length!=0&&(yield{folded:m,composed:c,code_point:u}))}}const cbe=i=>{const t={},a=(u,c)=>{const m=t[u]||new Set,p=new RegExp("^"+bee(m)+"$","iu");c.match(p)||(m.add(Z3(c)),t[u]=m)};for(let u of lbe(i))a(u.folded,u.folded),a(u.folded,u.composed);return t},fbe=i=>{const t=cbe(i),a={};let u=[];for(let m in t){let p=t[m];p&&(a[m]=bee(p)),m.length>1&&u.push(Z3(m))}u.sort((m,p)=>p.length-m.length);const c=T6(u);return _ee=new RegExp("^"+c,"u"),a},dbe=(i,t=1)=>{let a=0;return i=i.map(u=>(Z5[u]&&(a+=u.length),Z5[u]||u)),a>=t?pee(i):""},vbe=(i,t=1)=>(t=Math.max(t,i.length-1),T6(yee(i).map(a=>dbe(a,t)))),XX=(i,t=!0)=>{let a=i.length>1?1:0;return T6(i.map(u=>{let c=[];const m=t?u.length():u.length()-1;for(let p=0;p<m;p++)c.push(vbe(u.substrs[p]||"",a));return pee(c)}))},hbe=(i,t)=>{for(const a of t){if(a.start!=i.start||a.end!=i.end||a.substrs.join("")!==i.substrs.join(""))continue;let u=i.parts;const c=p=>{for(const x of u){if(x.start===p.start&&x.substr===p.substr)return!1;if(!(p.length==1||x.length==1)&&(p.start<x.start&&p.end>x.start||x.start<p.start&&x.end>p.start))return!0}return!1};if(!(a.parts.filter(c).length>0))return!0}return!1};class Q5{constructor(){this.parts=[],this.substrs=[],this.start=0,this.end=0}add(t){t&&(this.parts.push(t),this.substrs.push(t.substr),this.start=Math.min(t.start,this.start),this.end=Math.max(t.end,this.end))}last(){return this.parts[this.parts.length-1]}length(){return this.parts.length}clone(t,a){let u=new Q5,c=JSON.parse(JSON.stringify(this.parts)),m=c.pop();for(const k of c)u.add(k);let p=a.substr.substring(0,t-m.start),x=p.length;return u.add({start:m.start,end:m.start+x,length:x,substr:p}),u}}const mbe=i=>{sbe(),i=J5(i);let t="",a=[new Q5];for(let u=0;u<i.length;u++){let m=i.substring(u).match(_ee);const p=i.substring(u,u+1),x=m?m[0]:null;let k=[],D=new Set;for(const L of a){const V=L.last();if(!V||V.length==1||V.end<=u)if(x){const q=x.length;L.add({start:u,end:u+q,length:q,substr:x}),D.add("1")}else L.add({start:u,end:u+1,length:1,substr:p}),D.add("2");else if(x){let q=L.clone(u,V);const ie=x.length;q.add({start:u,end:u+ie,length:ie,substr:x}),k.push(q)}else D.add("3")}if(k.length>0){k=k.sort((L,V)=>L.length()-V.length());for(let L of k)hbe(L,a)||a.push(L);continue}if(u>0&&D.size==1&&!D.has("3")){t+=XX(a,!1);let L=new Q5;const V=a[0];V&&L.add(V.last()),a=[L]}}return t+=XX(a,!0),t};/*! sifter.js | https://github.com/orchidjs/sifter.js | Apache License (v2) */const gbe=(i,t)=>{if(i)return i[t]},pbe=(i,t)=>{if(i){for(var a,u=t.split(".");(a=u.shift())&&(i=i[a]););return i}},fW=(i,t,a)=>{var u,c;return!i||(i=i+"",t.regex==null)||(c=i.search(t.regex),c===-1)?0:(u=t.string.length/i.length,c===0&&(u+=.5),u*a)},dW=(i,t)=>{var a=i[t];if(typeof a=="function")return a;a&&!Array.isArray(a)&&(i[t]=[a])},ah=(i,t)=>{if(Array.isArray(i))i.forEach(t);else for(var a in i)i.hasOwnProperty(a)&&t(i[a],a)},bbe=(i,t)=>typeof i=="number"&&typeof t=="number"?i>t?1:i<t?-1:0:(i=J5(i+"").toLowerCase(),t=J5(t+"").toLowerCase(),i>t?1:t>i?-1:0);/*! sifter.js | https://github.com/orchidjs/sifter.js | Apache License (v2) */class ybe{constructor(t,a){this.items=void 0,this.settings=void 0,this.items=t,this.settings=a||{diacritics:!0}}tokenize(t,a,u){if(!t||!t.length)return[];const c=[],m=t.split(/\s+/);var p;return u&&(p=new RegExp("^("+Object.keys(u).map(Z3).join("|")+"):(.*)$")),m.forEach(x=>{let k,D=null,L=null;p&&(k=x.match(p))&&(D=k[1],x=k[2]),x.length>0&&(this.settings.diacritics?L=mbe(x)||null:L=Z3(x),L&&a&&(L="\\b"+L)),c.push({string:x,regex:L?new RegExp(L,"iu"):null,field:D})}),c}getScoreFunction(t,a){var u=this.prepareSearch(t,a);return this._getScoreFunction(u)}_getScoreFunction(t){const a=t.tokens,u=a.length;if(!u)return function(){return 0};const c=t.options.fields,m=t.weights,p=c.length,x=t.getAttrFn;if(!p)return function(){return 1};const k=function(){return p===1?function(D,L){const V=c[0].field;return fW(x(L,V),D,m[V]||1)}:function(D,L){var V=0;if(D.field){const q=x(L,D.field);!D.regex&&q?V+=1/p:V+=fW(q,D,1)}else ah(m,(q,ie)=>{V+=fW(x(L,ie),D,q)});return V/p}}();return u===1?function(D){return k(a[0],D)}:t.options.conjunction==="and"?function(D){var L,V=0;for(let q of a){if(L=k(q,D),L<=0)return 0;V+=L}return V/u}:function(D){var L=0;return ah(a,V=>{L+=k(V,D)}),L/u}}getSortFunction(t,a){var u=this.prepareSearch(t,a);return this._getSortFunction(u)}_getSortFunction(t){var a,u=[];const c=this,m=t.options,p=!t.query&&m.sort_empty?m.sort_empty:m.sort;if(typeof p=="function")return p.bind(this);const x=function(L,V){return L==="$score"?V.score:t.getAttrFn(c.items[V.id],L)};if(p)for(let D of p)(t.query||D.field!=="$score")&&u.push(D);if(t.query){a=!0;for(let D of u)if(D.field==="$score"){a=!1;break}a&&u.unshift({field:"$score",direction:"desc"})}else u=u.filter(D=>D.field!=="$score");return u.length?function(D,L){var V,q;for(let ie of u)if(q=ie.field,V=(ie.direction==="desc"?-1:1)*bbe(x(q,D),x(q,L)),V)return V;return 0}:null}prepareSearch(t,a){const u={};var c=Object.assign({},a);if(dW(c,"sort"),dW(c,"sort_empty"),c.fields){dW(c,"fields");const m=[];c.fields.forEach(p=>{typeof p=="string"&&(p={field:p,weight:1}),m.push(p),u[p.field]="weight"in p?p.weight:1}),c.fields=m}return{options:c,query:t.toLowerCase().trim(),tokens:this.tokenize(t,c.respect_word_boundaries,u),total:0,items:[],weights:u,getAttrFn:c.nesting?pbe:gbe}}search(t,a){var u=this,c,m;m=this.prepareSearch(t,a),a=m.options,t=m.query;const p=a.score||u._getScoreFunction(m);t.length?ah(u.items,(k,D)=>{c=p(k),(a.filter===!1||c>0)&&m.items.push({score:c,id:D})}):ah(u.items,(k,D)=>{m.items.push({score:1,id:D})});const x=u._getSortFunction(m);return x&&m.items.sort(x),m.total=m.items.length,typeof a.limit=="number"&&(m.items=m.items.slice(0,a.limit)),m}}const aD=(i,t)=>{if(Array.isArray(i))i.forEach(t);else for(var a in i)i.hasOwnProperty(a)&&t(i[a],a)},kd=i=>{if(i.jquery)return i[0];if(i instanceof HTMLElement)return i;if(wee(i)){var t=document.createElement("template");return t.innerHTML=i.trim(),t.content.firstChild}return document.querySelector(i)},wee=i=>typeof i=="string"&&i.indexOf("<")>-1,_be=i=>i.replace(/['"\\]/g,"\\$&"),vW=(i,t)=>{var a=document.createEvent("HTMLEvents");a.initEvent(t,!0,!1),i.dispatchEvent(a)},t5=(i,t)=>{Object.assign(i.style,t)},rh=(i,...t)=>{var a=xee(t);i=Cee(i),i.map(u=>{a.map(c=>{u.classList.add(c)})})},bw=(i,...t)=>{var a=xee(t);i=Cee(i),i.map(u=>{a.map(c=>{u.classList.remove(c)})})},xee=i=>{var t=[];return aD(i,a=>{typeof a=="string"&&(a=a.trim().split(/[\11\12\14\15\40]/)),Array.isArray(a)&&(t=t.concat(a))}),t.filter(Boolean)},Cee=i=>(Array.isArray(i)||(i=[i]),i),A5=(i,t,a)=>{if(!(a&&!a.contains(i)))for(;i&&i.matches;){if(i.matches(t))return i;i=i.parentNode}},ZX=(i,t=0)=>t>0?i[i.length-1]:i[0],wbe=i=>Object.keys(i).length===0,e6=(i,t)=>{if(!i)return-1;t=t||i.nodeName;for(var a=0;i=i.previousElementSibling;)i.matches(t)&&a++;return a},bl=(i,t)=>{aD(t,(a,u)=>{a==null?i.removeAttribute(u):i.setAttribute(u,""+a)})},aj=(i,t)=>{i.parentNode&&i.parentNode.replaceChild(t,i)},xbe=(i,t)=>{if(t===null)return;if(typeof t=="string"){if(!t.length)return;t=new RegExp(t,"i")}const a=m=>{var p=m.data.match(t);if(p&&m.data.length>0){var x=document.createElement("span");x.className="highlight";var k=m.splitText(p.index);k.splitText(p[0].length);var D=k.cloneNode(!0);return x.appendChild(D),aj(k,x),1}return 0},u=m=>{m.nodeType===1&&m.childNodes&&!/(script|style)/i.test(m.tagName)&&(m.className!=="highlight"||m.tagName!=="SPAN")&&Array.from(m.childNodes).forEach(p=>{c(p)})},c=m=>m.nodeType===3?a(m):(u(m),0);c(i)},Cbe=i=>{var t=i.querySelectorAll("span.highlight");Array.prototype.forEach.call(t,function(a){var u=a.parentNode;u.replaceChild(a.firstChild,a),u.normalize()})},Sbe=65,Ebe=13,See=27,ij=37,kbe=38,Eee=39,Tbe=40,JX=8,Abe=46,oj=9,Obe=typeof navigator>"u"?!1:/Mac/.test(navigator.userAgent),n5=Obe?"metaKey":"ctrlKey";var QX={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:null,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,shouldOpen:null,maxOptions:50,maxItems:null,hideSelected:null,duplicates:!1,addPrecedence:!1,selectOnTab:!1,preload:null,allowEmptyOption:!1,loadThrottle:300,loadingClass:"loading",dataAttr:null,optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"ts-wrapper",controlClass:"ts-control",dropdownClass:"ts-dropdown",dropdownContentClass:"ts-dropdown-content",itemClass:"item",optionClass:"option",dropdownParent:null,controlInput:'<input type="text" autocomplete="off" size="1" />',copyClassesToDropdown:!1,placeholder:null,hidePlaceholder:null,shouldLoad:function(i){return i.length>0},render:{}};const Tp=i=>typeof i>"u"||i===null?null:O5(i),O5=i=>typeof i=="boolean"?i?"1":"0":i+"",D5=i=>(i+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),Dbe=(i,t)=>{var a;return function(u,c){var m=this;a&&(m.loading=Math.max(m.loading-1,0),clearTimeout(a)),a=setTimeout(function(){a=null,m.loadedSearches[u]=!0,i.call(m,u,c)},t)}},eZ=(i,t,a)=>{var u,c=i.trigger,m={};i.trigger=function(){var p=arguments[0];if(t.indexOf(p)!==-1)m[p]=arguments;else return c.apply(i,arguments)},a.apply(i,[]),i.trigger=c;for(u of t)u in m&&c.apply(i,m[u])},Mbe=i=>({start:i.selectionStart||0,length:(i.selectionEnd||0)-(i.selectionStart||0)}),qs=(i,t=!1)=>{i&&(i.preventDefault(),t&&i.stopPropagation())},$l=(i,t,a,u)=>{i.addEventListener(t,a,u)},mk=(i,t)=>{if(!t||!t[i])return!1;var a=(t.altKey?1:0)+(t.ctrlKey?1:0)+(t.shiftKey?1:0)+(t.metaKey?1:0);return a===1},hW=(i,t)=>{const a=i.getAttribute("id");return a||(i.setAttribute("id",t),t)},tZ=i=>i.replace(/[\\"']/g,"\\$&"),gk=(i,t)=>{t&&i.append(t)};function nZ(i,t){var a=Object.assign({},QX,t),u=a.dataAttr,c=a.labelField,m=a.valueField,p=a.disabledField,x=a.optgroupField,k=a.optgroupLabelField,D=a.optgroupValueField,L=i.tagName.toLowerCase(),V=i.getAttribute("placeholder")||i.getAttribute("data-placeholder");if(!V&&!a.allowEmptyOption){let se=i.querySelector('option[value=""]');se&&(V=se.textContent)}var q={placeholder:V,options:[],optgroups:[],items:[],maxItems:null},ie=()=>{var se,Te=q.options,_e={},be=1,le=lt=>{var at=Object.assign({},lt.dataset),K=u&&at[u];return typeof K=="string"&&K.length&&(at=Object.assign(at,JSON.parse(K))),at},Pe=(lt,at)=>{var K=Tp(lt.value);if(K!=null&&!(!K&&!a.allowEmptyOption)){if(_e.hasOwnProperty(K)){if(at){var de=_e[K][x];de?Array.isArray(de)?de.push(at):_e[K][x]=[de,at]:_e[K][x]=at}}else{var ve=le(lt);ve[c]=ve[c]||lt.textContent,ve[m]=ve[m]||K,ve[p]=ve[p]||lt.disabled,ve[x]=ve[x]||at,ve.$option=lt,_e[K]=ve,Te.push(ve)}lt.selected&&q.items.push(K)}},Oe=lt=>{var at,K;K=le(lt),K[k]=K[k]||lt.getAttribute("label")||"",K[D]=K[D]||be++,K[p]=K[p]||lt.disabled,q.optgroups.push(K),at=K[D],aD(lt.children,de=>{Pe(de,at)})};q.maxItems=i.hasAttribute("multiple")?null:1,aD(i.children,lt=>{se=lt.tagName.toLowerCase(),se==="optgroup"?Oe(lt):se==="option"&&Pe(lt)})},ee=()=>{const se=i.getAttribute(u);if(se)q.options=JSON.parse(se),aD(q.options,_e=>{q.items.push(_e[m])});else{var Te=i.value.trim()||"";if(!a.allowEmptyOption&&!Te.length)return;const _e=Te.split(a.delimiter);aD(_e,be=>{const le={};le[c]=be,le[m]=be,q.options.push(le)}),q.items=_e}};return L==="select"?ie():ee(),Object.assign({},QX,q,t)}var rZ=0;let sh=class extends Q1e(J1e){constructor(t,a){super(),this.control_input=void 0,this.wrapper=void 0,this.dropdown=void 0,this.control=void 0,this.dropdown_content=void 0,this.focus_node=void 0,this.order=0,this.settings=void 0,this.input=void 0,this.tabIndex=void 0,this.is_select_tag=void 0,this.rtl=void 0,this.inputId=void 0,this._destroy=void 0,this.sifter=void 0,this.isOpen=!1,this.isDisabled=!1,this.isRequired=void 0,this.isInvalid=!1,this.isValid=!0,this.isLocked=!1,this.isFocused=!1,this.isInputHidden=!1,this.isSetup=!1,this.ignoreFocus=!1,this.ignoreHover=!1,this.hasOptions=!1,this.currentResults=void 0,this.lastValue="",this.caretPos=0,this.loading=0,this.loadedSearches={},this.activeOption=null,this.activeItems=[],this.optgroups={},this.options={},this.userOptions={},this.items=[],rZ++;var u,c=kd(t);if(c.tomselect)throw new Error("Tom Select already initialized on this element");c.tomselect=this;var m=window.getComputedStyle&&window.getComputedStyle(c,null);u=m.getPropertyValue("direction");const p=nZ(c,a);this.settings=p,this.input=c,this.tabIndex=c.tabIndex||0,this.is_select_tag=c.tagName.toLowerCase()==="select",this.rtl=/rtl/i.test(u),this.inputId=hW(c,"tomselect-"+rZ),this.isRequired=c.required,this.sifter=new ybe(this.options,{diacritics:p.diacritics}),p.mode=p.mode||(p.maxItems===1?"single":"multi"),typeof p.hideSelected!="boolean"&&(p.hideSelected=p.mode==="multi"),typeof p.hidePlaceholder!="boolean"&&(p.hidePlaceholder=p.mode!=="multi");var x=p.createFilter;typeof x!="function"&&(typeof x=="string"&&(x=new RegExp(x)),x instanceof RegExp?p.createFilter=Te=>x.test(Te):p.createFilter=Te=>this.settings.duplicates||!this.options[Te]),this.initializePlugins(p.plugins),this.setupCallbacks(),this.setupTemplates();const k=kd("<div>"),D=kd("<div>"),L=this._render("dropdown"),V=kd('<div role="listbox" tabindex="-1">'),q=this.input.getAttribute("class")||"",ie=p.mode;var ee;if(rh(k,p.wrapperClass,q,ie),rh(D,p.controlClass),gk(k,D),rh(L,p.dropdownClass,ie),p.copyClassesToDropdown&&rh(L,q),rh(V,p.dropdownContentClass),gk(L,V),kd(p.dropdownParent||k).appendChild(L),wee(p.controlInput)){ee=kd(p.controlInput);var se=["autocorrect","autocapitalize","autocomplete"];ah(se,Te=>{c.getAttribute(Te)&&bl(ee,{[Te]:c.getAttribute(Te)})}),ee.tabIndex=-1,D.appendChild(ee),this.focus_node=ee}else p.controlInput?(ee=kd(p.controlInput),this.focus_node=ee):(ee=kd("<input/>"),this.focus_node=D);this.wrapper=k,this.dropdown=L,this.dropdown_content=V,this.control=D,this.control_input=ee,this.setup()}setup(){const t=this,a=t.settings,u=t.control_input,c=t.dropdown,m=t.dropdown_content,p=t.wrapper,x=t.control,k=t.input,D=t.focus_node,L={passive:!0},V=t.inputId+"-ts-dropdown";bl(m,{id:V}),bl(D,{role:"combobox","aria-haspopup":"listbox","aria-expanded":"false","aria-controls":V});const q=hW(D,t.inputId+"-ts-control"),ie="label[for='"+_be(t.inputId)+"']",ee=document.querySelector(ie),se=t.focus.bind(t);if(ee){$l(ee,"click",se),bl(ee,{for:q});const be=hW(ee,t.inputId+"-ts-label");bl(D,{"aria-labelledby":be}),bl(m,{"aria-labelledby":be})}if(p.style.width=k.style.width,t.plugins.names.length){const be="plugin-"+t.plugins.names.join(" plugin-");rh([p,c],be)}(a.maxItems===null||a.maxItems>1)&&t.is_select_tag&&bl(k,{multiple:"multiple"}),a.placeholder&&bl(u,{placeholder:a.placeholder}),!a.splitOn&&a.delimiter&&(a.splitOn=new RegExp("\\s*"+Z3(a.delimiter)+"+\\s*")),a.load&&a.loadThrottle&&(a.load=Dbe(a.load,a.loadThrottle)),t.control_input.type=k.type,$l(c,"mousemove",()=>{t.ignoreHover=!1}),$l(c,"mouseenter",be=>{var le=A5(be.target,"[data-selectable]",c);le&&t.onOptionHover(be,le)},{capture:!0}),$l(c,"click",be=>{const le=A5(be.target,"[data-selectable]");le&&(t.onOptionSelect(be,le),qs(be,!0))}),$l(x,"click",be=>{var le=A5(be.target,"[data-ts-item]",x);if(le&&t.onItemSelect(be,le)){qs(be,!0);return}u.value==""&&(t.onClick(),qs(be,!0))}),$l(D,"keydown",be=>t.onKeyDown(be)),$l(u,"keypress",be=>t.onKeyPress(be)),$l(u,"input",be=>t.onInput(be)),$l(D,"blur",be=>t.onBlur(be)),$l(D,"focus",be=>t.onFocus(be)),$l(u,"paste",be=>t.onPaste(be));const Te=be=>{const le=be.composedPath()[0];if(!p.contains(le)&&!c.contains(le)){t.isFocused&&t.blur(),t.inputState();return}le==u&&t.isOpen?be.stopPropagation():qs(be,!0)},_e=()=>{t.isOpen&&t.positionDropdown()};$l(document,"mousedown",Te),$l(window,"scroll",_e,L),$l(window,"resize",_e,L),this._destroy=()=>{document.removeEventListener("mousedown",Te),window.removeEventListener("scroll",_e),window.removeEventListener("resize",_e),ee&&ee.removeEventListener("click",se)},this.revertSettings={innerHTML:k.innerHTML,tabIndex:k.tabIndex},k.tabIndex=-1,k.insertAdjacentElement("afterend",t.wrapper),t.sync(!1),a.items=[],delete a.optgroups,delete a.options,$l(k,"invalid",()=>{t.isValid&&(t.isValid=!1,t.isInvalid=!0,t.refreshState())}),t.updateOriginalInput(),t.refreshItems(),t.close(!1),t.inputState(),t.isSetup=!0,k.disabled?t.disable():t.enable(),t.on("change",this.onChange),rh(k,"tomselected","ts-hidden-accessible"),t.trigger("initialize"),a.preload===!0&&t.preload()}setupOptions(t=[],a=[]){this.addOptions(t),ah(a,u=>{this.registerOptionGroup(u)})}setupTemplates(){var t=this,a=t.settings.labelField,u=t.settings.optgroupLabelField,c={optgroup:m=>{let p=document.createElement("div");return p.className="optgroup",p.appendChild(m.options),p},optgroup_header:(m,p)=>'<div class="optgroup-header">'+p(m[u])+"</div>",option:(m,p)=>"<div>"+p(m[a])+"</div>",item:(m,p)=>"<div>"+p(m[a])+"</div>",option_create:(m,p)=>'<div class="create">Add <strong>'+p(m.input)+"</strong>&hellip;</div>",no_results:()=>'<div class="no-results">No results found</div>',loading:()=>'<div class="spinner"></div>',not_loading:()=>{},dropdown:()=>"<div></div>"};t.settings.render=Object.assign({},c,t.settings.render)}setupCallbacks(){var t,a,u={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",item_select:"onItemSelect",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(t in u)a=this.settings[u[t]],a&&this.on(t,a)}sync(t=!0){const a=this,u=t?nZ(a.input,{delimiter:a.settings.delimiter}):a.settings;a.setupOptions(u.options,u.optgroups),a.setValue(u.items||[],!0),a.lastQuery=null}onClick(){var t=this;if(t.activeItems.length>0){t.clearActiveItems(),t.focus();return}t.isFocused&&t.isOpen?t.blur():t.focus()}onMouseDown(){}onChange(){vW(this.input,"input"),vW(this.input,"change")}onPaste(t){var a=this;if(a.isInputHidden||a.isLocked){qs(t);return}a.settings.splitOn&&setTimeout(()=>{var u=a.inputValue();if(u.match(a.settings.splitOn)){var c=u.trim().split(a.settings.splitOn);ah(c,m=>{Tp(m)&&(this.options[m]?a.addItem(m):a.createItem(m))})}},0)}onKeyPress(t){var a=this;if(a.isLocked){qs(t);return}var u=String.fromCharCode(t.keyCode||t.which);if(a.settings.create&&a.settings.mode==="multi"&&u===a.settings.delimiter){a.createItem(),qs(t);return}}onKeyDown(t){var a=this;if(a.ignoreHover=!0,a.isLocked){t.keyCode!==oj&&qs(t);return}switch(t.keyCode){case Sbe:if(mk(n5,t)&&a.control_input.value==""){qs(t),a.selectAll();return}break;case See:a.isOpen&&(qs(t,!0),a.close()),a.clearActiveItems();return;case Tbe:if(!a.isOpen&&a.hasOptions)a.open();else if(a.activeOption){let u=a.getAdjacent(a.activeOption,1);u&&a.setActiveOption(u)}qs(t);return;case kbe:if(a.activeOption){let u=a.getAdjacent(a.activeOption,-1);u&&a.setActiveOption(u)}qs(t);return;case Ebe:a.canSelect(a.activeOption)?(a.onOptionSelect(t,a.activeOption),qs(t)):(a.settings.create&&a.createItem()||document.activeElement==a.control_input&&a.isOpen)&&qs(t);return;case ij:a.advanceSelection(-1,t);return;case Eee:a.advanceSelection(1,t);return;case oj:a.settings.selectOnTab&&(a.canSelect(a.activeOption)&&(a.onOptionSelect(t,a.activeOption),qs(t)),a.settings.create&&a.createItem()&&qs(t));return;case JX:case Abe:a.deleteSelection(t);return}a.isInputHidden&&!mk(n5,t)&&qs(t)}onInput(t){var a=this;if(!a.isLocked){var u=a.inputValue();a.lastValue!==u&&(a.lastValue=u,a.settings.shouldLoad.call(a,u)&&a.load(u),a.refreshOptions(),a.trigger("type",u))}}onOptionHover(t,a){this.ignoreHover||this.setActiveOption(a,!1)}onFocus(t){var a=this,u=a.isFocused;if(a.isDisabled){a.blur(),qs(t);return}a.ignoreFocus||(a.isFocused=!0,a.settings.preload==="focus"&&a.preload(),u||a.trigger("focus"),a.activeItems.length||(a.showInput(),a.refreshOptions(!!a.settings.openOnFocus)),a.refreshState())}onBlur(t){if(document.hasFocus()!==!1){var a=this;if(a.isFocused){a.isFocused=!1,a.ignoreFocus=!1;var u=()=>{a.close(),a.setActiveItem(),a.setCaret(a.items.length),a.trigger("blur")};a.settings.create&&a.settings.createOnBlur?a.createItem(null,u):u()}}}onOptionSelect(t,a){var u,c=this;a.parentElement&&a.parentElement.matches("[data-disabled]")||(a.classList.contains("create")?c.createItem(null,()=>{c.settings.closeAfterSelect&&c.close()}):(u=a.dataset.value,typeof u<"u"&&(c.lastQuery=null,c.addItem(u),c.settings.closeAfterSelect&&c.close(),!c.settings.hideSelected&&t.type&&/click/.test(t.type)&&c.setActiveOption(a))))}canSelect(t){return!!(this.isOpen&&t&&this.dropdown_content.contains(t))}onItemSelect(t,a){var u=this;return!u.isLocked&&u.settings.mode==="multi"?(qs(t),u.setActiveItem(a,t),!0):!1}canLoad(t){return!(!this.settings.load||this.loadedSearches.hasOwnProperty(t))}load(t){const a=this;if(!a.canLoad(t))return;rh(a.wrapper,a.settings.loadingClass),a.loading++;const u=a.loadCallback.bind(a);a.settings.load.call(a,t,u)}loadCallback(t,a){const u=this;u.loading=Math.max(u.loading-1,0),u.lastQuery=null,u.clearActiveOption(),u.setupOptions(t,a),u.refreshOptions(u.isFocused&&!u.isInputHidden),u.loading||bw(u.wrapper,u.settings.loadingClass),u.trigger("load",t,a)}preload(){var t=this.wrapper.classList;t.contains("preloaded")||(t.add("preloaded"),this.load(""))}setTextboxValue(t=""){var a=this.control_input,u=a.value!==t;u&&(a.value=t,vW(a,"update"),this.lastValue=t)}getValue(){return this.is_select_tag&&this.input.hasAttribute("multiple")?this.items:this.items.join(this.settings.delimiter)}setValue(t,a){var u=a?[]:["change"];eZ(this,u,()=>{this.clear(a),this.addItems(t,a)})}setMaxItems(t){t===0&&(t=null),this.settings.maxItems=t,this.refreshState()}setActiveItem(t,a){var u=this,c,m,p,x,k,D;if(u.settings.mode!=="single"){if(!t){u.clearActiveItems(),u.isFocused&&u.showInput();return}if(c=a&&a.type.toLowerCase(),c==="click"&&mk("shiftKey",a)&&u.activeItems.length){for(D=u.getLastActive(),p=Array.prototype.indexOf.call(u.control.children,D),x=Array.prototype.indexOf.call(u.control.children,t),p>x&&(k=p,p=x,x=k),m=p;m<=x;m++)t=u.control.children[m],u.activeItems.indexOf(t)===-1&&u.setActiveItemClass(t);qs(a)}else c==="click"&&mk(n5,a)||c==="keydown"&&mk("shiftKey",a)?t.classList.contains("active")?u.removeActiveItem(t):u.setActiveItemClass(t):(u.clearActiveItems(),u.setActiveItemClass(t));u.hideInput(),u.isFocused||u.focus()}}setActiveItemClass(t){const a=this,u=a.control.querySelector(".last-active");u&&bw(u,"last-active"),rh(t,"active last-active"),a.trigger("item_select",t),a.activeItems.indexOf(t)==-1&&a.activeItems.push(t)}removeActiveItem(t){var a=this.activeItems.indexOf(t);this.activeItems.splice(a,1),bw(t,"active")}clearActiveItems(){bw(this.activeItems,"active"),this.activeItems=[]}setActiveOption(t,a=!0){t!==this.activeOption&&(this.clearActiveOption(),t&&(this.activeOption=t,bl(this.focus_node,{"aria-activedescendant":t.getAttribute("id")}),bl(t,{"aria-selected":"true"}),rh(t,"active"),a&&this.scrollToOption(t)))}scrollToOption(t,a){if(!t)return;const u=this.dropdown_content,c=u.clientHeight,m=u.scrollTop||0,p=t.offsetHeight,x=t.getBoundingClientRect().top-u.getBoundingClientRect().top+m;x+p>c+m?this.scroll(x-c+p,a):x<m&&this.scroll(x,a)}scroll(t,a){const u=this.dropdown_content;a&&(u.style.scrollBehavior=a),u.scrollTop=t,u.style.scrollBehavior=""}clearActiveOption(){this.activeOption&&(bw(this.activeOption,"active"),bl(this.activeOption,{"aria-selected":null})),this.activeOption=null,bl(this.focus_node,{"aria-activedescendant":null})}selectAll(){const t=this;if(t.settings.mode==="single")return;const a=t.controlChildren();a.length&&(t.hideInput(),t.close(),t.activeItems=a,ah(a,u=>{t.setActiveItemClass(u)}))}inputState(){var t=this;t.control.contains(t.control_input)&&(bl(t.control_input,{placeholder:t.settings.placeholder}),t.activeItems.length>0||!t.isFocused&&t.settings.hidePlaceholder&&t.items.length>0?(t.setTextboxValue(),t.isInputHidden=!0):(t.settings.hidePlaceholder&&t.items.length>0&&bl(t.control_input,{placeholder:""}),t.isInputHidden=!1),t.wrapper.classList.toggle("input-hidden",t.isInputHidden))}hideInput(){this.inputState()}showInput(){this.inputState()}inputValue(){return this.control_input.value.trim()}focus(){var t=this;t.isDisabled||(t.ignoreFocus=!0,t.control_input.offsetWidth?t.control_input.focus():t.focus_node.focus(),setTimeout(()=>{t.ignoreFocus=!1,t.onFocus()},0))}blur(){this.focus_node.blur(),this.onBlur()}getScoreFunction(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())}getSearchOptions(){var t=this.settings,a=t.sortField;return typeof t.sortField=="string"&&(a=[{field:t.sortField}]),{fields:t.searchField,conjunction:t.searchConjunction,sort:a,nesting:t.nesting}}search(t){var a,u,c=this,m=this.getSearchOptions();if(c.settings.score&&(u=c.settings.score.call(c,t),typeof u!="function"))throw new Error('Tom Select "score" setting must be a function that returns a function');return t!==c.lastQuery?(c.lastQuery=t,a=c.sifter.search(t,Object.assign(m,{score:u})),c.currentResults=a):a=Object.assign({},c.currentResults),c.settings.hideSelected&&(a.items=a.items.filter(p=>{let x=Tp(p.id);return!(x&&c.items.indexOf(x)!==-1)})),a}refreshOptions(t=!0){var a,u,c,m,p,x,k,D,L,V;const q={},ie=[];var ee=this,se=ee.inputValue();const Te=se===ee.lastQuery||se==""&&ee.lastQuery==null;var _e=ee.search(se),be=null,le=ee.settings.shouldOpen||!1,Pe=ee.dropdown_content;for(Te&&(be=ee.activeOption,be&&(L=be.closest("[data-group]"))),m=_e.items.length,typeof ee.settings.maxOptions=="number"&&(m=Math.min(m,ee.settings.maxOptions)),m>0&&(le=!0),a=0;a<m;a++){let lt=_e.items[a];if(!lt)continue;let at=lt.id,K=ee.options[at];if(K===void 0)continue;let de=O5(at),ve=ee.getOption(de,!0);for(ee.settings.hideSelected||ve.classList.toggle("selected",ee.items.includes(de)),p=K[ee.settings.optgroupField]||"",x=Array.isArray(p)?p:[p],u=0,c=x&&x.length;u<c;u++){p=x[u],ee.optgroups.hasOwnProperty(p)||(p="");let Ue=q[p];Ue===void 0&&(Ue=document.createDocumentFragment(),ie.push(p)),u>0&&(ve=ve.cloneNode(!0),bl(ve,{id:K.$id+"-clone-"+u,"aria-selected":null}),ve.classList.add("ts-cloned"),bw(ve,"active"),ee.activeOption&&ee.activeOption.dataset.value==at&&L&&L.dataset.group===p.toString()&&(be=ve)),Ue.appendChild(ve),q[p]=Ue}}ee.settings.lockOptgroupOrder&&ie.sort((lt,at)=>{const K=ee.optgroups[lt],de=ee.optgroups[at],ve=K&&K.$order||0,Ue=de&&de.$order||0;return ve-Ue}),k=document.createDocumentFragment(),ah(ie,lt=>{let at=q[lt];if(!at||!at.children.length)return;let K=ee.optgroups[lt];if(K!==void 0){let de=document.createDocumentFragment(),ve=ee.render("optgroup_header",K);gk(de,ve),gk(de,at);let Ue=ee.render("optgroup",{group:K,options:de});gk(k,Ue)}else gk(k,at)}),Pe.innerHTML="",gk(Pe,k),ee.settings.highlight&&(Cbe(Pe),_e.query.length&&_e.tokens.length&&ah(_e.tokens,lt=>{xbe(Pe,lt.regex)}));var Oe=lt=>{let at=ee.render(lt,{input:se});return at&&(le=!0,Pe.insertBefore(at,Pe.firstChild)),at};if(ee.loading?Oe("loading"):ee.settings.shouldLoad.call(ee,se)?_e.items.length===0&&Oe("no_results"):Oe("not_loading"),D=ee.canCreate(se),D&&(V=Oe("option_create")),ee.hasOptions=_e.items.length>0||D,le){if(_e.items.length>0){if(!be&&ee.settings.mode==="single"&&ee.items[0]!=null&&(be=ee.getOption(ee.items[0])),!Pe.contains(be)){let lt=0;V&&!ee.settings.addPrecedence&&(lt=1),be=ee.selectable()[lt]}}else V&&(be=V);t&&!ee.isOpen&&(ee.open(),ee.scrollToOption(be,"auto")),ee.setActiveOption(be)}else ee.clearActiveOption(),t&&ee.isOpen&&ee.close(!1)}selectable(){return this.dropdown_content.querySelectorAll("[data-selectable]")}addOption(t,a=!1){const u=this;if(Array.isArray(t))return u.addOptions(t,a),!1;const c=Tp(t[u.settings.valueField]);return c===null||u.options.hasOwnProperty(c)?!1:(t.$order=t.$order||++u.order,t.$id=u.inputId+"-opt-"+t.$order,u.options[c]=t,u.lastQuery=null,a&&(u.userOptions[c]=a,u.trigger("option_add",c,t)),c)}addOptions(t,a=!1){ah(t,u=>{this.addOption(u,a)})}registerOption(t){return this.addOption(t)}registerOptionGroup(t){var a=Tp(t[this.settings.optgroupValueField]);return a===null?!1:(t.$order=t.$order||++this.order,this.optgroups[a]=t,a)}addOptionGroup(t,a){var u;a[this.settings.optgroupValueField]=t,(u=this.registerOptionGroup(a))&&this.trigger("optgroup_add",u,a)}removeOptionGroup(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.clearCache(),this.trigger("optgroup_remove",t))}clearOptionGroups(){this.optgroups={},this.clearCache(),this.trigger("optgroup_clear")}updateOption(t,a){const u=this;var c,m;const p=Tp(t),x=Tp(a[u.settings.valueField]);if(p===null)return;const k=u.options[p];if(k==null)return;if(typeof x!="string")throw new Error("Value must be set in option data");const D=u.getOption(p),L=u.getItem(p);if(a.$order=a.$order||k.$order,delete u.options[p],u.uncacheValue(x),u.options[x]=a,D){if(u.dropdown_content.contains(D)){const V=u._render("option",a);aj(D,V),u.activeOption===D&&u.setActiveOption(V)}D.remove()}L&&(m=u.items.indexOf(p),m!==-1&&u.items.splice(m,1,x),c=u._render("item",a),L.classList.contains("active")&&rh(c,"active"),aj(L,c)),u.lastQuery=null}removeOption(t,a){const u=this;t=O5(t),u.uncacheValue(t),delete u.userOptions[t],delete u.options[t],u.lastQuery=null,u.trigger("option_remove",t),u.removeItem(t,a)}clearOptions(t){const a=(t||this.clearFilter).bind(this);this.loadedSearches={},this.userOptions={},this.clearCache();const u={};ah(this.options,(c,m)=>{a(c,m)&&(u[m]=c)}),this.options=this.sifter.items=u,this.lastQuery=null,this.trigger("option_clear")}clearFilter(t,a){return this.items.indexOf(a)>=0}getOption(t,a=!1){const u=Tp(t);if(u===null)return null;const c=this.options[u];if(c!=null){if(c.$div)return c.$div;if(a)return this._render("option",c)}return null}getAdjacent(t,a,u="option"){var c=this,m;if(!t)return null;u=="item"?m=c.controlChildren():m=c.dropdown_content.querySelectorAll("[data-selectable]");for(let p=0;p<m.length;p++)if(m[p]==t)return a>0?m[p+1]:m[p-1];return null}getItem(t){if(typeof t=="object")return t;var a=Tp(t);return a!==null?this.control.querySelector(`[data-value="${tZ(a)}"]`):null}addItems(t,a){var u=this,c=Array.isArray(t)?t:[t];c=c.filter(p=>u.items.indexOf(p)===-1);const m=c[c.length-1];c.forEach(p=>{u.isPending=p!==m,u.addItem(p,a)})}addItem(t,a){var u=a?[]:["change","dropdown_close"];eZ(this,u,()=>{var c,m;const p=this,x=p.settings.mode,k=Tp(t);if(!(k&&p.items.indexOf(k)!==-1&&(x==="single"&&p.close(),x==="single"||!p.settings.duplicates))&&!(k===null||!p.options.hasOwnProperty(k))&&(x==="single"&&p.clear(a),!(x==="multi"&&p.isFull()))){if(c=p._render("item",p.options[k]),p.control.contains(c)&&(c=c.cloneNode(!0)),m=p.isFull(),p.items.splice(p.caretPos,0,k),p.insertAtCaret(c),p.isSetup){if(!p.isPending&&p.settings.hideSelected){let D=p.getOption(k),L=p.getAdjacent(D,1);L&&p.setActiveOption(L)}!p.isPending&&!p.settings.closeAfterSelect&&p.refreshOptions(p.isFocused&&x!=="single"),p.settings.closeAfterSelect!=!1&&p.isFull()?p.close():p.isPending||p.positionDropdown(),p.trigger("item_add",k,c),p.isPending||p.updateOriginalInput({silent:a})}(!p.isPending||!m&&p.isFull())&&(p.inputState(),p.refreshState())}})}removeItem(t=null,a){const u=this;if(t=u.getItem(t),!t)return;var c,m;const p=t.dataset.value;c=e6(t),t.remove(),t.classList.contains("active")&&(m=u.activeItems.indexOf(t),u.activeItems.splice(m,1),bw(t,"active")),u.items.splice(c,1),u.lastQuery=null,!u.settings.persist&&u.userOptions.hasOwnProperty(p)&&u.removeOption(p,a),c<u.caretPos&&u.setCaret(u.caretPos-1),u.updateOriginalInput({silent:a}),u.refreshState(),u.positionDropdown(),u.trigger("item_remove",p,t)}createItem(t=null,a=()=>{}){arguments.length===3&&(a=arguments[2]),typeof a!="function"&&(a=()=>{});var u=this,c=u.caretPos,m;if(t=t||u.inputValue(),!u.canCreate(t))return a(),!1;u.lock();var p=!1,x=k=>{if(u.unlock(),!k||typeof k!="object")return a();var D=Tp(k[u.settings.valueField]);if(typeof D!="string")return a();u.setTextboxValue(),u.addOption(k,!0),u.setCaret(c),u.addItem(D),a(k),p=!0};return typeof u.settings.create=="function"?m=u.settings.create.call(this,t,x):m={[u.settings.labelField]:t,[u.settings.valueField]:t},p||x(m),!0}refreshItems(){var t=this;t.lastQuery=null,t.isSetup&&t.addItems(t.items),t.updateOriginalInput(),t.refreshState()}refreshState(){const t=this;t.refreshValidityState();const a=t.isFull(),u=t.isLocked;t.wrapper.classList.toggle("rtl",t.rtl);const c=t.wrapper.classList;c.toggle("focus",t.isFocused),c.toggle("disabled",t.isDisabled),c.toggle("required",t.isRequired),c.toggle("invalid",!t.isValid),c.toggle("locked",u),c.toggle("full",a),c.toggle("input-active",t.isFocused&&!t.isInputHidden),c.toggle("dropdown-active",t.isOpen),c.toggle("has-options",wbe(t.options)),c.toggle("has-items",t.items.length>0)}refreshValidityState(){var t=this;t.input.validity&&(t.isValid=t.input.validity.valid,t.isInvalid=!t.isValid)}isFull(){return this.settings.maxItems!==null&&this.items.length>=this.settings.maxItems}updateOriginalInput(t={}){const a=this;var u,c;const m=a.input.querySelector('option[value=""]');if(a.is_select_tag){let D=function(L,V,q){return L||(L=kd('<option value="'+D5(V)+'">'+D5(q)+"</option>")),L!=m&&a.input.append(L),x.push(L),(L!=m||k>0)&&(L.selected=!0),L};var p=D;const x=[],k=a.input.querySelectorAll("option:checked").length;a.input.querySelectorAll("option:checked").forEach(L=>{L.selected=!1}),a.items.length==0&&a.settings.mode=="single"?D(m,"",""):a.items.forEach(L=>{if(u=a.options[L],c=u[a.settings.labelField]||"",x.includes(u.$option)){const V=a.input.querySelector(`option[value="${tZ(L)}"]:not(:checked)`);D(V,L,c)}else u.$option=D(u.$option,L,c)})}else a.input.value=a.getValue();a.isSetup&&(t.silent||a.trigger("change",a.getValue()))}open(){var t=this;t.isLocked||t.isOpen||t.settings.mode==="multi"&&t.isFull()||(t.isOpen=!0,bl(t.focus_node,{"aria-expanded":"true"}),t.refreshState(),t5(t.dropdown,{visibility:"hidden",display:"block"}),t.positionDropdown(),t5(t.dropdown,{visibility:"visible",display:"block"}),t.focus(),t.trigger("dropdown_open",t.dropdown))}close(t=!0){var a=this,u=a.isOpen;t&&(a.setTextboxValue(),a.settings.mode==="single"&&a.items.length&&a.hideInput()),a.isOpen=!1,bl(a.focus_node,{"aria-expanded":"false"}),t5(a.dropdown,{display:"none"}),a.settings.hideSelected&&a.clearActiveOption(),a.refreshState(),u&&a.trigger("dropdown_close",a.dropdown)}positionDropdown(){if(this.settings.dropdownParent==="body"){var t=this.control,a=t.getBoundingClientRect(),u=t.offsetHeight+a.top+window.scrollY,c=a.left+window.scrollX;t5(this.dropdown,{width:a.width+"px",top:u+"px",left:c+"px"})}}clear(t){var a=this;if(a.items.length){var u=a.controlChildren();ah(u,c=>{a.removeItem(c,!0)}),a.showInput(),t||a.updateOriginalInput(),a.trigger("clear")}}insertAtCaret(t){const a=this,u=a.caretPos,c=a.control;c.insertBefore(t,c.children[u]||null),a.setCaret(u+1)}deleteSelection(t){var a,u,c,m,p=this;a=t&&t.keyCode===JX?-1:1,u=Mbe(p.control_input);const x=[];if(p.activeItems.length)m=ZX(p.activeItems,a),c=e6(m),a>0&&c++,ah(p.activeItems,k=>x.push(k));else if((p.isFocused||p.settings.mode==="single")&&p.items.length){const k=p.controlChildren();let D;a<0&&u.start===0&&u.length===0?D=k[p.caretPos-1]:a>0&&u.start===p.inputValue().length&&(D=k[p.caretPos]),D!==void 0&&x.push(D)}if(!p.shouldDelete(x,t))return!1;for(qs(t,!0),typeof c<"u"&&p.setCaret(c);x.length;)p.removeItem(x.pop());return p.showInput(),p.positionDropdown(),p.refreshOptions(!1),!0}shouldDelete(t,a){const u=t.map(c=>c.dataset.value);return!(!u.length||typeof this.settings.onDelete=="function"&&this.settings.onDelete(u,a)===!1)}advanceSelection(t,a){var u,c,m=this;m.rtl&&(t*=-1),!m.inputValue().length&&(mk(n5,a)||mk("shiftKey",a)?(u=m.getLastActive(t),u?u.classList.contains("active")?c=m.getAdjacent(u,t,"item"):c=u:t>0?c=m.control_input.nextElementSibling:c=m.control_input.previousElementSibling,c&&(c.classList.contains("active")&&m.removeActiveItem(u),m.setActiveItemClass(c))):m.moveCaret(t))}moveCaret(t){}getLastActive(t){let a=this.control.querySelector(".last-active");if(a)return a;var u=this.control.querySelectorAll(".active");if(u)return ZX(u,t)}setCaret(t){this.caretPos=this.items.length}controlChildren(){return Array.from(this.control.querySelectorAll("[data-ts-item]"))}lock(){this.isLocked=!0,this.refreshState()}unlock(){this.isLocked=!1,this.refreshState()}disable(){var t=this;t.input.disabled=!0,t.control_input.disabled=!0,t.focus_node.tabIndex=-1,t.isDisabled=!0,this.close(),t.lock()}enable(){var t=this;t.input.disabled=!1,t.control_input.disabled=!1,t.focus_node.tabIndex=t.tabIndex,t.isDisabled=!1,t.unlock()}destroy(){var t=this,a=t.revertSettings;t.trigger("destroy"),t.off(),t.wrapper.remove(),t.dropdown.remove(),t.input.innerHTML=a.innerHTML,t.input.tabIndex=a.tabIndex,bw(t.input,"tomselected","ts-hidden-accessible"),t._destroy(),delete t.input.tomselect}render(t,a){var u,c;const m=this;if(typeof this.settings.render[t]!="function"||(c=m.settings.render[t].call(this,a,D5),!c))return null;if(c=kd(c),t==="option"||t==="option_create"?a[m.settings.disabledField]?bl(c,{"aria-disabled":"true"}):bl(c,{"data-selectable":""}):t==="optgroup"&&(u=a.group[m.settings.optgroupValueField],bl(c,{"data-group":u}),a.group[m.settings.disabledField]&&bl(c,{"data-disabled":""})),t==="option"||t==="item"){const p=O5(a[m.settings.valueField]);bl(c,{"data-value":p}),t==="item"?(rh(c,m.settings.itemClass),bl(c,{"data-ts-item":""})):(rh(c,m.settings.optionClass),bl(c,{role:"option",id:a.$id}),a.$div=c,m.options[p]=a)}return c}_render(t,a){const u=this.render(t,a);if(u==null)throw"HTMLElement expected";return u}clearCache(){ah(this.options,t=>{t.$div&&(t.$div.remove(),delete t.$div)})}uncacheValue(t){const a=this.getOption(t);a&&a.remove()}canCreate(t){return this.settings.create&&t.length>0&&this.settings.createFilter.call(this,t)}hook(t,a,u){var c=this,m=c[a];c[a]=function(){var p,x;return t==="after"&&(p=m.apply(c,arguments)),x=u.apply(c,arguments),t==="instead"?x:(t==="before"&&(p=m.apply(c,arguments)),p)}}};function Rbe(){$l(this.input,"change",()=>{this.sync()})}function Pbe(){var i=this,t=i.onOptionSelect;i.settings.hideSelected=!1;var a=function(c){setTimeout(()=>{var m=c.querySelector("input");m instanceof HTMLInputElement&&(c.classList.contains("selected")?m.checked=!0:m.checked=!1)},1)};i.hook("after","setupTemplates",()=>{var u=i.settings.render.option;i.settings.render.option=(c,m)=>{var p=kd(u.call(i,c,m)),x=document.createElement("input");x.addEventListener("click",function(D){qs(D)}),x.type="checkbox";const k=Tp(c[i.settings.valueField]);return k&&i.items.indexOf(k)>-1&&(x.checked=!0),p.prepend(x),p}}),i.on("item_remove",u=>{var c=i.getOption(u);c&&(c.classList.remove("selected"),a(c))}),i.on("item_add",u=>{var c=i.getOption(u);c&&a(c)}),i.hook("instead","onOptionSelect",(u,c)=>{if(c.classList.contains("selected")){c.classList.remove("selected"),i.removeItem(c.dataset.value),i.refreshOptions(),qs(u,!0);return}t.call(i,u,c),a(c)})}function Ibe(i){const t=this,a=Object.assign({className:"clear-button",title:"Clear All",html:u=>`<div class="${u.className}" title="${u.title}">&#10799;</div>`},i);t.on("initialize",()=>{var u=kd(a.html(a));u.addEventListener("click",c=>{t.isDisabled||(t.clear(),t.settings.mode==="single"&&t.settings.allowEmptyOption&&t.addItem(""),c.preventDefault(),c.stopPropagation())}),t.control.appendChild(u)})}function Bbe(){var i=this;if(!$.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if(i.settings.mode==="multi"){var t=i.lock,a=i.unlock;i.hook("instead","lock",()=>{var u=$(i.control).data("sortable");return u&&u.disable(),t.call(i)}),i.hook("instead","unlock",()=>{var u=$(i.control).data("sortable");return u&&u.enable(),a.call(i)}),i.on("initialize",()=>{var u=$(i.control).sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:i.isLocked,start:(c,m)=>{m.placeholder.css("width",m.helper.css("width")),u.css({overflow:"visible"})},stop:()=>{u.css({overflow:"hidden"});var c=[];u.children("[data-value]").each(function(){this.dataset.value&&c.push(this.dataset.value)}),i.setValue(c)}})})}}function Lbe(i){const t=this,a=Object.assign({title:"Untitled",headerClass:"dropdown-header",titleRowClass:"dropdown-header-title",labelClass:"dropdown-header-label",closeClass:"dropdown-header-close",html:u=>'<div class="'+u.headerClass+'"><div class="'+u.titleRowClass+'"><span class="'+u.labelClass+'">'+u.title+'</span><a class="'+u.closeClass+'">&times;</a></div></div>'},i);t.on("initialize",()=>{var u=kd(a.html(a)),c=u.querySelector("."+a.closeClass);c&&c.addEventListener("click",m=>{qs(m,!0),t.close()}),t.dropdown.insertBefore(u,t.dropdown.firstChild)})}function Fbe(){var i=this;i.hook("instead","setCaret",t=>{i.settings.mode==="single"||!i.control.contains(i.control_input)?t=i.items.length:(t=Math.max(0,Math.min(i.items.length,t)),t!=i.caretPos&&!i.isPending&&i.controlChildren().forEach((a,u)=>{u<t?i.control_input.insertAdjacentElement("beforebegin",a):i.control.appendChild(a)})),i.caretPos=t}),i.hook("instead","moveCaret",t=>{if(!i.isFocused)return;const a=i.getLastActive(t);if(a){const u=e6(a);i.setCaret(t>0?u+1:u),i.setActiveItem(),bw(a,"last-active")}else i.setCaret(i.caretPos+t)})}function Nbe(){const i=this;i.settings.shouldOpen=!0,i.hook("before","setup",()=>{i.focus_node=i.control,rh(i.control_input,"dropdown-input");const t=kd('<div class="dropdown-input-wrap">');t.append(i.control_input),i.dropdown.insertBefore(t,i.dropdown.firstChild);const a=kd('<input class="items-placeholder" tabindex="-1" />');a.placeholder=i.settings.placeholder||"",i.control.append(a)}),i.on("initialize",()=>{i.control_input.addEventListener("keydown",a=>{switch(a.keyCode){case See:i.isOpen&&(qs(a,!0),i.close()),i.clearActiveItems();return;case oj:i.focus_node.tabIndex=-1;break}return i.onKeyDown.call(i,a)}),i.on("blur",()=>{i.focus_node.tabIndex=i.isDisabled?-1:i.tabIndex}),i.on("dropdown_open",()=>{i.control_input.focus()});const t=i.onBlur;i.hook("instead","onBlur",a=>{if(!(a&&a.relatedTarget==i.control_input))return t.call(i)}),$l(i.control_input,"blur",()=>i.onBlur()),i.hook("before","close",()=>{i.isOpen&&i.focus_node.focus({preventScroll:!0})})})}function $be(){var i=this;i.on("initialize",()=>{var t=document.createElement("span"),a=i.control_input;t.style.cssText="position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ",i.wrapper.appendChild(t);var u=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];for(const m of u)t.style[m]=a.style[m];var c=()=>{t.textContent=a.value,a.style.width=t.clientWidth+"px"};c(),i.on("update item_add item_remove",c),$l(a,"input",c),$l(a,"keyup",c),$l(a,"blur",c),$l(a,"update",c)})}function zbe(){var i=this,t=i.deleteSelection;this.hook("instead","deleteSelection",a=>i.activeItems.length?t.call(i,a):!1)}function Hbe(){this.hook("instead","setActiveItem",()=>{}),this.hook("instead","selectAll",()=>{})}function Vbe(){var i=this,t=i.onKeyDown;i.hook("instead","onKeyDown",a=>{var u,c,m,p;if(!i.isOpen||!(a.keyCode===ij||a.keyCode===Eee))return t.call(i,a);i.ignoreHover=!0,p=A5(i.activeOption,"[data-group]"),u=e6(i.activeOption,"[data-selectable]"),p&&(a.keyCode===ij?p=p.previousSibling:p=p.nextSibling,p&&(m=p.querySelectorAll("[data-selectable]"),c=m[Math.min(m.length-1,u)],c&&i.setActiveOption(c)))})}function Ube(i){const t=Object.assign({label:"&times;",title:"Remove",className:"remove",append:!0},i);var a=this;if(t.append){var u='<a href="javascript:void(0)" class="'+t.className+'" tabindex="-1" title="'+D5(t.title)+'">'+t.label+"</a>";a.hook("after","setupTemplates",()=>{var c=a.settings.render.item;a.settings.render.item=(m,p)=>{var x=kd(c.call(a,m,p)),k=kd(u);return x.appendChild(k),$l(k,"mousedown",D=>{qs(D,!0)}),$l(k,"click",D=>{qs(D,!0),!a.isLocked&&a.shouldDelete([x],D)&&(a.removeItem(x),a.refreshOptions(!1),a.inputState())}),x}})}}function Wbe(i){const t=this,a=Object.assign({text:u=>u[t.settings.labelField]},i);t.on("item_remove",function(u){if(t.isFocused&&t.control_input.value.trim()===""){var c=t.options[u];c&&t.setTextboxValue(a.text.call(t,c))}})}function jbe(){const i=this,t=i.canLoad,a=i.clearActiveOption,u=i.loadCallback;var c={},m,p=!1,x,k=[];if(i.settings.shouldLoadMore||(i.settings.shouldLoadMore=()=>{if(m.clientHeight/(m.scrollHeight-m.scrollTop)>.9)return!0;if(i.activeOption){var q=i.selectable(),ie=Array.from(q).indexOf(i.activeOption);if(ie>=q.length-2)return!0}return!1}),!i.settings.firstUrl)throw"virtual_scroll plugin requires a firstUrl() method";i.settings.sortField=[{field:"$order"},{field:"$score"}];const D=V=>typeof i.settings.maxOptions=="number"&&m.children.length>=i.settings.maxOptions?!1:!!(V in c&&c[V]),L=(V,q)=>i.items.indexOf(q)>=0||k.indexOf(q)>=0;i.setNextUrl=(V,q)=>{c[V]=q},i.getUrl=V=>{if(V in c){const q=c[V];return c[V]=!1,q}return c={},i.settings.firstUrl.call(i,V)},i.hook("instead","clearActiveOption",()=>{if(!p)return a.call(i)}),i.hook("instead","canLoad",V=>V in c?D(V):t.call(i,V)),i.hook("instead","loadCallback",(V,q)=>{if(!p)i.clearOptions(L);else if(x){const ie=V[0];ie!==void 0&&(x.dataset.value=ie[i.settings.valueField])}u.call(i,V,q),p=!1}),i.hook("after","refreshOptions",()=>{const V=i.lastValue;var q;D(V)?(q=i.render("loading_more",{query:V}),q&&(q.setAttribute("data-selectable",""),x=q)):V in c&&!m.querySelector(".no-results")&&(q=i.render("no_more_results",{query:V})),q&&(rh(q,i.settings.optionClass),m.append(q))}),i.on("initialize",()=>{k=Object.keys(i.options),m=i.dropdown_content,i.settings.render=Object.assign({},{loading_more:()=>'<div class="loading-more-results">Loading more results ... </div>',no_more_results:()=>'<div class="no-more-results">No more results</div>'},i.settings.render),m.addEventListener("scroll",()=>{i.settings.shouldLoadMore.call(i)&&D(i.lastValue)&&(p||(p=!0,i.load.call(i,i.lastValue)))})})}sh.define("change_listener",Rbe);sh.define("checkbox_options",Pbe);sh.define("clear_button",Ibe);sh.define("drag_drop",Bbe);sh.define("dropdown_header",Lbe);sh.define("caret_position",Fbe);sh.define("dropdown_input",Nbe);sh.define("input_autogrow",$be);sh.define("no_backspace_delete",zbe);sh.define("no_active_items",Hbe);sh.define("optgroup_columns",Vbe);sh.define("remove_button",Ube);sh.define("restore_on_backspace",Wbe);sh.define("virtual_scroll",jbe);var kee={exports:{}};(function(i){(function(){var t=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var r=typeof e;return r==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":r==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":r},a=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},u=function(e,r){var s=Array.prototype.slice.call(e);return s.sort(r)},c=function(e,r){return m(function(s,f){return e.eq(r(s),r(f))})},m=function(e){return{eq:e}},p=m(function(e,r){return e===r}),x=p,k=function(e){return m(function(r,s){if(r.length!==s.length)return!1;for(var f=r.length,h=0;h<f;h++)if(!e.eq(r[h],s[h]))return!1;return!0})},D=function(e,r){return c(k(e),function(s){return u(s,r)})},L=function(e){return m(function(r,s){var f=Object.keys(r),h=Object.keys(s);if(!D(x).eq(f,h))return!1;for(var b=f.length,E=0;E<b;E++){var O=f[E];if(!e.eq(r[O],s[O]))return!1}return!0})},V=m(function(e,r){if(e===r)return!0;var s=t(e),f=t(r);return s!==f?!1:a(s)?e===r:s==="array"?k(V).eq(e,r):s==="object"?L(V).eq(e,r):!1}),q=function(e){var r=typeof e;return e===null?"null":r==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":r==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":r},ie=function(e){return function(r){return q(r)===e}},ee=function(e){return function(r){return typeof r===e}},se=function(e){return function(r){return e===r}},Te=ie("string"),_e=ie("object"),be=ie("array"),le=se(null),Pe=ee("boolean"),Oe=se(void 0),lt=function(e){return e==null},at=function(e){return!lt(e)},K=ee("function"),de=ee("number"),ve=function(){},Ue=function(e,r){return function(){for(var s=[],f=0;f<arguments.length;f++)s[f]=arguments[f];return e(r.apply(null,s))}},ue=function(e,r){return function(s){return e(r(s))}},Y=function(e){return function(){return e}},$e=function(e){return e},He=function(e,r){return e===r};function Ce(e){for(var r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];return function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];var b=r.concat(f);return e.apply(null,b)}}var rt=function(e){return function(r){return!e(r)}},We=function(e){return function(){throw new Error(e)}},z=function(e){return e()},ln=function(e){e()},dt=Y(!1),Dt=Y(!0),mr=function(){return Kr},Kr=function(){var e=function(f){return f()},r=$e,s={fold:function(f,h){return f()},isSome:dt,isNone:Dt,getOr:r,getOrThunk:e,getOrDie:function(f){throw new Error(f||"error: getOrDie called on none.")},getOrNull:Y(null),getOrUndefined:Y(void 0),or:r,orThunk:e,map:mr,each:ve,bind:mr,exists:dt,forall:Dt,filter:function(){return mr()},toArray:function(){return[]},toString:Y("none()")};return s}(),_n=function(e){var r=Y(e),s=function(){return h},f=function(b){return b(e)},h={fold:function(b,E){return E(e)},isSome:Dt,isNone:dt,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:s,orThunk:s,map:function(b){return _n(b(e))},each:function(b){b(e)},bind:f,exists:f,forall:f,filter:function(b){return b(e)?h:Kr},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return h},Gn=function(e){return e==null?Kr:_n(e)},Ee={some:_n,none:mr,from:Gn},qa=Array.prototype.slice,Vt=Array.prototype.indexOf,xn=Array.prototype.push,Ga=function(e,r){return Vt.call(e,r)},jt=function(e,r){var s=Ga(e,r);return s===-1?Ee.none():Ee.some(s)},kt=function(e,r){return Ga(e,r)>-1},Qe=function(e,r){for(var s=0,f=e.length;s<f;s++){var h=e[s];if(r(h,s))return!0}return!1},st=function(e,r){for(var s=e.length,f=new Array(s),h=0;h<s;h++){var b=e[h];f[h]=r(b,h)}return f},vt=function(e,r){for(var s=0,f=e.length;s<f;s++){var h=e[s];r(h,s)}},Jt=function(e,r){for(var s=e.length-1;s>=0;s--){var f=e[s];r(f,s)}},zn=function(e,r){for(var s=[],f=[],h=0,b=e.length;h<b;h++){var E=e[h],O=r(E,h)?s:f;O.push(E)}return{pass:s,fail:f}},pn=function(e,r){for(var s=[],f=0,h=e.length;f<h;f++){var b=e[f];r(b,f)&&s.push(b)}return s},Er=function(e,r,s){return Jt(e,function(f,h){s=r(s,f,h)}),s},xr=function(e,r,s){return vt(e,function(f,h){s=r(s,f,h)}),s},Un=function(e,r,s){for(var f=0,h=e.length;f<h;f++){var b=e[f];if(r(b,f))return Ee.some(b);if(s(b,f))break}return Ee.none()},ba=function(e,r){return Un(e,r,dt)},ho=function(e,r){for(var s=0,f=e.length;s<f;s++){var h=e[s];if(r(h,s))return Ee.some(s)}return Ee.none()},ts=function(e){for(var r=[],s=0,f=e.length;s<f;++s){if(!be(e[s]))throw new Error("Arr.flatten item "+s+" was not an array, input: "+e);xn.apply(r,e[s])}return r},ns=function(e,r){return ts(st(e,r))},yo=function(e,r){for(var s=0,f=e.length;s<f;++s){var h=e[s];if(r(h,s)!==!0)return!1}return!0},Oa=function(e){var r=qa.call(e,0);return r.reverse(),r},Ki=function(e,r){return pn(e,function(s){return!kt(r,s)})},_o=function(e,r){for(var s={},f=0,h=e.length;f<h;f++){var b=e[f];s[String(b)]=r(b,f)}return s},mi=function(e,r){var s=qa.call(e,0);return s.sort(r),s},ii=function(e,r){return r>=0&&r<e.length?Ee.some(e[r]):Ee.none()},Xi=function(e){return ii(e,0)},oi=function(e){return ii(e,e.length-1)},ya=K(Array.from)?Array.from:function(e){return qa.call(e)},Vo=function(e,r){for(var s=0;s<e.length;s++){var f=r(e[s],s);if(f.isSome())return f}return Ee.none()},Os=Object.keys,wo=Object.hasOwnProperty,ia=function(e,r){for(var s=Os(e),f=0,h=s.length;f<h;f++){var b=s[f],E=e[b];r(E,b)}},Ds=function(e,r){return Ms(e,function(s,f){return{k:f,v:r(s,f)}})},Ms=function(e,r){var s={};return ia(e,function(f,h){var b=r(f,h);s[b.k]=b.v}),s},rs=function(e){return function(r,s){e[s]=r}},Zn=function(e,r,s,f){var h={};return ia(e,function(b,E){(r(b,E)?s:f)(b,E)}),h},ma=function(e,r){var s={},f={};return Zn(e,r,rs(s),rs(f)),{t:s,f}},Pi=function(e,r){var s={};return Zn(e,r,rs(s),ve),s},ou=function(e,r){var s=[];return ia(e,function(f,h){s.push(r(f,h))}),s},Mc=function(e){return ou(e,$e)},_a=function(e,r){return Ur(e,r)?Ee.from(e[r]):Ee.none()},Ur=function(e,r){return wo.call(e,r)},Uo=function(e,r){return Ur(e,r)&&e[r]!==void 0&&e[r]!==null},_l=function(e,r,s){return s===void 0&&(s=V),L(s).eq(e,r)},wl=Array.isArray,Mo=function(e){if(wl(e))return e;for(var r=[],s=0,f=e.length;s<f;s++)r[s]=e[s];return r},Ks=function(e,r,s){var f,h;if(!e)return!1;if(s=s||e,e.length!==void 0){for(f=0,h=e.length;f<h;f++)if(r.call(s,e[f],f,e)===!1)return!1}else for(f in e)if(Ur(e,f)&&r.call(s,e[f],f,e)===!1)return!1;return!0},zl=function(e,r){var s=[];return Ks(e,function(f,h){s.push(r(f,h,e))}),s},Xs=function(e,r){var s=[];return Ks(e,function(f,h){(!r||r(f,h,e))&&s.push(f)}),s},Rs=function(e,r){if(e){for(var s=0,f=e.length;s<f;s++)if(e[s]===r)return s}return-1},Hl=function(e,r,s,f){for(var h=Oe(s)?e[0]:s,b=0;b<e.length;b++)h=r.call(f,h,e[b],b);return h},Da=function(e,r,s){var f,h;for(f=0,h=e.length;f<h;f++)if(r.call(s,e[f],f,e))return f;return-1},su=function(e){return e[e.length-1]},Kn=function(){return Kn=Object.assign||function(r){for(var s,f=1,h=arguments.length;f<h;f++){s=arguments[f];for(var b in s)Object.prototype.hasOwnProperty.call(s,b)&&(r[b]=s[b])}return r},Kn.apply(this,arguments)};function ac(e,r){var s={};for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&r.indexOf(f)<0&&(s[f]=e[f]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var h=0,f=Object.getOwnPropertySymbols(e);h<f.length;h++)r.indexOf(f[h])<0&&Object.prototype.propertyIsEnumerable.call(e,f[h])&&(s[f[h]]=e[f[h]]);return s}function Ps(e,r,s){if(s||arguments.length===2)for(var f=0,h=r.length,b;f<h;f++)(b||!(f in r))&&(b||(b=Array.prototype.slice.call(r,0,f)),b[f]=r[f]);return e.concat(b||Array.prototype.slice.call(r))}var uu=function(e){var r=!1,s;return function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];return r||(r=!0,s=e.apply(null,f)),s}},Wo=function(e,r,s,f){var h=e.isiOS()&&/ipad/i.test(s)===!0,b=e.isiOS()&&!h,E=e.isiOS()||e.isAndroid(),O=E||f("(pointer:coarse)"),R=h||!b&&E&&f("(min-device-width:768px)"),W=b||E&&!R,ne=r.isSafari()&&e.isiOS()&&/safari/i.test(s)===!1,ae=!W&&!R&&!ne;return{isiPad:Y(h),isiPhone:Y(b),isTablet:Y(R),isPhone:Y(W),isTouch:Y(O),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:Y(ne),isDesktop:Y(ae)}},Xu=function(e,r){for(var s=0;s<e.length;s++){var f=e[s];if(f.test(r))return f}},rf=function(e,r){var s=Xu(e,r);if(!s)return{major:0,minor:0};var f=function(h){return Number(r.replace(s,"$"+h))};return as(f(1),f(2))},Eu=function(e,r){var s=String(r).toLowerCase();return e.length===0?Vl():rf(e,s)},Vl=function(){return as(0,0)},as=function(e,r){return{major:e,minor:r}},jo={nu:as,detect:Eu,unknown:Vl},vn=function(e,r){return Vo(r.brands,function(s){var f=s.brand.toLowerCase();return ba(e,function(h){var b;return f===((b=h.brand)===null||b===void 0?void 0:b.toLowerCase())}).map(function(h){return{current:h.name,version:jo.nu(parseInt(s.version,10),0)}})})},ic=function(e,r){var s=String(r).toLowerCase();return ba(e,function(f){return f.search(s)})},Rc=function(e,r){return ic(e,r).map(function(s){var f=jo.detect(s.versionRegexes,r);return{current:s.name,version:f}})},oc=function(e,r){return ic(e,r).map(function(s){var f=jo.detect(s.versionRegexes,r);return{current:s.name,version:f}})},ze=function(e,r){return e.substring(r)},Ye=function(e,r,s){return r===""||e.length>=r.length&&e.substr(s,s+r.length)===r},Lt=function(e,r){return tn(e,r)?ze(e,r.length):e},Kt=function(e,r){return e.indexOf(r)!==-1},tn=function(e,r){return Ye(e,r,0)},An=function(e){return function(r){return r.replace(e,"")}},Bn=An(/^\s+|\s+$/g),kr=An(/^\s+/g),Pr=An(/\s+$/g),Zr=function(e){return e.length>0},Ka=function(e){return!Zr(e)},wi=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,mo=function(e){return function(r){return Kt(r,e)}},Qt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Kt(e,"edge/")&&Kt(e,"chrome")&&Kt(e,"safari")&&Kt(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,wi],search:function(e){return Kt(e,"chrome")&&!Kt(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Kt(e,"msie")||Kt(e,"trident")}},{name:"Opera",versionRegexes:[wi,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:mo("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:mo("firefox")},{name:"Safari",versionRegexes:[wi,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Kt(e,"safari")||Kt(e,"mobile/"))&&Kt(e,"applewebkit")}}],Dr=[{name:"Windows",search:mo("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Kt(e,"iphone")||Kt(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:mo("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:mo("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:mo("linux"),versionRegexes:[]},{name:"Solaris",search:mo("sunos"),versionRegexes:[]},{name:"FreeBSD",search:mo("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:mo("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ba={browsers:Y(Qt),oses:Y(Dr)},Yo="Edge",lu="Chrome",sa="IE",af="Opera",Zu="Firefox",Ii="Safari",Ju=function(){return Is({current:void 0,version:jo.unknown()})},Is=function(e){var r=e.current,s=e.version,f=function(h){return function(){return r===h}};return{current:r,version:s,isEdge:f(Yo),isChrome:f(lu),isIE:f(sa),isOpera:f(af),isFirefox:f(Zu),isSafari:f(Ii)}},Zs={unknown:Ju,nu:Is,edge:Y(Yo),chrome:Y(lu),ie:Y(sa),opera:Y(af),firefox:Y(Zu),safari:Y(Ii)},fi="Windows",Pc="iOS",sc="Android",uc="Linux",of="OSX",Qu="Solaris",xl="FreeBSD",kf="ChromeOS",ku=function(){return cu({current:void 0,version:jo.unknown()})},cu=function(e){var r=e.current,s=e.version,f=function(h){return function(){return r===h}};return{current:r,version:s,isWindows:f(fi),isiOS:f(Pc),isAndroid:f(sc),isOSX:f(of),isLinux:f(uc),isSolaris:f(Qu),isFreeBSD:f(xl),isChromeOS:f(kf)}},me={unknown:ku,nu:cu,windows:Y(fi),ios:Y(Pc),android:Y(sc),linux:Y(uc),osx:Y(of),solaris:Y(Qu),freebsd:Y(xl),chromeos:Y(kf)},qe=function(e,r,s){var f=Ba.browsers(),h=Ba.oses(),b=r.bind(function(R){return vn(f,R)}).orThunk(function(){return Rc(f,e)}).fold(Zs.unknown,Zs.nu),E=oc(h,e).fold(me.unknown,me.nu),O=Wo(E,b,e,s);return{browser:b,os:E,deviceType:O}},ct={detect:qe},Mt=function(e){return window.matchMedia(e).matches},sn=uu(function(){return ct.detect(navigator.userAgent,Ee.from(navigator.userAgentData),Mt)}),qn=function(){return sn()},Ma=navigator.userAgent,Xa=qn(),Wr=Xa.browser,Vr=Xa.os,jr=Xa.deviceType,lc=/WebKit/.test(Ma)&&!Wr.isEdge(),is="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,Ul=Ma.indexOf("Windows Phone")!==-1,rr={opera:Wr.isOpera(),webkit:lc,ie:Wr.isIE()||Wr.isEdge()?Wr.version.major:!1,gecko:Wr.isFirefox(),mac:Vr.isOSX()||Vr.isiOS(),iOS:jr.isiPad()||jr.isiPhone(),android:Vr.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:Wr.isIE()?document.documentMode||7:10,fileApi:is,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!Wr.isIE(),desktop:jr.isDesktop(),windowsPhone:Ul,browser:{current:Wr.current,version:Wr.version,isChrome:Wr.isChrome,isEdge:Wr.isEdge,isFirefox:Wr.isFirefox,isIE:Wr.isIE,isOpera:Wr.isOpera,isSafari:Wr.isSafari},os:{current:Vr.current,version:Vr.version,isAndroid:Vr.isAndroid,isChromeOS:Vr.isChromeOS,isFreeBSD:Vr.isFreeBSD,isiOS:Vr.isiOS,isLinux:Vr.isLinux,isOSX:Vr.isOSX,isSolaris:Vr.isSolaris,isWindows:Vr.isWindows},deviceType:{isDesktop:jr.isDesktop,isiPad:jr.isiPad,isiPhone:jr.isiPhone,isPhone:jr.isPhone,isTablet:jr.isTablet,isTouch:jr.isTouch,isWebView:jr.isWebView}},Qf=/^\s*|\s*$/g,vv=function(e){return e==null?"":(""+e).replace(Qf,"")},wa=function(e,r){return r?r==="array"&&wl(e)?!0:typeof e===r:e!==void 0},hv=function(e,r,s){var f;for(e=e||[],r=r||",",typeof e=="string"&&(e=e.split(r)),s=s||{},f=e.length;f--;)s[e[f]]={};return s},Ro=Ur,Td=function(e,r,s){var f=this,h,b,E,O=0;e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e);var R=e[3].match(/(^|\.)(\w+)$/i)[2],W=f.createNS(e[3].replace(/\.\w+$/,""),s);if(!W[R]){if(e[2]==="static"){W[R]=r,this.onCreate&&this.onCreate(e[2],e[3],W[R]);return}r[R]||(r[R]=function(){},O=1),W[R]=r[R],f.extend(W[R].prototype,r),e[5]&&(h=f.resolve(e[5]).prototype,b=e[5].match(/\.(\w+)$/i)[1],E=W[R],O?W[R]=function(){return h[b].apply(this,arguments)}:W[R]=function(){return this.parent=h[b],E.apply(this,arguments)},W[R].prototype[R]=W[R],f.each(h,function(ne,ae){W[R].prototype[ae]=h[ae]}),f.each(r,function(ne,ae){h[ae]?W[R].prototype[ae]=function(){return this.parent=h[ae],ne.apply(this,arguments)}:ae!==R&&(W[R].prototype[ae]=ne)})),f.each(r.static,function(ne,ae){W[R][ae]=ne})}},Ra=function(e){for(var r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];for(var f=0;f<r.length;f++){var h=r[f];for(var b in h)if(Ur(h,b)){var E=h[b];E!==void 0&&(e[b]=E)}}return e},Tu=function(e,r,s,f){f=f||this,e&&(s&&(e=e[s]),Ks(e,function(h,b){if(r.call(f,h,b,s)===!1)return!1;Tu(h,r,s,f)}))},mv=function(e,r){var s,f;for(r=r||window,e=e.split("."),s=0;s<e.length;s++)f=e[s],r[f]||(r[f]={}),r=r[f];return r},xo=function(e,r){var s,f;for(r=r||window,e=e.split("."),s=0,f=e.length;s<f&&(r=r[e[s]],!!r);s++);return r},Qi=function(e,r){return!e||wa(e,"array")?e:zl(e.split(r||","),vv)},Ic=function(e){var r=rr.cacheSuffix;return r&&(e+=(e.indexOf("?")===-1?"?":"&")+r),e},Tt={trim:vv,isArray:wl,is:wa,toArray:Mo,makeMap:hv,each:Ks,map:zl,grep:Xs,inArray:Rs,hasOwn:Ro,extend:Ra,create:Td,walk:Tu,createNS:mv,resolve:xo,explode:Qi,_addCacheSuffix:Ic},Tf=function(e,r){var s=r||document,f=s.createElement("div");if(f.innerHTML=e,!f.hasChildNodes()||f.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return Po(f.childNodes[0])},eo=function(e,r){var s=r||document,f=s.createElement(e);return Po(f)},gv=function(e,r){var s=r||document,f=s.createTextNode(e);return Po(f)},Po=function(e){if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},J=function(e,r,s){return Ee.from(e.dom.elementFromPoint(r,s)).map(Po)},Z={fromHtml:Tf,fromTag:eo,fromText:gv,fromDom:Po,fromPoint:J},N=function(e,r){var s=[],f=function(b){return s.push(b),r(b)},h=r(e);do h=h.bind(f);while(h.isSome());return s},oe=function(e,r,s){return(e.compareDocumentPosition(r)&s)!==0},Le=function(e,r){return oe(e,r,Node.DOCUMENT_POSITION_CONTAINED_BY)},Ge=8,wt=9,Ut=11,ar=1,Cr=3,On=function(e,r){var s=e.dom;if(s.nodeType!==ar)return!1;var f=s;if(f.matches!==void 0)return f.matches(r);if(f.msMatchesSelector!==void 0)return f.msMatchesSelector(r);if(f.webkitMatchesSelector!==void 0)return f.webkitMatchesSelector(r);if(f.mozMatchesSelector!==void 0)return f.mozMatchesSelector(r);throw new Error("Browser lacks native selectors")},sr=function(e){return e.nodeType!==ar&&e.nodeType!==wt&&e.nodeType!==Ut||e.childElementCount===0},Xr=function(e,r){var s=r===void 0?document:r.dom;return sr(s)?[]:st(s.querySelectorAll(e),Z.fromDom)},Qr=function(e,r){var s=r===void 0?document:r.dom;return sr(s)?Ee.none():Ee.from(s.querySelector(e)).map(Z.fromDom)},yr=function(e,r){return e.dom===r.dom},Bi=function(e,r){var s=e.dom,f=r.dom;return s===f?!1:s.contains(f)},lr=function(e,r){return Le(e.dom,r.dom)},La=function(e,r){return qn().browser.isIE()?lr(e,r):Bi(e,r)};typeof window<"u"||Function("return this;")();var Di=function(e){var r=e.dom.nodeName;return r.toLowerCase()},Au=function(e){return e.dom.nodeType},$r=function(e){return function(r){return Au(r)===e}},Cl=function(e){return Au(e)===Ge||Di(e)==="#comment"},Li=$r(ar),to=$r(Cr),t1=$r(wt),gs=$r(Ut),lm=function(e){return function(r){return Li(r)&&Di(r)===e}},Af=function(e){return Z.fromDom(e.dom.ownerDocument)},_r=function(e){return t1(e)?e:Af(e)},Co=function(e){return Z.fromDom(_r(e).dom.documentElement)},no=function(e){return Z.fromDom(_r(e).dom.defaultView)},Vi=function(e){return Ee.from(e.dom.parentNode).map(Z.fromDom)},os=function(e,r){for(var s=K(r)?r:dt,f=e.dom,h=[];f.parentNode!==null&&f.parentNode!==void 0;){var b=f.parentNode,E=Z.fromDom(b);if(h.push(E),s(E)===!0)break;f=b}return h},Io=function(e){var r=function(s){return pn(s,function(f){return!yr(e,f)})};return Vi(e).map(el).map(r).getOr([])},pv=function(e){return Ee.from(e.dom.previousSibling).map(Z.fromDom)},Bc=function(e){return Ee.from(e.dom.nextSibling).map(Z.fromDom)},Na=function(e){return Oa(N(e,pv))},Fi=function(e){return N(e,Bc)},el=function(e){return st(e.dom.childNodes,Z.fromDom)},Wl=function(e,r){var s=e.dom.childNodes;return Ee.from(s[r]).map(Z.fromDom)},ss=function(e){return Wl(e,0)},cc=function(e){return Wl(e,e.dom.childNodes.length-1)},hg=function(e){return e.dom.childNodes.length},Ad=function(e){var r=e.dom.head;if(r==null)throw new Error("Head is not available yet");return Z.fromDom(r)},$a=function(e){return gs(e)&&at(e.dom.host)},jl=K(Element.prototype.attachShadow)&&K(Node.prototype.getRootNode),Od=Y(jl),Sl=jl?function(e){return Z.fromDom(e.dom.getRootNode())}:_r,So=function(e){return $a(e)?e:Ad(_r(e))},fc=function(e){var r=Sl(e);return $a(r)?Ee.some(r):Ee.none()},Js=function(e){return Z.fromDom(e.dom.host)},fu=function(e){if(Od()&&at(e.target)){var r=Z.fromDom(e.target);if(Li(r)&&El(r)&&e.composed&&e.composedPath){var s=e.composedPath();if(s)return Xi(s)}}return Ee.from(e.target)},El=function(e){return at(e.dom.shadowRoot)},du=function(e,r){var s=Vi(e);s.each(function(f){f.dom.insertBefore(r.dom,e.dom)})},uh=function(e,r){var s=Bc(e);s.fold(function(){var f=Vi(e);f.each(function(h){ps(h,r)})},function(f){du(f,r)})},sf=function(e,r){var s=ss(e);s.fold(function(){ps(e,r)},function(f){e.dom.insertBefore(r.dom,f.dom)})},ps=function(e,r){e.dom.appendChild(r.dom)},Of=function(e,r){du(e,r),ps(r,e)},pt=function(e,r){vt(r,function(s){du(e,s)})},rn=function(e,r){vt(r,function(s){ps(e,s)})},Ft=function(e){e.dom.textContent="",vt(el(e),function(r){Nn(r)})},Nn=function(e){var r=e.dom;r.parentNode!==null&&r.parentNode.removeChild(r)},oa=function(e){var r=el(e);r.length>0&&pt(e,r),Nn(e)},si=function(e){var r=to(e)?e.dom.parentNode:e.dom;if(r==null||r.ownerDocument===null)return!1;var s=r.ownerDocument;return fc(Z.fromDom(r)).fold(function(){return s.body.contains(r)},ue(si,Js))},gi=function(e,r){var s=function(f,h){return gi(e+f,r+h)};return{left:e,top:r,translate:s}},pi=gi,ed=function(e){var r=e.getBoundingClientRect();return pi(r.left,r.top)},td=function(e,r){return e!==void 0?e:r!==void 0?r:0},Za=function(e){var r=e.dom.ownerDocument,s=r.body,f=r.defaultView,h=r.documentElement;if(s===e.dom)return pi(s.offsetLeft,s.offsetTop);var b=td(f==null?void 0:f.pageYOffset,h.scrollTop),E=td(f==null?void 0:f.pageXOffset,h.scrollLeft),O=td(h.clientTop,s.clientTop),R=td(h.clientLeft,s.clientLeft);return Ou(e).translate(E-R,b-O)},Ou=function(e){var r=e.dom,s=r.ownerDocument,f=s.body;return f===r?pi(f.offsetLeft,f.offsetTop):si(e)?ed(r):pi(0,0)},mg=function(e){var r=e!==void 0?e.dom:document,s=r.body.scrollLeft||r.documentElement.scrollLeft,f=r.body.scrollTop||r.documentElement.scrollTop;return pi(s,f)},vu=function(e,r,s){var f=s!==void 0?s.dom:document,h=f.defaultView;h&&h.scrollTo(e,r)},bv=function(e,r){var s=qn().browser.isSafari();s&&K(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(r)},cm=function(e){var r=e===void 0?window:e;return qn().browser.isFirefox()?Ee.none():Ee.from(r.visualViewport)},Ni=function(e,r,s,f){return{x:e,y:r,width:s,height:f,right:e+s,bottom:r+f}},yv=function(e){var r=e===void 0?window:e,s=r.document,f=mg(Z.fromDom(s));return cm(r).fold(function(){var h=r.document.documentElement,b=h.clientWidth,E=h.clientHeight;return Ni(f.left,f.top,b,E)},function(h){return Ni(Math.max(h.pageLeft,f.left),Math.max(h.pageTop,f.top),h.width,h.height)})},Dd=function(e){return function(r){return!!r&&r.nodeType===e}},uf=function(e){return!!e&&!Object.getPrototypeOf(e)},Tr=Dd(1),Lc=function(e){var r=e.map(function(s){return s.toLowerCase()});return function(s){if(s&&s.nodeName){var f=s.nodeName.toLowerCase();return kt(r,f)}return!1}},kl=function(e,r){var s=r.toLowerCase().split(" ");return function(f){if(Tr(f))for(var h=0;h<s.length;h++){var b=f.ownerDocument.defaultView.getComputedStyle(f,null),E=b?b.getPropertyValue(e):null;if(E===s[h])return!0}return!1}},Bs=function(e){return function(r){return Tr(r)&&r.hasAttribute(e)}},Qs=function(e,r){return function(s){return Tr(s)&&s.getAttribute(e)===r}},uo=function(e){return Tr(e)&&e.hasAttribute("data-mce-bogus")},us=function(e){return Tr(e)&&e.getAttribute("data-mce-bogus")==="all"},go=function(e){return Tr(e)&&e.tagName==="TABLE"},nd=function(e){return function(r){return!!(Tr(r)&&(r.contentEditable===e||r.getAttribute("data-mce-contenteditable")===e))}},eu=Lc(["textarea","input"]),Rn=Dd(3),Md=Dd(8),_v=Dd(9),Mr=Dd(11),ui=Lc(["br"]),gg=Lc(["img"]),Df=nd("true"),Zi=nd("false"),wv=Lc(["td","th"]),Du=Lc(["video","audio","object","embed"]),xv=function(e,r,s){return s===void 0&&(s=He),e.exists(function(f){return s(f,r)})},Jr=function(e){for(var r=[],s=function(h){r.push(h)},f=0;f<e.length;f++)e[f].each(s);return r},Mu=function(e,r,s){return e.isSome()&&r.isSome()?Ee.some(s(e.getOrDie(),r.getOrDie())):Ee.none()},ay=function(e,r,s,f){return e.isSome()&&r.isSome()&&s.isSome()?Ee.some(f(e.getOrDie(),r.getOrDie(),s.getOrDie())):Ee.none()},iy=function(e,r){return e?Ee.some(r):Ee.none()},ga=function(e){return e.style!==void 0&&K(e.style.getPropertyValue)},tu=function(e,r,s){if(Te(s)||Pe(s)||de(s))e.setAttribute(r,s+"");else throw console.error("Invalid call to Attribute.set. Key ",r,":: Value ",s,":: Element ",e),new Error("Attribute value was not simple")},U=function(e,r,s){tu(e.dom,r,s)},re=function(e,r){var s=e.dom;ia(r,function(f,h){tu(s,h,f)})},he=function(e,r){var s=e.dom.getAttribute(r);return s===null?void 0:s},Ie=function(e,r){return Ee.from(he(e,r))},ut=function(e,r){var s=e.dom;return s&&s.hasAttribute?s.hasAttribute(r):!1},Et=function(e,r){e.dom.removeAttribute(r)},Wn=function(e){return xr(e.dom.attributes,function(r,s){return r[s.name]=s.value,r},{})},wr=function(e,r,s){if(!Te(s))throw console.error("Invalid call to CSS.set. Property ",r,":: Value ",s,":: Element ",e),new Error("CSS value must be a string: "+s);ga(e)&&e.style.setProperty(r,s)},ra=function(e,r){var s=e.dom;ia(r,function(f,h){wr(s,h,f)})},zr=function(e,r){var s=e.dom,f=window.getComputedStyle(s),h=f.getPropertyValue(r);return h===""&&!si(e)?di(s,r):h},di=function(e,r){return ga(e)?e.style.getPropertyValue(r):""},qo=function(e,r){var s=e.dom,f=di(s,r);return Ee.from(f).filter(function(h){return h.length>0})},po=function(e){var r={},s=e.dom;if(ga(s))for(var f=0;f<s.style.length;f++){var h=s.style.item(f);r[h]=s.style[h]}return r},lS=function(e){return e.dom.offsetWidth},zw=qn().browser,Hw=function(e){return ba(e,Li)},cS=function(e){return zw.isFirefox()&&Di(e)==="table"?Hw(el(e)).filter(function(r){return Di(r)==="caption"}).bind(function(r){return Hw(Fi(r)).map(function(s){var f=s.dom.offsetTop,h=r.dom.offsetTop,b=r.dom.offsetHeight;return f<=h?-b:0})}).getOr(0):0},Fc=function(e,r){return e.children&&kt(e.children,r)},Cv=function(e,r,s){var f=0,h=0,b=e.ownerDocument;if(s=s||e,r){if(s===e&&r.getBoundingClientRect&&zr(Z.fromDom(e),"position")==="static"){var E=r.getBoundingClientRect();return f=E.left+(b.documentElement.scrollLeft||e.scrollLeft)-b.documentElement.clientLeft,h=E.top+(b.documentElement.scrollTop||e.scrollTop)-b.documentElement.clientTop,{x:f,y:h}}for(var O=r;O&&O!==s&&O.nodeType&&!Fc(O,s);){var R=O;f+=R.offsetLeft||0,h+=R.offsetTop||0,O=R.offsetParent}for(O=r.parentNode;O&&O!==s&&O.nodeType&&!Fc(O,s);)f-=O.scrollLeft||0,h-=O.scrollTop||0,O=O.parentNode;h+=cS(Z.fromDom(r))}return{x:f,y:h}},Tl={},ke={exports:Tl};(function(e,r,s,f){(function(h,b){typeof r=="object"&&typeof s<"u"?s.exports=b():typeof e=="function"&&e.amd?e(b):(h=typeof globalThis<"u"?globalThis:h||self,h.EphoxContactWrapper=b())})(this,function(){var h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof xw<"u"?xw:typeof self<"u"?self:{},b={exports:{}};(function(W){(function(ne){var ae=setTimeout;function ce(){}function we(je,ht){return function(){je.apply(ht,arguments)}}function Se(je){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof je!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],ot(je,this)}function Ae(je,ht){for(;je._state===3;)je=je._value;if(je._state===0){je._deferreds.push(ht);return}je._handled=!0,Se._immediateFn(function(){var Bt=je._state===1?ht.onFulfilled:ht.onRejected;if(Bt===null){(je._state===1?De:Ve)(ht.promise,je._value);return}var en;try{en=Bt(je._value)}catch(gr){Ve(ht.promise,gr);return}De(ht.promise,en)})}function De(je,ht){try{if(ht===je)throw new TypeError("A promise cannot be resolved with itself.");if(ht&&(typeof ht=="object"||typeof ht=="function")){var Bt=ht.then;if(ht instanceof Se){je._state=3,je._value=ht,Ne(je);return}else if(typeof Bt=="function"){ot(we(Bt,ht),je);return}}je._state=1,je._value=ht,Ne(je)}catch(en){Ve(je,en)}}function Ve(je,ht){je._state=2,je._value=ht,Ne(je)}function Ne(je){je._state===2&&je._deferreds.length===0&&Se._immediateFn(function(){je._handled||Se._unhandledRejectionFn(je._value)});for(var ht=0,Bt=je._deferreds.length;ht<Bt;ht++)Ae(je,je._deferreds[ht]);je._deferreds=null}function ft(je,ht,Bt){this.onFulfilled=typeof je=="function"?je:null,this.onRejected=typeof ht=="function"?ht:null,this.promise=Bt}function ot(je,ht){var Bt=!1;try{je(function(en){Bt||(Bt=!0,De(ht,en))},function(en){Bt||(Bt=!0,Ve(ht,en))})}catch(en){if(Bt)return;Bt=!0,Ve(ht,en)}}Se.prototype.catch=function(je){return this.then(null,je)},Se.prototype.then=function(je,ht){var Bt=new this.constructor(ce);return Ae(this,new ft(je,ht,Bt)),Bt},Se.all=function(je){var ht=Array.prototype.slice.call(je);return new Se(function(Bt,en){if(ht.length===0)return Bt([]);var gr=ht.length;function In(hr,on){try{if(on&&(typeof on=="object"||typeof on=="function")){var Mn=on.then;if(typeof Mn=="function"){Mn.call(on,function(cn){In(hr,cn)},en);return}}ht[hr]=on,--gr===0&&Bt(ht)}catch(cn){en(cn)}}for(var Wt=0;Wt<ht.length;Wt++)In(Wt,ht[Wt])})},Se.resolve=function(je){return je&&typeof je=="object"&&je.constructor===Se?je:new Se(function(ht){ht(je)})},Se.reject=function(je){return new Se(function(ht,Bt){Bt(je)})},Se.race=function(je){return new Se(function(ht,Bt){for(var en=0,gr=je.length;en<gr;en++)je[en].then(ht,Bt)})},Se._immediateFn=typeof setImmediate=="function"?function(je){setImmediate(je)}:function(je){ae(je,0)},Se._unhandledRejectionFn=function(ht){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",ht)},Se._setImmediateFn=function(ht){Se._immediateFn=ht},Se._setUnhandledRejectionFn=function(ht){Se._unhandledRejectionFn=ht},W.exports?W.exports=Se:ne.Promise||(ne.Promise=Se)})(h)})(b);var E=b.exports,O=function(){return typeof window<"u"?window:Function("return this;")()}(),R={boltExport:O.Promise||E};return R})})(void 0,Tl,ke);var lh=ke.exports.boltExport,ch=function(e){var r=Ee.none(),s=[],f=function(W){return ch(function(ne){h(function(ae){ne(W(ae))})})},h=function(W){E()?R(W):s.push(W)},b=function(W){E()||(r=Ee.some(W),O(s),s=[])},E=function(){return r.isSome()},O=function(W){vt(W,R)},R=function(W){r.each(function(ne){setTimeout(function(){W(ne)},0)})};return e(b),{get:h,map:f,isReady:E}},dc=function(e){return ch(function(r){r(e)})},bi={nu:ch,pure:dc},fS=function(e){setTimeout(function(){throw e},0)},rd=function(e){var r=function(R){e().then(R,fS)},s=function(R){return rd(function(){return e().then(R)})},f=function(R){return rd(function(){return e().then(function(W){return R(W).toPromise()})})},h=function(R){return rd(function(){return e().then(function(){return R.toPromise()})})},b=function(){return bi.nu(r)},E=function(){var R=null;return rd(function(){return R===null&&(R=e()),R})},O=e;return{map:s,bind:f,anonBind:h,toLazy:b,toCached:E,toPromise:O,get:r}},Fp=function(e){return rd(function(){return new lh(e)})},fm=function(e){return rd(function(){return lh.resolve(e)})},oy={nu:Fp,pure:fm},dS=function(e,r){return r(function(s){var f=[],h=0,b=function(E){return function(O){f[E]=O,h++,h>=e.length&&s(f)}};e.length===0?s([]):vt(e,function(E,O){E.get(b(O))})})},vS=function(e){return dS(e,oy.nu)},pg=function(e){var r=function(ae){return pg(e)},s=function(ae){return pg(e)},f=function(ae){return pg(ae(e))},h=function(ae){return pg(e)},b=function(ae){ae(e)},E=function(ae){return ae(e)},O=function(ae,ce){return ce(e)},R=function(ae){return ae(e)},W=function(ae){return ae(e)},ne=function(){return Ee.some(e)};return{isValue:Dt,isError:dt,getOr:Y(e),getOrThunk:Y(e),getOrDie:Y(e),or:r,orThunk:s,fold:O,map:f,mapError:h,each:b,bind:E,exists:R,forall:W,toOptional:ne}},Np=function(e){var r=function(W){return W()},s=function(){return We(String(e))()},f=$e,h=function(W){return W()},b=function(W){return Np(e)},E=function(W){return Np(W(e))},O=function(W){return Np(e)},R=function(W,ne){return W(e)};return{isValue:dt,isError:Dt,getOr:$e,getOrThunk:r,getOrDie:s,or:f,orThunk:h,fold:R,map:b,mapError:E,each:ve,bind:O,exists:dt,forall:Dt,toOptional:Ee.none}},Rd=function(e,r){return e.fold(function(){return Np(r)},pg)},Vw={value:pg,error:Np,fromOption:Rd},vc=function(e){if(!be(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");var r=[],s={};return vt(e,function(f,h){var b=Os(f);if(b.length!==1)throw new Error("one and only one name per case");var E=b[0],O=f[E];if(s[E]!==void 0)throw new Error("duplicate key detected:"+E);if(E==="cata")throw new Error("cannot have a case named cata (sorry)");if(!be(O))throw new Error("case arguments must be an array");r.push(E),s[E]=function(){for(var R=[],W=0;W<arguments.length;W++)R[W]=arguments[W];var ne=R.length;if(ne!==O.length)throw new Error("Wrong number of arguments to case "+E+". Expected "+O.length+" ("+O+"), got "+ne);var ae=function(ce){var we=Os(ce);if(r.length!==we.length)throw new Error("Wrong number of arguments to match. Expected: "+r.join(",")+`
Actual: `+we.join(","));var Se=yo(r,function(Ae){return kt(we,Ae)});if(!Se)throw new Error("Not all branches were specified when using match. Specified: "+we.join(", ")+`
Required: `+r.join(", "));return ce[E].apply(null,R)};return{fold:function(){for(var ce=[],we=0;we<arguments.length;we++)ce[we]=arguments[we];if(ce.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+ce.length);var Se=ce[h];return Se.apply(null,R)},match:ae,log:function(ce){console.log(ce,{constructors:r,constructor:E,params:R})}}}}),s},Jn={generate:vc};Jn.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var Sv=function(e){return e.fold($e,$e)};function $p(e,r,s,f,h){return e(s,f)?Ee.some(s):K(h)&&h(s)?Ee.none():r(s,f,h)}var Yl=function(e,r,s){for(var f=e.dom,h=K(s)?s:dt;f.parentNode;){f=f.parentNode;var b=Z.fromDom(f);if(r(b))return Ee.some(b);if(h(b))break}return Ee.none()},bg=function(e,r,s){var f=function(h,b){return b(h)};return $p(f,Yl,e,r,s)},sy=function(e,r){var s=e.dom;return s.parentNode?Mf(Z.fromDom(s.parentNode),function(f){return!yr(e,f)&&r(f)}):Ee.none()},Mf=function(e,r){var s=function(h){return r(Z.fromDom(h))},f=ba(e.dom.childNodes,s);return f.map(Z.fromDom)},dm=function(e,r,s){return Yl(e,function(f){return On(f,r)},s)},yg=function(e,r){return Qr(r,e)},Ui=function(e,r,s){var f=function(h,b){return On(h,b)};return $p(f,dm,e,r,s)},nu=window.Promise?window.Promise:lh,zp,hu=function(e,r){for(var s=window.requestAnimationFrame,f=["ms","moz","webkit"],h=function(E){window.setTimeout(E,0)},b=0;b<f.length&&!s;b++)s=window[f[b]+"RequestAnimationFrame"];s||(s=h),s(e,r)},Hp=function(e,r){return typeof r!="number"&&(r=0),setTimeout(e,r)},n1=function(e,r){return typeof r!="number"&&(r=1),setInterval(e,r)},r1=function(e){return clearTimeout(e)},hS=function(e){return clearInterval(e)},_g=function(e,r){var s,f=function(){for(var h=[],b=0;b<arguments.length;b++)h[b]=arguments[b];clearTimeout(s),s=Hp(function(){e.apply(this,h)},r)};return f.stop=function(){clearTimeout(s)},f},mu={requestAnimationFrame:function(e,r){if(zp){zp.then(e);return}zp=new nu(function(s){r||(r=document.body),hu(s,r)}).then(e)},setTimeout:Hp,setInterval:n1,setEditorTimeout:function(e,r,s){return Hp(function(){e.removed||r()},s)},setEditorInterval:function(e,r,s){var f=n1(function(){e.removed?clearInterval(f):r()},s);return f},debounce:_g,throttle:_g,clearInterval:hS,clearTimeout:r1},uy=function(e,r){r===void 0&&(r={});var s=0,f={},h=Z.fromDom(e),b=_r(h),E=r.maxLoadTime||5e3,O=function(De){r.referrerPolicy=De},R=function(De){ps(So(h),De)},W=function(De){var Ve=So(h);yg(Ve,"#"+De).each(Nn)},ne=function(De){return _a(f,De).getOrThunk(function(){return{id:"mce-u"+s++,passed:[],failed:[],count:0}})},ae=function(De,Ve,Ne){var ft,ot=Tt._addCacheSuffix(De),je=ne(ot);f[ot]=je,je.count++;var ht=function(on,Mn){for(var cn=on.length;cn--;)on[cn]();je.status=Mn,je.passed=[],je.failed=[],ft&&(ft.onload=null,ft.onerror=null,ft=null)},Bt=function(){return ht(je.passed,2)},en=function(){return ht(je.failed,3)},gr=function(on,Mn){on()||(Date.now()-hr<E?mu.setTimeout(Mn):en())},In=function(){gr(function(){for(var on=e.styleSheets,Mn=on.length;Mn--;){var cn=on[Mn],yn=cn.ownerNode;if(yn&&yn.id===ft.id)return Bt(),!0}return!1},In)};if(Ve&&je.passed.push(Ve),Ne&&je.failed.push(Ne),je.status!==1){if(je.status===2){Bt();return}if(je.status===3){en();return}je.status=1;var Wt=Z.fromTag("link",b.dom);re(Wt,{rel:"stylesheet",type:"text/css",id:je.id});var hr=Date.now();r.contentCssCors&&U(Wt,"crossOrigin","anonymous"),r.referrerPolicy&&U(Wt,"referrerpolicy",r.referrerPolicy),ft=Wt.dom,ft.onload=In,ft.onerror=en,R(Wt),U(Wt,"href",ot)}},ce=function(De){return oy.nu(function(Ve){ae(De,Ue(Ve,Y(Vw.value(De))),Ue(Ve,Y(Vw.error(De))))})},we=function(De,Ve,Ne){vS(st(De,ce)).get(function(ft){var ot=zn(ft,function(je){return je.isValue()});ot.fail.length>0?Ne(ot.fail.map(Sv)):Ve(ot.pass.map(Sv))})},Se=function(De){var Ve=Tt._addCacheSuffix(De);_a(f,Ve).each(function(Ne){var ft=--Ne.count;ft===0&&(delete f[Ve],W(Ne.id))})},Ae=function(De){vt(De,function(Ve){Se(Ve)})};return{load:ae,loadAll:we,unload:Se,unloadAll:Ae,_setReferrerPolicy:O}},lo=function(){var e=new WeakMap,r=function(s,f){var h=Sl(s),b=h.dom;return Ee.from(e.get(b)).getOrThunk(function(){var E=uy(b,f);return e.set(b,E),E})};return{forElement:r}},Rf=lo(),Wa=function(){function e(r,s){this.node=r,this.rootNode=s,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return e.prototype.current=function(){return this.node},e.prototype.next=function(r){return this.node=this.findSibling(this.node,"firstChild","nextSibling",r),this.node},e.prototype.prev=function(r){return this.node=this.findSibling(this.node,"lastChild","previousSibling",r),this.node},e.prototype.prev2=function(r){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",r),this.node},e.prototype.findSibling=function(r,s,f,h){var b,E;if(r){if(!h&&r[s])return r[s];if(r!==this.rootNode){if(b=r[f],b)return b;for(E=r.parentNode;E&&E!==this.rootNode;E=E.parentNode)if(b=E[f],b)return b}}},e.prototype.findPreviousNode=function(r,s,f,h){var b,E,O;if(r){if(b=r[f],this.rootNode&&b===this.rootNode)return;if(b){if(!h){for(O=b[s];O;O=O[s])if(!O[s])return O}return b}if(E=r.parentNode,E&&E!==this.rootNode)return E}},e}(),Pf=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],ql=["td","th"],mS=["thead","tbody","tfoot"],ls=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Al=["h1","h2","h3","h4","h5","h6"],Pd=["li","dd","dt"],It=["ul","ol","dl"],Ls=["pre","script","textarea","style"],gu=function(e){var r;return function(s){return r=r||_o(e,Dt),Ur(r,Di(s))}},Ar=gu(Al),hc=gu(Pf),Uw=function(e){return Di(e)==="table"},Fs=function(e){return Li(e)&&!hc(e)},lf=function(e){return Li(e)&&Di(e)==="br"},ad=gu(ls),If=gu(It),Ns=gu(Pd),za=gu(mS),Bf=gu(ql),bs=gu(Ls),xi=function(e,r,s){return dm(e,r,s).isSome()},Ev="\uFEFF",cs=" ",Ol=function(e){return e===Ev},a1=function(e){return e.replace(/\uFEFF/g,"")},Je=Ev,tl=Ol,Go=a1,fh=Tr,Nc=Rn,Ci=function(e){return Nc(e)&&(e=e.parentNode),fh(e)&&e.hasAttribute("data-mce-caret")},Mi=function(e){return Nc(e)&&tl(e.data)},nl=function(e){return Ci(e)||Mi(e)},kv=function(e){return e.firstChild!==e.lastChild||!ui(e.firstChild)},vm=function(e,r){var s=e.ownerDocument,f=s.createTextNode(Je),h=e.parentNode;if(r){var b=e.previousSibling;if(Nc(b)){if(nl(b))return b;if(Up(b))return b.splitText(b.data.length-1)}h.insertBefore(f,e)}else{var b=e.nextSibling;if(Nc(b)){if(nl(b))return b;if(Vp(b))return b.splitText(1),b}e.nextSibling?h.insertBefore(f,e.nextSibling):h.appendChild(f)}return f},ur=function(e){var r=e.container();return Rn(r)?r.data.charAt(e.offset())===Je||e.isAtStart()&&Mi(r.previousSibling):!1},i1=function(e){var r=e.container();return Rn(r)?r.data.charAt(e.offset()-1)===Je||e.isAtEnd()&&Mi(r.nextSibling):!1},$c=function(){var e=document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e},wg=function(e,r,s){var f=r.ownerDocument,h=f.createElement(e);h.setAttribute("data-mce-caret",s?"before":"after"),h.setAttribute("data-mce-bogus","all"),h.appendChild($c());var b=r.parentNode;return s?b.insertBefore(h,r):r.nextSibling?b.insertBefore(h,r.nextSibling):b.appendChild(h),h},Vp=function(e){return Nc(e)&&e.data[0]===Je},Up=function(e){return Nc(e)&&e.data[e.data.length-1]===Je},Wp=function(e){var r=e.getElementsByTagName("br"),s=r[r.length-1];uo(s)&&s.parentNode.removeChild(s)},o1=function(e){return e&&e.hasAttribute("data-mce-caret")?(Wp(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},Id=function(e){return Ci(e.startContainer)},Tv=Df,gS=Zi,s1=ui,ly=Rn,Ww=Lc(["script","style","textarea"]),hm=Lc(["img","input","textarea","hr","iframe","video","audio","object","embed"]),mm=Lc(["table"]),cy=nl,id=function(e){return cy(e)?!1:ly(e)?!Ww(e.parentNode):hm(e)||s1(e)||mm(e)||fy(e)},Av=function(e){return Tr(e)&&e.getAttribute("unselectable")==="true"},fy=function(e){return Av(e)===!1&&gS(e)},dy=function(e,r){for(e=e.parentNode;e&&e!==r;e=e.parentNode){if(fy(e))return!1;if(Tv(e))return!0}return!0},jw=function(e){return fy(e)?xr(ya(e.getElementsByTagName("*")),function(r,s){return r||Tv(s)},!1)!==!0:!1},pS=function(e){return hm(e)||jw(e)},Ko=function(e,r){return id(e)&&dy(e,r)},Bd=/^[ \t\r\n]*$/,zc=function(e){return Bd.test(e)},Ov=function(e,r){var s=Z.fromDom(r),f=Z.fromDom(e);return xi(f,"pre,code",Ce(yr,s))},u1=function(e,r){return Rn(e)&&zc(e.data)&&Ov(e,r)===!1},Lf=function(e){return Tr(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id"))},Dv=function(e,r){return id(e)&&u1(e,r)===!1||Lf(e)||Ja(e)},Ja=Bs("data-mce-bookmark"),vy=Bs("data-mce-bogus"),Mv=Qs("data-mce-bogus","all"),Dl=function(e,r){var s=0;if(Dv(e,e))return!1;var f=e.firstChild;if(!f)return!0;var h=new Wa(f,e);do{if(r){if(Mv(f)){f=h.next(!0);continue}if(vy(f)){f=h.next();continue}}if(ui(f)){s++,f=h.next();continue}if(Dv(f,e))return!1;f=h.next()}while(f);return s<=1},ru=function(e,r){return r===void 0&&(r=!0),Dl(e.dom,r)},l1=function(e){return e.nodeName.toLowerCase()==="span"},hy=function(e,r){return at(e)&&(Dv(e,r)||Fs(Z.fromDom(e)))},rl=function(e,r){var s=new Wa(e,r).prev(!1),f=new Wa(e,r).next(!1),h=Oe(s)||hy(s,r),b=Oe(f)||hy(f,r);return h&&b},xg=function(e){return l1(e)&&e.getAttribute("data-mce-type")==="bookmark"},Rv=function(e,r){return Rn(e)&&e.data.length>0&&rl(e,r)},my=function(e){return Tr(e)?e.childNodes.length>0:!1},gm=function(e){return Mr(e)||_v(e)},c1=function(e,r,s){var f=s||r;if(Tr(r)&&xg(r))return r;for(var h=r.childNodes,b=h.length-1;b>=0;b--)c1(e,h[b],f);if(Tr(r)){var E=r.childNodes;E.length===1&&xg(E[0])&&r.parentNode.insertBefore(E[0],r)}return!gm(r)&&!Dv(r,f)&&!my(r)&&!Rv(r,f)&&e.remove(r),r},cf=Tt.makeMap,ki=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Cg=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Pv=/[<>&\"\']/g,Sg=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,f1={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},mc={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},gc={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Iv=function(e){var r=Z.fromTag("div").dom;return r.innerHTML=e,r.textContent||r.innerText||e},Ld=function(e,r){var s,f,h,b={};if(e){for(e=e.split(","),r=r||10,s=0;s<e.length;s+=2)f=String.fromCharCode(parseInt(e[s],r)),mc[f]||(h="&"+e[s+1]+";",b[f]=h,b[h]=f);return b}},od=Ld("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),jp=function(e,r){return e.replace(r?ki:Cg,function(s){return mc[s]||s})},Fd=function(e){return(""+e).replace(Pv,function(r){return mc[r]||r})},dh=function(e,r){return e.replace(r?ki:Cg,function(s){return s.length>1?"&#"+((s.charCodeAt(0)-55296)*1024+(s.charCodeAt(1)-56320)+65536)+";":mc[s]||"&#"+s.charCodeAt(0)+";"})},Yp=function(e,r,s){return s=s||od,e.replace(r?ki:Cg,function(f){return mc[f]||s[f]||f})},gy=function(e,r){var s=Ld(r)||od,f=function(E,O){return E.replace(O?ki:Cg,function(R){return mc[R]!==void 0?mc[R]:s[R]!==void 0?s[R]:R.length>1?"&#"+((R.charCodeAt(0)-55296)*1024+(R.charCodeAt(1)-56320)+65536)+";":"&#"+R.charCodeAt(0)+";"})},h=function(E,O){return Yp(E,O,s)},b=cf(e.replace(/\+/g,","));return b.named&&b.numeric?f:b.named?r?h:Yp:b.numeric?dh:jp},py=function(e){return e.replace(Sg,function(r,s){return s?(s.charAt(0).toLowerCase()==="x"?s=parseInt(s.substr(1),16):s=parseInt(s,10),s>65535?(s-=65536,String.fromCharCode(55296+(s>>10),56320+(s&1023))):f1[s]||String.fromCharCode(s)):gc[r]||od[r]||Iv(r)})},Hc={encodeRaw:jp,encodeAllRaw:Fd,encodeNumeric:dh,encodeNamed:Yp,getEncodeFunc:gy,decode:py},pc={},pm={},ff=Tt.makeMap,Ru=Tt.each,qp=Tt.extend,Nd=Tt.explode,bc=Tt.inArray,co=function(e,r){return e=Tt.trim(e),e?e.split(r||" "):[]},by=function(e,r){var s=ff(e," ",ff(e.toUpperCase()," "));return qp(s,r)},d1=function(e){return by("td th li dt dd figcaption caption details summary",e.getTextBlockElements())},xa=function(e){var r={},s,f,h,b,E,O,R=function(ne,ae,ce){var we,Se,Ae,De=function(Ne,ft){var ot={},je,ht;for(je=0,ht=Ne.length;je<ht;je++)ot[Ne[je]]=ft||{};return ot};ce=ce||[],ae=ae||"",typeof ce=="string"&&(ce=co(ce));var Ve=co(ne);for(we=Ve.length;we--;)Se=co([s,ae].join(" ")),Ae={attributes:De(Se),attributesOrder:Se,children:De(ce,pm)},r[Ve[we]]=Ae},W=function(ne,ae){var ce,we,Se,Ae,De=co(ne);ce=De.length;for(var Ve=co(ae);ce--;)for(we=r[De[ce]],Se=0,Ae=Ve.length;Se<Ae;Se++)we.attributes[Ve[Se]]={},we.attributesOrder.push(Ve[Se])};return pc[e]?pc[e]:(s="id accesskey class dir lang style tabindex title role",f="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",h="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(s+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",f+=" article aside details dialog figure main header footer hgroup section nav",h+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),e!=="html5-strict"&&(s+=" xml:lang",O="acronym applet basefont big font strike tt",h=[h,O].join(" "),Ru(co(O),function(ne){R(ne,"",h)}),E="center dir isindex noframes",f=[f,E].join(" "),b=[f,h].join(" "),Ru(co(E),function(ne){R(ne,"",b)})),b=b||[f,h].join(" "),R("html","manifest","head body"),R("head","","base command link meta noscript script style title"),R("title hr noscript br"),R("base","href target"),R("link","href rel media hreflang type sizes hreflang"),R("meta","name http-equiv content charset"),R("style","media type scoped"),R("script","src async defer type charset"),R("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",b),R("address dt dd div caption","",b),R("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",h),R("blockquote","cite",b),R("ol","reversed start type","li"),R("ul","","li"),R("li","value",b),R("dl","","dt dd"),R("a","href target rel media hreflang type",h),R("q","cite",h),R("ins del","cite datetime",b),R("img","src sizes srcset alt usemap ismap width height"),R("iframe","src name width height",b),R("embed","src type width height"),R("object","data type typemustmatch name usemap form width height",[b,"param"].join(" ")),R("param","name value"),R("map","name",[b,"area"].join(" ")),R("area","alt coords shape href target rel media hreflang type"),R("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),R("colgroup","span","col"),R("col","span"),R("tbody thead tfoot","","tr"),R("tr","","td th"),R("td","colspan rowspan headers",b),R("th","colspan rowspan headers scope abbr",b),R("form","accept-charset action autocomplete enctype method name novalidate target",b),R("fieldset","disabled form name",[b,"legend"].join(" ")),R("label","form for",h),R("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),R("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?b:h),R("select","disabled form multiple name required size","option optgroup"),R("optgroup","disabled label","option"),R("option","disabled label selected value"),R("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),R("menu","type label",[b,"li"].join(" ")),R("noscript","",b),e!=="html4"&&(R("wbr"),R("ruby","",[h,"rt rp"].join(" ")),R("figcaption","",b),R("mark rt rp summary bdi","",h),R("canvas","width height",b),R("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[b,"track source"].join(" ")),R("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[b,"track source"].join(" ")),R("picture","","img source"),R("source","src srcset type media sizes"),R("track","kind src srclang label default"),R("datalist","",[h,"option"].join(" ")),R("article section nav aside main header footer","",b),R("hgroup","","h1 h2 h3 h4 h5 h6"),R("figure","",[b,"figcaption"].join(" ")),R("time","datetime",h),R("dialog","open",b),R("command","type label icon disabled checked radiogroup command"),R("output","for form name",h),R("progress","value max",h),R("meter","value min max low high optimum",h),R("details","open",[b,"summary"].join(" ")),R("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(W("script","language xml:space"),W("style","xml:space"),W("object","declare classid code codebase codetype archive standby align border hspace vspace"),W("embed","align name hspace vspace"),W("param","valuetype type"),W("a","charset name rev shape coords"),W("br","clear"),W("applet","codebase archive code object alt name width height align hspace vspace"),W("img","name longdesc align border hspace vspace"),W("iframe","longdesc frameborder marginwidth marginheight scrolling align"),W("font basefont","size color face"),W("input","usemap align"),W("select"),W("textarea"),W("h1 h2 h3 h4 h5 h6 div p legend caption","align"),W("ul","type compact"),W("li","type"),W("ol dl menu dir","compact"),W("pre","width xml:space"),W("hr","align noshade size width"),W("isindex","prompt"),W("table","summary width frame rules cellspacing cellpadding align bgcolor"),W("col","width align char charoff valign"),W("colgroup","width align char charoff valign"),W("thead","align char charoff valign"),W("tr","align char charoff valign bgcolor"),W("th","axis align char charoff valign nowrap bgcolor width height"),W("form","accept"),W("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),W("tfoot","align char charoff valign"),W("tbody","align char charoff valign"),W("area","nohref"),W("body","background bgcolor text link vlink alink")),e!=="html4"&&(W("input button select textarea","autofocus"),W("input textarea","placeholder"),W("a","download"),W("link script img","crossorigin"),W("img","loading"),W("iframe","sandbox seamless allowfullscreen loading")),Ru(co("a form meter progress dfn"),function(ne){r[ne]&&delete r[ne].children[ne]}),delete r.caption.children.table,delete r.script,pc[e]=r,r)},Qn=function(e,r){var s;return e&&(s={},typeof e=="string"&&(e={"*":e}),Ru(e,function(f,h){s[h]=s[h.toUpperCase()]=r==="map"?ff(f,/[, ]/):Nd(f,/[, ]/)})),s},yc=function(e){var r={},s={},f=[],h={},b={},E=function(Xt,fn,nr){var mt=e[Xt];return mt?mt=ff(mt,/[, ]/,ff(mt.toUpperCase(),/[, ]/)):(mt=pc[Xt],mt||(mt=by(fn,nr),pc[Xt]=mt)),mt};e=e||{};var O=xa(e.schema);e.verify_html===!1&&(e.valid_elements="*[*]");var R=Qn(e.valid_styles),W=Qn(e.invalid_styles,"map"),ne=Qn(e.valid_classes,"map"),ae=E("whitespace_elements","pre script noscript style textarea video audio iframe object code"),ce=E("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),we=E("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),Se=E("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),Ae="td th iframe video audio object script code",De=E("non_empty_elements",Ae+" pre",we),Ve=E("move_caret_before_on_enter_elements",Ae+" table",we),Ne=E("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),ft=E("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",Ne),ot=E("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp");Ru((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(Xt){b[Xt]=new RegExp("</"+Xt+"[^>]*>","gi")});var je=function(Xt){return new RegExp("^"+Xt.replace(/([?+*])/g,".$1")+"$")},ht=function(Xt){var fn,nr,mt,an,Zt,or,dr,Hi,xu,iu,H0,Jc,Tc,Hu,iv,Qc,tm,ji,vo=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,Vu=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,wf=/[*?+]/;if(Xt){var tg=co(Xt,",");for(r["@"]&&(Qc=r["@"].attributes,tm=r["@"].attributesOrder),fn=0,nr=tg.length;fn<nr;fn++)if(Zt=vo.exec(tg[fn]),Zt){if(Hu=Zt[1],xu=Zt[2],iv=Zt[3],Hi=Zt[5],Jc={},Tc=[],or={attributes:Jc,attributesOrder:Tc},Hu==="#"&&(or.paddEmpty=!0),Hu==="-"&&(or.removeEmpty=!0),Zt[4]==="!"&&(or.removeEmptyAttrs=!0),Qc&&(ia(Qc,function(ng,Hb){Jc[Hb]=ng}),Tc.push.apply(Tc,tm)),Hi){for(Hi=co(Hi,"|"),mt=0,an=Hi.length;mt<an;mt++)if(Zt=Vu.exec(Hi[mt]),Zt){if(dr={},H0=Zt[1],iu=Zt[2].replace(/[\\:]:/g,":"),Hu=Zt[3],ji=Zt[4],H0==="!"&&(or.attributesRequired=or.attributesRequired||[],or.attributesRequired.push(iu),dr.required=!0),H0==="-"){delete Jc[iu],Tc.splice(bc(Tc,iu),1);continue}Hu&&(Hu==="="&&(or.attributesDefault=or.attributesDefault||[],or.attributesDefault.push({name:iu,value:ji}),dr.defaultValue=ji),Hu===":"&&(or.attributesForced=or.attributesForced||[],or.attributesForced.push({name:iu,value:ji}),dr.forcedValue=ji),Hu==="<"&&(dr.validValues=ff(ji,"?"))),wf.test(iu)?(or.attributePatterns=or.attributePatterns||[],dr.pattern=je(iu),or.attributePatterns.push(dr)):(Jc[iu]||Tc.push(iu),Jc[iu]=dr)}}!Qc&&xu==="@"&&(Qc=Jc,tm=Tc),iv&&(or.outputName=xu,r[iv]=or),wf.test(xu)?(or.pattern=je(xu),f.push(or)):r[xu]=or}}},Bt=function(Xt){r={},f=[],ht(Xt),Ru(O,function(fn,nr){s[nr]=fn.children})},en=function(Xt){var fn=/^(~)?(.+)$/;Xt&&(pc.text_block_elements=pc.block_elements=null,Ru(co(Xt,","),function(nr){var mt=fn.exec(nr),an=mt[1]==="~",Zt=an?"span":"div",or=mt[2];if(s[or]=s[Zt],h[or]=Zt,an||(ft[or.toUpperCase()]={},ft[or]={}),!r[or]){var dr=r[Zt];dr=qp({},dr),delete dr.removeEmptyAttrs,delete dr.removeEmpty,r[or]=dr}Ru(s,function(Hi,xu){Hi[Zt]&&(s[xu]=Hi=qp({},s[xu]),Hi[or]=Hi[Zt])})}))},gr=function(Xt){var fn=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;pc[e.schema]=null,Xt&&Ru(co(Xt,","),function(nr){var mt=fn.exec(nr),an,Zt;mt&&(Zt=mt[1],Zt?an=s[mt[2]]:an=s[mt[2]]={"#comment":{}},an=s[mt[2]],Ru(co(mt[3],"|"),function(or){Zt==="-"?delete an[or]:an[or]={}}))})},In=function(Xt){var fn=r[Xt],nr;if(fn)return fn;for(nr=f.length;nr--;)if(fn=f[nr],fn.pattern.test(Xt))return fn};e.valid_elements?Bt(e.valid_elements):(Ru(O,function(Xt,fn){r[fn]={attributes:Xt.attributes,attributesOrder:Xt.attributesOrder},s[fn]=Xt.children}),e.schema!=="html5"&&Ru(co("strong/b em/i"),function(Xt){var fn=co(Xt,"/");r[fn[1]].outputName=fn[0]}),Ru(ot,function(Xt,fn){r[fn]&&(e.padd_empty_block_inline_children&&(r[fn].paddInEmptyBlock=!0),r[fn].removeEmpty=!0)}),Ru(co("ol ul blockquote a table tbody"),function(Xt){r[Xt]&&(r[Xt].removeEmpty=!0)}),Ru(co("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(Xt){r[Xt].paddEmpty=!0}),Ru(co("span"),function(Xt){r[Xt].removeEmptyAttrs=!0})),en(e.custom_elements),gr(e.valid_children),ht(e.extended_valid_elements),gr("+ol[ul|ol],+ul[ul|ol]"),Ru({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(Xt,fn){r[fn]&&(r[fn].parentsRequired=co(Xt))}),e.invalid_elements&&Ru(Nd(e.invalid_elements),function(Xt){r[Xt]&&delete r[Xt]}),In("span")||ht("span[!data-mce-type|*]");var Wt=Y(R),hr=Y(W),on=Y(ne),Mn=Y(Se),cn=Y(ft),yn=Y(Ne),Hn=Y(ot),Gt=Y(we),Ln=Y(ce),va=Y(De),ai=Y(Ve),ti=Y(ae),gl=Y(b),No=function(Xt,fn){var nr=s[Xt.toLowerCase()];return!!(nr&&nr[fn.toLowerCase()])},Zc=function(Xt,fn){var nr,mt,an=In(Xt);if(an)if(fn){if(an.attributes[fn])return!0;if(nr=an.attributePatterns,nr){for(mt=nr.length;mt--;)if(nr[mt].pattern.test(Xt))return!0}}else return!0;return!1},_f=Y(h);return{children:s,elements:r,getValidStyles:Wt,getValidClasses:on,getBlockElements:cn,getInvalidStyles:hr,getShortEndedElements:Gt,getTextBlockElements:yn,getTextInlineElements:Hn,getBoolAttrs:Mn,getElementRule:In,getSelfClosingElements:Ln,getNonEmptyElements:va,getMoveCaretBeforeOnEnterElements:ai,getWhiteSpaceElements:ti,getSpecialElements:gl,isValidChild:No,isValid:Zc,getCustomElements:_f,addValidElements:ht,setValidElements:Bt,addCustomElements:en,addValidChildren:gr}},Gp=function(e,r,s,f){var h=function(b){return b=parseInt(b,10).toString(16),b.length>1?b:"0"+b};return"#"+h(r)+h(s)+h(f)},Ff=function(e,r){var s=this,f=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,h=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,b=/\s*([^:]+):\s*([^;]+);?/g,E=/\s+$/,O,R={},W,ne,ae=Ev;e=e||{},r&&(W=r.getValidStyles(),ne=r.getInvalidStyles());var ce=(`\\" \\' \\; \\: ; : `+ae).split(" ");for(O=0;O<ce.length;O++)R[ce[O]]=ae+O,R[ae+O]=ce[O];return{toHex:function(we){return we.replace(f,Gp)},parse:function(we){var Se={},Ae,De,Ve,Ne,ft=e.url_converter,ot=e.url_converter_scope||s,je=function(on,Mn,cn){var yn=Se[on+"-top"+Mn];if(yn){var Hn=Se[on+"-right"+Mn];if(Hn){var Gt=Se[on+"-bottom"+Mn];if(Gt){var Ln=Se[on+"-left"+Mn];if(Ln){var va=[yn,Hn,Gt,Ln];for(O=va.length-1;O--&&va[O]===va[O+1];);O>-1&&cn||(Se[on+Mn]=O===-1?va[0]:va.join(" "),delete Se[on+"-top"+Mn],delete Se[on+"-right"+Mn],delete Se[on+"-bottom"+Mn],delete Se[on+"-left"+Mn])}}}}},ht=function(on){var Mn=Se[on],cn;if(Mn){for(Mn=Mn.split(" "),cn=Mn.length;cn--;)if(Mn[cn]!==Mn[0])return!1;return Se[on]=Mn[0],!0}},Bt=function(on,Mn,cn,yn){ht(Mn)&&ht(cn)&&ht(yn)&&(Se[on]=Se[Mn]+" "+Se[cn]+" "+Se[yn],delete Se[Mn],delete Se[cn],delete Se[yn])},en=function(on){return Ne=!0,R[on]},gr=function(on,Mn){return Ne&&(on=on.replace(/\uFEFF[0-9]/g,function(cn){return R[cn]})),Mn||(on=on.replace(/\\([\'\";:])/g,"$1")),on},In=function(on){return String.fromCharCode(parseInt(on.slice(1),16))},Wt=function(on){return on.replace(/\\[0-9a-f]+/gi,In)},hr=function(on,Mn,cn,yn,Hn,Gt){if(Hn=Hn||Gt,Hn)return Hn=gr(Hn),"'"+Hn.replace(/\'/g,"\\'")+"'";if(Mn=gr(Mn||cn||yn),!e.allow_script_urls){var Ln=Mn.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Ln)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(Ln))return""}return ft&&(Mn=ft.call(ot,Mn,"style")),"url('"+Mn.replace(/\'/g,"\\'")+"')"};if(we){for(we=we.replace(/[\u0000-\u001F]/g,""),we=we.replace(/\\[\"\';:\uFEFF]/g,en).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(on){return on.replace(/[;:]/g,en)});Ae=b.exec(we);)if(b.lastIndex=Ae.index+Ae[0].length,De=Ae[1].replace(E,"").toLowerCase(),Ve=Ae[2].replace(E,""),De&&Ve){if(De=Wt(De),Ve=Wt(Ve),De.indexOf(ae)!==-1||De.indexOf('"')!==-1||!e.allow_script_urls&&(De==="behavior"||/expression\s*\(|\/\*|\*\//.test(Ve)))continue;De==="font-weight"&&Ve==="700"?Ve="bold":(De==="color"||De==="background-color")&&(Ve=Ve.toLowerCase()),Ve=Ve.replace(f,Gp),Ve=Ve.replace(h,hr),Se[De]=Ne?gr(Ve,!0):Ve}je("border","",!0),je("border","-width"),je("border","-color"),je("border","-style"),je("padding",""),je("margin",""),Bt("border","border-width","border-style","border-color"),Se.border==="medium none"&&delete Se.border,Se["border-image"]==="none"&&delete Se["border-image"]}return Se},serialize:function(we,Se){var Ae="",De=function(Ne){var ft,ot=W[Ne];if(ot)for(var je=0,ht=ot.length;je<ht;je++)Ne=ot[je],ft=we[Ne],ft&&(Ae+=(Ae.length>0?" ":"")+Ne+": "+ft+";")},Ve=function(Ne,ft){var ot=ne["*"];return ot&&ot[Ne]?!1:(ot=ne[ft],!(ot&&ot[Ne]))};return Se&&W?(De("*"),De(Se)):ia(we,function(Ne,ft){Ne&&(!ne||Ve(ft,Se))&&(Ae+=(Ae.length>0?" ":"")+ft+": "+Ne+";")}),Ae}}},yy={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Qa=function(e){return e instanceof Event||K(e.initEvent)},bm=function(e){return e.isDefaultPrevented===Dt||e.isDefaultPrevented===dt},v1=function(e){return lt(e.preventDefault)||Qa(e)},Kp=function(e,r){var s=r??{};for(var f in e)Ur(yy,f)||(s[f]=e[f]);return at(s.composedPath)&&(s.composedPath=function(){return e.composedPath()}),s},Nt=function(e,r,s,f){var h,b=Kp(r,f);return b.type=e,lt(b.target)&&(b.target=(h=b.srcElement)!==null&&h!==void 0?h:s),v1(r)&&(b.preventDefault=function(){b.defaultPrevented=!0,b.isDefaultPrevented=Dt,K(r.preventDefault)?r.preventDefault():Qa(r)&&(r.returnValue=!1)},b.stopPropagation=function(){b.cancelBubble=!0,b.isPropagationStopped=Dt,K(r.stopPropagation)?r.stopPropagation():Qa(r)&&(r.cancelBubble=!0)},b.stopImmediatePropagation=function(){b.isImmediatePropagationStopped=Dt,b.stopPropagation()},bm(b)||(b.isDefaultPrevented=b.defaultPrevented===!0?Dt:dt,b.isPropagationStopped=b.cancelBubble===!0?Dt:dt,b.isImmediatePropagationStopped=dt)),b},Eg="mce-data-",h1=/^(?:mouse|contextmenu)|click/,sd=function(e,r,s,f){e.addEventListener?e.addEventListener(r,s,f||!1):e.attachEvent&&e.attachEvent("on"+r,s)},ym=function(e,r,s,f){e.removeEventListener?e.removeEventListener(r,s,f||!1):e.detachEvent&&e.detachEvent("on"+r,s)},$d=function(e){return at(e)&&h1.test(e.type)},vh=function(e,r){var s=Nt(e.type,e,document,r);if($d(e)&&Oe(e.pageX)&&!Oe(e.clientX)){var f=s.target.ownerDocument||document,h=f.documentElement,b=f.body,E=s;E.pageX=e.clientX+(h&&h.scrollLeft||b&&b.scrollLeft||0)-(h&&h.clientLeft||b&&b.clientLeft||0),E.pageY=e.clientY+(h&&h.scrollTop||b&&b.scrollTop||0)-(h&&h.clientTop||b&&b.clientTop||0)}return Oe(s.metaKey)&&(s.metaKey=!1),s},hh=function(e,r,s){var f=e.document,h={type:"ready"};if(s.domLoaded){r(h);return}var b=function(){return f.readyState==="complete"||f.readyState==="interactive"&&f.body},E=function(){ym(e,"DOMContentLoaded",E),ym(e,"load",E),s.domLoaded||(s.domLoaded=!0,r(h)),e=null};b()?E():sd(e,"DOMContentLoaded",E),s.domLoaded||sd(e,"load",E)},Bv=function(){function e(){this.domLoaded=!1,this.events={},this.count=1,this.expando=Eg+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return e.prototype.bind=function(r,s,f,h){var b=this,E,O,R,W,ne,ae,ce,we=window,Se=function(De){b.executeHandlers(vh(De||we.event),E)};if(!(!r||r.nodeType===3||r.nodeType===8)){r[b.expando]?E=r[b.expando]:(E=b.count++,r[b.expando]=E,b.events[E]={}),h=h||r;var Ae=s.split(" ");for(R=Ae.length;R--;){if(W=Ae[R],ae=Se,ne=ce=!1,W==="DOMContentLoaded"&&(W="ready"),b.domLoaded&&W==="ready"&&r.readyState==="complete"){f.call(h,vh({type:W}));continue}b.hasMouseEnterLeave||(ne=b.mouseEnterLeave[W],ne&&(ae=function(De){var Ve=De.currentTarget,Ne=De.relatedTarget;if(Ne&&Ve.contains)Ne=Ve.contains(Ne);else for(;Ne&&Ne!==Ve;)Ne=Ne.parentNode;Ne||(De=vh(De||we.event),De.type=De.type==="mouseout"?"mouseleave":"mouseenter",De.target=Ve,b.executeHandlers(De,E))})),!b.hasFocusIn&&(W==="focusin"||W==="focusout")&&(ce=!0,ne=W==="focusin"?"focus":"blur",ae=function(De){De=vh(De||we.event),De.type=De.type==="focus"?"focusin":"focusout",b.executeHandlers(De,E)}),O=b.events[E][W],O?W==="ready"&&b.domLoaded?f(vh({type:W})):O.push({func:f,scope:h}):(b.events[E][W]=O=[{func:f,scope:h}],O.fakeName=ne,O.capture=ce,O.nativeHandler=ae,W==="ready"?hh(r,ae,b):sd(r,ne||W,ae,ce))}return r=O=null,f}},e.prototype.unbind=function(r,s,f){var h,b,E,O,R;if(!r||r.nodeType===3||r.nodeType===8)return this;var W=r[this.expando];if(W){if(R=this.events[W],s){var ne=s.split(" ");for(b=ne.length;b--;)if(O=ne[b],h=R[O],h){if(f){for(E=h.length;E--;)if(h[E].func===f){var ae=h.nativeHandler,ce=h.fakeName,we=h.capture;h=h.slice(0,E).concat(h.slice(E+1)),h.nativeHandler=ae,h.fakeName=ce,h.capture=we,R[O]=h}}(!f||h.length===0)&&(delete R[O],ym(r,h.fakeName||O,h.nativeHandler,h.capture))}}else ia(R,function(Se,Ae){ym(r,Se.fakeName||Ae,Se.nativeHandler,Se.capture)}),R={};for(O in R)if(Ur(R,O))return this;delete this.events[W];try{delete r[this.expando]}catch{r[this.expando]=null}}return this},e.prototype.fire=function(r,s,f){var h;if(!r||r.nodeType===3||r.nodeType===8)return this;var b=vh({type:s,target:r},f);do h=r[this.expando],h&&this.executeHandlers(b,h),r=r.parentNode||r.ownerDocument||r.defaultView||r.parentWindow;while(r&&!b.isPropagationStopped());return this},e.prototype.clean=function(r){var s,f;if(!r||r.nodeType===3||r.nodeType===8)return this;if(r[this.expando]&&this.unbind(r),r.getElementsByTagName||(r=r.document),r&&r.getElementsByTagName)for(this.unbind(r),f=r.getElementsByTagName("*"),s=f.length;s--;)r=f[s],r[this.expando]&&this.unbind(r);return this},e.prototype.destroy=function(){this.events={}},e.prototype.cancel=function(r){return r&&(r.preventDefault(),r.stopImmediatePropagation()),!1},e.prototype.executeHandlers=function(r,s){var f=this.events[s],h=f&&f[r.type];if(h)for(var b=0,E=h.length;b<E;b++){var O=h[b];if(O&&O.func.call(O.scope,r)===!1&&r.preventDefault(),r.isImmediatePropagationStopped())return}},e.Event=new e,e}(),Bo,Br,Vc,_y,ys,m1,ud,Lv,zd,Uc,mh,ro,Pu,Nf,Hd,Fv,$f,qt,fs="sizzle"+-new Date,df=window.document,Gl=0,Xp=0,g1=wm(),Zp=wm(),_s=wm(),gh=function(e,r){return e===r&&(Uc=!0),0},kg="undefined",Tg=1<<31,bS={}.hasOwnProperty,_c=[],wy=_c.pop,_m=_c.push,ph=_c.push,ld=_c.slice,$s=_c.indexOf||function(e){for(var r=0,s=this.length;r<s;r++)if(this[r]===e)return r;return-1},p1="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",fo="[\\x20\\t\\r\\n\\f]",zs="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Iu="\\["+fo+"*("+zs+")(?:"+fo+"*([*^$|!~]?=)"+fo+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+zs+"))|)"+fo+"*\\]",Yw=":("+zs+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Iu+")*)|.*)\\)|)",bh=new RegExp("^"+fo+"+|((?:^|[^\\\\])(?:\\\\.)*)"+fo+"+$","g"),qw=new RegExp("^"+fo+"*,"+fo+"*"),xy=new RegExp("^"+fo+"*([>+~]|"+fo+")"+fo+"*"),zf=new RegExp("="+fo+`*([^\\]'"]*?)`+fo+"*\\]","g"),yS=new RegExp(Yw),Ag=new RegExp("^"+zs+"$"),b1={ID:new RegExp("^#("+zs+")"),CLASS:new RegExp("^\\.("+zs+")"),TAG:new RegExp("^("+zs+"|[*])"),ATTR:new RegExp("^"+Iu),PSEUDO:new RegExp("^"+Yw),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+fo+"*(even|odd|(([+-]|)(\\d*)n|)"+fo+"*(?:([+-]|)"+fo+"*(\\d+)|))"+fo+"*\\)|)","i"),bool:new RegExp("^(?:"+p1+")$","i"),needsContext:new RegExp("^"+fo+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+fo+"*((?:-\\d)?\\d*)"+fo+"*\\)|)(?=[^-]|$)","i")},Gw=/^(?:input|select|textarea|button)$/i,Cy=/^h\d$/i,Sy=/^[^{]+\{\s*\[native \w/,Jp=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,y1=/[+~]/,Qp=/'|\\/g,Vd=new RegExp("\\\\([\\da-f]{1,6}"+fo+"?|("+fo+")|.)","ig"),Nv=function(e,r,s){var f="0x"+r-65536;return f!==f||s?r:f<0?String.fromCharCode(f+65536):String.fromCharCode(f>>10|55296,f&1023|56320)};try{ph.apply(_c=ld.call(df.childNodes),df.childNodes),_c[df.childNodes.length].nodeType}catch{ph={apply:_c.length?function(r,s){_m.apply(r,ld.call(s))}:function(r,s){for(var f=r.length,h=0;r[f++]=s[h++];);r.length=f-1}}}var vi=function(e,r,s,f){var h,b,E,O,R,W,ne,ae,ce,we;if((r?r.ownerDocument||r:df)!==ro&&mh(r),r=r||ro,s=s||[],!e||typeof e!="string")return s;if((O=r.nodeType)!==1&&O!==9)return[];if(Nf&&!f){if(h=Jp.exec(e))if(E=h[1]){if(O===9)if(b=r.getElementById(E),b&&b.parentNode){if(b.id===E)return s.push(b),s}else return s;else if(r.ownerDocument&&(b=r.ownerDocument.getElementById(E))&&qt(r,b)&&b.id===E)return s.push(b),s}else{if(h[2])return ph.apply(s,r.getElementsByTagName(e)),s;if((E=h[3])&&Bo.getElementsByClassName)return ph.apply(s,r.getElementsByClassName(E)),s}if(Bo.qsa&&(!Hd||!Hd.test(e))){if(ae=ne=fs,ce=r,we=O===9&&e,O===1&&r.nodeName.toLowerCase()!=="object"){for(W=ys(e),(ne=r.getAttribute("id"))?ae=ne.replace(Qp,"\\$&"):r.setAttribute("id",ae),ae="[id='"+ae+"'] ",R=W.length;R--;)W[R]=ae+w1(W[R]);ce=y1.test(e)&&_1(r.parentNode)||r,we=W.join(",")}if(we)try{return ph.apply(s,ce.querySelectorAll(we)),s}catch{}finally{ne||r.removeAttribute("id")}}}return ud(e.replace(bh,"$1"),r,s,f)};function wm(){var e=[];function r(s,f){return e.push(s+" ")>Br.cacheLength&&delete r[e.shift()],r[s+" "]=f}return r}function Hf(e){return e[fs]=!0,e}function cd(e,r){var s=r&&e,f=s&&e.nodeType===1&&r.nodeType===1&&(~r.sourceIndex||Tg)-(~e.sourceIndex||Tg);if(f)return f;if(s){for(;s=s.nextSibling;)if(s===r)return-1}return e?1:-1}function Ml(e){return function(r){var s=r.nodeName.toLowerCase();return s==="input"&&r.type===e}}function Ud(e){return function(r){var s=r.nodeName.toLowerCase();return(s==="input"||s==="button")&&r.type===e}}function $v(e){return Hf(function(r){return r=+r,Hf(function(s,f){for(var h,b=e([],s.length,r),E=b.length;E--;)s[h=b[E]]&&(s[h]=!(f[h]=s[h]))})})}function _1(e){return e&&typeof e.getElementsByTagName!==kg&&e}Bo=vi.support={},_y=vi.isXML=function(e){var r=e&&(e.ownerDocument||e).documentElement;return r?r.nodeName!=="HTML":!1},mh=vi.setDocument=function(e){var r,s=e?e.ownerDocument||e:df,f=s.defaultView;function h(b){try{return b.top}catch{}return null}return s===ro||s.nodeType!==9||!s.documentElement?ro:(ro=s,Pu=s.documentElement,Nf=!_y(s),f&&f!==h(f)&&(f.addEventListener?f.addEventListener("unload",function(){mh()},!1):f.attachEvent&&f.attachEvent("onunload",function(){mh()})),Bo.attributes=!0,Bo.getElementsByTagName=!0,Bo.getElementsByClassName=Sy.test(s.getElementsByClassName),Bo.getById=!0,Br.find.ID=function(b,E){if(typeof E.getElementById!==kg&&Nf){var O=E.getElementById(b);return O&&O.parentNode?[O]:[]}},Br.filter.ID=function(b){var E=b.replace(Vd,Nv);return function(O){return O.getAttribute("id")===E}},Br.find.TAG=Bo.getElementsByTagName?function(b,E){if(typeof E.getElementsByTagName!==kg)return E.getElementsByTagName(b)}:function(b,E){var O,R=[],W=0,ne=E.getElementsByTagName(b);if(b==="*"){for(;O=ne[W++];)O.nodeType===1&&R.push(O);return R}return ne},Br.find.CLASS=Bo.getElementsByClassName&&function(b,E){if(Nf)return E.getElementsByClassName(b)},Fv=[],Hd=[],Bo.disconnectedMatch=!0,Hd=Hd.length&&new RegExp(Hd.join("|")),Fv=Fv.length&&new RegExp(Fv.join("|")),r=Sy.test(Pu.compareDocumentPosition),qt=r||Sy.test(Pu.contains)?function(b,E){var O=b.nodeType===9?b.documentElement:b,R=E&&E.parentNode;return b===R||!!(R&&R.nodeType===1&&(O.contains?O.contains(R):b.compareDocumentPosition&&b.compareDocumentPosition(R)&16))}:function(b,E){if(E){for(;E=E.parentNode;)if(E===b)return!0}return!1},gh=r?function(b,E){if(b===E)return Uc=!0,0;var O=!b.compareDocumentPosition-!E.compareDocumentPosition;return O||(O=(b.ownerDocument||b)===(E.ownerDocument||E)?b.compareDocumentPosition(E):1,O&1||!Bo.sortDetached&&E.compareDocumentPosition(b)===O?b===s||b.ownerDocument===df&&qt(df,b)?-1:E===s||E.ownerDocument===df&&qt(df,E)?1:zd?$s.call(zd,b)-$s.call(zd,E):0:O&4?-1:1)}:function(b,E){if(b===E)return Uc=!0,0;var O,R=0,W=b.parentNode,ne=E.parentNode,ae=[b],ce=[E];if(!W||!ne)return b===s?-1:E===s?1:W?-1:ne?1:zd?$s.call(zd,b)-$s.call(zd,E):0;if(W===ne)return cd(b,E);for(O=b;O=O.parentNode;)ae.unshift(O);for(O=E;O=O.parentNode;)ce.unshift(O);for(;ae[R]===ce[R];)R++;return R?cd(ae[R],ce[R]):ae[R]===df?-1:ce[R]===df?1:0},s)},vi.matches=function(e,r){return vi(e,null,null,r)},vi.matchesSelector=function(e,r){if((e.ownerDocument||e)!==ro&&mh(e),r=r.replace(zf,"='$1']"),Bo.matchesSelector&&Nf&&(!Fv||!Fv.test(r))&&(!Hd||!Hd.test(r)))try{var s=$f.call(e,r);if(s||Bo.disconnectedMatch||e.document&&e.document.nodeType!==11)return s}catch{}return vi(r,ro,null,[e]).length>0},vi.contains=function(e,r){return(e.ownerDocument||e)!==ro&&mh(e),qt(e,r)},vi.attr=function(e,r){(e.ownerDocument||e)!==ro&&mh(e);var s=Br.attrHandle[r.toLowerCase()],f=s&&bS.call(Br.attrHandle,r.toLowerCase())?s(e,r,!Nf):void 0;return f!==void 0?f:Bo.attributes||!Nf?e.getAttribute(r):(f=e.getAttributeNode(r))&&f.specified?f.value:null},vi.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},vi.uniqueSort=function(e){var r,s=[],f=0,h=0;if(Uc=!Bo.detectDuplicates,zd=!Bo.sortStable&&e.slice(0),e.sort(gh),Uc){for(;r=e[h++];)r===e[h]&&(f=s.push(h));for(;f--;)e.splice(s[f],1)}return zd=null,e},Vc=vi.getText=function(e){var r,s="",f=0,h=e.nodeType;if(h){if(h===1||h===9||h===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)s+=Vc(e)}else if(h===3||h===4)return e.nodeValue}else for(;r=e[f++];)s+=Vc(r);return s},Br=vi.selectors={cacheLength:50,createPseudo:Hf,match:b1,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Vd,Nv),e[3]=(e[3]||e[4]||e[5]||"").replace(Vd,Nv),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||vi.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&vi.error(e[0]),e},PSEUDO:function(e){var r,s=!e[6]&&e[2];return b1.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":s&&yS.test(s)&&(r=ys(s,!0))&&(r=s.indexOf(")",s.length-r)-s.length)&&(e[0]=e[0].slice(0,r),e[2]=s.slice(0,r)),e.slice(0,3))}},filter:{TAG:function(e){var r=e.replace(Vd,Nv).toLowerCase();return e==="*"?function(){return!0}:function(s){return s.nodeName&&s.nodeName.toLowerCase()===r}},CLASS:function(e){var r=g1[e+" "];return r||(r=new RegExp("(^|"+fo+")"+e+"("+fo+"|$)"))&&g1(e,function(s){return r.test(typeof s.className=="string"&&s.className||typeof s.getAttribute!==kg&&s.getAttribute("class")||"")})},ATTR:function(e,r,s){return function(f){var h=vi.attr(f,e);return h==null?r==="!=":r?(h+="",r==="="?h===s:r==="!="?h!==s:r==="^="?s&&h.indexOf(s)===0:r==="*="?s&&h.indexOf(s)>-1:r==="$="?s&&h.slice(-s.length)===s:r==="~="?(" "+h+" ").indexOf(s)>-1:r==="|="?h===s||h.slice(0,s.length+1)===s+"-":!1):!0}},CHILD:function(e,r,s,f,h){var b=e.slice(0,3)!=="nth",E=e.slice(-4)!=="last",O=r==="of-type";return f===1&&h===0?function(R){return!!R.parentNode}:function(R,W,ne){var ae,ce,we,Se,Ae,De,Ve=b!==E?"nextSibling":"previousSibling",Ne=R.parentNode,ft=O&&R.nodeName.toLowerCase(),ot=!ne&&!O;if(Ne){if(b){for(;Ve;){for(we=R;we=we[Ve];)if(O?we.nodeName.toLowerCase()===ft:we.nodeType===1)return!1;De=Ve=e==="only"&&!De&&"nextSibling"}return!0}if(De=[E?Ne.firstChild:Ne.lastChild],E&&ot){for(ce=Ne[fs]||(Ne[fs]={}),ae=ce[e]||[],Ae=ae[0]===Gl&&ae[1],Se=ae[0]===Gl&&ae[2],we=Ae&&Ne.childNodes[Ae];we=++Ae&&we&&we[Ve]||(Se=Ae=0)||De.pop();)if(we.nodeType===1&&++Se&&we===R){ce[e]=[Gl,Ae,Se];break}}else if(ot&&(ae=(R[fs]||(R[fs]={}))[e])&&ae[0]===Gl)Se=ae[1];else for(;(we=++Ae&&we&&we[Ve]||(Se=Ae=0)||De.pop())&&!((O?we.nodeName.toLowerCase()===ft:we.nodeType===1)&&++Se&&(ot&&((we[fs]||(we[fs]={}))[e]=[Gl,Se]),we===R)););return Se-=h,Se===f||Se%f===0&&Se/f>=0}}},PSEUDO:function(e,r){var s,f=Br.pseudos[e]||Br.setFilters[e.toLowerCase()]||vi.error("unsupported pseudo: "+e);return f[fs]?f(r):f.length>1?(s=[e,e,"",r],Br.setFilters.hasOwnProperty(e.toLowerCase())?Hf(function(h,b){for(var E,O=f(h,r),R=O.length;R--;)E=$s.call(h,O[R]),h[E]=!(b[E]=O[R])}):function(h){return f(h,0,s)}):f}},pseudos:{not:Hf(function(e){var r=[],s=[],f=m1(e.replace(bh,"$1"));return f[fs]?Hf(function(h,b,E,O){for(var R,W=f(h,null,O,[]),ne=h.length;ne--;)(R=W[ne])&&(h[ne]=!(b[ne]=R))}):function(h,b,E){return r[0]=h,f(r,null,E,s),r[0]=null,!s.pop()}}),has:Hf(function(e){return function(r){return vi(e,r).length>0}}),contains:Hf(function(e){return e=e.replace(Vd,Nv),function(r){return(r.textContent||r.innerText||Vc(r)).indexOf(e)>-1}}),lang:Hf(function(e){return Ag.test(e||"")||vi.error("unsupported lang: "+e),e=e.replace(Vd,Nv).toLowerCase(),function(r){var s;do if(s=Nf?r.lang:r.getAttribute("xml:lang")||r.getAttribute("lang"))return s=s.toLowerCase(),s===e||s.indexOf(e+"-")===0;while((r=r.parentNode)&&r.nodeType===1);return!1}}),target:function(e){var r=window.location&&window.location.hash;return r&&r.slice(1)===e.id},root:function(e){return e===Pu},focus:function(e){return e===ro.activeElement&&(!ro.hasFocus||ro.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var r=e.nodeName.toLowerCase();return r==="input"&&!!e.checked||r==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!Br.pseudos.empty(e)},header:function(e){return Cy.test(e.nodeName)},input:function(e){return Gw.test(e.nodeName)},button:function(e){var r=e.nodeName.toLowerCase();return r==="input"&&e.type==="button"||r==="button"},text:function(e){var r;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((r=e.getAttribute("type"))==null||r.toLowerCase()==="text")},first:$v(function(){return[0]}),last:$v(function(e,r){return[r-1]}),eq:$v(function(e,r,s){return[s<0?s+r:s]}),even:$v(function(e,r){for(var s=0;s<r;s+=2)e.push(s);return e}),odd:$v(function(e,r){for(var s=1;s<r;s+=2)e.push(s);return e}),lt:$v(function(e,r,s){for(var f=s<0?s+r:s;--f>=0;)e.push(f);return e}),gt:$v(function(e,r,s){for(var f=s<0?s+r:s;++f<r;)e.push(f);return e})}},Br.pseudos.nth=Br.pseudos.eq,vt(["radio","checkbox","file","password","image"],function(e){Br.pseudos[e]=Ml(e)}),vt(["submit","reset"],function(e){Br.pseudos[e]=Ud(e)});function e0(){}e0.prototype=Br.filters=Br.pseudos,Br.setFilters=new e0,ys=vi.tokenize=function(e,r){var s,f,h,b,E,O,R,W=Zp[e+" "];if(W)return r?0:W.slice(0);for(E=e,O=[],R=Br.preFilter;E;){(!s||(f=qw.exec(E)))&&(f&&(E=E.slice(f[0].length)||E),O.push(h=[])),s=!1,(f=xy.exec(E))&&(s=f.shift(),h.push({value:s,type:f[0].replace(bh," ")}),E=E.slice(s.length));for(b in Br.filter)Br.filter.hasOwnProperty(b)&&(f=b1[b].exec(E))&&(!R[b]||(f=R[b](f)))&&(s=f.shift(),h.push({value:s,type:b,matches:f}),E=E.slice(s.length));if(!s)break}return r?E.length:E?vi.error(e):Zp(e,O).slice(0)};function w1(e){for(var r=0,s=e.length,f="";r<s;r++)f+=e[r].value;return f}function x1(e,r,s){var f=r.dir,h=s&&f==="parentNode",b=Xp++;return r.first?function(E,O,R){for(;E=E[f];)if(E.nodeType===1||h)return e(E,O,R)}:function(E,O,R){var W,ne,ae=[Gl,b];if(R){for(;E=E[f];)if((E.nodeType===1||h)&&e(E,O,R))return!0}else for(;E=E[f];)if(E.nodeType===1||h){if(ne=E[fs]||(E[fs]={}),(W=ne[f])&&W[0]===Gl&&W[1]===b)return ae[2]=W[2];if(ne[f]=ae,ae[2]=e(E,O,R))return!0}}}function xm(e){return e.length>1?function(r,s,f){for(var h=e.length;h--;)if(!e[h](r,s,f))return!1;return!0}:e[0]}function _S(e,r,s){for(var f=0,h=r.length;f<h;f++)vi(e,r[f],s);return s}function C1(e,r,s,f,h){for(var b,E=[],O=0,R=e.length,W=r!=null;O<R;O++)(b=e[O])&&(!s||s(b,f,h))&&(E.push(b),W&&r.push(O));return E}function Og(e,r,s,f,h,b){return f&&!f[fs]&&(f=Og(f)),h&&!h[fs]&&(h=Og(h,b)),Hf(function(E,O,R,W){var ne,ae,ce,we=[],Se=[],Ae=O.length,De=E||_S(r||"*",R.nodeType?[R]:R,[]),Ve=e&&(E||!r)?C1(De,we,e,R,W):De,Ne=s?h||(E?e:Ae||f)?[]:O:Ve;if(s&&s(Ve,Ne,R,W),f)for(ne=C1(Ne,Se),f(ne,[],R,W),ae=ne.length;ae--;)(ce=ne[ae])&&(Ne[Se[ae]]=!(Ve[Se[ae]]=ce));if(E){if(h||e){if(h){for(ne=[],ae=Ne.length;ae--;)(ce=Ne[ae])&&ne.push(Ve[ae]=ce);h(null,Ne=[],ne,W)}for(ae=Ne.length;ae--;)(ce=Ne[ae])&&(ne=h?$s.call(E,ce):we[ae])>-1&&(E[ne]=!(O[ne]=ce))}}else Ne=C1(Ne===O?Ne.splice(Ae,Ne.length):Ne),h?h(null,O,Ne,W):ph.apply(O,Ne)})}function t0(e){for(var r,s,f,h=e.length,b=Br.relative[e[0].type],E=b||Br.relative[" "],O=b?1:0,R=x1(function(ae){return ae===r},E,!0),W=x1(function(ae){return $s.call(r,ae)>-1},E,!0),ne=[function(ae,ce,we){var Se=!b&&(we||ce!==Lv)||((r=ce).nodeType?R(ae,ce,we):W(ae,ce,we));return r=null,Se}];O<h;O++)if(s=Br.relative[e[O].type])ne=[x1(xm(ne),s)];else{if(s=Br.filter[e[O].type].apply(null,e[O].matches),s[fs]){for(f=++O;f<h&&!Br.relative[e[f].type];f++);return Og(O>1&&xm(ne),O>1&&w1(e.slice(0,O-1).concat({value:e[O-2].type===" "?"*":""})).replace(bh,"$1"),s,O<f&&t0(e.slice(O,f)),f<h&&t0(e=e.slice(f)),f<h&&w1(e))}ne.push(s)}return xm(ne)}function n0(e,r){var s=r.length>0,f=e.length>0,h=function(b,E,O,R,W){var ne,ae,ce,we=0,Se="0",Ae=b&&[],De=[],Ve=Lv,Ne=b||f&&Br.find.TAG("*",W),ft=Gl+=Ve==null?1:Math.random()||.1,ot=Ne.length;for(W&&(Lv=E!==ro&&E);Se!==ot&&(ne=Ne[Se])!=null;Se++){if(f&&ne){for(ae=0;ce=e[ae++];)if(ce(ne,E,O)){R.push(ne);break}W&&(Gl=ft)}s&&((ne=!ce&&ne)&&we--,b&&Ae.push(ne))}if(we+=Se,s&&Se!==we){for(ae=0;ce=r[ae++];)ce(Ae,De,E,O);if(b){if(we>0)for(;Se--;)Ae[Se]||De[Se]||(De[Se]=wy.call(R));De=C1(De)}ph.apply(R,De),W&&!b&&De.length>0&&we+r.length>1&&vi.uniqueSort(R)}return W&&(Gl=ft,Lv=Ve),Ae};return s?Hf(h):h}m1=vi.compile=function(e,r){var s,f=[],h=[],b=_s[e+" "];if(!b){for(r||(r=ys(e)),s=r.length;s--;)b=t0(r[s]),b[fs]?f.push(b):h.push(b);b=_s(e,n0(h,f)),b.selector=e}return b},ud=vi.select=function(e,r,s,f){var h,b,E,O,R,W=typeof e=="function"&&e,ne=!f&&ys(e=W.selector||e);if(s=s||[],ne.length===1){if(b=ne[0]=ne[0].slice(0),b.length>2&&(E=b[0]).type==="ID"&&Bo.getById&&r.nodeType===9&&Nf&&Br.relative[b[1].type]){if(r=(Br.find.ID(E.matches[0].replace(Vd,Nv),r)||[])[0],r)W&&(r=r.parentNode);else return s;e=e.slice(b.shift().value.length)}for(h=b1.needsContext.test(e)?0:b.length;h--&&(E=b[h],!Br.relative[O=E.type]);)if((R=Br.find[O])&&(f=R(E.matches[0].replace(Vd,Nv),y1.test(b[0].type)&&_1(r.parentNode)||r))){if(b.splice(h,1),e=f.length&&w1(b),!e)return ph.apply(s,f),s;break}}return(W||m1(e,ne))(f,r,!Nf,s,y1.test(e)&&_1(r.parentNode)||r),s},Bo.sortStable=fs.split("").sort(gh).join("")===fs,Bo.detectDuplicates=!!Uc,mh(),Bo.sortDetached=!0;var Ey=document,ds=Array.prototype.push,yh=Array.prototype.slice,Xo=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Rl=Bv.Event,Cm=Tt.makeMap("children,contents,next,prev"),Wc=function(e){return typeof e<"u"},r0=function(e){return typeof e=="string"},Wd=function(e){return e&&e===e.window},Dg=function(e,r){r=r||Ey;var s=r.createElement("div"),f=r.createDocumentFragment();s.innerHTML=e;for(var h;h=s.firstChild;)f.appendChild(h);return f},Mg=function(e,r,s,f){var h;if(r0(r))r=Dg(r,_h(e[0]));else if(r.length&&!r.nodeType){if(r=Yr.makeArray(r),f)for(h=r.length-1;h>=0;h--)Mg(e,r[h],s,f);else for(h=0;h<r.length;h++)Mg(e,r[h],s,f);return e}if(r.nodeType)for(h=e.length;h--;)s.call(e[h],r);return e},Kw=function(e,r){return e&&r&&(" "+e.className+" ").indexOf(" "+r+" ")!==-1},Xw=function(e,r,s){var f,h;return r=Yr(r)[0],e.each(function(){var b=this;(!s||f!==b.parentNode)&&(f=b.parentNode,h=r.cloneNode(!1),b.parentNode.insertBefore(h,b)),h.appendChild(b)}),e},wS=Tt.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),Vf=Tt.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),xS={for:"htmlFor",class:"className",readonly:"readOnly"},Zw={float:"cssFloat"},S1={},a0={},pu=function(e,r){return new Yr.fn.init(e,r)},E1=function(e,r){var s;if(r.indexOf)return r.indexOf(e);for(s=r.length;s--;)if(r[s]===e)return s;return-1},ky=/^\s*|\s*$/g,vf=function(e){return e==null?"":(""+e).replace(ky,"")},$i=function(e,r){var s,f,h,b;if(e)if(s=e.length,s===void 0){for(f in e)if(e.hasOwnProperty(f)&&(b=e[f],r.call(b,f,b)===!1))break}else for(h=0;h<s&&(b=e[h],r.call(b,h,b)!==!1);h++);return e},jc=function(e,r){var s=[];return $i(e,function(f,h){r(h,f)&&s.push(h)}),s},_h=function(e){return e?e.nodeType===9?e:e.ownerDocument:Ey};pu.fn=pu.prototype={constructor:pu,selector:"",context:null,length:0,init:function(e,r){var s=this,f,h;if(!e)return s;if(e.nodeType)return s.context=s[0]=e,s.length=1,s;if(r&&r.nodeType)s.context=r;else{if(r)return Yr(e).attr(r);s.context=r=document}if(r0(e))if(s.selector=e,e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?f=[null,e,null]:f=Xo.exec(e),f)if(f[1])for(h=Dg(e,_h(r)).firstChild;h;)ds.call(s,h),h=h.nextSibling;else{if(h=_h(r).getElementById(f[2]),!h)return s;if(h.id!==f[2])return s.find(e);s.length=1,s[0]=h}else return Yr(r).find(e);else this.add(e,!1);return s},toArray:function(){return Tt.toArray(this)},add:function(e,r){var s=this,f,h;if(r0(e))return s.add(Yr(e));if(r!==!1)for(f=Yr.unique(s.toArray().concat(Yr.makeArray(e))),s.length=f.length,h=0;h<f.length;h++)s[h]=f[h];else ds.apply(s,Yr.makeArray(e));return s},attr:function(e,r){var s=this,f;if(typeof e=="object")$i(e,function(h,b){s.attr(h,b)});else if(Wc(r))this.each(function(){var h;if(this.nodeType===1){if(h=S1[e],h&&h.set){h.set(this,r);return}r===null?this.removeAttribute(e,2):this.setAttribute(e,r,2)}});else{if(s[0]&&s[0].nodeType===1){if(f=S1[e],f&&f.get)return f.get(s[0],e);if(Vf[e])return s.prop(e)?e:void 0;r=s[0].getAttribute(e,2),r===null&&(r=void 0)}return r}return s},removeAttr:function(e){return this.attr(e,null)},prop:function(e,r){var s=this;if(e=xS[e]||e,typeof e=="object")$i(e,function(f,h){s.prop(f,h)});else if(Wc(r))this.each(function(){this.nodeType===1&&(this[e]=r)});else return s[0]&&s[0].nodeType&&e in s[0]?s[0][e]:r;return s},css:function(e,r){var s=this,f,h,b=function(O){return O.replace(/-(\D)/g,function(R,W){return W.toUpperCase()})},E=function(O){return O.replace(/[A-Z]/g,function(R){return"-"+R})};if(typeof e=="object")$i(e,function(O,R){s.css(O,R)});else if(Wc(r))e=b(e),typeof r=="number"&&!wS[e]&&(r=r.toString()+"px"),s.each(function(){var O=this.style;if(h=a0[e],h&&h.set){h.set(this,r);return}try{this.style[Zw[e]||e]=r}catch{}(r===null||r==="")&&(O.removeProperty?O.removeProperty(E(e)):O.removeAttribute(e))});else{if(f=s[0],h=a0[e],h&&h.get)return h.get(f);if(f.ownerDocument.defaultView)try{return f.ownerDocument.defaultView.getComputedStyle(f,null).getPropertyValue(E(e))}catch{return}else return f.currentStyle?f.currentStyle[b(e)]:""}return s},remove:function(){for(var e=this,r,s=this.length;s--;)r=e[s],Rl.clean(r),r.parentNode&&r.parentNode.removeChild(r);return this},empty:function(){for(var e=this,r,s=this.length;s--;)for(r=e[s];r.firstChild;)r.removeChild(r.firstChild);return this},html:function(e){var r=this,s;if(Wc(e)){s=r.length;try{for(;s--;)r[s].innerHTML=e}catch{Yr(r[s]).empty().append(e)}return r}return r[0]?r[0].innerHTML:""},text:function(e){var r=this,s;if(Wc(e)){for(s=r.length;s--;)"innerText"in r[s]?r[s].innerText=e:r[0].textContent=e;return r}return r[0]?r[0].innerText||r[0].textContent:""},append:function(){return Mg(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.appendChild(e)})},prepend:function(){return Mg(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?Mg(e,arguments,function(r){this.parentNode.insertBefore(r,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?Mg(e,arguments,function(r){this.parentNode.insertBefore(r,this.nextSibling)},!0):e},appendTo:function(e){return Yr(e).append(this),this},prependTo:function(e){return Yr(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return Xw(this,e)},wrapAll:function(e){return Xw(this,e,!0)},wrapInner:function(e){return this.each(function(){Yr(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){Yr(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),Yr(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,r){var s=this;return typeof e!="string"||(e.indexOf(" ")!==-1?$i(e.split(" "),function(){s.toggleClass(this,r)}):s.each(function(f,h){var b=Kw(h,e);if(b!==r){var E=h.className;b?h.className=vf((" "+E+" ").replace(" "+e+" "," ")):h.className+=E?" "+e:e}})),s},hasClass:function(e){return Kw(this[0],e)},each:function(e){return $i(this,e)},on:function(e,r){return this.each(function(){Rl.bind(this,e,r)})},off:function(e,r){return this.each(function(){Rl.unbind(this,e,r)})},trigger:function(e){return this.each(function(){typeof e=="object"?Rl.fire(this,e.type,e):Rl.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return Yr(yh.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var r,s,f=[];for(r=0,s=this.length;r<s;r++)Yr.find(e,this[r],f);return Yr(f)},filter:function(e){return Yr(typeof e=="function"?jc(this.toArray(),function(r,s){return e(s,r)}):Yr.filter(e,this.toArray()))},closest:function(e){var r=[];return e instanceof Yr&&(e=e[0]),this.each(function(s,f){for(;f;){if(typeof e=="string"&&Yr(f).is(e)){r.push(f);break}else if(f===e){r.push(f);break}f=f.parentNode}}),Yr(r)},offset:function(e){var r,s,f,h=0,b=0,E;return e?this.css(e):(r=this[0],r&&(s=r.ownerDocument,f=s.documentElement,r.getBoundingClientRect&&(E=r.getBoundingClientRect(),h=E.left+(f.scrollLeft||s.body.scrollLeft)-f.clientLeft,b=E.top+(f.scrollTop||s.body.scrollTop)-f.clientTop)),{left:h,top:b})},push:ds,sort:Array.prototype.sort,splice:Array.prototype.splice},Tt.extend(pu,{extend:Tt.extend,makeArray:function(e){return Wd(e)||e.nodeType?[e]:Tt.toArray(e)},inArray:E1,isArray:Tt.isArray,each:$i,trim:vf,grep:jc,find:vi,expr:vi.selectors,unique:vi.uniqueSort,text:vi.getText,contains:vi.contains,filter:function(e,r,s){var f=r.length;for(s&&(e=":not("+e+")");f--;)r[f].nodeType!==1&&r.splice(f,1);return r.length===1?r=Yr.find.matchesSelector(r[0],e)?[r[0]]:[]:r=Yr.find.matches(e,r),r}});var Ty=function(e,r,s){var f=[],h=e[r];for(typeof s!="string"&&s instanceof Yr&&(s=s[0]);h&&h.nodeType!==9&&!(s!==void 0&&(h===s||typeof s=="string"&&Yr(h).is(s)));)h.nodeType===1&&f.push(h),h=h[r];return f},k1=function(e,r,s,f){var h=[];for(f instanceof Yr&&(f=f[0]);e;e=e[r])if(!(s&&e.nodeType!==s)){if(f!==void 0&&(e===f||typeof f=="string"&&Yr(e).is(f)))break;h.push(e)}return h},Jw=function(e,r,s){for(e=e[r];e;e=e[r])if(e.nodeType===s)return e;return null};$i({parent:function(e){var r=e.parentNode;return r&&r.nodeType!==11?r:null},parents:function(e){return Ty(e,"parentNode")},next:function(e){return Jw(e,"nextSibling",1)},prev:function(e){return Jw(e,"previousSibling",1)},children:function(e){return k1(e.firstChild,"nextSibling",1)},contents:function(e){return Tt.toArray((e.nodeName==="iframe"?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,r){pu.fn[e]=function(s){var f=this,h=[];f.each(function(){var E=r.call(h,this,s,h);E&&(Yr.isArray(E)?h.push.apply(h,E):h.push(E))}),this.length>1&&(Cm[e]||(h=Yr.unique(h)),e.indexOf("parents")===0&&(h=h.reverse()));var b=Yr(h);return s?b.filter(s):b}}),$i({parentsUntil:function(e,r){return Ty(e,"parentNode",r)},nextUntil:function(e,r){return k1(e,"nextSibling",1,r).slice(1)},prevUntil:function(e,r){return k1(e,"previousSibling",1,r).slice(1)}},function(e,r){pu.fn[e]=function(s,f){var h=this,b=[];h.each(function(){var O=r.call(b,this,s,b);O&&(Yr.isArray(O)?b.push.apply(b,O):b.push(O))}),this.length>1&&(b=Yr.unique(b),(e.indexOf("parents")===0||e==="prevUntil")&&(b=b.reverse()));var E=Yr(b);return f?E.filter(f):E}}),pu.fn.is=function(e){return!!e&&this.filter(e).length>0},pu.fn.init.prototype=pu.fn,pu.overrideDefaults=function(e){var r,s=function(f,h){return r=r||e(),arguments.length===0&&(f=r.element),h||(h=r.context),new s.fn.init(f,h)};return Yr.extend(s,this),s},pu.attrHooks=S1,pu.cssHooks=a0;var Yr=pu,Rg=Tt.each,T1=Tt.grep,Ay=rr.ie,ws=/^([a-z0-9],?)+$/i,hf=function(e,r,s){var f=r.keep_values,h={set:function(E,O,R){r.url_converter&&O!==null&&(O=r.url_converter.call(r.url_converter_scope||s(),O,R,E[0])),E.attr("data-mce-"+R,O).attr(R,O)},get:function(E,O){return E.attr("data-mce-"+O)||E.attr(O)}},b={style:{set:function(E,O){if(O!==null&&typeof O=="object"){E.css(O);return}f&&E.attr("data-mce-style",O),O!==null&&typeof O=="string"?(E.removeAttr("style"),E.css(e.parse(O))):E.attr("style",O)},get:function(E){var O=E.attr("data-mce-style")||E.attr("style");return O=e.serialize(e.parse(O),E[0].nodeName),O}}};return f&&(b.href=b.src=h),b},Qw=function(e,r){var s=r.attr("style"),f=e.serialize(e.parse(s),r[0].nodeName);f||(f=null),r.attr("data-mce-style",f)},Sm=function(e,r){var s=0,f,h;if(e)for(f=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)h=e.nodeType,!(r&&h===3&&(h===f||!e.nodeValue.length))&&(s++,f=h);return s},Wi=function(e,r){r===void 0&&(r={});var s={},f=window,h={},b=0,E=!0,O=!0,R=Rf.forElement(Z.fromDom(e),{contentCssCors:r.contentCssCors,referrerPolicy:r.referrerPolicy}),W=[],ne=r.schema?r.schema:yc({}),ae=Ff({url_converter:r.url_converter,url_converter_scope:r.url_converter_scope},r.schema),ce=r.ownEvents?new Bv:Bv.Event,we=ne.getBlockElements(),Se=Yr.overrideDefaults(function(){return{context:e,element:V0.getRoot()}}),Ae=function(Ze){if(typeof Ze=="string")return!!we[Ze];if(Ze){var _t=Ze.nodeType;if(_t)return!!(_t===1&&we[Ze.nodeName])}return!1},De=function(Ze){return Ze&&e&&Te(Ze)?e.getElementById(Ze):Ze},Ve=function(Ze){return Se(typeof Ze=="string"?De(Ze):Ze)},Ne=function(Ze,_t,un){var Cn,na,Ya=Ve(Ze);return Ya.length&&(Cn=r3[_t],Cn&&Cn.get?na=Cn.get(Ya,_t):na=Ya.attr(_t)),typeof na>"u"&&(na=un||""),na},ft=function(Ze){var _t=De(Ze);return _t?_t.attributes:[]},ot=function(Ze,_t,un){un===""&&(un=null);var Cn=Ve(Ze),na=Cn.attr(_t);if(Cn.length){var Ya=r3[_t];Ya&&Ya.set?Ya.set(Cn,un,_t):Cn.attr(_t,un),na!==un&&r.onSetAttrib&&r.onSetAttrib({attrElm:Cn,attrName:_t,attrValue:un})}},je=function(Ze,_t){if(!Ay||Ze.nodeType!==1||_t)return Ze.cloneNode(_t);var un=e.createElement(Ze.nodeName);return Rg(ft(Ze),function(Cn){ot(un,Cn.nodeName,Ne(Ze,Cn.nodeName))}),un},ht=function(){return r.root_element||e.body},Bt=function(Ze){var _t=yv(Ze);return{x:_t.x,y:_t.y,w:_t.width,h:_t.height}},en=function(Ze,_t){return Cv(e.body,De(Ze),_t)},gr=function(Ze,_t,un){var Cn=Te(_t)?Ve(Ze).css(_t,un):Ve(Ze).css(_t);r.update_styles&&Qw(ae,Cn)},In=function(Ze,_t){var un=Ve(Ze).css(_t);r.update_styles&&Qw(ae,un)},Wt=function(Ze,_t,un){var Cn=Ve(Ze);return un?Cn.css(_t):(_t=_t.replace(/-(\D)/g,function(na,Ya){return Ya.toUpperCase()}),_t==="float"&&(_t=rr.browser.isIE()?"styleFloat":"cssFloat"),Cn[0]&&Cn[0].style?Cn[0].style[_t]:void 0)},hr=function(Ze){var _t,un;return Ze=De(Ze),_t=Wt(Ze,"width"),un=Wt(Ze,"height"),_t.indexOf("px")===-1&&(_t=0),un.indexOf("px")===-1&&(un=0),{w:parseInt(_t,10)||Ze.offsetWidth||Ze.clientWidth,h:parseInt(un,10)||Ze.offsetHeight||Ze.clientHeight}},on=function(Ze){Ze=De(Ze);var _t=en(Ze),un=hr(Ze);return{x:_t.x,y:_t.y,w:un.w,h:un.h}},Mn=function(Ze,_t){var un;if(!Ze)return!1;if(!Array.isArray(Ze)){if(_t==="*")return Ze.nodeType===1;if(ws.test(_t)){var Cn=_t.toLowerCase().split(/,/),na=Ze.nodeName.toLowerCase();for(un=Cn.length-1;un>=0;un--)if(Cn[un]===na)return!0;return!1}if(Ze.nodeType&&Ze.nodeType!==1)return!1}var Ya=Array.isArray(Ze)?Ze:[Ze];return vi(_t,Ya[0].ownerDocument||Ya[0],null,Ya).length>0},cn=function(Ze,_t,un,Cn){var na=[],Ya,To=De(Ze);for(Cn=Cn===void 0,un=un||(ht().nodeName!=="BODY"?ht().parentNode:null),Tt.is(_t,"string")&&(Ya=_t,_t==="*"?_t=function(Vb){return Vb.nodeType===1}:_t=function(Vb){return Mn(Vb,Ya)});To&&!(To===un||lt(To.nodeType)||_v(To)||Mr(To));){if(!_t||typeof _t=="function"&&_t(To))if(Cn)na.push(To);else return[To];To=To.parentNode}return Cn?na:null},yn=function(Ze,_t,un){var Cn=cn(Ze,_t,un,!1);return Cn&&Cn.length>0?Cn[0]:null},Hn=function(Ze,_t,un){var Cn=_t;if(Ze){for(typeof _t=="string"&&(Cn=function(na){return Mn(na,_t)}),Ze=Ze[un];Ze;Ze=Ze[un])if(typeof Cn=="function"&&Cn(Ze))return Ze}return null},Gt=function(Ze,_t){return Hn(Ze,_t,"nextSibling")},Ln=function(Ze,_t){return Hn(Ze,_t,"previousSibling")},va=function(Ze,_t){return vi(Ze,De(_t)||r.root_element||e,[])},ai=function(Ze,_t,un){var Cn,na=typeof Ze=="string"?De(Ze):Ze;if(!na)return!1;if(Tt.isArray(na)&&(na.length||na.length===0))return Cn=[],Rg(na,function(To,Vb){To&&Cn.push(_t.call(un,typeof To=="string"?De(To):To,Vb))}),Cn;var Ya=un||this;return _t.call(Ya,na)},ti=function(Ze,_t){Ve(Ze).each(function(un,Cn){Rg(_t,function(na,Ya){ot(Cn,Ya,na)})})},gl=function(Ze,_t){var un=Ve(Ze);Ay?un.each(function(Cn,na){if(na.canHaveHTML!==!1){for(;na.firstChild;)na.removeChild(na.firstChild);try{na.innerHTML="<br>"+_t,na.removeChild(na.firstChild)}catch{Yr("<div></div>").html("<br>"+_t).contents().slice(1).appendTo(na)}return _t}}):un.html(_t)},No=function(Ze,_t,un,Cn,na){return ai(Ze,function(Ya){var To=typeof _t=="string"?e.createElement(_t):_t;return ti(To,un),Cn&&(typeof Cn!="string"&&Cn.nodeType?To.appendChild(Cn):typeof Cn=="string"&&gl(To,Cn)),na?To:Ya.appendChild(To)})},Zc=function(Ze,_t,un){return No(e.createElement(Ze),Ze,_t,un,!0)},_f=Hc.decode,Xt=Hc.encodeAllRaw,fn=function(Ze,_t,un){var Cn="",na;Cn+="<"+Ze;for(na in _t)Uo(_t,na)&&(Cn+=" "+na+'="'+Xt(_t[na])+'"');return typeof un<"u"?Cn+">"+un+"</"+Ze+">":Cn+" />"},nr=function(Ze){var _t,un=e.createElement("div"),Cn=e.createDocumentFragment();for(Cn.appendChild(un),Ze&&(un.innerHTML=Ze);_t=un.firstChild;)Cn.appendChild(_t);return Cn.removeChild(un),Cn},mt=function(Ze,_t){var un=Ve(Ze);return _t?un.each(function(){for(var Cn;Cn=this.firstChild;)Cn.nodeType===3&&Cn.data.length===0?this.removeChild(Cn):this.parentNode.insertBefore(Cn,this)}).remove():un.remove(),un.length>1?un.toArray():un[0]},an=function(Ze){return ai(Ze,function(_t){var un,Cn=_t.attributes;for(un=Cn.length-1;un>=0;un--)_t.removeAttributeNode(Cn.item(un))})},Zt=function(Ze){return ae.parse(Ze)},or=function(Ze,_t){return ae.serialize(Ze,_t)},dr=function(Ze){var _t,un;if(V0!==Wi.DOM&&e===document){if(s[Ze])return;s[Ze]=!0}un=e.getElementById("mceDefaultStyles"),un||(un=e.createElement("style"),un.id="mceDefaultStyles",un.type="text/css",_t=e.getElementsByTagName("head")[0],_t.firstChild?_t.insertBefore(un,_t.firstChild):_t.appendChild(un)),un.styleSheet?un.styleSheet.cssText+=Ze:un.appendChild(e.createTextNode(Ze))},Hi=function(Ze){Ze||(Ze=""),vt(Ze.split(","),function(_t){h[_t]=!0,R.load(_t,ve)})},xu=function(Ze,_t,un){Ve(Ze).toggleClass(_t,un).each(function(){this.className===""&&Yr(this).attr("class",null)})},iu=function(Ze,_t){Ve(Ze).addClass(_t)},H0=function(Ze,_t){xu(Ze,_t,!1)},Jc=function(Ze,_t){return Ve(Ze).hasClass(_t)},Tc=function(Ze){Ve(Ze).show()},Hu=function(Ze){Ve(Ze).hide()},iv=function(Ze){return Ve(Ze).css("display")==="none"},Qc=function(Ze){return(Ze||"mce_")+b++},tm=function(Ze){var _t=typeof Ze=="string"?De(Ze):Ze;return Tr(_t)?_t.outerHTML:Yr("<div></div>").append(Yr(_t).clone()).html()},ji=function(Ze,_t){Ve(Ze).each(function(){try{if("outerHTML"in this){this.outerHTML=_t;return}}catch{}mt(Yr(this).html(_t),!0)})},vo=function(Ze,_t){var un=De(_t);return ai(Ze,function(Cn){var na=un.parentNode,Ya=un.nextSibling;return Ya?na.insertBefore(Cn,Ya):na.appendChild(Cn),Cn})},Vu=function(Ze,_t,un){return ai(_t,function(Cn){return Tt.is(Cn,"array")&&(Ze=Ze.cloneNode(!0)),un&&Rg(T1(Cn.childNodes),function(na){Ze.appendChild(na)}),Cn.parentNode.replaceChild(Ze,Cn)})},wf=function(Ze,_t){var un;return Ze.nodeName!==_t.toUpperCase()&&(un=Zc(_t),Rg(ft(Ze),function(Cn){ot(un,Cn.nodeName,Ne(Ze,Cn.nodeName))}),Vu(un,Ze,!0)),un||Ze},tg=function(Ze,_t){for(var un=Ze,Cn;un;){for(Cn=_t;Cn&&un!==Cn;)Cn=Cn.parentNode;if(un===Cn)break;un=un.parentNode}return!un&&Ze.ownerDocument?Ze.ownerDocument.documentElement:un},ng=function(Ze){return ae.toHex(Tt.trim(Ze))},Hb=function(Ze){if(Tr(Ze)){var _t=Ze.nodeName.toLowerCase()==="a"&&!Ne(Ze,"href")&&Ne(Ze,"id");if(Ne(Ze,"name")||Ne(Ze,"data-mce-bookmark")||_t)return!0}return!1},BC=function(Ze,_t){var un,Cn,na=0;if(Hb(Ze))return!1;if(Ze=Ze.firstChild,Ze){var Ya=new Wa(Ze,Ze.parentNode),To=ne?ne.getWhiteSpaceElements():{};_t=_t||(ne?ne.getNonEmptyElements():null);do{if(un=Ze.nodeType,Tr(Ze)){var Vb=Ze.getAttribute("data-mce-bogus");if(Vb){Ze=Ya.next(Vb==="all");continue}if(Cn=Ze.nodeName.toLowerCase(),_t&&_t[Cn]){if(Cn==="br"){na++,Ze=Ya.next();continue}return!1}if(Hb(Ze))return!1}if(un===8||un===3&&!zc(Ze.nodeValue)||un===3&&Ze.parentNode&&To[Ze.parentNode.nodeName]&&zc(Ze.nodeValue))return!1;Ze=Ya.next()}while(Ze)}return na<=1},HO=function(){return e.createRange()},uN=function(Ze,_t,un){var Cn=HO(),na,Ya,To;if(Ze&&_t)return Cn.setStart(Ze.parentNode,Sm(Ze)),Cn.setEnd(_t.parentNode,Sm(_t)),na=Cn.extractContents(),Cn=HO(),Cn.setStart(_t.parentNode,Sm(_t)+1),Cn.setEnd(Ze.parentNode,Sm(Ze)+1),Ya=Cn.extractContents(),To=Ze.parentNode,To.insertBefore(c1(V0,na),Ze),un?To.insertBefore(un,Ze):To.insertBefore(_t,Ze),To.insertBefore(c1(V0,Ya),Ze),mt(Ze),un||_t},lN=function(Ze,_t,un,Cn){if(Tt.isArray(Ze)){for(var na=Ze.length,Ya=[];na--;)Ya[na]=lN(Ze[na],_t,un,Cn);return Ya}r.collect&&(Ze===e||Ze===f)&&W.push([Ze,_t,un,Cn]);var To=ce.bind(Ze,_t,un,Cn||V0);return To},t3=function(Ze,_t,un){if(Tt.isArray(Ze)){for(var Cn=Ze.length,na=[];Cn--;)na[Cn]=t3(Ze[Cn],_t,un);return na}else{if(W.length>0&&(Ze===e||Ze===f))for(var Cn=W.length;Cn--;){var Ya=W[Cn];Ze===Ya[0]&&(!_t||_t===Ya[1])&&(!un||un===Ya[2])&&ce.unbind(Ya[0],Ya[1],Ya[2])}return ce.unbind(Ze,_t,un)}},$V=function(Ze,_t,un){return ce.fire(Ze,_t,un)},cN=function(Ze){if(Ze&&Tr(Ze)){var _t=Ze.getAttribute("data-mce-contenteditable");return _t&&_t!=="inherit"?_t:Ze.contentEditable!=="inherit"?Ze.contentEditable:null}else return null},zV=function(Ze){for(var _t=ht(),un=null;Ze&&Ze!==_t&&(un=cN(Ze),un===null);Ze=Ze.parentNode);return un},fN=function(){if(W.length>0)for(var Ze=W.length;Ze--;){var _t=W[Ze];ce.unbind(_t[0],_t[1],_t[2])}ia(h,function(un,Cn){R.unload(Cn),delete h[Cn]}),vi.setDocument&&vi.setDocument()},n3=function(Ze,_t){if(Ay){for(;Ze;){if(_t===Ze)return!0;Ze=Ze.parentNode}return!1}else return Ze===_t||_t.contains(Ze)},HV=function(Ze){return"startContainer: "+Ze.startContainer.nodeName+", startOffset: "+Ze.startOffset+", endContainer: "+Ze.endContainer.nodeName+", endOffset: "+Ze.endOffset},V0={doc:e,settings:r,win:f,files:h,stdMode:E,boxModel:O,styleSheetLoader:R,boundEvents:W,styles:ae,schema:ne,events:ce,isBlock:Ae,$:Se,$$:Ve,root:null,clone:je,getRoot:ht,getViewPort:Bt,getRect:on,getSize:hr,getParent:yn,getParents:cn,get:De,getNext:Gt,getPrev:Ln,select:va,is:Mn,add:No,create:Zc,createHTML:fn,createFragment:nr,remove:mt,setStyle:gr,getStyle:Wt,setStyles:In,removeAllAttribs:an,setAttrib:ot,setAttribs:ti,getAttrib:Ne,getPos:en,parseStyle:Zt,serializeStyle:or,addStyle:dr,loadCSS:Hi,addClass:iu,removeClass:H0,hasClass:Jc,toggleClass:xu,show:Tc,hide:Hu,isHidden:iv,uniqueId:Qc,setHTML:gl,getOuterHTML:tm,setOuterHTML:ji,decode:_f,encode:Xt,insertAfter:vo,replace:Vu,rename:wf,findCommonAncestor:tg,toHex:ng,run:ai,getAttribs:ft,isEmpty:BC,createRng:HO,nodeIndex:Sm,split:uN,bind:lN,unbind:t3,fire:$V,getContentEditable:cN,getContentEditableParent:zV,destroy:fN,isChildOf:n3,dumpRng:HV},r3=hf(ae,r,Y(V0));return V0};Wi.DOM=Wi(document),Wi.nodeIndex=Sm;var Em=Wi.DOM,A1=Tt.each,Pg=Tt.grep,Oy=0,ex=1,i0=2,O1=3,jd=function(){function e(r){r===void 0&&(r={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=r}return e.prototype._setReferrerPolicy=function(r){this.settings.referrerPolicy=r},e.prototype.loadScript=function(r,s,f){var h=Em,b,E=function(){h.remove(W),b&&(b.onerror=b.onload=b=null)},O=function(){E(),s()},R=function(){E(),K(f)?f():typeof console<"u"&&console.log&&console.log("Failed to load script: "+r)},W=h.uniqueId();b=document.createElement("script"),b.id=W,b.type="text/javascript",b.src=Tt._addCacheSuffix(r),this.settings.referrerPolicy&&h.setAttrib(b,"referrerpolicy",this.settings.referrerPolicy),b.onload=O,b.onerror=R,(document.getElementsByTagName("head")[0]||document.body).appendChild(b)},e.prototype.isDone=function(r){return this.states[r]===i0},e.prototype.markDone=function(r){this.states[r]=i0},e.prototype.add=function(r,s,f,h){var b=this.states[r];this.queue.push(r),b===void 0&&(this.states[r]=Oy),s&&(this.scriptLoadedCallbacks[r]||(this.scriptLoadedCallbacks[r]=[]),this.scriptLoadedCallbacks[r].push({success:s,failure:h,scope:f||this}))},e.prototype.load=function(r,s,f,h){return this.add(r,s,f,h)},e.prototype.remove=function(r){delete this.states[r],delete this.scriptLoadedCallbacks[r]},e.prototype.loadQueue=function(r,s,f){this.loadScripts(this.queue,r,s,f)},e.prototype.loadScripts=function(r,s,f,h){var b=this,E=[],O=function(W,ne){A1(b.scriptLoadedCallbacks[ne],function(ae){K(ae[W])&&ae[W].call(ae.scope)}),b.scriptLoadedCallbacks[ne]=void 0};b.queueLoadedCallbacks.push({success:s,failure:h,scope:f||this});var R=function(){var W=Pg(r);if(r.length=0,A1(W,function(ae){if(b.states[ae]===i0){O("success",ae);return}if(b.states[ae]===O1){O("failure",ae);return}b.states[ae]!==ex&&(b.states[ae]=ex,b.loading++,b.loadScript(ae,function(){b.states[ae]=i0,b.loading--,O("success",ae),R()},function(){b.states[ae]=O1,b.loading--,E.push(ae),O("failure",ae),R()}))}),!b.loading){var ne=b.queueLoadedCallbacks.slice(0);b.queueLoadedCallbacks.length=0,A1(ne,function(ae){E.length===0?K(ae.success)&&ae.success.call(ae.scope):K(ae.failure)&&ae.failure.call(ae.scope,E)})}};R()},e.ScriptLoader=new e,e}(),Pl=function(e){var r=e,s=function(){return r},f=function(h){r=h};return{get:s,set:f}},Dy=function(e){return _e(e)&&Ur(e,"raw")},CS=function(e){return be(e)&&e.length>1},fd={},zv=Pl("en"),D1=function(){return _a(fd,zv.get())},SS=function(){return Ds(fd,function(e){return Kn({},e)})},ES=function(e){e&&zv.set(e)},wh=function(){return zv.get()},km=function(e,r){var s=fd[e];s||(fd[e]=s={}),ia(r,function(f,h){s[h.toLowerCase()]=f})},Tm=function(e){var r=D1().getOr({}),s=function(R){return K(R)?Object.prototype.toString.call(R):f(R)?"":""+R},f=function(R){return R===""||R===null||R===void 0},h=function(R){var W=s(R);return _a(r,W.toLowerCase()).map(s).getOr(W)},b=function(R){return R.replace(/{context:\w+}$/,"")};if(f(e))return"";if(Dy(e))return s(e.raw);if(CS(e)){var E=e.slice(1),O=h(e[0]).replace(/\{([0-9]+)\}/g,function(R,W){return Ur(E,W)?s(E[W]):R});return b(O)}return b(h(e))},Ha=function(){return D1().bind(function(e){return _a(e,"_dir")}).exists(function(e){return e==="rtl"})},xs=function(e){return Ur(fd,e)},Il={getData:SS,setCode:ES,getCode:wh,add:km,translate:Tm,isRtl:Ha,hasCode:xs},Kl=function(){var e=[],r={},s={},f=[],h=function(Ae,De){var Ve=pn(f,function(Ne){return Ne.name===Ae&&Ne.state===De});vt(Ve,function(Ne){return Ne.callback()})},b=function(Ae){if(s[Ae])return s[Ae].instance},E=function(Ae){var De;return s[Ae]&&(De=s[Ae].dependencies),De||[]},O=function(Ae,De){Kl.languageLoad!==!1&&Se(Ae,function(){var Ve=Il.getCode(),Ne=","+(De||"")+",";!Ve||De&&Ne.indexOf(","+Ve+",")===-1||jd.ScriptLoader.add(r[Ae]+"/langs/"+Ve+".js")},"loaded")},R=function(Ae,De,Ve){var Ne=De;return e.push(Ne),s[Ae]={instance:Ne,dependencies:Ve},h(Ae,"added"),Ne},W=function(Ae){delete r[Ae],delete s[Ae]},ne=function(Ae,De){return typeof De=="object"?De:typeof Ae=="string"?{prefix:"",resource:De,suffix:""}:{prefix:Ae.prefix,resource:De,suffix:Ae.suffix}},ae=function(Ae,De){var Ve=r[Ae];vt(De,function(Ne){jd.ScriptLoader.add(Ve+"/"+Ne)})},ce=function(Ae,De,Ve,Ne){var ft=E(Ae);vt(ft,function(ot){var je=ne(De,ot);we(je.resource,je,void 0,void 0)}),Ve&&(Ne?Ve.call(Ne):Ve.call(jd))},we=function(Ae,De,Ve,Ne,ft){if(!r[Ae]){var ot=typeof De=="string"?De:De.prefix+De.resource+De.suffix;ot.indexOf("/")!==0&&ot.indexOf("://")===-1&&(ot=Kl.baseURL+"/"+ot),r[Ae]=ot.substring(0,ot.lastIndexOf("/"));var je=function(){h(Ae,"loaded"),ce(Ae,De,Ve,Ne)};s[Ae]?je():jd.ScriptLoader.add(ot,je,Ne,ft)}},Se=function(Ae,De,Ve){Ve===void 0&&(Ve="added"),Ur(s,Ae)&&Ve==="added"||Ur(r,Ae)&&Ve==="loaded"?De():f.push({name:Ae,state:Ve,callback:De})};return{items:e,urls:r,lookup:s,_listeners:f,get:b,dependencies:E,requireLangPack:O,add:R,remove:W,createUrl:ne,addComponents:ae,load:we,waitFor:Se}};Kl.languageLoad=!0,Kl.baseURL="",Kl.PluginManager=Kl(),Kl.ThemeManager=Kl();var Ti=function(e){var r=Pl(Ee.none()),s=function(){return r.get().each(e)},f=function(){s(),r.set(Ee.none())},h=function(){return r.get().isSome()},b=function(){return r.get()},E=function(O){s(),r.set(Ee.some(O))};return{clear:f,isSet:h,get:b,set:E}},xh=function(){var e=Ti(ve),r=function(s){return e.get().each(s)};return Kn(Kn({},e),{on:r})},M1=function(e,r){var s=null,f=function(){le(s)||(clearTimeout(s),s=null)},h=function(){for(var b=[],E=0;E<arguments.length;E++)b[E]=arguments[E];le(s)&&(s=setTimeout(function(){s=null,e.apply(null,b)},r))};return{cancel:f,throttle:h}},Hs=function(e,r){var s=null,f=function(){le(s)||(clearTimeout(s),s=null)},h=function(){for(var b=[],E=0;E<arguments.length;E++)b[E]=arguments[E];f(),s=setTimeout(function(){s=null,e.apply(null,b)},r)};return{cancel:f,throttle:h}},Yd=function(e,r){var s=he(e,r);return s===void 0||s===""?[]:s.split(" ")},kS=function(e,r,s){var f=Yd(e,r),h=f.concat([s]);return U(e,r,h.join(" ")),!0},TS=function(e,r,s){var f=pn(Yd(e,r),function(h){return h!==s});return f.length>0?U(e,r,f.join(" ")):Et(e,r),!1},R1=function(e){return e.dom.classList!==void 0},P1=function(e){return Yd(e,"class")},My=function(e,r){return kS(e,"class",r)},Ry=function(e,r){return TS(e,"class",r)},Am=function(e,r){R1(e)?e.dom.classList.add(r):My(e,r)},Ig=function(e){var r=R1(e)?e.dom.classList:P1(e);r.length===0&&Et(e,"class")},I1=function(e,r){if(R1(e)){var s=e.dom.classList;s.remove(r)}else Ry(e,r);Ig(e)},Py=function(e,r){return R1(e)&&e.dom.classList.contains(r)},Bg=function(e,r){var s=[];return vt(el(e),function(f){r(f)&&(s=s.concat([f])),s=s.concat(Bg(f,r))}),s},bu=function(e,r){return Xr(r,e)},wc=Y("mce-annotation"),Ch=Y("data-mce-annotation"),Cs=Y("data-mce-annotation-uid"),B1=function(e,r){var s=e.selection.getRng(),f=Z.fromDom(s.startContainer),h=Z.fromDom(e.getBody()),b=r.fold(function(){return"."+wc()},function(W){return"["+Ch()+'="'+W+'"]'}),E=Wl(f,s.startOffset).getOr(f),O=Ui(E,b,function(W){return yr(W,h)}),R=function(W,ne){return ut(W,ne)?Ee.some(he(W,ne)):Ee.none()};return O.bind(function(W){return R(W,""+Cs()).bind(function(ne){return R(W,""+Ch()).map(function(ae){var ce=Iy(e,ne);return{uid:ne,name:ae,elements:ce}})})})},Hv=function(e){return Li(e)&&Py(e,wc())},Iy=function(e,r){var s=Z.fromDom(e.getBody());return bu(s,"["+Cs()+'="'+r+'"]')},By=function(e,r){var s=Z.fromDom(e.getBody()),f=bu(s,"["+Ch()+'="'+r+'"]'),h={};return vt(f,function(b){var E=he(b,Cs()),O=_a(h,E).getOr([]);h[E]=O.concat([b])}),h},tx=function(e,r){var s=Pl({}),f=function(){return{listeners:[],previous:xh()}},h=function(ne,ae){b(ne,function(ce){return ae(ce),ce})},b=function(ne,ae){var ce=s.get(),we=_a(ce,ne).getOrThunk(f),Se=ae(we);ce[ne]=Se,s.set(ce)},E=function(ne,ae,ce){h(ne,function(we){vt(we.listeners,function(Se){return Se(!0,ne,{uid:ae,nodes:st(ce,function(Ae){return Ae.dom})})})})},O=function(ne){h(ne,function(ae){vt(ae.listeners,function(ce){return ce(!1,ne)})})},R=Hs(function(){var ne=s.get(),ae=mi(Os(ne));vt(ae,function(ce){b(ce,function(we){var Se=we.previous.get();return B1(e,Ee.some(ce)).fold(function(){Se.isSome()&&(O(ce),we.previous.clear())},function(Ae){var De=Ae.uid,Ve=Ae.name,Ne=Ae.elements;xv(Se,De)||(E(Ve,De,Ne),we.previous.set(De))}),{previous:we.previous,listeners:we.listeners}})})},30);e.on("remove",function(){R.cancel()}),e.on("NodeChange",function(){R.throttle()});var W=function(ne,ae){b(ne,function(ce){return{previous:ce.previous,listeners:ce.listeners.concat([ae])}})};return{addListener:W}},Ly=function(e,r){var s=function(f){return Ee.from(f.attr(Ch())).bind(r.lookup)};e.on("init",function(){e.serializer.addNodeFilter("span",function(f){vt(f,function(h){s(h).each(function(b){b.persistent===!1&&h.unwrap()})})})})},o0=function(){var e={},r=function(f,h){e[f]={name:f,settings:h}},s=function(f){return _a(e,f).map(function(h){return h.settings})};return{register:r,lookup:s}},L1=0,nx=function(e){var r=new Date,s=r.getTime(),f=Math.floor(Math.random()*1e9);return L1++,e+"_"+f+L1+String(s)},AS=function(e,r){vt(r,function(s){Am(e,s)})},Vs=function(e,r){var s=r||document,f=s.createElement("div");return f.innerHTML=e,el(Z.fromDom(f))},Us=function(e){return st(e,Z.fromDom)},al=function(e){return e.dom.innerHTML},il=function(e,r){var s=Af(e),f=s.dom,h=Z.fromDom(f.createDocumentFragment()),b=Vs(r,f);rn(h,b),Ft(e),ps(e,h)},ol=function(e,r){return Z.fromDom(e.dom.cloneNode(r))},Zo=function(e){return ol(e,!1)},s0=function(e){return ol(e,!0)},u0=function(e,r,s){s===void 0&&(s=dt);var f=new Wa(e,r),h=function(b){var E;do E=f[b]();while(E&&!Rn(E)&&!s(E));return Ee.from(E).filter(Rn)};return{current:function(){return Ee.from(f.current()).filter(Rn)},next:function(){return h("next")},prev:function(){return h("prev")},prev2:function(){return h("prev2")}}},F1=function(e,r){var s=r||function(E){return e.isBlock(E)||ui(E)||Zi(E)},f=function(E,O,R,W){if(Rn(E)){var ne=W(E,O,E.data);if(ne!==-1)return Ee.some({container:E,offset:ne})}return R().bind(function(ae){return f(ae.container,ae.offset,R,W)})},h=function(E,O,R,W){var ne=u0(E,W,s);return f(E,O,function(){return ne.prev().map(function(ae){return{container:ae,offset:ae.length}})},R).getOrNull()},b=function(E,O,R,W){var ne=u0(E,W,s);return f(E,O,function(){return ne.next().map(function(ae){return{container:ae,offset:0}})},R).getOrNull()};return{backwards:h,forwards:b}},Om=Math.round,Sh=function(e){return e?{left:Om(e.left),top:Om(e.top),bottom:Om(e.bottom),right:Om(e.right),width:Om(e.width),height:Om(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},N1=function(e,r){return e=Sh(e),r||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},Dm=function(e,r){return e.left===r.left&&e.top===r.top&&e.bottom===r.bottom&&e.right===r.right},Mm=function(e,r,s){return e>=0&&e<=Math.min(r.height,s.height)/2},Lg=function(e,r){var s=Math.min(r.height/2,e.height/2);return e.bottom-s<r.top?!0:e.top>r.bottom?!1:Mm(r.top-e.bottom,e,r)},Fg=function(e,r){return e.top>r.bottom?!0:e.bottom<r.top?!1:Mm(r.bottom-e.top,e,r)},$1=function(e,r,s){return r>=e.left&&r<=e.right&&s>=e.top&&s<=e.bottom},dd=function(e,r,s){return Math.min(Math.max(e,r),s)},Rm=function(e){var r=e.startContainer,s=e.startOffset;return r.hasChildNodes()&&e.endOffset===s+1?r.childNodes[s]:null},ao=function(e,r){if(Tr(e)&&e.hasChildNodes()){var s=e.childNodes,f=dd(r,0,s.length-1);return s[f]}else return e},OS=function(e,r){if(!(r<0&&Tr(e)&&e.hasChildNodes()))return ao(e,r)},DS=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),z1=function(e){return typeof e=="string"&&e.charCodeAt(0)>=768&&DS.test(e)},MS=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return function(s){for(var f=0;f<e.length;f++)if(e[f](s))return!0;return!1}},rx=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return function(s){for(var f=0;f<e.length;f++)if(!e[f](s))return!1;return!0}},mn=Tr,RS=id,Ss=kl("display","block table"),Fy=kl("float","left right"),Pm=rx(mn,RS,rt(Fy)),Uf=rt(kl("white-space","pre pre-line pre-wrap")),sl=Rn,l0=ui,qd=Wi.nodeIndex,Ca=OS,vd=function(e){return"createRange"in e?e.createRange():Wi.DOM.createRng()},ul=function(e){return e&&/[\r\n\t ]/.test(e)},Jo=function(e){return!!e.setStart&&!!e.setEnd},Bl=function(e){var r=e.startContainer,s=e.startOffset;if(ul(e.toString())&&Uf(r.parentNode)&&Rn(r)){var f=r.data;if(ul(f[s-1])||ul(f[s+1]))return!0}return!1},ll=function(e){var r=e.ownerDocument,s=vd(r),f=r.createTextNode(cs),h=e.parentNode;h.insertBefore(f,e),s.setStart(f,0),s.setEnd(f,1);var b=Sh(s.getBoundingClientRect());return h.removeChild(f),b},ax=function(e){var r=e.startContainer,s=e.endContainer,f=e.startOffset,h=e.endOffset;if(r===s&&Rn(s)&&f===0&&h===1){var b=e.cloneRange();return b.setEndAfter(s),Gd(b)}else return null},cl=function(e){return e.left===0&&e.right===0&&e.top===0&&e.bottom===0},Gd=function(e){var r,s=e.getClientRects();return s.length>0?r=Sh(s[0]):r=Sh(e.getBoundingClientRect()),!Jo(e)&&l0(e)&&cl(r)?ll(e):cl(r)&&Jo(e)?ax(e):r},Eh=function(e,r){var s=N1(e,r);return s.width=1,s.right=s.left+1,s},c0=function(e){var r=[],s=function(R){R.height!==0&&(r.length>0&&Dm(R,r[r.length-1])||r.push(R))},f=function(R,W){var ne=vd(R.ownerDocument);if(W<R.data.length){if(z1(R.data[W]))return r;if(z1(R.data[W-1])&&(ne.setStart(R,W),ne.setEnd(R,W+1),!Bl(ne)))return s(Eh(Gd(ne),!1)),r}W>0&&(ne.setStart(R,W-1),ne.setEnd(R,W),Bl(ne)||s(Eh(Gd(ne),!1))),W<R.data.length&&(ne.setStart(R,W),ne.setEnd(R,W+1),Bl(ne)||s(Eh(Gd(ne),!0)))},h=e.container(),b=e.offset();if(sl(h))return f(h,b),r;if(mn(h))if(e.isAtEnd()){var E=Ca(h,b);sl(E)&&f(E,E.data.length),Pm(E)&&!l0(E)&&s(Eh(Gd(E),!1))}else{var E=Ca(h,b);if(sl(E)&&f(E,0),Pm(E)&&e.isAtEnd())return s(Eh(Gd(E),!1)),r;var O=Ca(e.container(),e.offset()-1);Pm(O)&&!l0(O)&&(Ss(O)||Ss(E)||!Pm(E))&&s(Eh(Gd(O),!1)),Pm(E)&&s(Eh(Gd(E),!0))}return r},yt=function(e,r,s){var f=function(){return sl(e),r===0},h=function(){return sl(e)?r>=e.data.length:r>=e.childNodes.length},b=function(){var ne=vd(e.ownerDocument);return ne.setStart(e,r),ne.setEnd(e,r),ne},E=function(){return s||(s=c0(yt(e,r))),s},O=function(){return E().length>0},R=function(ne){return ne&&e===ne.container()&&r===ne.offset()},W=function(ne){return Ca(e,ne?r-1:r)};return{container:Y(e),offset:Y(r),toRange:b,getClientRects:E,isVisible:O,isAtStart:f,isAtEnd:h,isEqual:R,getNode:W}};yt.fromRangeStart=function(e){return yt(e.startContainer,e.startOffset)},yt.fromRangeEnd=function(e){return yt(e.endContainer,e.endOffset)},yt.after=function(e){return yt(e.parentNode,qd(e)+1)},yt.before=function(e){return yt(e.parentNode,qd(e))},yt.isAbove=function(e,r){return Mu(Xi(r.getClientRects()),oi(e.getClientRects()),Lg).getOr(!1)},yt.isBelow=function(e,r){return Mu(oi(r.getClientRects()),Xi(e.getClientRects()),Fg).getOr(!1)},yt.isAtStart=function(e){return e?e.isAtStart():!1},yt.isAtEnd=function(e){return e?e.isAtEnd():!1},yt.isTextPosition=function(e){return e?Rn(e.container()):!1},yt.isElementPosition=function(e){return yt.isTextPosition(e)===!1};var Vv=function(e,r){Rn(r)&&r.data.length===0&&e.remove(r)},Yc=function(e,r,s){r.insertNode(s),Vv(e,s.previousSibling),Vv(e,s.nextSibling)},ix=function(e,r,s){var f=Ee.from(s.firstChild),h=Ee.from(s.lastChild);r.insertNode(s),f.each(function(b){return Vv(e,b.previousSibling)}),h.each(function(b){return Vv(e,b.nextSibling)})},Im=function(e,r,s){Mr(s)?ix(e,r,s):Yc(e,r,s)},Ri=Rn,Qo=uo,H1=Wi.nodeIndex,Ny=function(e){var r=e.parentNode;return Qo(r)?Ny(r):r},V1=function(e){return e?Hl(e.childNodes,function(r,s){return Qo(s)&&s.nodeName!=="BR"?r=r.concat(V1(s)):r.push(s),r},[]):[]},$y=function(e,r){for(;(e=e.previousSibling)&&Ri(e);)r+=e.data.length;return r},zy=function(e){return function(r){return e===r}},Hy=function(e){var r,s;r=V1(Ny(e)),s=Da(r,zy(e),e),r=r.slice(0,s+1);var f=Hl(r,function(h,b,E){return Ri(b)&&Ri(r[E-1])&&h++,h},0);return r=Xs(r,Lc([e.nodeName])),s=Da(r,zy(e),e),s-f},Vy=function(e){var r;return Ri(e)?r="text()":r=e.nodeName.toLowerCase(),r+"["+Hy(e)+"]"},kh=function(e,r,s){var f=[];for(r=r.parentNode;r!==e&&!(s&&s(r));r=r.parentNode)f.push(r);return f},Ng=function(e,r){var s,f,h=[],b,E,O;return s=r.container(),f=r.offset(),Ri(s)?b=$y(s,f):(E=s.childNodes,f>=E.length?(b="after",f=E.length-1):b="before",s=E[f]),h.push(Vy(s)),O=kh(e,s),O=Xs(O,rt(uo)),h=h.concat(zl(O,function(R){return Vy(R)})),h.reverse().join("/")+","+b},Uy=function(e,r,s){var f=V1(e);return f=Xs(f,function(h,b){return!Ri(h)||!Ri(f[b-1])}),f=Xs(f,Lc([r])),f[s]},PS=function(e,r){for(var s=e,f=0,h;Ri(s);){if(h=s.data.length,r>=f&&r<=f+h){e=s,r=r-f;break}if(!Ri(s.nextSibling)){e=s,r=h;break}f+=h,s=s.nextSibling}return Ri(e)&&r>e.data.length&&(r=e.data.length),yt(e,r)},Bm=function(e,r){var s;if(!r)return null;var f=r.split(","),h=f[0].split("/");s=f.length>1?f[1]:"before";var b=Hl(h,function(E,O){var R=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(O);return R?(R[1]==="text()"&&(R[1]="#text"),Uy(E,R[1],parseInt(R[2],10))):null},e);return b?Ri(b)?PS(b,parseInt(s,10)):(s==="after"?s=H1(b)+1:s=H1(b),yt(b.parentNode,s)):null},Uv=Zi,Xl=function(e,r,s){var f,h;for(h=e(r.data.slice(0,s)).length,f=r.previousSibling;f&&Rn(f);f=f.previousSibling)h+=e(f.data).length;return h},Th=function(e,r,s,f,h){var b=f[h?"startContainer":"endContainer"],E=f[h?"startOffset":"endOffset"],O=[],R,W=0,ne=e.getRoot();for(Rn(b)?O.push(s?Xl(r,b,E):E):(R=b.childNodes,E>=R.length&&R.length&&(W=1,E=Math.max(0,R.length-1)),O.push(e.nodeIndex(R[E],s)+W));b&&b!==ne;b=b.parentNode)O.push(e.nodeIndex(b,s));return O},$g=function(e,r,s,f){var h=r.dom,b={};return b.start=Th(h,e,s,f,!0),r.isCollapsed()||(b.end=Th(h,e,s,f,!1)),Id(f)&&(b.isFakeCaret=!0),b},Wy=function(e,r,s){var f=0;return Tt.each(e.select(r),function(h){if(h.getAttribute("data-mce-bogus")!=="all"){if(h===s)return!1;f++}}),f},Eo=function(e,r){var s,f,h,b=r?"start":"end";s=e[b+"Container"],f=e[b+"Offset"],Tr(s)&&s.nodeName==="TR"&&(h=s.childNodes,s=h[Math.min(r?f:f-1,h.length-1)],s&&(f=r?0:s.childNodes.length,e["set"+(r?"Start":"End")](s,f)))},f0=function(e){return Eo(e,!0),Eo(e,!1),e},Lo=function(e,r){var s;if(Tr(e)&&(e=ao(e,r),Uv(e)))return e;if(nl(e)&&(Rn(e)&&Ci(e)&&(e=e.parentNode),s=e.previousSibling,Uv(s)||(s=e.nextSibling,Uv(s))))return s},d0=function(e){return Lo(e.startContainer,e.startOffset)||Lo(e.endContainer,e.endOffset)},xc=function(e,r,s){var f=s.getNode(),h=f?f.nodeName:null,b=s.getRng();if(Uv(f)||h==="IMG")return{name:h,index:Wy(s.dom,h,f)};var E=d0(b);return E?(h=E.tagName,{name:h,index:Wy(s.dom,h,E)}):$g(e,s,r,b)},Va=function(e){var r=e.getRng();return{start:Ng(e.dom.getRoot(),yt.fromRangeStart(r)),end:Ng(e.dom.getRoot(),yt.fromRangeEnd(r))}},zg=function(e){return{rng:e.getRng()}},qc=function(e,r,s){var f={"data-mce-type":"bookmark",id:r,style:"overflow:hidden;line-height:0px"};return s?e.create("span",f,"&#xFEFF;"):e.create("span",f)},jy=function(e,r){var s=e.dom,f=e.getRng(),h=s.uniqueId(),b=e.isCollapsed(),E=e.getNode(),O=E.nodeName;if(O==="IMG")return{name:O,index:Wy(s,O,E)};var R=f0(f.cloneRange());if(!b){R.collapse(!1);var W=qc(s,h+"_end",r);Im(s,R,W)}f=f0(f),f.collapse(!0);var ne=qc(s,h+"_start",r);return Im(s,f,ne),e.moveToBookmark({id:h,keep:!0}),{id:h}},IS=function(e,r,s){return r===2?xc(Go,s,e):r===3?Va(e):r?zg(e):jy(e,!1)},Ji=Ce(xc,$e,!0),BS=Wi.DOM,v0="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow",Ah=function(e,r,s){var f=e.getParam(r,s);if(f.indexOf("=")!==-1){var h=e.getParam(r,"","hash");return _a(h,e.id).getOr(s)}else return f},LS=function(e){return e.getParam("iframe_attrs",{})},ox=function(e){return e.getParam("doctype","<!DOCTYPE html>")},Yy=function(e){return e.getParam("document_base_url","")},FS=function(e){return Ah(e,"body_id","tinymce")},NS=function(e){return Ah(e,"body_class","")},U1=function(e){return e.getParam("content_security_policy","")},qy=function(e){return e.getParam("br_in_pre",!0)},yu=function(e){if(e.getParam("force_p_newlines",!1))return"p";var r=e.getParam("forced_root_block","p");return r===!1?"":r===!0?"p":r},Hg=function(e){return e.getParam("forced_root_block_attrs",{})},Vg=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},sx=function(e){return e.getParam("no_newline_selector","")},$S=function(e){return e.getParam("keep_styles",!0)},h0=function(e){return e.getParam("end_container_on_empty_block",!1)},Lm=function(e){return Tt.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},Fm=function(e){return Tt.explode(e.getParam("font_size_classes",""))},Ug=function(e){return e.getParam("images_dataimg_filter",Dt,"function")},m0=function(e){return e.getParam("automatic_uploads",!0,"boolean")},Gy=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},zS=function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},ko=function(e){return e.getParam("icons","","string")},Ll=function(e){return e.getParam("icons_url","","string")},HS=function(e){return e.getParam("images_upload_url","","string")},Oh=function(e){return e.getParam("images_upload_base_path","","string")},Dh=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},ux=function(e){return e.getParam("images_upload_handler",null,"function")},W1=function(e){return e.getParam("content_css_cors",!1,"boolean")},j1=function(e){return e.getParam("referrer_policy","","string")},Y1=function(e){return e.getParam("language","en","string")},Ws=function(e){return e.getParam("language_url","","string")},lx=function(e){return e.getParam("indent_use_margin",!1)},Ky=function(e){return e.getParam("indentation","40px","string")},cx=function(e){var r=e.getParam("content_css");return Te(r)?st(r.split(","),Bn):be(r)?r:r===!1||e.inline?[]:["default"]},Xy=function(e){var r=e.getParam("font_css",[]);return be(r)?r:st(r.split(","),Bn)},Wf=function(e){return e.getParam("directionality",Il.isRtl()?"rtl":void 0)},Wv=function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},fx=function(e){var r=e.getParam("object_resizing");return r===!1||rr.iOS?!1:Te(r)?r:"table,img,figure.image,div,video,iframe"},dx=function(e){return e.getParam("resize_img_proportional",!0,"boolean")},Zy=function(e){return e.getParam("placeholder",BS.getAttrib(e.getElement(),"placeholder"),"string")},jv=function(e){return e.getParam("event_root")},vx=function(e){return e.getParam("service_message")},Wg=function(e){return e.getParam("theme")},VS=function(e){return e.getParam("validate")},g0=function(e){return e.getParam("inline_boundaries")!==!1},US=function(e){return e.getParam("formats")},Nm=function(e){var r=e.getParam("preview_styles",v0);return Te(r)?r:""},Mh=function(e){return e.getParam("format_empty_lines",!1,"boolean")},Jy=function(e){return e.getParam("custom_ui_selector","","string")},hx=function(e){return e.getParam("theme_url")},WS=function(e){return e.getParam("inline")},mx=function(e){return e.getParam("hidden_input")},gx=function(e){return e.getParam("submit_patch")},Qy=function(e){return e.getParam("encoding")==="xml"},jS=function(e){return e.getParam("add_form_submit_trigger")},q1=function(e){return e.getParam("add_unload_trigger")},YS=function(e){return yu(e)!==""},p0=function(e){return e.getParam("custom_undo_redo_levels",0,"number")},qS=function(e){return e.getParam("disable_nodechange")},GS=function(e){return e.getParam("readonly")},KS=function(e){return e.getParam("content_css_cors")},G1=function(e){return e.getParam("plugins","","string")},XS=function(e){return e.getParam("external_plugins")},jg=function(e){return e.getParam("block_unsupported_drop",!0,"boolean")},px=function(e){return e.getParam("visual",!0,"boolean")},ZS=function(e){return e.getParam("visual_table_class","mce-item-table","string")},e_=function(e){return e.getParam("visual_anchor_class","mce-item-anchor","string")},bx=function(e){return e.getParam("iframe_aria_text","Rich Text Area. Press ALT-0 for help.","string")},t_=Tr,yx=Rn,_x=function(e){var r=e.parentNode;r&&r.removeChild(e)},Yg=function(e){var r=Go(e);return{count:e.length-r.length,text:r}},n_=function(e){for(var r;(r=e.data.lastIndexOf(Je))!==-1;)e.deleteData(r,1)},b0=function(e,r){return Kd(e),r},wx=function(e,r){var s=Yg(e.data.substr(0,r.offset())),f=Yg(e.data.substr(r.offset())),h=s.text+f.text;return h.length>0?(n_(e),yt(e,r.offset()-s.count)):r},xx=function(e,r){var s=r.container(),f=jt(ya(s.childNodes),e).map(function(h){return h<r.offset()?yt(s,r.offset()-1):r}).getOr(r);return Kd(e),f},r_=function(e,r){return yx(e)&&r.container()===e?wx(e,r):b0(e,r)},JS=function(e,r){return r.container()===e.parentNode?xx(e,r):b0(e,r)},Cx=function(e,r){return yt.isTextPosition(r)?r_(e,r):JS(e,r)},Kd=function(e){t_(e)&&nl(e)&&(kv(e)?e.removeAttribute("data-mce-caret"):_x(e)),yx(e)&&(n_(e),e.data.length===0&&_x(e))},qg=qn().browser,Sx=Zi,QS=Du,Cc=wv,a_="*[contentEditable=false],video,audio,embed,object",i_=function(e,r,s){var f=N1(r.getBoundingClientRect(),s),h,b;if(e.tagName==="BODY"){var E=e.ownerDocument.documentElement;h=e.scrollLeft||E.scrollLeft,b=e.scrollTop||E.scrollTop}else{var O=e.getBoundingClientRect();h=e.scrollLeft-O.left,b=e.scrollTop-O.top}f.left+=h,f.right+=h,f.top+=b,f.bottom+=b,f.width=1;var R=r.offsetWidth-r.clientWidth;return R>0&&(s&&(R*=-1),f.left+=R,f.right+=R),f},Gg=function(e){for(var r=bu(Z.fromDom(e),a_),s=0;s<r.length;s++){var f=r[s].dom,h=f.previousSibling;if(Up(h)){var b=h.data;b.length===1?h.parentNode.removeChild(h):h.deleteData(b.length-1,1)}if(h=f.nextSibling,Vp(h)){var b=h.data;b.length===1?h.parentNode.removeChild(h):h.deleteData(0,1)}}},fl=function(e,r,s,f){var h=xh(),b,E,O=yu(e),R=O.length>0?O:"p",W=function(Ae,De){var Ve;if(ne(),Cc(De))return null;if(s(De)){E=wg(R,De,Ae);var Ne=i_(r,De,Ae);Yr(E).css("top",Ne.top);var ft=Yr('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(Kn({},Ne)).appendTo(r)[0];h.set({caret:ft,element:De,before:Ae}),Ae&&Yr(ft).addClass("mce-visual-caret-before"),ae(),Ve=De.ownerDocument.createRange(),Ve.setStart(E,0),Ve.setEnd(E,0)}else return E=vm(De,Ae),Ve=De.ownerDocument.createRange(),Rh(E.nextSibling)?(Ve.setStart(E,0),Ve.setEnd(E,0)):(Ve.setStart(E,1),Ve.setEnd(E,1)),Ve;return Ve},ne=function(){Gg(r),E&&(Kd(E),E=null),h.on(function(Ae){Yr(Ae.caret).remove(),h.clear()}),b&&(mu.clearInterval(b),b=void 0)},ae=function(){b=mu.setInterval(function(){f()?Yr("div.mce-visual-caret",r).toggleClass("mce-visual-caret-hidden"):Yr("div.mce-visual-caret",r).addClass("mce-visual-caret-hidden")},500)},ce=function(){h.on(function(Ae){var De=i_(r,Ae.element,Ae.before);Yr(Ae.caret).css(Kn({},De))})},we=function(){return mu.clearInterval(b)},Se=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"};return{show:W,hide:ne,getCss:Se,reposition:ce,destroy:we}},o_=function(){return qg.isIE()||qg.isEdge()||qg.isFirefox()},Rh=function(e){return Sx(e)||QS(e)},$m=function(e){return Rh(e)||go(e)&&o_()},Kg=Zi,e2=Du,Ex=kl("display","block table table-cell table-caption list-item"),s_=nl,Zl=Ci,Xg=Tr,t2=id,zm=function(e){return e>0},Ph=function(e){return e<0},Ih=function(e,r){for(var s;s=e(r);)if(!Zl(s))return s;return null},Xd=function(e,r,s,f,h){var b=new Wa(e,f),E=Kg(e)||Zl(e);if(Ph(r)){if(E&&(e=Ih(b.prev.bind(b),!0),s(e)))return e;for(;e=Ih(b.prev.bind(b),h);)if(s(e))return e}if(zm(r)){if(E&&(e=Ih(b.next.bind(b),!0),s(e)))return e;for(;e=Ih(b.next.bind(b),h);)if(s(e))return e}return null},hd=function(e,r){for(;e&&e!==r;){if(Ex(e))return e;e=e.parentNode}return null},md=function(e,r,s){return hd(e.container(),s)===hd(r.container(),s)},K1=function(e,r){if(!r)return null;var s=r.container(),f=r.offset();return Xg(s)?s.childNodes[f+e]:null},X1=function(e,r){var s=r.ownerDocument.createRange();return e?(s.setStartBefore(r),s.setEndBefore(r)):(s.setStartAfter(r),s.setEndAfter(r)),s},u_=function(e,r,s){return hd(r,e)===hd(s,e)},Zg=function(e,r,s){for(var f=e?"previousSibling":"nextSibling";s&&s!==r;){var h=s[f];if(s_(h)&&(h=h[f]),Kg(h)||e2(h)){if(u_(r,h,s))return h;break}if(t2(h))break;s=s.parentNode}return null},Jg=Ce(X1,!0),Qg=Ce(X1,!1),Bu=function(e,r,s){var f,h=Ce(Zg,!0,r),b=Ce(Zg,!1,r),E=s.startContainer,O=s.startOffset;if(Ci(E)){Xg(E)||(E=E.parentNode);var R=E.getAttribute("data-mce-caret");if(R==="before"&&(f=E.nextSibling,$m(f)))return Jg(f);if(R==="after"&&(f=E.previousSibling,$m(f)))return Qg(f)}if(!s.collapsed)return s;if(Rn(E)){if(s_(E)){if(e===1){if(f=b(E),f)return Jg(f);if(f=h(E),f)return Qg(f)}if(e===-1){if(f=h(E),f)return Qg(f);if(f=b(E),f)return Jg(f)}return s}if(Up(E)&&O>=E.data.length-1)return e===1&&(f=b(E),f)?Jg(f):s;if(Vp(E)&&O<=1)return e===-1&&(f=h(E),f)?Qg(f):s;if(O===E.data.length)return f=b(E),f?Jg(f):s;if(O===0)return f=h(E),f?Qg(f):s}return s},ep=function(e,r){return Ee.from(K1(e?0:-1,r)).filter(Kg)},tp=function(e,r,s){var f=Bu(e,r,s);return e===-1?yt.fromRangeStart(f):yt.fromRangeEnd(f)},Z1=function(e){return Ee.from(e.getNode()).map(Z.fromDom)},n2=function(e){return Ee.from(e.getNode(!0)).map(Z.fromDom)},l_=function(e,r){for(;r=e(r);)if(r.isVisible())return r;return r},J1=function(e,r){var s=md(e,r);return!s&&ui(e.getNode())?!0:s},_u;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(_u||(_u={}));var r2=Zi,Zd=Rn,Q1=Tr,c_=ui,np=id,_=pS,S=Ko,B=function(e,r){for(var s=[];e&&e!==r;)s.push(e),e=e.parentNode;return s},X=function(e,r){return e.hasChildNodes()&&r<e.childNodes.length?e.childNodes[r]:null},pe=function(e,r){if(zm(e)){if(np(r.previousSibling)&&!Zd(r.previousSibling))return yt.before(r);if(Zd(r))return yt(r,0)}if(Ph(e)){if(np(r.nextSibling)&&!Zd(r.nextSibling))return yt.after(r);if(Zd(r))return yt(r,r.data.length)}return Ph(e)?c_(r)?yt.before(r):yt.after(r):yt.before(r)},Be=function(e,r){var s=r.nextSibling;return s&&np(s)?Zd(s)?yt(s,0):yt.before(s):Ke(_u.Forwards,yt.after(r),e)},Ke=function(e,r,s){var f,h,b,E;if(!Q1(s)||!r)return null;if(r.isEqual(yt.after(s))&&s.lastChild){if(E=yt.after(s.lastChild),Ph(e)&&np(s.lastChild)&&Q1(s.lastChild))return c_(s.lastChild)?yt.before(s.lastChild):E}else E=r;var O=E.container(),R=E.offset();if(Zd(O)){if(Ph(e)&&R>0)return yt(O,--R);if(zm(e)&&R<O.length)return yt(O,++R);f=O}else{if(Ph(e)&&R>0&&(h=X(O,R-1),np(h)))return!_(h)&&(b=Xd(h,e,S,h),b)?Zd(b)?yt(b,b.data.length):yt.after(b):Zd(h)?yt(h,h.data.length):yt.before(h);if(zm(e)&&R<O.childNodes.length&&(h=X(O,R),np(h)))return c_(h)?Be(s,h):!_(h)&&(b=Xd(h,e,S,h),b)?Zd(b)?yt(b,0):yt.before(b):Zd(h)?yt(h,0):yt.after(h);f=h||E.getNode()}if((zm(e)&&E.isAtEnd()||Ph(e)&&E.isAtStart())&&(f=Xd(f,e,Dt,s,!0),S(f,s)))return pe(e,f);h=Xd(f,e,S,s);var W=su(pn(B(O,s),r2));return W&&(!h||!W.contains(h))?(zm(e)?E=yt.after(W):E=yt.before(W),E):h?pe(e,h):null},it=function(e){return{next:function(r){return Ke(_u.Forwards,r,e)},prev:function(r){return Ke(_u.Backwards,r,e)}}},bt=function(e,r,s){var f=e?yt.before(s):yt.after(s);return ea(e,r,f)},gn=function(e){return ui(e)?yt.before(e):yt.after(e)},bn=function(e){return yt.isTextPosition(e)?e.offset()===0:id(e.getNode())},Dn=function(e){if(yt.isTextPosition(e)){var r=e.container();return e.offset()===r.data.length}else return id(e.getNode(!0))},ir=function(e,r){return!yt.isTextPosition(e)&&!yt.isTextPosition(r)&&e.getNode()===r.getNode(!0)},Or=function(e){return!yt.isTextPosition(e)&&ui(e.getNode())},aa=function(e,r,s){return e?!ir(r,s)&&!Or(r)&&Dn(r)&&bn(s):!ir(s,r)&&bn(r)&&Dn(s)},ea=function(e,r,s){var f=it(r);return Ee.from(e?f.next(s):f.prev(s))},Hr=function(e,r,s){return ea(e,r,s).bind(function(f){return md(s,f,r)&&aa(e,s,f)?ea(e,r,f):Ee.some(f)})},ni=function(e,r,s,f){return Hr(e,r,s).bind(function(h){return f(h)?ni(e,r,h,f):Ee.some(h)})},Ua=function(e,r){var s=e?r.firstChild:r.lastChild;return Rn(s)?Ee.some(yt(s,e?0:s.data.length)):s?id(s)?Ee.some(e?yt.before(s):gn(s)):bt(e,r,s):Ee.none()},vs=Ce(ea,!0),es=Ce(ea,!1),io=Ce(Ua,!0),zi=Ce(Ua,!1),Jl="_mce_caret",dl=function(e){return Tr(e)&&e.id===Jl},Bh=function(e,r){for(;r&&r!==e;){if(r.id===Jl)return r;r=r.parentNode}return null},Vk=function(e){return Te(e.start)},Uk=function(e){return Ur(e,"rng")},DD=function(e){return Ur(e,"id")},MD=function(e){return Ur(e,"name")},Wk=function(e){return Tt.isArray(e.start)},jk=function(e,r){return Tr(r)&&e.isBlock(r)&&!r.innerHTML&&!rr.ie&&(r.innerHTML='<br data-mce-bogus="1" />'),r},Yk=function(e,r){var s,f=e.createRng();return s=Bm(e.getRoot(),r.start),f.setStart(s.container(),s.offset()),s=Bm(e.getRoot(),r.end),f.setEnd(s.container(),s.offset()),f},RD=function(e,r){var s=e.ownerDocument.createTextNode(Je);e.appendChild(s),r.setStart(s,0),r.setEnd(s,0)},qk=function(e){return e.hasChildNodes()===!1},PD=function(e,r){return zi(e).fold(dt,function(s){return r.setStart(s.container(),s.offset()),r.setEnd(s.container(),s.offset()),!0})},Gk=function(e,r,s){return qk(r)&&Bh(e,r)?(RD(r,s),!0):!1},Kk=function(e,r,s,f){var h=s[r?"start":"end"],b,E,O,R,W=e.getRoot();if(h){for(O=h[0],E=W,b=h.length-1;b>=1;b--){if(R=E.childNodes,Gk(W,E,f))return!0;if(h[b]>R.length-1)return Gk(W,E,f)?!0:PD(E,f);E=R[h[b]]}E.nodeType===3&&(O=Math.min(h[0],E.nodeValue.length)),E.nodeType===1&&(O=Math.min(h[0],E.childNodes.length)),r?f.setStart(E,O):f.setEnd(E,O)}return!0},a2=function(e){return Rn(e)&&e.data.length>0},Xk=function(e,r,s){var f=e.get(s.id+"_"+r),h,b,E,O,R=s.keep,W,ne;if(f){if(h=f.parentNode,r==="start"?(R?f.hasChildNodes()?(h=f.firstChild,b=1):a2(f.nextSibling)?(h=f.nextSibling,b=0):a2(f.previousSibling)?(h=f.previousSibling,b=f.previousSibling.data.length):(h=f.parentNode,b=e.nodeIndex(f)+1):b=e.nodeIndex(f),W=h,ne=b):(R?f.hasChildNodes()?(h=f.firstChild,b=1):a2(f.previousSibling)?(h=f.previousSibling,b=f.previousSibling.data.length):(h=f.parentNode,b=e.nodeIndex(f)):b=e.nodeIndex(f),W=h,ne=b),!R){for(O=f.previousSibling,E=f.nextSibling,Tt.each(Tt.grep(f.childNodes),function(ae){Rn(ae)&&(ae.nodeValue=ae.nodeValue.replace(/\uFEFF/g,""))});f=e.get(s.id+"_"+r);)e.remove(f,!0);O&&E&&O.nodeType===E.nodeType&&Rn(O)&&!rr.opera&&(b=O.nodeValue.length,O.appendData(E.nodeValue),e.remove(E),W=O,ne=b)}return Ee.some(yt(W,ne))}else return Ee.none()},ID=function(e,r){var s=e.createRng();return Kk(e,!0,r,s)&&Kk(e,!1,r,s)?Ee.some(s):Ee.none()},Ta=function(e,r){var s=Xk(e,"start",r),f=Xk(e,"end",r);return Mu(s,f.or(s),function(h,b){var E=e.createRng();return E.setStart(jk(e,h.container()),h.offset()),E.setEnd(jk(e,b.container()),b.offset()),E})},y0=function(e,r){return Ee.from(e.select(r.name)[r.index]).map(function(s){var f=e.createRng();return f.selectNode(s),f})},eb=function(e,r){var s=e.dom;if(r){if(Wk(r))return ID(s,r);if(Vk(r))return Ee.some(Yk(s,r));if(DD(r))return Ta(s,r);if(MD(r))return y0(s,r);if(Uk(r))return Ee.some(r.rng)}return Ee.none()},i2=function(e,r,s){return IS(e,r,s)},BD=function(e,r){eb(e,r).each(function(s){e.setRng(s)})},Gc=function(e){return Tr(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark"},LD=function(e){return function(r){return e===r}},_0=LD(cs),rp=function(e){return e!==""&&` \f
\r	\v`.indexOf(e)!==-1},kx=function(e){return!rp(e)&&!_0(e)},Tx=function(e){return!!e.nodeType},FD=function(e){return e&&/^(IMG)$/.test(e.nodeName)},Zk=function(e,r,s){var f=s.startOffset,h=s.startContainer;if(!(h===s.endContainer&&FD(h.childNodes[f]))&&Tr(h)){var b=h.childNodes,E=void 0;f<b.length?(h=b[f],E=new Wa(h,e.getParent(h,e.isBlock))):(h=b[b.length-1],E=new Wa(h,e.getParent(h,e.isBlock)),E.next(!0));for(var O=E.current();O;O=E.next())if(Rn(O)&&!Ox(O)){s.setStart(O,0),r.setRng(s);return}}},Ax=function(e,r,s){if(e){var f=r?"nextSibling":"previousSibling";for(e=s?e:e[f];e;e=e[f])if(Tr(e)||!Ox(e))return e}},o2=function(e,r){return Tx(r)&&(r=r.nodeName),!!e.schema.getTextBlockElements()[r.toLowerCase()]},tb=function(e,r,s){return e.schema.isValidChild(r,s)},Ox=function(e,r){if(r===void 0&&(r=!1),at(e)&&Rn(e)){var s=r?e.data.replace(/ /g," "):e.data;return zc(s)}else return!1},ND=function(e){return at(e)&&Rn(e)&&e.length===0},Lh=function(e,r){return K(e)?e=e(r):at(r)&&(e=e.replace(/%(\w+)/g,function(s,f){return r[f]||s})),e},s2=function(e,r){return e=e||"",r=r||"",e=""+(e.nodeName||e),r=""+(r.nodeName||r),e.toLowerCase()===r.toLowerCase()},u2=function(e,r,s){return(s==="color"||s==="backgroundColor")&&(r=e.toHex(r)),s==="fontWeight"&&r===700&&(r="bold"),s==="fontFamily"&&(r=r.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+r},nb=function(e,r,s){return u2(e,e.getStyle(r,s),s)},l2=function(e,r){var s;return e.getParent(r,function(f){return s=e.getStyle(f,"text-decoration"),s&&s!=="none"}),s},f_=function(e,r,s){return e.getParents(r,s,e.getRoot())},Jk=function(e,r){var s=function(f){var h=function(b){return b.length>1&&b.charAt(0)==="%"};return Qe(["styles","attributes"],function(b){return _a(f,b).exists(function(E){var O=be(E)?E:Mc(E);return Qe(O,h)})})};return Qe(e.formatter.get(r),s)},$D=function(e,r,s){var f=["inline","block","selector","attributes","styles","classes"],h=function(b){return Pi(b,function(E,O){return Qe(f,function(R){return R===O})})};return Qe(e.formatter.get(r),function(b){var E=h(b);return Qe(e.formatter.get(s),function(O){var R=h(O);return _l(E,R)})})},Fh=function(e){return Uo(e,"block")},mf=function(e){return Uo(e,"selector")},vl=function(e){return Uo(e,"inline")},zD=function(e){return mf(e)&&vl(e)&&xv(_a(e,"mixed"),!0)},c2=function(e){return mf(e)&&e.expand!==!1&&!vl(e)},rb=Gc,f2=f_,d_=Ox,d2=o2,HD=function(e){return ui(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling},Sn=function(e,r){for(var s=r;s;){if(Tr(s)&&e.getContentEditable(s))return e.getContentEditable(s)==="false"?s:r;s=s.parentNode}return r},au=function(e,r,s,f){for(var h=r.data,b=s;e?b>=0:b<h.length;e?b--:b++)if(f(h.charAt(b)))return e?b+1:b;return-1},ab=function(e,r,s){return au(e,r,s,function(f){return _0(f)||rp(f)})},Lu=function(e,r,s){return au(e,r,s,kx)},gd=function(e,r,s,f,h,b){var E,O=e.getParent(s,e.isBlock)||r,R=function(ne,ae,ce){var we=F1(e),Se=h?we.backwards:we.forwards;return Ee.from(Se(ne,ae,function(Ae,De){return rb(Ae.parentNode)?-1:(E=Ae,ce(h,Ae,De))},O))},W=R(s,f,ab);return W.bind(function(ne){return b?R(ne.container,ne.offset+(h?-1:0),Lu):Ee.some(ne)}).orThunk(function(){return E?Ee.some({container:E,offset:h?0:E.length}):Ee.none()})},v2=function(e,r,s,f,h){Rn(f)&&Ka(f.data)&&f[h]&&(f=f[h]);for(var b=f2(e,f),E=0;E<b.length;E++)for(var O=0;O<r.length;O++){var R=r[O];if(!(at(R.collapsed)&&R.collapsed!==s.collapsed)&&mf(R)&&e.is(b[E],R.selector))return b[E]}return f},v_=function(e,r,s,f){var h=s,b=e.dom,E=b.getRoot(),O=r[0];if(Fh(O)&&(h=O.wrapper?null:b.getParent(s,O.block,E)),!h){var R=b.getParent(s,"LI,TD,TH");h=b.getParent(Rn(s)?s.parentNode:s,function(W){return W!==E&&d2(e,W)},R)}if(h&&Fh(O)&&O.wrapper&&(h=f2(b,h,"ul,ol").reverse()[0]||h),!h)for(h=s;h[f]&&!b.isBlock(h[f])&&(h=h[f],!s2(h,"br")););return h||s},Dx=function(e,r,s,f){var h=s.parentNode;return at(s[f])?!1:h===r||lt(h)||e.isBlock(h)?!0:Dx(e,r,h,f)},Mx=function(e,r,s,f,h){var b=s,E=h?"previousSibling":"nextSibling",O=e.getRoot();if(Rn(s)&&!d_(s)&&(h?f>0:f<s.data.length))return s;for(;;){if(!r[0].block_expand&&e.isBlock(b))return b;for(var R=b[E];R;R=R[E]){var W=Rn(R)&&!Dx(e,O,R,E);if(!rb(R)&&!HD(R)&&!d_(R,W))return b}if(b===O||b.parentNode===O){s=b;break}b=b.parentNode}return s},Rx=function(e){return rb(e.parentNode)||rb(e)},ap=function(e,r,s,f){f===void 0&&(f=!1);var h=r.startContainer,b=r.startOffset,E=r.endContainer,O=r.endOffset,R=e.dom,W=s[0];if(Tr(h)&&h.hasChildNodes()&&(h=ao(h,b),Rn(h)&&(b=0)),Tr(E)&&E.hasChildNodes()&&(E=ao(E,r.collapsed?O:O-1),Rn(E)&&(O=E.nodeValue.length)),h=Sn(R,h),E=Sn(R,E),Rx(h)&&(h=rb(h)?h:h.parentNode,r.collapsed?h=h.previousSibling||h:h=h.nextSibling||h,Rn(h)&&(b=r.collapsed?h.length:0)),Rx(E)&&(E=rb(E)?E:E.parentNode,r.collapsed?E=E.nextSibling||E:E=E.previousSibling||E,Rn(E)&&(O=r.collapsed?0:E.length)),r.collapsed){var ne=gd(R,e.getBody(),h,b,!0,f);ne.each(function(ce){var we=ce.container,Se=ce.offset;h=we,b=Se});var ae=gd(R,e.getBody(),E,O,!1,f);ae.each(function(ce){var we=ce.container,Se=ce.offset;E=we,O=Se})}return(vl(W)||W.block_expand)&&((!vl(W)||!Rn(h)||b===0)&&(h=Mx(R,s,h,b,!0)),(!vl(W)||!Rn(E)||O===E.nodeValue.length)&&(E=Mx(R,s,E,O,!1))),c2(W)&&(h=v2(R,s,r,h,"previousSibling"),E=v2(R,s,r,E,"nextSibling")),(Fh(W)||mf(W))&&(h=v_(e,s,h,"previousSibling"),E=v_(e,s,E,"nextSibling"),Fh(W)&&(R.isBlock(h)||(h=Mx(R,s,h,b,!0)),R.isBlock(E)||(E=Mx(R,s,E,O,!1)))),Tr(h)&&(b=R.nodeIndex(h),h=h.parentNode),Tr(E)&&(O=R.nodeIndex(E)+1,E=E.parentNode),{startContainer:h,startOffset:b,endContainer:E,endOffset:O}},h_=function(e,r,s){var f=r.startOffset,h=ao(r.startContainer,f),b=r.endOffset,E=ao(r.endContainer,b-1),O=function(Ae){var De=Ae[0];Rn(De)&&De===h&&f>=De.data.length&&Ae.splice(0,1);var Ve=Ae[Ae.length-1];return b===0&&Ae.length>0&&Ve===E&&Rn(Ve)&&Ae.splice(Ae.length-1,1),Ae},R=function(Ae,De,Ve){for(var Ne=[];Ae&&Ae!==Ve;Ae=Ae[De])Ne.push(Ae);return Ne},W=function(Ae,De){return e.getParent(Ae,function(Ve){return Ve.parentNode===De},De)},ne=function(Ae,De,Ve){for(var Ne=Ve?"nextSibling":"previousSibling",ft=Ae,ot=ft.parentNode;ft&&ft!==De;ft=ot){ot=ft.parentNode;var je=R(ft===Ae?ft:ft[Ne],Ne);je.length&&(Ve||je.reverse(),s(O(je)))}};if(h===E)return s(O([h]));var ae=e.findCommonAncestor(h,E);if(e.isChildOf(h,E))return ne(h,ae,!0);if(e.isChildOf(E,h))return ne(E,ae);var ce=W(h,ae)||h,we=W(E,ae)||E;ne(h,ce,!0);var Se=R(ce===h?ce:ce.nextSibling,"nextSibling",we===E?we.nextSibling:we);Se.length&&s(O(Se)),ne(E,we)},h2=function(e){var r=[];if(e)for(var s=0;s<e.rangeCount;s++)r.push(e.getRangeAt(s));return r},m2=function(e){return ns(e,function(r){var s=Rm(r);return s?[Z.fromDom(s)]:[]})},g2=function(e){return h2(e).length>1},VD=function(e){return pn(m2(e),Bf)},Qk=function(e){return bu(e,"td[data-mce-selected],th[data-mce-selected]")},Hm=function(e,r){var s=Qk(r);return s.length>0?s:VD(e)},Nh=function(e){return Hm(h2(e.selection.getSel()),Z.fromDom(e.getBody()))},w0=function(e,r){return dm(e,"table",r)},ib=function(e){var r=e.startContainer,s=e.startOffset;return Rn(r)?s===0?Ee.some(Z.fromDom(r)):Ee.none():Ee.from(r.childNodes[s]).map(Z.fromDom)},p2=function(e){var r=e.endContainer,s=e.endOffset;return Rn(r)?s===r.data.length?Ee.some(Z.fromDom(r)):Ee.none():Ee.from(r.childNodes[s-1]).map(Z.fromDom)},Px=function(e){return ss(e).fold(Y([e]),function(r){return[e].concat(Px(r))})},$h=function(e){return cc(e).fold(Y([e]),function(r){return Di(r)==="br"?pv(r).map(function(s){return[e].concat($h(s))}).getOr([]):[e].concat($h(r))})},Jd=function(e,r){return Mu(ib(r),p2(r),function(s,f){var h=ba(Px(e),Ce(yr,s)),b=ba($h(e),Ce(yr,f));return h.isSome()&&b.isSome()}).getOr(!1)},ip=function(e,r,s,f){var h=s,b=new Wa(s,h),E=Pi(e.schema.getMoveCaretBeforeOnEnterElements(),function(O,R){return!kt(["td","th","table"],R.toLowerCase())});do{if(Rn(s)&&Tt.trim(s.nodeValue).length!==0){f?r.setStart(s,0):r.setEnd(s,s.nodeValue.length);return}if(E[s.nodeName]){f?r.setStartBefore(s):s.nodeName==="BR"?r.setEndBefore(s):r.setEndAfter(s);return}}while(s=f?b.next():b.prev());h.nodeName==="BODY"&&(f?r.setStart(h,0):r.setEnd(h,h.childNodes.length))},op=function(e){var r=e.selection.getSel();return r&&r.rangeCount>0},x0=function(e,r){var s=Nh(e);s.length>0?vt(s,function(f){var h=f.dom,b=e.dom.createRng();b.setStartBefore(h),b.setEndAfter(h),r(b,!0)}):r(e.selection.getRng(),!1)},ob=function(e,r,s){var f=jy(e,r);s(f),e.moveToBookmark(f)},b2=function(e,r){var s=function(b){if(!e(b))throw new Error("Can only get "+r+" value of a "+r+" node");return f(b).getOr("")},f=function(b){return e(b)?Ee.from(b.dom.nodeValue):Ee.none()},h=function(b,E){if(!e(b))throw new Error("Can only set raw "+r+" value of a "+r+" node");b.dom.nodeValue=E};return{get:s,getOption:f,set:h}},y2=b2(to,"text"),_2=function(e){return y2.get(e)},Ix=function(e){return to(e)&&_2(e)===Je},hl=function(e,r,s,f){return Vi(r).fold(function(){return"skipping"},function(h){return f==="br"||Ix(r)?"valid":Hv(r)?"existing":dl(r.dom)?"caret":!tb(e,s,f)||!tb(e,Di(h),s)?"invalid-child":"valid"})},jf=function(e,r){var s=ap(e,r,[{inline:"span"}]);r.setStart(s.startContainer,s.startOffset),r.setEnd(s.endContainer,s.endOffset),e.selection.setRng(r)},pd=function(e,r,s,f){var h=r.uid,b=h===void 0?nx("mce-annotation"):h,E=ac(r,["uid"]),O=Z.fromTag("span",e);Am(O,wc()),U(O,""+Cs(),b),U(O,""+Ch(),s);var R=f(b,E),W=R.attributes,ne=W===void 0?{}:W,ae=R.classes,ce=ae===void 0?[]:ae;return re(O,ne),AS(O,ce),O},zh=function(e,r,s,f,h){var b=[],E=pd(e.getDoc(),h,s,f),O=xh(),R=function(){O.clear()},W=function(){return O.get().getOrThunk(function(){var we=Zo(E);return b.push(we),O.set(we),we})},ne=function(we){vt(we,ae)},ae=function(we){var Se=hl(e,we,"span",Di(we));switch(Se){case"invalid-child":{R();var Ae=el(we);ne(Ae),R();break}case"valid":{var De=W();Of(we,De);break}}},ce=function(we){var Se=st(we,Z.fromDom);ne(Se)};return h_(e.dom,r,function(we){R(),ce(we)}),b},sb=function(e,r,s,f){e.undoManager.transact(function(){var h=e.selection,b=h.getRng(),E=Nh(e).length>0;if(b.collapsed&&!E&&jf(e,b),h.getRng().collapsed&&!E){var O=pd(e.getDoc(),f,r,s.decorate);il(O,cs),h.getRng().insertNode(O.dom),h.select(O.dom)}else ob(h,!1,function(){x0(e,function(R){zh(e,R,r,s.decorate,f)})})})},Bx=function(e){var r=o0();Ly(e,r);var s=tx(e);return{register:function(f,h){r.register(f,h)},annotate:function(f,h){r.lookup(f).each(function(b){sb(e,f,b,h)})},annotationChanged:function(f,h){s.addListener(f,h)},remove:function(f){B1(e,Ee.some(f)).each(function(h){var b=h.elements;vt(b,oa)})},getAll:function(f){var h=By(e,f);return Ds(h,function(b){return st(b,function(E){return E.dom})})}}},sp=function(e){return{getBookmark:Ce(i2,e),moveToBookmark:Ce(BD,e)}};sp.isBookmarkNode=Gc;var C0=function(e,r){for(;r&&r!==e;){if(Df(r)||Zi(r))return r;r=r.parentNode}return null},S0=function(e,r,s){if(s.collapsed)return!1;if(rr.browser.isIE()&&s.startOffset===s.endOffset-1&&s.startContainer===s.endContainer){var f=s.startContainer.childNodes[s.startOffset];if(Tr(f))return Qe(f.getClientRects(),function(h){return $1(h,e,r)})}return Qe(s.getClientRects(),function(h){return $1(h,e,r)})},UD=function(e,r){return e.fire("PreProcess",r)},w2=function(e,r){return e.fire("PostProcess",r)},eT=function(e){return e.fire("remove")},tT=function(e){return e.fire("detach")},x2=function(e,r){return e.fire("SwitchMode",{mode:r})},C2=function(e,r,s,f,h){e.fire("ObjectResizeStart",{target:r,width:s,height:f,origin:h})},Ai=function(e,r,s,f,h){e.fire("ObjectResized",{target:r,width:s,height:f,origin:h})},Hh=function(e){return e.fire("PreInit")},nT=function(e){return e.fire("PostRender")},rT=function(e){return e.fire("Init")},aT=function(e,r){return e.fire("PlaceholderToggle",{state:r})},Lx=function(e,r,s){return e.fire(r,s)},S2=function(e,r,s,f){return e.fire("FormatApply",{format:r,node:s,vars:f})},m_=function(e,r,s,f){return e.fire("FormatRemove",{format:r,node:s,vars:f})},pr={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||pr.metaKeyPressed(e)},metaKeyPressed:function(e){return rr.mac?e.metaKey:e.ctrlKey&&!e.altKey}},WD=Zi,E2=function(e,r){var s="data-mce-selected",f=r.dom,h=Tt.each,b,E,O,R,W,ne,ae,ce,we,Se,Ae,De,Ve,Ne,ft,ot=r.getDoc(),je=document,ht=Math.abs,Bt=Math.round,en=r.getBody(),gr,In,Wt={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},hr=function(mt){return mt&&(mt.nodeName==="IMG"||r.dom.is(mt,"figure.image"))},on=function(mt){return Du(mt)||f.hasClass(mt,"mce-preview-object")},Mn=function(mt,an){if(mt.type==="longpress"||mt.type.indexOf("touch")===0){var Zt=mt.touches[0];return hr(mt.target)&&!S0(Zt.clientX,Zt.clientY,an)}else return hr(mt.target)&&!S0(mt.clientX,mt.clientY,an)},cn=function(mt){var an=mt.target;Mn(mt,r.selection.getRng())&&!mt.isDefaultPrevented()&&r.selection.select(an)},yn=function(mt){return f.is(mt,"figure.image")?[mt.querySelector("img")]:f.hasClass(mt,"mce-preview-object")&&at(mt.firstElementChild)?[mt,mt.firstElementChild]:[mt]},Hn=function(mt){var an=fx(r);return!an||mt.getAttribute("data-mce-resize")==="false"||mt===r.getBody()?!1:f.hasClass(mt,"mce-preview-object")?On(Z.fromDom(mt.firstElementChild),an):On(Z.fromDom(mt),an)},Gt=function(mt){return on(mt)?f.create("img",{src:rr.transparentSrc}):mt.cloneNode(!0)},Ln=function(mt,an,Zt){if(at(Zt)){var or=yn(mt);vt(or,function(dr){dr.style[an]||!r.schema.isValid(dr.nodeName.toLowerCase(),an)?f.setStyle(dr,an,Zt):f.setAttrib(dr,an,""+Zt)})}},va=function(mt,an,Zt){Ln(mt,"width",an),Ln(mt,"height",Zt)},ai=function(mt){var an,Zt,or,dr,Hi;an=mt.screenX-ne,Zt=mt.screenY-ae,Ne=an*R[2]+Se,ft=Zt*R[3]+Ae,Ne=Ne<5?5:Ne,ft=ft<5?5:ft,(hr(b)||on(b))&&dx(r)!==!1?or=!pr.modifierPressed(mt):or=pr.modifierPressed(mt),or&&(ht(an)>ht(Zt)?(ft=Bt(Ne*De),Ne=Bt(ft/De)):(Ne=Bt(ft/De),ft=Bt(Ne*De))),va(E,Ne,ft),dr=R.startPos.x+an,Hi=R.startPos.y+Zt,dr=dr>0?dr:0,Hi=Hi>0?Hi:0,f.setStyles(O,{left:dr,top:Hi,display:"block"}),O.innerHTML=Ne+" &times; "+ft,R[2]<0&&E.clientWidth<=Ne&&f.setStyle(E,"left",ce+(Se-Ne)),R[3]<0&&E.clientHeight<=ft&&f.setStyle(E,"top",we+(Ae-ft)),an=en.scrollWidth-gr,Zt=en.scrollHeight-In,an+Zt!==0&&f.setStyles(O,{left:dr-an,top:Hi-Zt}),Ve||(C2(r,b,Se,Ae,"corner-"+R.name),Ve=!0)},ti=function(){var mt=Ve;Ve=!1,mt&&(Ln(b,"width",Ne),Ln(b,"height",ft)),f.unbind(ot,"mousemove",ai),f.unbind(ot,"mouseup",ti),je!==ot&&(f.unbind(je,"mousemove",ai),f.unbind(je,"mouseup",ti)),f.remove(E),f.remove(O),f.remove(W),gl(b),mt&&(Ai(r,b,Ne,ft,"corner-"+R.name),f.setAttrib(b,"style",f.getAttrib(b,"style"))),r.nodeChanged()},gl=function(mt){Xt();var an=f.getPos(mt,en),Zt=an.x,or=an.y,dr=mt.getBoundingClientRect(),Hi=dr.width||dr.right-dr.left,xu=dr.height||dr.bottom-dr.top;b!==mt&&(No(),b=mt,Ne=ft=0);var iu=r.fire("ObjectSelected",{target:mt}),H0=f.getAttrib(b,s,"1");Hn(mt)&&!iu.isDefaultPrevented()?h(Wt,function(Jc,Tc){var Hu,iv=function(Qc){var tm=yn(b)[0];ne=Qc.screenX,ae=Qc.screenY,Se=tm.clientWidth,Ae=tm.clientHeight,De=Ae/Se,R=Jc,R.name=Tc,R.startPos={x:Hi*Jc[0]+Zt,y:xu*Jc[1]+or},gr=en.scrollWidth,In=en.scrollHeight,W=f.add(en,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),f.setStyles(W,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),E=Gt(b),f.addClass(E,"mce-clonedresizable"),f.setAttrib(E,"data-mce-bogus","all"),E.contentEditable="false",f.setStyles(E,{left:Zt,top:or,margin:0}),va(E,Hi,xu),E.removeAttribute(s),en.appendChild(E),f.bind(ot,"mousemove",ai),f.bind(ot,"mouseup",ti),je!==ot&&(f.bind(je,"mousemove",ai),f.bind(je,"mouseup",ti)),O=f.add(en,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},Se+" &times; "+Ae)};Hu=f.get("mceResizeHandle"+Tc),Hu&&f.remove(Hu),Hu=f.add(en,"div",{id:"mceResizeHandle"+Tc,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Tc+"-resize; margin:0; padding:0"}),rr.ie===11&&(Hu.contentEditable=!1),f.bind(Hu,"mousedown",function(Qc){Qc.stopImmediatePropagation(),Qc.preventDefault(),iv(Qc)}),Jc.elm=Hu,f.setStyles(Hu,{left:Hi*Jc[0]+Zt-Hu.offsetWidth/2,top:xu*Jc[1]+or-Hu.offsetHeight/2})}):No(),f.getAttrib(b,s)||b.setAttribute(s,H0)},No=function(){Xt(),b&&b.removeAttribute(s),ia(Wt,function(mt,an){var Zt=f.get("mceResizeHandle"+an);Zt&&(f.unbind(Zt),f.remove(Zt))})},Zc=function(mt){var an,Zt,or=function(dr,Hi){if(dr)do if(dr===Hi)return!0;while(dr=dr.parentNode)};if(!(Ve||r.removed)){if(h(f.select("img[data-mce-selected],hr[data-mce-selected]"),function(dr){dr.removeAttribute(s)}),Zt=mt.type==="mousedown"?mt.target:e.getNode(),Zt=f.$(Zt).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],or(Zt,en)&&(fn(),an=e.getStart(!0),or(an,Zt)&&or(e.getEnd(!0),Zt))){gl(Zt);return}No()}},_f=function(mt){return WD(C0(r.getBody(),mt))},Xt=function(){ia(Wt,function(mt){mt.elm&&(f.unbind(mt.elm),delete mt.elm)})},fn=function(){try{r.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};r.on("init",function(){if(fn(),rr.browser.isIE()||rr.browser.isEdge()){r.on("mousedown click",function(Zt){var or=Zt.target,dr=or.nodeName;!Ve&&/^(TABLE|IMG|HR)$/.test(dr)&&!_f(or)&&(Zt.button!==2&&r.selection.select(or,dr==="TABLE"),Zt.type==="mousedown"&&r.nodeChanged())});var mt=function(Zt){var or=function(dr){mu.setEditorTimeout(r,function(){return r.selection.select(dr)})};if(_f(Zt.target)||Du(Zt.target)){Zt.preventDefault(),or(Zt.target);return}/^(TABLE|IMG|HR)$/.test(Zt.target.nodeName)&&(Zt.preventDefault(),Zt.target.tagName==="IMG"&&or(Zt.target))};f.bind(en,"mscontrolselect",mt),r.on("remove",function(){return f.unbind(en,"mscontrolselect",mt)})}var an=mu.throttle(function(Zt){r.composing||Zc(Zt)});r.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",an),r.on("keyup compositionend",function(Zt){b&&b.nodeName==="TABLE"&&an(Zt)}),r.on("hide blur",No),r.on("contextmenu longpress",cn,!0)}),r.on("remove",Xt);var nr=function(){b=E=W=null};return{isResizable:Hn,showResizeRect:gl,hideResizeRect:No,updateResizeRect:Zc,destroy:nr}},iT=function(e){return Df(e)||Zi(e)},k2=function(e,r,s){for(;e&&e!==r;){if(s(e))return e;e=e.parentNode}return null},jD=function(e,r,s){var f,h=s.elementFromPoint(e,r),b=s.body.createTextRange();if((!h||h.tagName==="HTML")&&(h=s.body),b.moveToElementText(h),f=Tt.toArray(b.getClientRects()),f=f.sort(function(E,O){return E=Math.abs(Math.max(E.top-r,E.bottom-r)),O=Math.abs(Math.max(O.top-r,O.bottom-r)),E-O}),f.length>0){r=(f[0].bottom+f[0].top)/2;try{return b.moveToPoint(e,r),b.collapse(!0),b}catch{}}return null},oT=function(e,r){var s=e&&e.parentElement?e.parentElement():null;return Zi(k2(s,r,iT))?null:e},T2=function(e,r,s){var f,h,b=s;if(b.caretPositionFromPoint)h=b.caretPositionFromPoint(e,r),h&&(f=s.createRange(),f.setStart(h.offsetNode,h.offset),f.collapse(!0));else if(b.caretRangeFromPoint)f=b.caretRangeFromPoint(e,r);else if(b.body.createTextRange){f=b.body.createTextRange();try{f.moveToPoint(e,r),f.collapse(!0)}catch{f=jD(e,r,s)}return oT(f,s.body)}return f},A2=function(e,r){return e&&r&&e.startContainer===r.startContainer&&e.startOffset===r.startOffset&&e.endContainer===r.endContainer&&e.endOffset===r.endOffset},YD=function(e,r,s){for(;e&&e!==r;){if(s(e))return e;e=e.parentNode}return null},Yf=function(e,r,s){return YD(e,r,s)!==null},Sc=function(e,r,s){return Yf(e,r,function(f){return f.nodeName===s})},Vh=function(e){return e&&e.nodeName==="TABLE"},qD=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},GD=function(e,r){return nl(e)&&Yf(e,r,dl)===!1},O2=function(e,r,s){for(var f=new Wa(r,e.getParent(r.parentNode,e.isBlock)||e.getRoot());r=f[s?"prev":"next"]();)if(ui(r))return!0},fa=function(e,r){return e.previousSibling&&e.previousSibling.nodeName===r},KD=function(e,r){for(;r&&r!==e;){if(Zi(r))return!0;r=r.parentNode}return!1},Fx=function(e,r,s,f,h){var b,E=e.getRoot(),O,R=e.schema.getNonEmptyElements(),W=e.getParent(h.parentNode,e.isBlock)||E;if(f&&ui(h)&&r&&e.isEmpty(W))return Ee.some(yt(h.parentNode,e.nodeIndex(h)));for(var ne=new Wa(h,W);O=ne[f?"prev":"next"]();){if(e.getContentEditableParent(O)==="false"||GD(O,E))return Ee.none();if(Rn(O)&&O.nodeValue.length>0)return Sc(O,E,"A")===!1?Ee.some(yt(O,f?O.nodeValue.length:0)):Ee.none();if(e.isBlock(O)||R[O.nodeName.toLowerCase()])return Ee.none();b=O}return s&&b?Ee.some(yt(b,0)):Ee.none()},Nx=function(e,r,s,f){var h,b,E=e.getRoot(),O,R,W=!1;h=f[(s?"start":"end")+"Container"],b=f[(s?"start":"end")+"Offset"];var ne=Tr(h)&&b===h.childNodes.length,ae=e.schema.getNonEmptyElements();if(R=s,nl(h))return Ee.none();if(Tr(h)&&b>h.childNodes.length-1&&(R=!1),_v(h)&&(h=E,b=0),h===E){if(R&&(O=h.childNodes[b>0?b-1:0],O&&(nl(O)||ae[O.nodeName]||Vh(O))))return Ee.none();if(h.hasChildNodes()){if(b=Math.min(!R&&b>0?b-1:b,h.childNodes.length-1),h=h.childNodes[b],b=Rn(h)&&ne?h.data.length:0,!r&&h===E.lastChild&&Vh(h)||KD(E,h)||nl(h))return Ee.none();if(h.hasChildNodes()&&Vh(h)===!1){O=h;var ce=new Wa(h,E);do{if(Zi(O)||nl(O)){W=!1;break}if(Rn(O)&&O.nodeValue.length>0){b=R?0:O.nodeValue.length,h=O,W=!0;break}if(ae[O.nodeName.toLowerCase()]&&!qD(O)){b=e.nodeIndex(O),h=O.parentNode,R||b++,W=!0;break}}while(O=R?ce.next():ce.prev())}}}return r&&(Rn(h)&&b===0&&Fx(e,ne,r,!0,h).each(function(we){h=we.container(),b=we.offset(),W=!0}),Tr(h)&&(O=h.childNodes[b],O||(O=h.childNodes[b-1]),O&&ui(O)&&!fa(O,"A")&&!O2(e,O,!1)&&!O2(e,O,!0)&&Fx(e,ne,r,!0,O).each(function(we){h=we.container(),b=we.offset(),W=!0}))),R&&!r&&Rn(h)&&b===h.nodeValue.length&&Fx(e,ne,r,!1,h).each(function(we){h=we.container(),b=we.offset(),W=!0}),W?Ee.some(yt(h,b)):Ee.none()},$x=function(e,r){var s=r.collapsed,f=r.cloneRange(),h=yt.fromRangeStart(r);return Nx(e,s,!0,f).each(function(b){(!s||!yt.isAbove(h,b))&&f.setStart(b.container(),b.offset())}),s||Nx(e,s,!1,f).each(function(b){f.setEnd(b.container(),b.offset())}),s&&f.collapse(!0),A2(r,f)?Ee.none():Ee.some(f)},g_=function(e,r){return e.splitText(r)},Vm=function(e){var r=e.startContainer,s=e.startOffset,f=e.endContainer,h=e.endOffset;return r===f&&Rn(r)?s>0&&s<r.nodeValue.length&&(f=g_(r,s),r=f.previousSibling,h>s?(h=h-s,r=f=g_(f,h).previousSibling,h=f.nodeValue.length,s=0):h=0):(Rn(r)&&s>0&&s<r.nodeValue.length&&(r=g_(r,s),s=0),Rn(f)&&h>0&&h<f.nodeValue.length&&(f=g_(f,h).previousSibling,h=f.nodeValue.length)),{startContainer:r,startOffset:s,endContainer:f,endOffset:h}},p_=function(e){var r=function(h,b){return h_(e,h,b)},s=Vm,f=function(h){return $x(e,h).fold(dt,function(b){return h.setStart(b.startContainer,b.startOffset),h.setEnd(b.endContainer,b.endOffset),!0})};return{walk:r,split:s,normalize:f}};p_.compareRanges=A2,p_.getCaretRangeFromPoint=T2,p_.getSelectedNode=Rm,p_.getNode=ao;var XD=function(e,r){var s=function(O,R){if(!de(R)&&!R.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+R);var W=O.dom;ga(W)&&(W.style[e]=R+"px")},f=function(O){var R=r(O);if(R<=0||R===null){var W=zr(O,e);return parseFloat(W)||0}return R},h=f,b=function(O,R){return xr(R,function(W,ne){var ae=zr(O,ne),ce=ae===void 0?0:parseInt(ae,10);return isNaN(ce)?W:W+ce},0)},E=function(O,R,W){var ne=b(O,W),ae=R>ne?R-ne:0;return ae};return{set:s,get:f,getOuter:h,aggregate:b,max:E}},sT=XD("height",function(e){var r=e.dom;return si(e)?r.getBoundingClientRect().height:r.offsetHeight}),D2=function(e){return sT.get(e)},up=function(e,r){var s=e.view(r);return s.fold(Y([]),function(f){var h=e.owner(f),b=up(e,h);return[f].concat(b)})},zx=function(e,r){var s=r.owner(e);return up(r,s)},uT=function(e){var r,s=e.dom===document?Ee.none():Ee.from((r=e.dom.defaultView)===null||r===void 0?void 0:r.frameElement);return s.map(Z.fromDom)},ZD=function(e){return _r(e)},JD=Object.freeze({__proto__:null,view:uT,owner:ZD}),QD=function(e){var r=Z.fromDom(document),s=mg(r),f=zx(e,JD),h=Ou(e),b=Er(f,function(E,O){var R=Ou(O);return{left:E.left+R.left,top:E.top+R.top}},{left:0,top:0});return pi(b.left+h.left+s.left,b.top+h.top+s.top)},E0=function(e){return Di(e)==="textarea"},M2=function(e,r){var s=e.fire("ScrollIntoView",r);return s.isDefaultPrevented()},cr=function(e,r){e.fire("AfterScrollIntoView",r)},lT=function(e,r){var s=el(e);if(s.length===0||E0(e))return{element:e,offset:r};if(r<s.length&&!E0(s[r]))return{element:s[r],offset:0};var f=s[s.length-1];return E0(f)?{element:e,offset:r}:Di(f)==="img"?{element:f,offset:1}:to(f)?{element:f,offset:_2(f).length}:{element:f,offset:el(f).length}},cT=function(e,r){var s=Za(e),f=D2(e);return{element:e,bottom:s.top+f,height:f,pos:s,cleanup:r}},eM=function(e,r){var s=lT(e,r),f=Z.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Je+"</span>");return du(s.element,f),cT(f,function(){return Nn(f)})},b_=function(e){return cT(Z.fromDom(e),ve)},Ql=function(e,r,s,f){R2(e,function(h,b){return tM(e,r,s,f)},s)},y_=function(e,r,s,f,h){var b={elm:f.element.dom,alignToTop:h};if(!M2(e,b)){var E=mg(r).top;s(r,E,f,h),cr(e,b)}},tM=function(e,r,s,f){var h=Z.fromDom(e.getBody()),b=Z.fromDom(e.getDoc());lS(h);var E=eM(Z.fromDom(s.startContainer),s.startOffset);y_(e,b,r,E,f),E.cleanup()},fT=function(e,r,s,f){var h=Z.fromDom(e.getDoc());y_(e,h,s,b_(r),f)},R2=function(e,r,s){var f=s.startContainer,h=s.startOffset,b=s.endContainer,E=s.endOffset;r(Z.fromDom(f),Z.fromDom(b));var O=e.dom.createRng();O.setStart(f,h),O.setEnd(b,E),e.selection.setRng(s)},P2=function(e,r,s,f){var h=e.pos;if(s)vu(h.left,h.top,f);else{var b=h.top-r+e.height;vu(h.left,b,f)}},dT=function(e,r,s,f,h){var b=s+r,E=f.pos.top,O=f.bottom,R=O-E>=s;if(E<r)P2(f,s,h!==!1,e);else if(E>b){var W=R?h!==!1:h===!0;P2(f,s,W,e)}else O>b&&!R&&P2(f,s,h===!0,e)},I2=function(e,r,s,f){var h=e.dom.defaultView.innerHeight;dT(e,r,h,s,f)},B2=function(e,r,s,f){var h=e.dom.defaultView.innerHeight;dT(e,r,h,s,f);var b=QD(s.element),E=yv(window);b.top<E.y?bv(s.element,f!==!1):b.top>E.bottom&&bv(s.element,f===!0)},Um=function(e,r,s){return Ql(e,I2,r,s)},nM=function(e,r,s){return fT(e,r,I2,s)},rM=function(e,r,s){return Ql(e,B2,r,s)},vT=function(e,r,s){return fT(e,r,B2,s)},aM=function(e,r,s){var f=e.inline?nM:vT;f(e,r,s)},__=function(e,r,s){var f=e.inline?Um:rM;f(e,r,s)},ri=function(){return Z.fromDom(document)},Hx=function(e){return e.dom.focus()},Wm=function(e){var r=Sl(e).dom;return e.dom===r.activeElement},Qd=function(e){return e===void 0&&(e=ri()),Ee.from(e.dom.activeElement).map(Z.fromDom)},lp=function(e){return Qd(Sl(e)).filter(function(r){return e.dom.contains(r.dom)})},Kc=function(e,r,s,f){return{start:e,soffset:r,finish:s,foffset:f}},Vx={create:Kc},k0=Jn.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),ub=function(e,r,s,f){return e.fold(r,s,f)},cp=function(e){return e.fold($e,$e,$e)},iM=k0.before,hT=k0.on,oM=k0.after,sM={before:iM,on:hT,after:oM,cata:ub,getStart:cp},ua=Jn.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),ev=function(e){return ua.exact(e.start,e.soffset,e.finish,e.foffset)},lb=function(e){return e.match({domRange:function(r){return Z.fromDom(r.startContainer)},relative:function(r,s){return sM.getStart(r)},exact:function(r,s,f,h){return r}})},mT=ua.domRange,w_=ua.relative,Aa=ua.exact,gT=function(e){var r=lb(e);return no(r)},pT=Vx.create,x_={domRange:mT,relative:w_,exact:Aa,exactFromRange:ev,getWin:gT,range:pT},bT=qn().browser,C_=function(e,r){var s=to(r)?_2(r).length:el(r).length+1;return e>s?s:e<0?0:e},T0=function(e){return x_.range(e.start,C_(e.soffset,e.start),e.finish,C_(e.foffset,e.finish))},L2=function(e,r){return!uf(r.dom)&&(La(e,r)||yr(e,r))},F2=function(e){return function(r){return L2(e,r.start)&&L2(e,r.finish)}},yT=function(e){return e.inline===!0||bT.isIE()},_T=function(e){return x_.range(Z.fromDom(e.startContainer),e.startOffset,Z.fromDom(e.endContainer),e.endOffset)},fp=function(e){var r=e.getSelection(),s=!r||r.rangeCount===0?Ee.none():Ee.from(r.getRangeAt(0));return s.map(_T)},A0=function(e){var r=no(e);return fp(r.dom).filter(F2(e))},N2=function(e,r){return Ee.from(r).filter(F2(e)).map(T0)},wT=function(e){var r=document.createRange();try{return r.setStart(e.start.dom,e.soffset),r.setEnd(e.finish.dom,e.foffset),Ee.some(r)}catch{return Ee.none()}},Ux=function(e){var r=yT(e)?A0(Z.fromDom(e.getBody())):Ee.none();e.bookmark=r.isSome()?r:e.bookmark},uM=function(e,r){var s=Z.fromDom(e.getBody()),f=yT(e)?Ee.from(r):Ee.none(),h=f.map(_T).filter(F2(s));e.bookmark=h.isSome()?h:e.bookmark},cb=function(e){var r=e.bookmark?e.bookmark:Ee.none();return r.bind(function(s){return N2(Z.fromDom(e.getBody()),s)}).bind(wT)},$2=function(e){cb(e).each(function(r){return e.selection.setRng(r)})},z2=function(e){var r=e.className.toString();return r.indexOf("tox-")!==-1||r.indexOf("mce-")!==-1},xT={isEditorUIElement:z2},H2=function(e){return e.type==="nodechange"&&e.selectionChange},Wx=function(e,r){var s=function(){r.throttle()};Wi.DOM.bind(document,"mouseup",s),e.on("remove",function(){Wi.DOM.unbind(document,"mouseup",s)})},jx=function(e){e.on("focusout",function(){Ux(e)})},V2=function(e,r){e.on("mouseup touchend",function(s){r.throttle()})},U2=function(e,r){var s=qn().browser;s.isIE()?jx(e):V2(e,r),e.on("keyup NodeChange",function(f){H2(f)||Ux(e)})},CT=function(e){var r=M1(function(){Ux(e)},0);e.on("init",function(){e.inline&&Wx(e,r),U2(e,r)}),e.on("remove",function(){r.cancel()})},O0,fb=Wi.DOM,ST=function(e){return xT.isEditorUIElement(e)},ET=function(e){var r=e.classList;return r!==void 0?r.contains("tox-edit-area")||r.contains("tox-edit-area__iframe")||r.contains("mce-content-body"):!1},Yx=function(e,r){var s=Jy(e),f=fb.getParent(r,function(h){return ST(h)||(s?e.dom.is(h,s):!1)});return f!==null},kT=function(e){try{var r=Sl(Z.fromDom(e.getElement()));return Qd(r).fold(function(){return document.body},function(s){return s.dom})}catch{return document.body}},TT=function(e,r){var s=r.editor;CT(s),s.on("focusin",function(){var f=e.focusedEditor;f!==s&&(f&&f.fire("blur",{focusedEditor:s}),e.setActive(s),e.focusedEditor=s,s.fire("focus",{blurredEditor:f}),s.focus(!0))}),s.on("focusout",function(){mu.setEditorTimeout(s,function(){var f=e.focusedEditor;!Yx(s,kT(s))&&f===s&&(s.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),O0||(O0=function(f){var h=e.activeEditor;h&&fu(f).each(function(b){b.ownerDocument===document&&b!==document.body&&!Yx(h,b)&&e.focusedEditor===h&&(h.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})},fb.bind(document,"focusin",O0))},W2=function(e,r){e.focusedEditor===r.editor&&(e.focusedEditor=null),e.activeEditor||(fb.unbind(document,"focusin",O0),O0=null)},AT=function(e){e.on("AddEditor",Ce(TT,e)),e.on("RemoveEditor",Ce(W2,e))},OT=function(e,r){return e.dom.getParent(r,function(s){return e.dom.getContentEditable(s)==="true"})},DT=function(e){return e.collapsed?Ee.from(ao(e.startContainer,e.startOffset)).map(Z.fromDom):Ee.none()},lM=function(e,r){return DT(r).bind(function(s){return za(s)?Ee.some(s):La(e,s)===!1?Ee.some(e):Ee.none()})},MT=function(e,r){lM(Z.fromDom(e.getBody()),r).bind(function(s){return io(s.dom)}).fold(function(){e.selection.normalize()},function(s){return e.selection.setRng(s.toRange())})},j2=function(e){if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},db=function(e){return Wm(e)||lp(e).isSome()},cM=function(e){return e.iframeElement&&Wm(Z.fromDom(e.iframeElement))},RT=function(e){var r=e.getBody();return r&&db(Z.fromDom(r))},PT=function(e){var r=Sl(Z.fromDom(e.getElement()));return Qd(r).filter(function(s){return!ET(s.dom)&&Yx(e,s.dom)}).isSome()},bd=function(e){return e.inline?RT(e):cM(e)},IT=function(e){return bd(e)||PT(e)},BT=function(e){var r=e.selection,s=e.getBody(),f=r.getRng();e.quirks.refreshContentEditable(),e.bookmark!==void 0&&bd(e)===!1&&cb(e).each(function(b){e.selection.setRng(b),f=b});var h=OT(e,r.getNode());if(e.$.contains(s,h)){j2(h),MT(e,f),qx(e);return}e.inline||(rr.opera||j2(s),e.getWin().focus()),(rr.gecko||e.inline)&&(j2(s),MT(e,f)),qx(e)},qx=function(e){return e.editorManager.setActive(e)},Gx=function(e,r){e.removed||(r?qx(e):BT(e))},Y2=function(e,r,s,f,h){var b=s?r.startContainer:r.endContainer,E=s?r.startOffset:r.endOffset;return Ee.from(b).map(Z.fromDom).map(function(O){return!f||!r.collapsed?Wl(O,h(O,E)).getOr(O):O}).bind(function(O){return Li(O)?Ee.some(O):Vi(O).filter(Li)}).map(function(O){return O.dom}).getOr(e)},D0=function(e,r,s){return Y2(e,r,!0,s,function(f,h){return Math.min(hg(f),h)})},vb=function(e,r,s){return Y2(e,r,!1,s,function(f,h){return h>0?h-1:h})},LT=function(e,r){for(var s=e;e&&Rn(e)&&e.length===0;)e=r?e.nextSibling:e.previousSibling;return e||s},FT=function(e,r){var s,f,h;if(!r)return e;f=r.startContainer,h=r.endContainer;var b=r.startOffset,E=r.endOffset;return s=r.commonAncestorContainer,!r.collapsed&&(f===h&&E-b<2&&f.hasChildNodes()&&(s=f.childNodes[b]),f.nodeType===3&&h.nodeType===3&&(f.length===b?f=LT(f.nextSibling,!0):f=f.parentNode,E===0?h=LT(h.previousSibling,!1):h=h.parentNode,f&&f===h))?f:s&&s.nodeType===3?s.parentNode:s},Kx=function(e,r,s,f){var h,b=[],E=e.getRoot();if(s=e.getParent(s||D0(E,r,r.collapsed),e.isBlock),f=e.getParent(f||vb(E,r,r.collapsed),e.isBlock),s&&s!==E&&b.push(s),s&&f&&s!==f){h=s;for(var O=new Wa(s,E);(h=O.next())&&h!==f;)e.isBlock(h)&&b.push(h)}return f&&s!==f&&f!==E&&b.push(f),b},fM=function(e,r,s){return Ee.from(r).map(function(f){var h=e.nodeIndex(f),b=e.createRng();return b.setStart(f.parentNode,h),b.setEnd(f.parentNode,h+1),s&&(ip(e,b,f,!0),ip(e,b,f,!1)),b})},Xx=function(e,r){return st(r,function(s){var f=e.fire("GetSelectionRange",{range:s});return f.range!==s?f.range:s})},S_={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Zx=function(e,r,s){var f=s?"lastChild":"firstChild",h=s?"prev":"next";if(e[f])return e[f];if(e!==r){var b=e[h];if(b)return b;for(var E=e.parent;E&&E!==r;E=E.parent)if(b=E[h],b)return b}},NT=function(e){if(!zc(e.value))return!1;var r=e.parent;return!(r&&(r.name!=="span"||r.attr("style"))&&/^[ ]+$/.test(e.value))},Jx=function(e){var r=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||r},yd=function(){function e(r,s){this.name=r,this.type=s,s===1&&(this.attributes=[],this.attributes.map={})}return e.create=function(r,s){var f=new e(r,S_[r]||1);return s&&ia(s,function(h,b){f.attr(b,h)}),f},e.prototype.replace=function(r){var s=this;return r.parent&&r.remove(),s.insert(r,s),s.remove(),s},e.prototype.attr=function(r,s){var f=this,h;if(typeof r!="string")return r!=null&&ia(r,function(E,O){f.attr(O,E)}),f;if(h=f.attributes){if(s!==void 0){if(s===null){if(r in h.map){delete h.map[r];for(var b=h.length;b--;)if(h[b].name===r)return h.splice(b,1),f}return f}if(r in h.map){for(var b=h.length;b--;)if(h[b].name===r){h[b].value=s;break}}else h.push({name:r,value:s});return h.map[r]=s,f}return h.map[r]}},e.prototype.clone=function(){var r=this,s=new e(r.name,r.type),f;if(f=r.attributes){var h=[];h.map={};for(var b=0,E=f.length;b<E;b++){var O=f[b];O.name!=="id"&&(h[h.length]={name:O.name,value:O.value},h.map[O.name]=O.value)}s.attributes=h}return s.value=r.value,s.shortEnded=r.shortEnded,s},e.prototype.wrap=function(r){var s=this;return s.parent.insert(r,s),r.append(s),s},e.prototype.unwrap=function(){for(var r=this,s=r.firstChild;s;){var f=s.next;r.insert(s,r,!0),s=f}r.remove()},e.prototype.remove=function(){var r=this,s=r.parent,f=r.next,h=r.prev;return s&&(s.firstChild===r?(s.firstChild=f,f&&(f.prev=null)):h.next=f,s.lastChild===r?(s.lastChild=h,h&&(h.next=null)):f.prev=h,r.parent=r.next=r.prev=null),r},e.prototype.append=function(r){var s=this;r.parent&&r.remove();var f=s.lastChild;return f?(f.next=r,r.prev=f,s.lastChild=r):s.lastChild=s.firstChild=r,r.parent=s,r},e.prototype.insert=function(r,s,f){r.parent&&r.remove();var h=s.parent||this;return f?(s===h.firstChild?h.firstChild=r:s.prev.next=r,r.prev=s.prev,r.next=s,s.prev=r):(s===h.lastChild?h.lastChild=r:s.next.prev=r,r.next=s.next,r.prev=s,s.next=r),r.parent=h,r},e.prototype.getAll=function(r){for(var s=this,f=[],h=s.firstChild;h;h=Zx(h,s))h.name===r&&f.push(h);return f},e.prototype.children=function(){for(var r=this,s=[],f=r.firstChild;f;f=f.next)s.push(f);return s},e.prototype.empty=function(){var r=this;if(r.firstChild){for(var s=[],f=r.firstChild;f;f=Zx(f,r))s.push(f);for(var h=s.length;h--;){var f=s[h];f.parent=f.firstChild=f.lastChild=f.next=f.prev=null}}return r.firstChild=r.lastChild=null,r},e.prototype.isEmpty=function(r,s,f){s===void 0&&(s={});var h=this,b=h.firstChild;if(Jx(h))return!1;if(b)do{if(b.type===1){if(b.attr("data-mce-bogus"))continue;if(r[b.name]||Jx(b))return!1}if(b.type===8||b.type===3&&!NT(b)||b.type===3&&b.parent&&s[b.parent.name]&&zc(b.value)||f&&f(b))return!1}while(b=Zx(b,h));return!0},e.prototype.walk=function(r){return Zx(this,null,r)},e}(),dM=function(e){for(var r=/data:[^;<"'\s]+;base64,([a-z0-9\+\/=\s]+)/gi,s=[],f={},h=nx("img"),b,E=0,O=0;b=r.exec(e);){var R=b[0],W=h+"_"+O++;f[W]=R,E<b.index&&s.push(e.substr(E,b.index-E)),s.push(W),E=b.index+R.length}var ne=new RegExp(h+"_[0-9]+","g");return E===0?{prefix:h,uris:f,html:e,re:ne}:(E<e.length&&s.push(e.substr(E)),{prefix:h,uris:f,html:s.join(""),re:ne})},Qx=function(e,r){return e.replace(r.re,function(s){return _a(r.uris,s).getOr(s)})},$T=function(e){var r=/data:([^;]+);base64,([a-z0-9\+\/=\s]+)/i.exec(e);return r?Ee.some({type:r[1],data:decodeURIComponent(r[2])}):Ee.none()},E_=Tt.each,k_=Tt.trim,q2="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),zT={ftp:21,http:80,https:443,mailto:25},HT=["img","video"],VT=function(e,r){return at(e)?!e:at(r)?!kt(HT,r):!0},eC=function(e,r,s){return e.allow_html_data_urls?!1:/^data:image\//i.test(r)?VT(e.allow_svg_data_urls,s)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)},dp=function(){function e(r,s){r=k_(r),this.settings=s||{};var f=this.settings.base_uri,h=this;if(/^([\w\-]+):([^\/]{2})/i.test(r)||/^\s*#/.test(r)){h.source=r;return}var b=r.indexOf("//")===0;if(r.indexOf("/")===0&&!b&&(r=(f&&f.protocol||"http")+"://mce_host"+r),!/^[\w\-]*:?\/\//.test(r)){var E=this.settings.base_uri?this.settings.base_uri.path:new e(document.location.href).directory;if(this.settings.base_uri&&this.settings.base_uri.protocol=="")r="//mce_host"+h.toAbsPath(E,r);else{var O=/([^#?]*)([#?]?.*)/.exec(r);r=(f&&f.protocol||"http")+"://mce_host"+h.toAbsPath(E,O[1])+O[2]}}r=r.replace(/@@/g,"(mce_at)");var R=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(r);E_(q2,function(W,ne){var ae=R[ne];ae&&(ae=ae.replace(/\(mce_at\)/g,"@@")),h[W]=ae}),f&&(h.protocol||(h.protocol=f.protocol),h.userInfo||(h.userInfo=f.userInfo),!h.port&&h.host==="mce_host"&&(h.port=f.port),(!h.host||h.host==="mce_host")&&(h.host=f.host),h.source=""),b&&(h.protocol="")}return e.parseDataUri=function(r){var s,f=decodeURIComponent(r).split(","),h=/data:([^;]+)/.exec(f[0]);return h&&(s=h[1]),{type:s,data:f[1]}},e.isDomSafe=function(r,s,f){if(f===void 0&&(f={}),f.allow_script_urls)return!0;var h=Hc.decode(r).replace(/[\s\u0000-\u001F]+/g,"");try{h=decodeURIComponent(h)}catch{h=unescape(h)}return/((java|vb)script|mhtml):/i.test(h)?!1:!eC(f,h,s)},e.getDocumentBaseUrl=function(r){var s;return r.protocol.indexOf("http")!==0&&r.protocol!=="file:"?s=r.href:s=r.protocol+"//"+r.host+r.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(s)&&(s=s.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(s)||(s+="/")),s},e.prototype.setPath=function(r){var s=/^(.*?)\/?(\w+)?$/.exec(r);this.path=s[0],this.directory=s[1],this.file=s[2],this.source="",this.getURI()},e.prototype.toRelative=function(r){var s;if(r==="./")return r;var f=new e(r,{base_uri:this});if(f.host!=="mce_host"&&this.host!==f.host&&f.host||this.port!==f.port||this.protocol!==f.protocol&&f.protocol!=="")return f.getURI();var h=this.getURI(),b=f.getURI();return h===b||h.charAt(h.length-1)==="/"&&h.substr(0,h.length-1)===b?h:(s=this.toRelPath(this.path,f.path),f.query&&(s+="?"+f.query),f.anchor&&(s+="#"+f.anchor),s)},e.prototype.toAbsolute=function(r,s){var f=new e(r,{base_uri:this});return f.getURI(s&&this.isSameOrigin(f))},e.prototype.isSameOrigin=function(r){if(this.host==r.host&&this.protocol==r.protocol){if(this.port==r.port)return!0;var s=zT[this.protocol];if(s&&(this.port||s)==(r.port||s))return!0}return!1},e.prototype.toRelPath=function(r,s){var f=0,h="",b,E,O=r.substring(0,r.lastIndexOf("/")).split("/"),R=s.split("/");if(O.length>=R.length){for(b=0,E=O.length;b<E;b++)if(b>=R.length||O[b]!==R[b]){f=b+1;break}}if(O.length<R.length){for(b=0,E=R.length;b<E;b++)if(b>=O.length||O[b]!==R[b]){f=b+1;break}}if(f===1)return s;for(b=0,E=O.length-(f-1);b<E;b++)h+="../";for(b=f-1,E=R.length;b<E;b++)b!==f-1?h+="/"+R[b]:h+=R[b];return h},e.prototype.toAbsPath=function(r,s){var f,h=0,b=[],E,O=/\/$/.test(s)?"/":"",R=r.split("/"),W=s.split("/");for(E_(R,function(ne){ne&&b.push(ne)}),R=b,f=W.length-1,b=[];f>=0;f--)if(!(W[f].length===0||W[f]===".")){if(W[f]===".."){h++;continue}if(h>0){h--;continue}b.push(W[f])}return f=R.length-h,f<=0?E=Oa(b).join("/"):E=R.slice(0,f).join("/")+"/"+Oa(b).join("/"),E.indexOf("/")!==0&&(E="/"+E),O&&E.lastIndexOf("/")!==E.length-1&&(E+=O),E},e.prototype.getURI=function(r){r===void 0&&(r=!1);var s;return(!this.source||r)&&(s="",r||(this.protocol?s+=this.protocol+"://":s+="//",this.userInfo&&(s+=this.userInfo+"@"),this.host&&(s+=this.host),this.port&&(s+=":"+this.port)),this.path&&(s+=this.path),this.query&&(s+="?"+this.query),this.anchor&&(s+="#"+this.anchor),this.source=s),this.source},e}(),vM=Tt.makeMap("button,fieldset,form,iframe,img,image,input,object,output,select,textarea"),hM=function(e){return e.indexOf("data-")===0||e.indexOf("aria-")===0},mM=uu(function(){return document.implementation.createHTMLDocument("parser")}),vp=function(e,r,s){for(var f=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,h=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,b=e.getShortEndedElements(),E=1,O=s;E!==0;)for(f.lastIndex=O;;){var R=f.exec(r);if(R===null)return O;if(R[1]==="!"){tn(R[2],"--")?O=G2(r,!1,R.index+3):O=G2(r,!0,R.index+1);break}else{h.lastIndex=f.lastIndex;var W=h.exec(r);if(le(W)||W.index!==f.lastIndex)continue;R[1]==="/"?E-=1:Ur(b,R[2])||(E+=1),O=f.lastIndex+W[0].length;break}}return O},gM=function(e,r){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(r))},G2=function(e,r,s){s===void 0&&(s=0);var f=e.toLowerCase();if(f.indexOf("[if ",s)!==-1&&gM(f,s)){var h=f.indexOf("[endif]",s);return f.indexOf(">",h)}else if(r){var b=f.indexOf(">",s);return b!==-1?b:f.length}else{var E=/--!?>/g;E.lastIndex=s;var O=E.exec(e);return O?O.index+O[0].length:f.length}},pM=function(e,r){var s=e.exec(r);if(s){var f=s[1],h=s[2];return typeof f=="string"&&f.toLowerCase()==="data-mce-bogus"?h:null}else return null},hb=function(e,r){r===void 0&&(r=yc()),e=e||{};var s=mM(),f=s.createElement("form");e.fix_self_closing!==!1&&(e.fix_self_closing=!0);var h=e.comment?e.comment:ve,b=e.cdata?e.cdata:ve,E=e.text?e.text:ve,O=e.start?e.start:ve,R=e.end?e.end:ve,W=e.pi?e.pi:ve,ne=e.doctype?e.doctype:ve,ae=function(we,Se){Se===void 0&&(Se="html");for(var Ae=we.html,De,Ve=0,Ne,ft,ot=[],je,ht,Bt,en,gr,In,Wt,hr,on,Mn,cn,yn,Hn,Gt,Ln,va,ai,ti=0,gl=Hc.decode,No=Tt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),Zc=Se==="html"?0:1,_f=function(ji){var vo,Vu;for(vo=ot.length;vo--&&ot[vo].name!==ji;);if(vo>=0){for(Vu=ot.length-1;Vu>=vo;Vu--)ji=ot[Vu],ji.valid&&R(ji.name);ot.length=vo}},Xt=function(ji,vo){return E(Qx(ji,we),vo)},fn=function(ji){ji!==""&&(ji.charAt(0)===">"&&(ji=" "+ji),!e.allow_conditional_comments&&ji.substr(0,3).toLowerCase()==="[if"&&(ji=" "+ji),h(Qx(ji,we)))},nr=function(ji){return Qx(ji,we)},mt=function(ji,vo){var Vu=ji||"",wf=!tn(Vu,"--"),tg=G2(Ae,wf,vo);return ji=Ae.substr(vo,tg-vo),fn(wf?Vu+ji:ji),tg+1},an=function(ji,vo,Vu,wf,tg){if(vo=vo.toLowerCase(),Vu=nr(vo in xu?vo:gl(Vu||wf||tg||"")),iu&&!gr&&hM(vo)===!1){var ng=cn[vo];if(!ng&&yn){for(var Hb=yn.length;Hb--&&(ng=yn[Hb],!ng.pattern.test(vo)););Hb===-1&&(ng=null)}if(!ng||ng.validValues&&!(Vu in ng.validValues))return}var BC=vo==="name"||vo==="id";BC&&ji in vM&&(Vu in s||Vu in f)||No[vo]&&!dp.isDomSafe(Vu,ji,e)||gr&&(vo in No||vo.indexOf("on")===0)||(je.map[vo]=Vu,je.push({name:vo,value:Vu}))},Zt=new RegExp(`<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\\s*|\\/)>))`,"g"),or=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,dr=r.getShortEndedElements(),Hi=e.self_closing_elements||r.getSelfClosingElements(),xu=r.getBoolAttrs(),iu=e.validate,H0=e.remove_internals,Jc=e.fix_self_closing,Tc=r.getSpecialElements(),Hu=Ae+">";De=Zt.exec(Hu);){var iv=De[0];if(Ve<De.index&&Xt(gl(Ae.substr(Ve,De.index-Ve))),Ne=De[7])Ne=Ne.toLowerCase(),Ne.charAt(0)===":"&&(Ne=Ne.substr(1)),_f(Ne);else if(Ne=De[8]){if(De.index+iv.length>Ae.length){Xt(gl(Ae.substr(De.index))),Ve=De.index+iv.length;continue}Ne=Ne.toLowerCase(),Ne.charAt(0)===":"&&(Ne=Ne.substr(1)),In=Ne in dr,Jc&&Hi[Ne]&&ot.length>0&&ot[ot.length-1].name===Ne&&_f(Ne);var Qc=pM(or,De[9]);if(Qc!==null){if(Qc==="all"){Ve=vp(r,Ae,Zt.lastIndex),Zt.lastIndex=Ve;continue}hr=!1}if(!iu||(Wt=r.getElementRule(Ne))){if(hr=!0,iu&&(cn=Wt.attributes,yn=Wt.attributePatterns),(Mn=De[9])?(gr=Mn.indexOf("data-mce-type")!==-1,gr&&H0&&(hr=!1),je=[],je.map={},Mn.replace(or,function(ji,vo,Vu,wf,tg){return an(Ne,vo,Vu,wf,tg),""})):(je=[],je.map={}),iu&&!gr){if(Hn=Wt.attributesRequired,Gt=Wt.attributesDefault,Ln=Wt.attributesForced,va=Wt.removeEmptyAttrs,va&&!je.length&&(hr=!1),Ln)for(ht=Ln.length;ht--;)on=Ln[ht],en=on.name,ai=on.value,ai==="{$uid}"&&(ai="mce_"+ti++),je.map[en]=ai,je.push({name:en,value:ai});if(Gt)for(ht=Gt.length;ht--;)on=Gt[ht],en=on.name,en in je.map||(ai=on.value,ai==="{$uid}"&&(ai="mce_"+ti++),je.map[en]=ai,je.push({name:en,value:ai}));if(Hn){for(ht=Hn.length;ht--&&!(Hn[ht]in je.map););ht===-1&&(hr=!1)}if(on=je.map["data-mce-bogus"]){if(on==="all"){Ve=vp(r,Ae,Zt.lastIndex),Zt.lastIndex=Ve;continue}hr=!1}}hr&&O(Ne,je,In)}else hr=!1;if(ft=Tc[Ne]){ft.lastIndex=Ve=De.index+iv.length,(De=ft.exec(Ae))?(hr&&(Bt=Ae.substr(Ve,De.index-Ve)),Ve=De.index+De[0].length):(Bt=Ae.substr(Ve),Ve=Ae.length),hr&&(Bt.length>0&&Xt(Bt,!0),R(Ne)),Zt.lastIndex=Ve;continue}In||(!Mn||Mn.indexOf("/")!==Mn.length-1?ot.push({name:Ne,valid:hr}):hr&&R(Ne))}else if(Ne=De[1])fn(Ne);else if(Ne=De[2]){var tm=Zc===1||e.preserve_cdata||ot.length>0&&r.isValidChild(ot[ot.length-1].name,"#cdata");if(tm)b(Ne);else{Ve=mt("",De.index+2),Zt.lastIndex=Ve;continue}}else if(Ne=De[3])ne(Ne);else if((Ne=De[4])||iv==="<!"){Ve=mt(Ne,De.index+iv.length),Zt.lastIndex=Ve;continue}else if(Ne=De[5])if(Zc===1)W(Ne,De[6]);else{Ve=mt("?",De.index+2),Zt.lastIndex=Ve;continue}Ve=De.index+iv.length}for(Ve<Ae.length&&Xt(gl(Ae.substr(Ve))),ht=ot.length-1;ht>=0;ht--)Ne=ot[ht],Ne.valid&&R(Ne.name)},ce=function(we,Se){Se===void 0&&(Se="html"),ae(dM(we),Se)};return{parse:ce}};hb.findEndTag=vp;var K2=function(e,r){var s=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return r.replace(s,"")},UT=function(e,r){for(var s=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,f=e.schema,h=K2(e.getTempAttrs(),r),b=f.getShortEndedElements(),E;E=s.exec(h);){var O=s.lastIndex,R=E[0].length,W=void 0;b[E[1]]?W=O:W=hb.findEndTag(f,h,O),h=h.substring(0,O-R)+h.substring(W),s.lastIndex=O-R}return Go(h)},tC=UT,WT=function(e,r){var s=yu(e),f=new RegExp("^(<"+s+"[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/"+s+`>[\r
]*|<br \\/>[\r
]*)$`);return r.replace(f,"")},jT=function(e,r){return Kn(Kn({},e),{format:r,get:!0,getInner:!0})},bM=function(e,r,s,f){var h=jT(r,s),b=r.no_events?h:e.fire("BeforeGetContent",h),E;return b.format==="raw"?E=Tt.trim(tC(e.serializer,f.innerHTML)):b.format==="text"?E=e.dom.isEmpty(f)?"":Go(f.innerText||f.textContent):b.format==="tree"?E=e.serializer.serialize(f,b):E=WT(e,e.serializer.serialize(f,b)),!kt(["text","tree"],b.format)&&!bs(Z.fromDom(f))?b.content=Tt.trim(E):b.content=E,b.no_events?b.content:e.fire("GetContent",b).content},nC=function(e,r,s){return Ee.from(e.getBody()).fold(Y(r.format==="tree"?new yd("body",11):""),function(f){return bM(e,r,s,f)})},rC=Tt.each,X2=function(e){var r=function(s,f){if(s.nodeName!==f.nodeName)return!1;var h=function(E){var O={};return rC(e.getAttribs(E),function(R){var W=R.nodeName.toLowerCase();W.indexOf("_")!==0&&W!=="style"&&W.indexOf("data-")!==0&&(O[W]=e.getAttrib(E,W))}),O},b=function(E,O){var R,W;for(W in E)if(Ur(E,W)){if(R=O[W],typeof R>"u"||E[W]!==R)return!1;delete O[W]}for(W in O)if(Ur(O,W))return!1;return!0};return!b(h(s),h(f))||!b(e.parseStyle(e.getAttrib(s,"style")),e.parseStyle(e.getAttrib(f,"style")))?!1:!Gc(s)&&!Gc(f)};return{compare:r}},YT=Tt.makeMap,qT=function(e){var r=[];e=e||{};var s=e.indent,f=YT(e.indent_before||""),h=YT(e.indent_after||""),b=Hc.getEncodeFunc(e.entity_encoding||"raw",e.entities),E=e.element_format==="html";return{start:function(O,R,W){var ne,ae,ce,we;if(s&&f[O]&&r.length>0&&(we=r[r.length-1],we.length>0&&we!==`
`&&r.push(`
`)),r.push("<",O),R)for(ne=0,ae=R.length;ne<ae;ne++)ce=R[ne],r.push(" ",ce.name,'="',b(ce.value,!0),'"');!W||E?r[r.length]=">":r[r.length]=" />",W&&s&&h[O]&&r.length>0&&(we=r[r.length-1],we.length>0&&we!==`
`&&r.push(`
`))},end:function(O){var R;r.push("</",O,">"),s&&h[O]&&r.length>0&&(R=r[r.length-1],R.length>0&&R!==`
`&&r.push(`
`))},text:function(O,R){O.length>0&&(r[r.length]=R?O:b(O))},cdata:function(O){r.push("<![CDATA[",O,"]]>")},comment:function(O){r.push("<!--",O,"-->")},pi:function(O,R){R?r.push("<?",O," ",b(R),"?>"):r.push("<?",O,"?>"),s&&r.push(`
`)},doctype:function(O){r.push("<!DOCTYPE",O,">",s?`
`:"")},reset:function(){r.length=0},getContent:function(){return r.join("").replace(/\n$/,"")}}},M0=function(e,r){r===void 0&&(r=yc());var s=qT(e);e=e||{},e.validate="validate"in e?e.validate:!0;var f=function(h){var b=e.validate,E={3:function(R){s.text(R.value,R.raw)},8:function(R){s.comment(R.value)},7:function(R){s.pi(R.name,R.value)},10:function(R){s.doctype(R.value)},4:function(R){s.cdata(R.value)},11:function(R){if(R=R.firstChild)do O(R);while(R=R.next)}};s.reset();var O=function(R){var W=E[R.type];if(W)W(R);else{var ne=R.name,ae=R.shortEnded,ce=R.attributes;if(b&&ce&&ce.length>1){var we=[];we.map={};var Se=r.getElementRule(R.name);if(Se){for(var Ae=0,De=Se.attributesOrder.length;Ae<De;Ae++){var Ve=Se.attributesOrder[Ae];if(Ve in ce.map){var Ne=ce.map[Ve];we.map[Ve]=Ne,we.push({name:Ve,value:Ne})}}for(var Ae=0,De=ce.length;Ae<De;Ae++){var Ve=ce[Ae].name;if(!(Ve in we.map)){var Ne=ce.map[Ve];we.map[Ve]=Ne,we.push({name:Ve,value:Ne})}}ce=we}}if(s.start(R.name,ce,ae),!ae){if(R=R.firstChild)do O(R);while(R=R.next);s.end(ne)}}};return h.type===1&&!e.inner?O(h):E[11](h),s.getContent()};return{serialize:f}},T_=new Set;(function(){var e=["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"];vt(e,function(r){T_.add(r)})})();var aC=["font","text-decoration","text-emphasis"],A_=function(e,r){return Os(e.parseStyle(e.getAttrib(r,"style")))},GT=function(e){return T_.has(e)},jm=function(e,r){return yo(A_(e,r),function(s){return!GT(s)})},yM=function(e){return pn(e,function(r){return Qe(aC,function(s){return tn(r,s)})})},Uh=function(e,r,s){var f=A_(e,r),h=A_(e,s),b=function(E){var O=e.getStyle(r,E),R=e.getStyle(s,E);return Zr(O)&&Zr(R)&&O!==R};return Qe(f,function(E){var O=function(W){return Qe(W,function(ne){return ne===E})};if(!O(h)&&O(aC)){var R=yM(h);return Qe(R,b)}else return b(E)})},KT=function(e,r,s){return Ee.from(s.container()).filter(Rn).exists(function(f){var h=e?0:-1;return r(f.data.charAt(s.offset()+h))})},iC=Ce(KT,!0,rp),Z2=Ce(KT,!1,rp),_M=function(e){var r=e.container();return Rn(r)&&(r.data.length===0||tl(r.data)&&sp.isBookmarkNode(r.parentNode))},hp=function(e,r){return function(s){return Ee.from(K1(e?0:-1,s)).filter(r).isSome()}},XT=function(e){return gg(e)&&zr(Z.fromDom(e),"display")==="block"},ZT=function(e){return Zi(e)&&!us(e)},wM=hp(!0,XT),J2=hp(!1,XT),mb=hp(!0,Du),gb=hp(!1,Du),JT=hp(!0,go),Q2=hp(!1,go),tv=hp(!0,ZT),mp=hp(!1,ZT),vr=function(e){for(var r=[],s=e.dom;s;)r.push(Z.fromDom(s)),s=s.lastChild;return r},eE=function(e){var r=bu(e,"br"),s=pn(vr(e).slice(-1),lf);r.length===s.length&&vt(s,Nn)},Wh=function(e){Ft(e),ps(e,Z.fromHtml('<br data-mce-bogus="1">'))},QT=function(e){cc(e).each(function(r){pv(r).each(function(s){hc(e)&&lf(r)&&hc(s)&&Nn(r)})})},xM=function(e){return e.slice(0,-1)},eA=function(e,r,s){return La(r,e)?xM(os(e,function(f){return s(f)||yr(f,r)})):[]},O_=function(e,r){return eA(e,r,dt)},Yv=function(e,r){return[e].concat(O_(e,r))},oC=function(e,r,s){return ni(e,r,s,_M)},tA=function(e,r){return ba(Yv(Z.fromDom(r.container()),e),hc)},Lr=function(e,r,s){return oC(e,r.dom,s).forall(function(f){return tA(r,s).fold(function(){return md(f,s,r.dom)===!1},function(h){return md(f,s,r.dom)===!1&&La(h,Z.fromDom(f.container()))})})},tE=function(e,r,s){return tA(r,s).fold(function(){return oC(e,r.dom,s).forall(function(f){return md(f,s,r.dom)===!1})},function(f){return oC(e,f.dom,s).isNone()})},qr=Ce(tE,!1),nE=Ce(tE,!0),nA=Ce(Lr,!1),rA=Ce(Lr,!0),pb=function(e){return Z1(e).exists(lf)},bb=function(e,r,s){var f=pn(Yv(Z.fromDom(s.container()),r),hc),h=Xi(f).getOr(r);return ea(e,h.dom,s).filter(pb)},yb=function(e,r){return Z1(r).exists(lf)||bb(!0,e,r).isSome()},_b=function(e,r){return n2(r).exists(lf)||bb(!1,e,r).isSome()},CM=Ce(bb,!1),Rr=Ce(bb,!0),aA=function(e){return yt.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},rE=function(e,r){var s=pn(Yv(Z.fromDom(r.container()),e),hc);return Xi(s).getOr(e)},D_=function(e,r){return aA(r)?Z2(r):Z2(r)||es(rE(e,r).dom,r).exists(Z2)},gp=function(e,r){return aA(r)?iC(r):iC(r)||vs(rE(e,r).dom,r).exists(iC)},iA=function(e){return kt(["pre","pre-wrap"],e)},sC=function(e){return Z1(e).bind(function(r){return bg(r,Li)}).exists(function(r){return iA(zr(r,"white-space"))})},aE=function(e,r){return es(e.dom,r).isNone()},SM=function(e,r){return vs(e.dom,r).isNone()},oA=function(e,r){return aE(e,r)||SM(e,r)||qr(e,r)||nE(e,r)||_b(e,r)||yb(e,r)},EM=function(e,r){return sC(r)?!1:oA(e,r)||D_(e,r)||gp(e,r)},uC=function(e,r){return sC(r)?!1:qr(e,r)||nA(e,r)||_b(e,r)||D_(e,r)},kM=function(e){var r=e.container(),s=e.offset();return Rn(r)&&s<r.data.length?yt(r,s+1):e},lC=function(e,r){return sC(r)?!1:nE(e,r)||rA(e,r)||yb(e,r)||gp(e,r)},sA=function(e,r){return uC(e,r)||lC(e,kM(r))},uA=function(e,r){return _0(e.charAt(r))},TM=function(e){var r=e.container();return Rn(r)&&Kt(r.data,cs)},lA=function(e){var r=e.split("");return st(r,function(s,f){return _0(s)&&f>0&&f<r.length-1&&kx(r[f-1])&&kx(r[f+1])?" ":s}).join("")},iE=function(e,r){var s=r.data,f=yt(r,0);return uA(s,0)&&!sA(e,f)?(r.data=" "+s.slice(1),!0):!1},Pa=function(e){var r=e.data,s=lA(r);return s!==r?(e.data=s,!0):!1},cA=function(e,r){var s=r.data,f=yt(r,s.length-1);return uA(s,s.length-1)&&!sA(e,f)?(r.data=s.slice(0,-1)+" ",!0):!1},cC=function(e,r){return Ee.some(r).filter(TM).bind(function(s){var f=s.container(),h=iE(e,f)||Pa(f)||cA(e,f);return h?Ee.some(s):Ee.none()})},oE=function(e){var r=Z.fromDom(e.getBody());e.selection.isCollapsed()&&cC(r,yt.fromRangeStart(e.selection.getRng())).each(function(s){e.selection.setRng(s.toRange())})},fA=function(e,r,s){var f=xr(e,function(h,b){return rp(b)||_0(b)?h.previousCharIsSpace||h.str===""&&r||h.str.length===e.length-1&&s?{previousCharIsSpace:!1,str:h.str+cs}:{previousCharIsSpace:!0,str:h.str+" "}:{previousCharIsSpace:!1,str:h.str+b}},{previousCharIsSpace:!1,str:""});return f.str},sE=function(e,r,s){if(s!==0){var f=Z.fromDom(e),h=Yl(f,hc).getOr(f),b=e.data.slice(r,r+s),E=r+s>=e.data.length&&lC(h,yt(e,e.data.length)),O=r===0&&uC(h,yt(e,0));e.replaceData(r,s,fA(b,O,E))}},M_=function(e,r){var s=e.data.slice(r),f=s.length-kr(s).length;sE(e,r,f)},fC=function(e,r){var s=e.data.slice(0,r),f=s.length-Pr(s).length;sE(e,r-f,f)},d=function(e,r,s,f){f===void 0&&(f=!0);var h=Pr(e.data).length,b=f?e:r,E=f?r:e;return f?b.appendData(E.data):b.insertData(0,E.data),Nn(Z.fromDom(E)),s&&M_(b,h),b},g=function(e,r){var s=e.container(),f=e.offset();return yt.isTextPosition(e)===!1&&s===r.parentNode&&f>yt.before(r).offset()},w=function(e,r){return g(r,e)?yt(r.container(),r.offset()-1):r},T=function(e){return Rn(e)?yt(e,0):yt.before(e)},M=function(e){return Rn(e)?yt(e,e.data.length):yt.after(e)},F=function(e){return id(e.previousSibling)?Ee.some(M(e.previousSibling)):e.previousSibling?zi(e.previousSibling):Ee.none()},j=function(e){return id(e.nextSibling)?Ee.some(T(e.nextSibling)):e.nextSibling?io(e.nextSibling):Ee.none()},te=function(e,r){var s=yt.before(r.previousSibling?r.previousSibling:r.parentNode);return es(e,s).fold(function(){return vs(e,yt.after(r))},Ee.some)},ye=function(e,r){return vs(e,yt.after(r)).fold(function(){return es(e,yt.before(r))},Ee.some)},Me=function(e,r){return F(r).orThunk(function(){return j(r)}).orThunk(function(){return te(e,r)})},Xe=function(e,r){return j(r).orThunk(function(){return F(r)}).orThunk(function(){return ye(e,r)})},At=function(e,r,s){return e?Xe(r,s):Me(r,s)},nn=function(e,r,s){return At(e,r,s).map(Ce(w,s))},$t=function(e,r,s){s.fold(function(){e.focus()},function(f){e.selection.setRng(f.toRange(),r)})},Ot=function(e){return function(r){return r.dom===e}},hn=function(e,r){return r&&Ur(e.schema.getBlockElements(),Di(r))},wn=function(e){if(ru(e)){var r=Z.fromHtml('<br data-mce-bogus="1">');return Ft(e),ps(e,r),Ee.some(yt.before(r.dom))}else return Ee.none()},tr=function(e,r,s){var f=pv(e).filter(to),h=Bc(e).filter(to);return Nn(e),ay(f,h,r,function(b,E,O){var R=b.dom,W=E.dom,ne=R.data.length;return d(R,W,s),O.container()===W?yt(R,ne):O}).orThunk(function(){return s&&(f.each(function(b){return fC(b.dom,b.dom.length)}),h.each(function(b){return M_(b.dom,0)})),r})},ja=function(e,r){return Ur(e.schema.getTextInlineElements(),Di(r))},er=function(e,r,s,f){f===void 0&&(f=!0);var h=nn(r,e.getBody(),s.dom),b=Yl(s,Ce(hn,e),Ot(e.getBody())),E=tr(s,h,ja(e,s));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):b.bind(wn).fold(function(){f&&$t(e,r,E)},function(O){f&&$t(e,r,Ee.some(O))})},Ir=function(e){return function(r){return yr(e,r)}},da=function(e){return bu(e,"td,th")},la=function(e,r){var s=function(W){return w0(Z.fromDom(W),r)},f=s(e.startContainer),h=s(e.endContainer),b=f.isSome(),E=h.isSome(),O=Mu(f,h,yr).getOr(!1),R=!O&&b&&E;return{startTable:f,endTable:h,isStartInTable:b,isEndInTable:E,isSameTable:O,isMultiTable:R}},hs=function(e,r){return{start:e,end:r}},Fu=function(e,r,s){return{rng:e,table:r,cells:s}},Nu=Jn.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Ia=function(e,r){return Ui(Z.fromDom(e),"td,th",r)},Fr=function(e){return!yr(e.start,e.end)},Sa=function(e,r){return w0(e.start,r).bind(function(s){return w0(e.end,r).bind(function(f){return iy(yr(s,f),s)})})},Si=function(e,r){return!Fr(e)&&Sa(e,r).exists(function(s){var f=s.dom.rows;return f.length===1&&f[0].cells.length===1})},Fo=function(e,r){var s=Ia(e.startContainer,r),f=Ia(e.endContainer,r);return Mu(s,f,hs)},Ym=function(e){return function(r){return w0(r,e).bind(function(s){return oi(da(s)).map(function(f){return hs(r,f)})})}},yi=function(e){return function(r){return w0(r,e).bind(function(s){return Xi(da(s)).map(function(f){return hs(f,r)})})}},gf=function(e){return function(r){return Sa(r,e).map(function(s){return Fu(r,s,da(s))})}},$u=function(e,r,s,f){if(s.collapsed||!e.forall(Fr))return Ee.none();if(r.isSameTable){var h=e.bind(gf(f));return Ee.some({start:h,end:h})}else{var b=Ia(s.startContainer,f),E=Ia(s.endContainer,f),O=b.bind(Ym(f)).bind(gf(f)),R=E.bind(yi(f)).bind(gf(f));return Ee.some({start:O,end:R})}},R_=function(e,r){return ho(e,function(s){return yr(s,r)})},qm=function(e){return Mu(R_(e.cells,e.rng.start),R_(e.cells,e.rng.end),function(r,s){return e.cells.slice(r,s+1)})},qv=function(e,r,s){return e.exists(function(f){return Si(f,s)&&Jd(f.start,r)})},qf=function(e,r){var s=r.startTable,f=r.endTable,h=e.cloneRange();return s.each(function(b){return h.setStartAfter(b.dom)}),f.each(function(b){return h.setEndBefore(b.dom)}),h},jh=function(e,r,s,f){return $u(e,r,s,f).bind(function(h){var b=h.start,E=h.end;return b.or(E)}).bind(function(h){var b=r.isSameTable,E=qm(h).getOr([]);if(b&&h.cells.length===E.length)return Ee.some(Nu.fullTable(h.table));if(E.length>0){if(b)return Ee.some(Nu.partialTable(E,Ee.none()));var O=qf(s,r);return Ee.some(Nu.partialTable(E,Ee.some(Kn(Kn({},r),{rng:O}))))}else return Ee.none()})},dC=function(e,r,s,f){return $u(e,r,s,f).bind(function(h){var b=h.start,E=h.end,O=b.bind(qm).getOr([]),R=E.bind(qm).getOr([]);if(O.length>0&&R.length>0){var W=qf(s,r);return Ee.some(Nu.multiTable(O,R,W))}else return Ee.none()})},wb=function(e,r){var s=Ir(e),f=Fo(r,s),h=la(r,s);return qv(f,r,s)?f.map(function(b){return Nu.singleCellTable(r,b.start)}):h.isMultiTable?dC(f,h,r,s):jh(f,h,r,s)},xb=function(e){var r=Cl(e)?pv(e):cc(e);return r.bind(xb).orThunk(function(){return Ee.some(e)})},Cb=function(e){return vt(e,function(r){Et(r,"contenteditable"),Wh(r)})},Gv=function(e,r){return Ee.from(e.dom.getParent(r,e.dom.isBlock)).map(Z.fromDom)},Sb=function(e,r,s){s.each(function(f){r?Nn(f):(Wh(f),e.selection.setCursorLocation(f.dom,0))})},Eb=function(e,r,s,f){var h=s.cloneRange();f?(h.setStart(s.startContainer,s.startOffset),h.setEndAfter(r.dom.lastChild)):(h.setStartBefore(r.dom.firstChild),h.setEnd(s.endContainer,s.endOffset)),AM(e,h,r,!1)},uE=function(e){var r=Nh(e),s=Z.fromDom(e.selection.getNode());wv(s.dom)&&ru(s)?e.selection.setCursorLocation(s.dom,0):e.selection.collapse(!0),r.length>1&&Qe(r,function(f){return yr(f,s)})&&U(s,"data-mce-selected","1")},kb=function(e,r,s){var f=e.selection.getRng(),h=s.bind(function(b){var E=b.rng,O=b.isStartInTable,R=Gv(e,O?E.endContainer:E.startContainer);E.deleteContents(),Sb(e,O,R.filter(ru));var W=O?r[0]:r[r.length-1];return Eb(e,W,f,O),ru(W)?Ee.none():Ee.some(O?r.slice(1):r.slice(0,-1))}).getOr(r);return Cb(h),uE(e),!0},gI=function(e,r,s,f){var h=e.selection.getRng(),b=r[0],E=s[s.length-1];Eb(e,b,h,!0),Eb(e,E,h,!1);var O=ru(b)?r:r.slice(1),R=ru(E)?s:s.slice(0,-1);return Cb(O.concat(R)),f.deleteContents(),uE(e),!0},AM=function(e,r,s,f){f===void 0&&(f=!0),r.deleteContents();var h=xb(s).getOr(s),b=Z.fromDom(e.dom.getParent(h.dom,e.dom.isBlock));if(ru(b)&&(Wh(b),f&&e.selection.setCursorLocation(b.dom,0)),!yr(s,b)){var E=xv(Vi(b),s)?[]:Io(b);vt(E.concat(el(s)),function(O){!yr(O,b)&&!La(O,b)&&ru(O)&&Nn(O)})}return!0},z6=function(e,r){return er(e,!1,r),!0},Tb=function(e,r,s){return wb(r,s).map(function(f){return f.fold(Ce(AM,e),Ce(z6,e),Ce(kb,e),Ce(gI,e))})},H6=function(e,r){return vC(e,r)},pf=function(e,r,s,f){return OM(r,f).fold(function(){return Tb(e,r,s)},function(h){return H6(e,h)}).getOr(!1)},li=function(e,r,s){var f=Z.fromDom(e.getBody()),h=e.selection.getRng();return s.length!==0?kb(e,s,Ee.none()):pf(e,f,h,r)},Yh=function(e,r){return ba(Yv(r,e),Bf)},OM=function(e,r){return ba(Yv(r,e),lm("caption"))},pI=function(e,r,s,f,h){return Hr(s,e.getBody(),h).bind(function(b){return Yh(r,Z.fromDom(b.getNode())).map(function(E){return yr(E,f)===!1})})},vC=function(e,r){return Wh(r),e.selection.setCursorLocation(r.dom,0),Ee.some(!0)},DM=function(e,r,s,f){return io(e.dom).bind(function(h){return zi(e.dom).map(function(b){return r?s.isEqual(h)&&f.isEqual(b):s.isEqual(b)&&f.isEqual(h)})}).getOr(!0)},bI=function(e,r){return vC(e,r)},yI=function(e,r,s){return OM(e,Z.fromDom(s.getNode())).map(function(f){return yr(f,r)===!1})},V6=function(e,r,s,f,h){return Hr(s,e.getBody(),h).bind(function(b){return DM(f,s,h,b)?bI(e,f):yI(r,f,b)}).or(Ee.some(!0))},U6=function(e,r,s,f){var h=yt.fromRangeStart(e.selection.getRng());return Yh(s,f).bind(function(b){return ru(b)?vC(e,b):pI(e,s,r,b,h)}).getOr(!1)},MM=function(e,r,s,f){var h=yt.fromRangeStart(e.selection.getRng());return ru(f)?vC(e,f):V6(e,s,r,f,h)},RM=function(e,r){return e?JT(r):Q2(r)},Gm=function(e,r){var s=yt.fromRangeStart(e.selection.getRng());return RM(r,s)||ea(r,e.getBody(),s).exists(function(f){return RM(r,f)})},W6=function(e,r,s){var f=Z.fromDom(e.getBody());return OM(f,s).fold(function(){return U6(e,r,f,s)||Gm(e,r)},function(h){return MM(e,r,f,h).getOr(!1)})},dA=function(e,r){var s=Z.fromDom(e.selection.getStart(!0)),f=Nh(e);return e.selection.isCollapsed()&&f.length===0?W6(e,r,s):li(e,s,f)},j6=function(e,r,s,f){var h=document.createRange();return h.setStart(e,r),h.setEnd(s,f),h},PM=function(e){var r=yt.fromRangeStart(e),s=yt.fromRangeEnd(e),f=e.commonAncestorContainer;return ea(!1,f,s).map(function(h){return!md(r,s,f)&&md(r,h,f)?j6(r.container(),r.offset(),h.container(),h.offset()):e}).getOr(e)},IM=function(e){return e.collapsed?e:PM(e)},Y6=function(e){return e.firstChild&&e.firstChild===e.lastChild},BM=function(e){return e.name==="br"||e.value===cs},q6=function(e,r){var s=e.getBlockElements();return s[r.name]&&Y6(r)&&BM(r.firstChild)},G6=function(e,r){var s=e.getNonEmptyElements();return r&&(r.isEmpty(s)||q6(e,r))},_I=function(e,r){var s=r.firstChild,f=r.lastChild;return s&&s.name==="meta"&&(s=s.next),f&&f.attr("id")==="mce_marker"&&(f=f.prev),G6(e,f)&&(f=f.prev),!s||s!==f?!1:s.name==="ul"||s.name==="ol"},K6=function(e){var r=e.firstChild,s=e.lastChild;return r&&r.nodeName==="META"&&r.parentNode.removeChild(r),s&&s.id==="mce_marker"&&s.parentNode.removeChild(s),e},X6=function(e,r,s){var f=r.serialize(s),h=e.createFragment(f);return K6(h)},vA=function(e){return pn(e.childNodes,function(r){return r.nodeName==="LI"})},Z6=function(e){return e.data===cs||ui(e)},wI=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&Z6(e.firstChild)},xI=function(e){return!e.firstChild||wI(e)},LM=function(e){return e.length>0&&xI(e[e.length-1])?e.slice(0,-1):e},FM=function(e,r){var s=e.getParent(r,e.isBlock);return s&&s.nodeName==="LI"?s:null},J6=function(e,r){return!!FM(e,r)},NM=function(e,r){var s=r.cloneRange(),f=r.cloneRange();return s.setStartBefore(e),f.setEndAfter(e),[s.cloneContents(),f.cloneContents()]},Q6=function(e,r){var s=yt.before(e),f=it(r),h=f.next(s);return h?h.toRange():null},CI=function(e,r){var s=yt.after(e),f=it(r),h=f.prev(s);return h?h.toRange():null},lE=function(e,r,s,f){var h=NM(e,f),b=e.parentNode;return b.insertBefore(h[0],e),Tt.each(r,function(E){b.insertBefore(E,e)}),b.insertBefore(h[1],e),b.removeChild(e),CI(r[r.length-1],s)},$M=function(e,r,s){var f=e.parentNode;return Tt.each(r,function(h){f.insertBefore(h,e)}),Q6(e,s)},e$=function(e,r,s,f){return f.insertAfter(r.reverse(),e),CI(r[0],s)},t$=function(e,r,s,f){var h=X6(r,e,f),b=FM(r,s.startContainer),E=LM(vA(h.firstChild)),O=1,R=2,W=r.getRoot(),ne=function(ae){var ce=yt.fromRangeStart(s),we=it(r.getRoot()),Se=ae===O?we.prev(ce):we.next(ce);return Se?FM(r,Se.getNode())!==b:!0};return ne(O)?$M(b,E,W):ne(R)?e$(b,E,W,r):lE(b,E,W,s)},SI=function(e,r,s){var f=Z.fromDom(e.getRoot());return uC(f,yt.fromRangeStart(r))?s=s.replace(/^ /,"&nbsp;"):s=s.replace(/^&nbsp;/," "),lC(f,yt.fromRangeEnd(r))?s=s.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):s=s.replace(/&nbsp;(<br( \/)?>)?$/," "),s},hA=wv,n$=function(e,r,s){if(s!==null){var f=e.getParent(r.endContainer,hA);return s===f&&Jd(Z.fromDom(s),r)}else return!1},r$=function(e,r,s){if(s.getAttribute("data-mce-bogus")==="all")s.parentNode.insertBefore(e.dom.createFragment(r),s);else{var f=s.firstChild,h=s.lastChild;!f||f===h&&f.nodeName==="BR"?e.dom.setHTML(s,r):e.selection.setContent(r)}},a$=function(e,r){Ee.from(e.getParent(r,"td,th")).map(Z.fromDom).each(QT)},i$=function(e,r){var s=e.schema.getTextInlineElements(),f=e.dom;if(r){var h=e.getBody(),b=X2(f);Tt.each(f.select("*[data-mce-fragment]"),function(E){var O=at(s[E.nodeName.toLowerCase()]);if(O&&jm(f,E))for(var R=E.parentNode;at(R)&&R!==h;R=R.parentNode){var W=Uh(f,E,R);if(W)break;if(b.compare(R,E)){f.remove(E,!0);break}}})}},EI=function(e){for(var r=e;r=r.walk();)r.type===1&&r.attr("data-mce-fragment","1")},kI=function(e){Tt.each(e.getElementsByTagName("*"),function(r){r.removeAttribute("data-mce-fragment")})},o$=function(e){return!!e.getAttribute("data-mce-fragment")},s$=function(e,r){return r&&!e.schema.getShortEndedElements()[r.nodeName]},u$=function(e,r){var s,f=e.dom,h=e.selection;if(r){h.scrollIntoView(r);var b=C0(e.getBody(),r);if(f.getContentEditable(b)==="false"){f.remove(r),h.select(b);return}var E=f.createRng(),O=r.previousSibling;if(Rn(O)){if(E.setStart(O,O.nodeValue.length),!rr.ie){var R=r.nextSibling;Rn(R)&&(O.appendData(R.data),R.parentNode.removeChild(R))}}else E.setStartBefore(r),E.setEndBefore(r);var W=function(ae){var ce=yt.fromRangeStart(ae),we=it(e.getBody());if(ce=we.next(ce),ce)return ce.toRange()},ne=f.getParent(r,f.isBlock);f.remove(r),ne&&f.isEmpty(ne)&&(e.$(ne).empty(),E.setStart(ne,0),E.setEnd(ne,0),!hA(ne)&&!o$(ne)&&(s=W(E))?(E=s,f.remove(ne)):f.add(ne,f.create("br",{"data-mce-bogus":"1"}))),h.setRng(E)}},l$=function(e){var r=e.dom,s=IM(e.selection.getRng());e.selection.setRng(s);var f=r.getParent(s.startContainer,hA);n$(r,s,f)?AM(e,s,Z.fromDom(f)):e.getDoc().execCommand("Delete",!1,null)},c$=function(e,r,s){var f,h,b,E=e.selection,O=e.dom;/^ | $/.test(r)&&(r=SI(O,E.getRng(),r));var R=e.parser,W=s.merge,ne=M0({validate:VS(e)},e.schema),ae='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',ce=e.fire("BeforeSetContent",{content:r,format:"html",selection:!0,paste:s.paste});if(ce.isDefaultPrevented()){e.fire("SetContent",{content:ce.content,format:"html",selection:!0,paste:s.paste});return}r=ce.content,r.indexOf("{$caret}")===-1&&(r+="{$caret}"),r=r.replace(/\{\$caret\}/,ae),h=E.getRng();var we=h.startContainer||(h.parentElement?h.parentElement():null),Se=e.getBody();we===Se&&E.isCollapsed()&&O.isBlock(Se.firstChild)&&s$(e,Se.firstChild)&&O.isEmpty(Se.firstChild)&&(h=O.createRng(),h.setStart(Se.firstChild,0),h.setEnd(Se.firstChild,0),E.setRng(h)),E.isCollapsed()||l$(e),f=E.getNode();var Ae={context:f.nodeName.toLowerCase(),data:s.data,insert:!0},De=R.parse(r,Ae);if(s.paste===!0&&_I(e.schema,De)&&J6(O,f)){h=t$(ne,O,E.getRng(),De),E.setRng(h),e.fire("SetContent",ce);return}if(EI(De),b=De.lastChild,b.attr("id")==="mce_marker"){var Ve=b;for(b=b.prev;b;b=b.walk(!0))if(b.type===3||!O.isBlock(b.name)){e.schema.isValidChild(b.parent.name,"span")&&b.parent.insert(Ve,b,b.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(f),!Ae.invalid)r=ne.serialize(De),r$(e,r,f);else{e.selection.setContent(ae),f=E.getNode();var Ne=e.getBody();for(f.nodeType===9?f=b=Ne:b=f;b!==Ne;)f=b,b=b.parentNode;r=f===Ne?Ne.innerHTML:O.getOuterHTML(f),r=ne.serialize(R.parse(r.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return ne.serialize(De)}))),f===Ne?O.setHTML(Ne,r):O.setOuterHTML(f,r)}i$(e,W),u$(e,O.get("mce_marker")),kI(e.getBody()),a$(O,E.getStart()),e.fire("SetContent",ce),e.addVisual()},zM=function(e,r){r(e),e.firstChild&&zM(e.firstChild,r),e.next&&zM(e.next,r)},cE=function(e,r,s){var f={},h={},b=[];s.firstChild&&zM(s.firstChild,function(R){vt(e,function(W){W.name===R.name&&(f[W.name]?f[W.name].nodes.push(R):f[W.name]={filter:W,nodes:[R]})}),vt(r,function(W){typeof R.attr(W.name)=="string"&&(h[W.name]?h[W.name].nodes.push(R):h[W.name]={filter:W,nodes:[R]})})});for(var E in f)Ur(f,E)&&b.push(f[E]);for(var O in h)Ur(h,O)&&b.push(h[O]);return b},f$=function(e,r,s){var f=cE(e,r,s);vt(f,function(h){vt(h.filter.callbacks,function(b){b(h.nodes,h.filter.name,{})})})},TI="html",fE=function(e){return e instanceof yd},d$=function(e){bd(e)&&io(e.getBody()).each(function(r){var s=r.getNode(),f=go(s)?io(s).getOr(r):r;e.selection.setRng(f.toRange())})},mA=function(e,r,s){e.dom.setHTML(e.getBody(),r),s!==!0&&d$(e)},AI=function(e,r,s,f){if(s.length===0||/^\s+$/.test(s)){var h='<br data-mce-bogus="1">';r.nodeName==="TABLE"?s="<tr><td>"+h+"</td></tr>":/^(UL|OL)$/.test(r.nodeName)&&(s="<li>"+h+"</li>");var b=yu(e);b&&e.schema.isValidChild(r.nodeName.toLowerCase(),b.toLowerCase())?(s=h,s=e.dom.createHTML(b,Hg(e),s)):s||(s='<br data-mce-bogus="1">'),mA(e,s,f.no_selection),e.fire("SetContent",f)}else f.format!=="raw"&&(s=M0({validate:e.validate},e.schema).serialize(e.parser.parse(s,{isRootContent:!0,insert:!0}))),f.content=bs(Z.fromDom(r))?s:Tt.trim(s),mA(e,f.content,f.no_selection),f.no_events||e.fire("SetContent",f);return f.content},v$=function(e,r,s,f){f$(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),s);var h=M0({validate:e.validate},e.schema).serialize(s);return f.content=bs(Z.fromDom(r))?h:Tt.trim(h),mA(e,f.content,f.no_selection),f.no_events||e.fire("SetContent",f),s},h$=function(e,r){return Kn(Kn({format:TI},e),{set:!0,content:fE(r)?"":r})},m$=function(e,r,s){var f=h$(s,r),h=s.no_events?f:e.fire("BeforeSetContent",f);return fE(r)||(r=h.content),Ee.from(e.getBody()).fold(Y(r),function(b){return fE(r)?v$(e,b,r,h):AI(e,b,r,h)})},g$=function(e,r){return sy(e,r).isSome()},OI=function(e){return K(e)?e:dt},p$=function(e,r,s){for(var f=e.dom,h=OI(s);f.parentNode;){f=f.parentNode;var b=Z.fromDom(f),E=r(b);if(E.isSome())return E;if(h(b))break}return Ee.none()},HM=function(e,r,s){var f=r(e),h=OI(s);return f.orThunk(function(){return h(e)?Ee.none():p$(e,r,h)})},VM=s2,DI=function(e,r,s){var f=e.formatter.get(s);if(f)for(var h=0;h<f.length;h++){var b=f[h];if(mf(b)&&b.inherit===!1&&e.dom.is(r,b.selector))return!0}return!1},UM=function(e,r,s,f,h){var b=e.dom.getRoot();return r===b?!1:(r=e.dom.getParent(r,function(E){return DI(e,E,s)?!0:E.parentNode===b||!!ec(e,E,s,f,!0)}),!!ec(e,r,s,f,h))},WM=function(e,r,s){if(VM(r,s.inline)||VM(r,s.block))return!0;if(s.selector)return r.nodeType===1&&e.is(r,s.selector)},gA=function(e,r,s,f,h,b){var E=s[f];if(K(s.onmatch))return s.onmatch(r,s,f);if(E){if(Oe(E.length)){for(var O in E)if(Ur(E,O)){var R=f==="attributes"?e.getAttrib(r,O):nb(e,r,O),W=Lh(E[O],b),ne=lt(R)||Ka(R);if(ne&&lt(W))continue;if(h&&ne&&!s.exact||(!h||s.exact)&&!VM(R,u2(e,W,O)))return!1}}else for(var ae=0;ae<E.length;ae++)if(f==="attributes"?e.getAttrib(r,E[ae]):nb(e,r,E[ae]))return!0}return!0},ec=function(e,r,s,f,h){var b=e.formatter.get(s),E=e.dom;if(b&&r)for(var O=0;O<b.length;O++){var R=b[O];if(WM(e.dom,r,R)&&gA(E,r,R,"attributes",h,f)&&gA(E,r,R,"styles",h,f)){var W=R.classes;if(W){for(var ne=0;ne<W.length;ne++)if(!e.dom.hasClass(r,Lh(W[ne],f)))return}return R}}},dE=function(e,r,s,f,h){if(f)return UM(e,f,r,s,h);if(f=e.selection.getNode(),UM(e,f,r,s,h))return!0;var b=e.selection.getStart();return!!(b!==f&&UM(e,b,r,s,h))},jM=function(e,r,s){var f=[],h={},b=e.selection.getStart();return e.dom.getParent(b,function(E){for(var O=0;O<r.length;O++){var R=r[O];!h[R]&&ec(e,E,R,s)&&(h[R]=!0,f.push(R))}},e.dom.getRoot()),f},YM=function(e,r){var s=function(h){return yr(h,Z.fromDom(e.getBody()))},f=function(h,b){return ec(e,h.dom,b)?Ee.some(b):Ee.none()};return Ee.from(e.selection.getStart(!0)).bind(function(h){return HM(Z.fromDom(h),function(b){return Vo(r,function(E){return f(b,E)})},s)}).getOrNull()},b$=function(e,r){var s=e.formatter.get(r),f=e.dom;if(s)for(var h=e.selection.getStart(),b=f_(f,h),E=s.length-1;E>=0;E--){var O=s[E];if(!mf(O)||at(O.defaultBlock))return!0;for(var R=b.length-1;R>=0;R--)if(f.is(b[R],O.selector))return!0}return!1},MI=function(e,r,s){return xr(s,function(f,h){var b=Jk(e,h);return e.formatter.matchNode(r,h,{},b)?f.concat([h]):f},[])},hC=Je,qM="_mce_caret",GM=function(e,r){return e.importNode(r,!0)},y$=function(e){for(var r=[];e;){if(e.nodeType===3&&e.nodeValue!==hC||e.childNodes.length>1)return[];e.nodeType===1&&r.push(e),e=e.firstChild}return r},KM=function(e){return y$(e).length>0},RI=function(e){if(e){var r=new Wa(e,e);for(e=r.current();e;e=r.next())if(Rn(e))return e}return null},P_=function(e){var r=Z.fromTag("span");return re(r,{id:qM,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&ps(r,Z.fromText(hC)),r},PI=function(e){var r=RI(e);return r&&r.nodeValue.charAt(0)===hC&&r.deleteData(0,1),r},XM=function(e,r,s){s===void 0&&(s=!0);var f=e.dom,h=e.selection;if(KM(r))er(e,!1,Z.fromDom(r),s);else{var b=h.getRng(),E=f.getParent(r,f.isBlock),O=b.startContainer,R=b.startOffset,W=b.endContainer,ne=b.endOffset,ae=PI(r);f.remove(r,!0),O===ae&&R>0&&b.setStart(ae,R-1),W===ae&&ne>0&&b.setEnd(ae,ne-1),E&&f.isEmpty(E)&&Wh(Z.fromDom(E)),h.setRng(b)}},pA=function(e,r,s){s===void 0&&(s=!0);var f=e.dom,h=e.selection;if(r)XM(e,r,s);else if(r=Bh(e.getBody(),h.getStart()),!r)for(;r=f.get(qM);)XM(e,r,!1)},_$=function(e,r,s){var f=e.dom,h=f.getParent(s,Ce(o2,e));h&&f.isEmpty(h)?s.parentNode.replaceChild(r,s):(eE(Z.fromDom(s)),f.isEmpty(s)?s.parentNode.replaceChild(r,s):f.insertAfter(r,s))},II=function(e,r){return e.appendChild(r),r},BI=function(e,r){var s=Er(e,function(f,h){return II(f,h.cloneNode(!1))},r);return II(s,s.ownerDocument.createTextNode(hC))},w$=function(e,r,s,f,h,b){var E=e.formatter,O=e.dom,R=pn(Os(E.get()),function(ce){return ce!==f&&!Kt(ce,"removeformat")}),W=MI(e,s,R),ne=pn(W,function(ce){return!$D(e,ce,f)});if(ne.length>0){var ae=s.cloneNode(!1);return O.add(r,ae),E.remove(f,h,ae,b),O.remove(ae),Ee.some(ae)}else return Ee.none()},x$=function(e,r,s){var f,h,b=e.selection,E=b.getRng(),O=E.startOffset,R=E.startContainer,W=R.nodeValue;f=Bh(e.getBody(),b.getStart()),f&&(h=RI(f));var ne=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(W&&O>0&&O<W.length&&ne.test(W.charAt(O))&&ne.test(W.charAt(O-1))){var ae=b.getBookmark();E.collapse(!0);var ce=ap(e,E,e.formatter.get(r));ce=Vm(ce),e.formatter.apply(r,s,ce),b.moveToBookmark(ae)}else(!f||h.nodeValue!==hC)&&(f=GM(e.getDoc(),P_(!0).dom),h=f.firstChild,E.insertNode(f),O=1),e.formatter.apply(r,s,f),b.setCursorLocation(h,O)},LI=function(e,r,s,f){var h=e.dom,b=e.selection,E,O,R,W=[],ne=b.getRng(),ae=ne.startContainer,ce=ne.startOffset;for(O=ae,ae.nodeType===3&&(ce!==ae.nodeValue.length&&(E=!0),O=O.parentNode);O;){if(ec(e,O,r,s,f)){R=O;break}O.nextSibling&&(E=!0),W.push(O),O=O.parentNode}if(R)if(E){var we=b.getBookmark();ne.collapse(!0);var Se=ap(e,ne,e.formatter.get(r),!0);Se=Vm(Se),e.formatter.remove(r,s,Se,f),b.moveToBookmark(we)}else{var Ae=Bh(e.getBody(),R),De=P_(!1).dom;_$(e,De,Ae!==null?Ae:R);var Ve=w$(e,De,R,r,s,f),Ne=BI(W.concat(Ve.toArray()),De);XM(e,Ae,!1),b.setCursorLocation(Ne,1),h.isEmpty(R)&&h.remove(R)}},C$=function(e,r){var s=e.selection,f=e.getBody();pA(e,null,!1),(r===8||r===46)&&s.isCollapsed()&&s.getStart().innerHTML===hC&&pA(e,Bh(f,s.getStart())),(r===37||r===39)&&pA(e,Bh(f,s.getStart()))},ZM=function(e){e.on("mouseup keydown",function(r){C$(e,r.keyCode)})},mC=function(e,r){var s=P_(!1),f=BI(r,s.dom);return du(Z.fromDom(e),s),Nn(Z.fromDom(e)),yt(f,0)},S$=function(e,r){var s=e.schema.getTextInlineElements();return Ur(s,Di(r))&&!dl(r.dom)&&!uo(r.dom)},E$=function(e){return dl(e.dom)&&KM(e.dom)},I_={},bA=Xs,FI=Ks,k$=function(e,r){var s=I_[e];s||(I_[e]=[]),I_[e].push(r)},NI=function(e,r){FI(I_[e],function(s){s(r)})};k$("pre",function(e){var r=e.selection.getRng(),s,f=function(E){return b(E.previousSibling)&&Rs(s,E.previousSibling)!==-1},h=function(E,O){Yr(O).remove(),Yr(E).append("<br><br>").append(O.childNodes)},b=Lc(["pre"]);r.collapsed||(s=e.selection.getSelectedBlocks(),FI(bA(bA(s,b),f),function(E){h(E.previousSibling,E)}))});var vE=Tt.each,JM=function(e){return Tr(e)&&!Gc(e)&&!dl(e)&&!uo(e)},hE=function(e,r){for(var s=e;s;s=s[r]){if(Rn(s)&&Zr(s.data))return e;if(Tr(s)&&!Gc(s))return s}return e},pp=function(e,r,s){var f=X2(e);if(r&&s&&(r=hE(r,"previousSibling"),s=hE(s,"nextSibling"),f.compare(r,s))){for(var h=r.nextSibling;h&&h!==s;){var b=h;h=h.nextSibling,r.appendChild(b)}return e.remove(s),Tt.each(Tt.grep(s.childNodes),function(E){r.appendChild(E)}),r}return s},$I=function(e,r,s,f){if(f&&r.merge_siblings!==!1){var h=pp(e,Ax(f),f);pp(e,h,Ax(h,!0))}},QM=function(e,r,s){if(r.clear_child_styles){var f=r.links?"*:not(a)":"*";vE(e.select(f,s),function(h){JM(h)&&vE(r.styles,function(b,E){e.setStyle(h,E,"")})})}},eR=function(e,r,s){vE(e.childNodes,function(f){JM(f)&&(r(f)&&s(f),f.hasChildNodes()&&eR(f,r,s))})},T$=function(e,r){r.nodeName==="SPAN"&&e.getAttribs(r).length===0&&e.remove(r,!0)},zI=function(e,r){return function(s){return!!(s&&nb(e,s,r))}},HI=function(e,r,s){return function(f){e.setStyle(f,r,s),f.getAttribute("style")===""&&f.removeAttribute("style"),T$(e,f)}},gC=Jn.generate([{keep:[]},{rename:["name"]},{removed:[]}]),A$=/^(src|href|style)$/,Ab=Tt.each,pC=s2,O$=function(e){return/^(TR|TH|TD)$/.test(e.nodeName)},VI=function(e,r,s){return e.isChildOf(r,s)&&r!==s&&!e.isBlock(s)},UI=function(e,r,s){var f=r[s?"startContainer":"endContainer"],h=r[s?"startOffset":"endOffset"];if(Tr(f)){var b=f.childNodes.length-1;!s&&h&&h--,f=f.childNodes[h>b?b:h]}return Rn(f)&&s&&h>=f.nodeValue.length&&(f=new Wa(f,e.getBody()).next()||f),Rn(f)&&!s&&h===0&&(f=new Wa(f,e.getBody()).prev()||f),f},tR=function(e,r){var s=r?"firstChild":"lastChild";if(O$(e)&&e[s]){var f=e[s];return e.nodeName==="TR"&&f[s]||f}return e},nR=function(e,r,s,f){var h=e.create(s,f);return r.parentNode.insertBefore(h,r),h.appendChild(r),h},WI=function(e,r,s,f,h){var b=Z.fromDom(r),E=Z.fromDom(e.create(f,h)),O=s?Fi(b):Na(b);return rn(E,O),s?(du(b,E),sf(E,b)):(uh(b,E),ps(E,b)),E.dom},D$=function(e,r,s){if(vl(s)&&pC(r,s.inline)||Fh(s)&&pC(r,s.block))return!0;if(mf(s))return Tr(r)&&e.is(r,s.selector)},M$=function(e,r){return r.links&&e.nodeName==="A"},yA=function(e,r,s,f){var h=Ax(r,s,f);return lt(h)||h.nodeName==="BR"||e.isBlock(h)},R$=function(e,r,s){var f=r.parentNode,h,b=e.dom,E=yu(e);Fh(s)&&(E?f===b.getRoot()&&(!s.list_block||!pC(r,s.list_block))&&vt(ya(r.childNodes),function(O){tb(e,E,O.nodeName.toLowerCase())?h?h.appendChild(O):(h=nR(b,O,E),b.setAttribs(h,e.settings.forced_root_block_attrs)):h=null}):b.isBlock(r)&&!b.isBlock(f)&&(!yA(b,r,!1)&&!yA(b,r.firstChild,!0,!0)&&r.insertBefore(b.create("br"),r.firstChild),!yA(b,r,!0)&&!yA(b,r.lastChild,!1,!0)&&r.appendChild(b.create("br")))),!(zD(s)&&!pC(s.inline,r))&&b.remove(r,!0)},jI=function(e,r,s,f,h){var b,E=e.dom;if(!D$(E,f,r)&&!M$(f,r))return gC.keep();var O=f;if(vl(r)&&r.remove==="all"&&be(r.preserve_attributes)){var R=pn(E.getAttribs(O),function(ce){return kt(r.preserve_attributes,ce.name.toLowerCase())});if(E.removeAllAttribs(O),vt(R,function(ce){return E.setAttrib(O,ce.name,ce.value)}),R.length>0)return gC.rename("span")}if(r.remove!=="all"){Ab(r.styles,function(ce,we){ce=u2(E,Lh(ce,s),we+""),de(we)&&(we=ce,h=null),(r.remove_similar||!h||pC(nb(E,h,we),ce))&&E.setStyle(O,we,""),b=!0}),b&&E.getAttrib(O,"style")===""&&(O.removeAttribute("style"),O.removeAttribute("data-mce-style")),Ab(r.attributes,function(ce,we){var Se;if(ce=Lh(ce,s),de(we)&&(we=ce,h=null),r.remove_similar||!h||pC(E.getAttrib(h,we),ce)){if(we==="class"&&(ce=E.getAttrib(O,we),ce&&(Se="",vt(ce.split(/\s+/),function(Ae){/mce\-\w+/.test(Ae)&&(Se+=(Se?" ":"")+Ae)}),Se))){E.setAttrib(O,we,Se);return}if(A$.test(we)&&O.removeAttribute("data-mce-"+we),we==="style"&&Lc(["li"])(O)&&E.getStyle(O,"list-style-type")==="none"){O.removeAttribute(we),E.setStyle(O,"list-style-type","none");return}we==="class"&&O.removeAttribute("className"),O.removeAttribute(we)}}),Ab(r.classes,function(ce){ce=Lh(ce,s),(!h||E.hasClass(h,ce))&&E.removeClass(O,ce)});for(var W=E.getAttribs(O),ne=0;ne<W.length;ne++){var ae=W[ne].nodeName;if(ae.indexOf("_")!==0&&ae.indexOf("data-")!==0)return gC.keep()}}return r.remove!=="none"?(R$(e,O,r),gC.removed()):gC.keep()},bC=function(e,r,s,f,h){return jI(e,r,s,f,h).fold(dt,function(b){return e.dom.rename(f,b),!0},Dt)},P$=function(e,r,s,f,h){var b;return vt(f_(e.dom,r.parentNode).reverse(),function(E){if(!b&&E.id!=="_start"&&E.id!=="_end"){var O=ec(e,E,s,f,h);O&&O.split!==!1&&(b=E)}}),b},I$=function(e,r,s,f){return jI(e,r,s,f,f).fold(Y(f),function(h){var b=e.dom.createFragment();return b.appendChild(f),e.dom.rename(f,h)},Y(null))},rR=function(e,r,s,f,h,b,E,O){var R,W,ne,ae=e.dom;if(s){for(var ce=s.parentNode,we=f.parentNode;we&&we!==ce;we=we.parentNode){R=ae.clone(we,!1);for(var Se=0;Se<r.length&&(R=I$(e,r[Se],O,R),R!==null);Se++);R&&(W&&R.appendChild(W),ne||(ne=R),W=R)}b&&(!E.mixed||!ae.isBlock(s))&&(f=ae.split(s,f)),W&&(h.parentNode.insertBefore(W,h),ne.appendChild(h),vl(E)&&$I(ae,E,O,W))}return f},aR=function(e,r,s,f,h){var b=e.formatter.get(r),E=b[0],O=!0,R=e.dom,W=e.selection,ne=function(Ne){var ft=P$(e,Ne,r,s,h);return rR(e,b,ft,Ne,Ne,!0,E,s)},ae=function(Ne){return Gc(Ne)&&Tr(Ne)&&(Ne.id==="_start"||Ne.id==="_end")},ce=function(Ne){return Qe(b,function(ft){return bC(e,ft,s,Ne,Ne)})},we=function(Ne){var ft=!0,ot=!1;Tr(Ne)&&R.getContentEditable(Ne)&&(ft=O,O=R.getContentEditable(Ne)==="true",ot=!0);var je=ya(Ne.childNodes);if(O&&!ot){var ht=ce(Ne),Bt=ht||Qe(b,function(Wt){return WM(R,Ne,Wt)}),en=Ne.parentNode;!Bt&&at(en)&&c2(E)&&ce(en)}if(E.deep&&je.length){for(var gr=0;gr<je.length;gr++)we(je[gr]);ot&&(O=ft)}var In=["underline","line-through","overline"];vt(In,function(Wt){Tr(Ne)&&e.dom.getStyle(Ne,"text-decoration")===Wt&&Ne.parentNode&&l2(R,Ne.parentNode)===Wt&&bC(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Wt}},null,Ne)})},Se=function(Ne){var ft=R.get(Ne?"_start":"_end"),ot=ft[Ne?"firstChild":"lastChild"];return ae(ot)&&(ot=ot[Ne?"firstChild":"lastChild"]),Rn(ot)&&ot.data.length===0&&(ot=Ne?ft.previousSibling||ft.nextSibling:ft.nextSibling||ft.previousSibling),R.remove(ft,!0),ot},Ae=function(Ne){var ft,ot,je=ap(e,Ne,b,Ne.collapsed);if(E.split){if(je=Vm(je),ft=UI(e,je,!0),ot=UI(e,je),ft!==ot){if(ft=tR(ft,!0),ot=tR(ot,!1),VI(R,ft,ot)){var ht=Ee.from(ft.firstChild).getOr(ft);ne(WI(R,ht,!0,"span",{id:"_start","data-mce-type":"bookmark"})),Se(!0);return}if(VI(R,ot,ft)){var ht=Ee.from(ot.lastChild).getOr(ot);ne(WI(R,ht,!1,"span",{id:"_end","data-mce-type":"bookmark"})),Se(!1);return}ft=nR(R,ft,"span",{id:"_start","data-mce-type":"bookmark"}),ot=nR(R,ot,"span",{id:"_end","data-mce-type":"bookmark"});var Bt=R.createRng();Bt.setStartAfter(ft),Bt.setEndBefore(ot),h_(R,Bt,function(en){vt(en,function(gr){!Gc(gr)&&!Gc(gr.parentNode)&&ne(gr)})}),ne(ft),ne(ot),ft=Se(!0),ot=Se()}else ft=ot=ne(ft);je.startContainer=ft.parentNode?ft.parentNode:ft,je.startOffset=R.nodeIndex(ft),je.endContainer=ot.parentNode?ot.parentNode:ot,je.endOffset=R.nodeIndex(ot)+1}h_(R,je,function(en){vt(en,we)})};if(f){if(Tx(f)){var De=R.createRng();De.setStartBefore(f),De.setEndAfter(f),Ae(De)}else Ae(f);m_(e,r,f,s);return}if(R.getContentEditable(W.getNode())==="false"){f=W.getNode();for(var Ve=0;Ve<b.length&&!(b[Ve].ceFalseOverride&&bC(e,b[Ve],s,f,f));Ve++);m_(e,r,f,s);return}!W.isCollapsed()||!vl(E)||Nh(e).length?(ob(W,!0,function(){x0(e,Ae)}),vl(E)&&dE(e,r,s,W.getStart())&&Zk(R,W,W.getRng()),e.nodeChanged()):LI(e,r,s,h),m_(e,r,f,s)},YI=Tt.each,_A=function(e,r,s,f){var h=function(b){if(b.nodeType===1&&b.parentNode&&b.parentNode.nodeType===1){var E=l2(e,b.parentNode);e.getStyle(b,"color")&&E?e.setStyle(b,"text-decoration",E):e.getStyle(b,"text-decoration")===E&&e.setStyle(b,"text-decoration",null)}};r.styles&&(r.styles.color||r.styles.textDecoration)&&(Tt.walk(f,h,"childNodes"),h(f))},qI=function(e,r,s,f){r.styles&&r.styles.backgroundColor&&eR(f,zI(e,"fontSize"),HI(e,"backgroundColor",Lh(r.styles.backgroundColor,s)))},mE=function(e,r,s,f){vl(r)&&(r.inline==="sub"||r.inline==="sup")&&(eR(f,zI(e,"fontSize"),HI(e,"fontSize","")),e.remove(e.select(r.inline==="sup"?"sub":"sup",f),!0))},gE=function(e,r,s,f){YI(r,function(h){vl(h)&&YI(e.dom.select(h.inline,f),function(b){JM(b)&&bC(e,h,s,b,h.exact?b:null)}),QM(e.dom,h,f)})},GI=function(e,r,s,f,h){ec(e,h.parentNode,s,f)&&bC(e,r,f,h)||r.merge_with_parents&&e.dom.getParent(h.parentNode,function(b){if(ec(e,b,s,f))return bC(e,r,f,h),!0})},wA=Tt.each,B$=function(e){return Tr(e)&&!Gc(e)&&!dl(e)&&!uo(e)},L$=function(e,r,s,f){if(Mh(e)&&vl(r)){var h=d1(e.schema),b=g$(Z.fromDom(s),function(E){return dl(E.dom)});return Uo(h,f)&&ru(Z.fromDom(s.parentNode),!1)&&!b}else return!1},iR=function(e,r,s,f){var h=e.formatter.get(r),b=h[0],E=!f&&e.selection.isCollapsed(),O=e.dom,R=e.selection,W=function(ft,ot){if(ot===void 0&&(ot=b),K(ot.onformat)&&ot.onformat(ft,ot,s,f),wA(ot.styles,function(ht,Bt){O.setStyle(ft,Bt,Lh(ht,s))}),ot.styles){var je=O.getAttrib(ft,"style");je&&O.setAttrib(ft,"data-mce-style",je)}wA(ot.attributes,function(ht,Bt){O.setAttrib(ft,Bt,Lh(ht,s))}),wA(ot.classes,function(ht){ht=Lh(ht,s),O.hasClass(ft,ht)||O.addClass(ft,ht)})},ne=function(ft,ot){var je=!1;return wA(ft,function(ht){if(!mf(ht))return!1;if(!(at(ht.collapsed)&&ht.collapsed!==E)&&O.is(ot,ht.selector)&&!dl(ot))return W(ot,ht),je=!0,!1}),je},ae=function(ft){if(Te(ft)){var ot=O.create(ft);return W(ot),ot}else return null},ce=function(ft,ot,je){var ht=[],Bt=!0,en=b.inline||b.block,gr=ae(en);h_(ft,ot,function(In){var Wt,hr=function(on){var Mn=!1,cn=Bt,yn=on.nodeName.toLowerCase(),Hn=on.parentNode,Gt=Hn.nodeName.toLowerCase();if(Tr(on)&&ft.getContentEditable(on)&&(cn=Bt,Bt=ft.getContentEditable(on)==="true",Mn=!0),ui(on)&&!L$(e,b,on,Gt)){Wt=null,Fh(b)&&ft.remove(on);return}if(Fh(b)&&b.wrapper&&ec(e,on,r,s)){Wt=null;return}if(Bt&&!Mn&&Fh(b)&&!b.wrapper&&o2(e,yn)&&tb(e,Gt,en)){var Ln=ft.rename(on,en);W(Ln),ht.push(Ln),Wt=null;return}if(mf(b)){var va=ne(h,on);if(!va&&at(Hn)&&c2(b)&&(va=ne(h,Hn)),!vl(b)||va){Wt=null;return}}Bt&&!Mn&&tb(e,en,yn)&&tb(e,Gt,en)&&!(!je&&Rn(on)&&tl(on.data))&&!dl(on)&&(!vl(b)||!ft.isBlock(on))?(Wt||(Wt=ft.clone(gr,!1),on.parentNode.insertBefore(Wt,on),ht.push(Wt)),Wt.appendChild(on)):(Wt=null,vt(ya(on.childNodes),hr),Mn&&(Bt=cn),Wt=null)};vt(In,hr)}),b.links===!0&&vt(ht,function(In){var Wt=function(hr){hr.nodeName==="A"&&W(hr,b),vt(ya(hr.childNodes),Wt)};Wt(In)}),vt(ht,function(In){var Wt=function(Mn){var cn=0;return vt(Mn.childNodes,function(yn){!ND(yn)&&!Gc(yn)&&cn++}),cn},hr=function(Mn){var cn=ba(Mn.childNodes,B$).filter(function(yn){return WM(ft,yn,b)});return cn.map(function(yn){var Hn=ft.clone(yn,!1);return W(Hn),ft.replace(Hn,Mn,!0),ft.remove(yn,!0),Hn}).getOr(Mn)},on=Wt(In);if((ht.length>1||!ft.isBlock(In))&&on===0){ft.remove(In,!0);return}(vl(b)||Fh(b)&&b.wrapper)&&(!b.exact&&on===1&&(In=hr(In)),gE(e,h,s,In),GI(e,b,r,s,In),qI(ft,b,s,In),_A(ft,b,s,In),mE(ft,b,s,In),$I(ft,b,s,In))})};if(O.getContentEditable(R.getNode())==="false"){f=R.getNode();for(var we=0,Se=h.length;we<Se;we++){var Ae=h[we];if(Ae.ceFalseOverride&&mf(Ae)&&O.is(f,Ae.selector)){W(f,Ae);break}}S2(e,r,f,s);return}if(b){if(f)if(Tx(f)){if(!ne(h,f)){var De=O.createRng();De.setStartBefore(f),De.setEndAfter(f),ce(O,ap(e,De,h),!0)}}else ce(O,f,!0);else if(!E||!vl(b)||Nh(e).length){var Ve=R.getNode(),Ne=h[0];!e.settings.forced_root_block&&Ne.defaultBlock&&!O.getParent(Ve,O.isBlock)&&iR(e,Ne.defaultBlock),R.setRng(IM(R.getRng())),ob(R,!0,function(){x0(e,function(ft,ot){var je=ot?ft:ap(e,ft,h);ce(O,je,!1)})}),Zk(O,R,R.getRng()),e.nodeChanged()}else x$(e,r,s);NI(r,e)}S2(e,r,f,s)},KI=function(e){return Ur(e,"vars")},F$=function(e,r){e.set({}),r.on("NodeChange",function(s){yC(r,s.element,e.get())}),r.on("FormatApply FormatRemove",function(s){var f=Ee.from(s.node).map(function(h){return Tx(h)?h:h.startContainer}).bind(function(h){return Tr(h)?Ee.some(h):Ee.from(h.parentElement)}).getOrThunk(function(){return XI(r)});yC(r,f,e.get())})},XI=function(e){return e.selection.getStart()},oR=function(e,r,s,f,h){var b=function(O){var R=e.formatter.matchNode(O,s,h??{},f);return!Oe(R)},E=function(O){return DI(e,O,s)?!0:f?!1:at(e.formatter.matchNode(O,s,h,!0))};return Un(r,b,E)},ZI=function(e,r){var s=r??XI(e);return pn(f_(e.dom,s),function(f){return Tr(f)&&!uo(f)})},yC=function(e,r,s){var f=ZI(e,r);ia(s,function(h,b){var E=function(O){var R=oR(e,f,b,O.similar,KI(O)?O.vars:void 0),W=R.isSome();if(O.state.get()!==W){O.state.set(W);var ne=R.getOr(r);KI(O)?O.callback(W,{node:ne,format:b,parents:f}):vt(O.callbacks,function(ae){return ae(W,{node:ne,format:b,parents:f})})}};vt([h.withSimilar,h.withoutSimilar],E),vt(h.withVars,E)})},N$=function(e,r,s,f,h,b){var E=r.get();vt(s.split(","),function(O){var R=_a(E,O).getOrThunk(function(){var ae={withSimilar:{state:Pl(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Pl(!1),similar:!1,callbacks:[]},withVars:[]};return E[O]=ae,ae}),W=function(){var ae=ZI(e);return oR(e,ae,O,h,b).isSome()};if(Oe(b)){var ne=h?R.withSimilar:R.withoutSimilar;ne.callbacks.push(f),ne.callbacks.length===1&&ne.state.set(W())}else R.withVars.push({state:Pl(W()),similar:h,vars:b,callback:f})}),r.set(E)},$$=function(e,r,s){var f=e.get();vt(r.split(","),function(h){return _a(f,h).each(function(b){f[h]={withSimilar:Kn(Kn({},b.withSimilar),{callbacks:pn(b.withSimilar.callbacks,function(E){return E!==s})}),withoutSimilar:Kn(Kn({},b.withoutSimilar),{callbacks:pn(b.withoutSimilar.callbacks,function(E){return E!==s})}),withVars:pn(b.withVars,function(E){return E.callback!==s})}})}),e.set(f)},z$=function(e,r,s,f,h,b){return r.get()===null&&F$(r,e),N$(e,r,s,f,h,b),{unbind:function(){return $$(r,s,f)}}},H$=function(e,r,s,f){var h=e.formatter.get(r);dE(e,r,s,f)&&(!("toggle"in h[0])||h[0].toggle)?aR(e,r,s,f):iR(e,r,s,f)},xA=function(e,r){var s=r||document,f=s.createDocumentFragment();return vt(e,function(h){f.appendChild(h.dom)}),Z.fromDom(f)},CA=function(e,r,s){return{element:e,width:r,rows:s}},sR=function(e,r){return{element:e,cells:r}},JI=function(e,r){return{x:e,y:r}},SA=function(e,r){var s=parseInt(he(e,r),10);return isNaN(s)?1:s},QI=function(e,r,s,f,h){for(var b=SA(h,"rowspan"),E=SA(h,"colspan"),O=e.rows,R=s;R<s+b;R++){O[R]||(O[R]=sR(s0(f),[]));for(var W=r;W<r+E;W++){var ne=O[R].cells;ne[W]=R===s&&W===r?h:Zo(h)}}},V$=function(e,r,s){var f=e.rows,h=f[s]?f[s].cells:[];return!!h[r]},U$=function(e,r,s){for(;V$(e,r,s);)r++;return r},eB=function(e){return xr(e,function(r,s){return s.cells.length>r?s.cells.length:r},0)},tB=function(e,r){for(var s=e.rows,f=0;f<s.length;f++)for(var h=s[f].cells,b=0;b<h.length;b++)if(yr(h[b],r))return Ee.some(JI(b,f));return Ee.none()},nB=function(e,r,s,f,h){for(var b=[],E=e.rows,O=s;O<=h;O++){var R=E[O].cells,W=r<f?R.slice(r,f+1):R.slice(f,r+1);b.push(sR(E[O].element,W))}return b},uR=function(e,r,s){var f=r.x,h=r.y,b=s.x,E=s.y,O=h<E?nB(e,f,h,b,E):nB(e,f,E,b,h);return CA(e.element,eB(O),O)},lR=function(e,r){var s=Zo(e.element),f=Z.fromTag("tbody");return rn(f,r),ps(s,f),s},rB=function(e){return st(e.rows,function(r){var s=st(r.cells,function(h){var b=s0(h);return Et(b,"colspan"),Et(b,"rowspan"),b}),f=Zo(r.element);return rn(f,s),f})},EA=function(e){var r=CA(Zo(e),0,[]);return vt(bu(e,"tr"),function(s,f){vt(bu(s,"td,th"),function(h,b){QI(r,U$(r,b,f),f,s,h)})}),CA(r.element,eB(r.rows),r.rows)},nv=function(e){return lR(e,rB(e))},pE=function(e,r,s){return tB(e,r).bind(function(f){return tB(e,s).map(function(h){return uR(e,f,h)})})},B_=function(e){return ba(e,function(r){return Di(r)==="ul"||Di(r)==="ol"})},W$=function(e,r){return ba(e,function(s){return Di(s)==="li"&&Jd(s,r)}).fold(Y([]),function(s){return B_(e).map(function(f){var h=Z.fromTag(Di(f)),b=Pi(po(f),function(E,O){return tn(O,"list-style")});return ra(h,b),[Z.fromTag("li"),h]}).getOr([])})},aB=function(e,r){var s=xr(r,function(f,h){return ps(h,f),h},e);return r.length>0?xA([s]):s},iB=function(e){return Ns(e)?Vi(e).filter(If).fold(Y([]),function(r){return[e,r]}):If(e)?[e]:[]},j$=function(e,r){var s=Z.fromDom(r.commonAncestorContainer),f=Yv(s,e),h=pn(f,function(O){return Fs(O)||Ar(O)}),b=W$(f,r),E=h.concat(b.length?b:iB(s));return st(E,Zo)},oB=function(){return xA([])},Y$=function(e,r){return aB(Z.fromDom(r.cloneContents()),j$(e,r))},sB=function(e,r){return dm(r,"table",Ce(yr,e))},kA=function(e,r){return sB(e,r[0]).bind(function(s){var f=r[0],h=r[r.length-1],b=EA(s);return pE(b,f,h).map(function(E){return xA([nv(E)])})}).getOrThunk(oB)},uB=function(e,r){return r.length>0&&r[0].collapsed?oB():Y$(e,r[0])},lB=function(e,r){var s=Hm(r,e);return s.length>0?kA(e,s):uB(e,r)},TA=function(e){return e.replace(/^[ \f\n\r\t\v]+/,"")},AA=function(e,r){return r>=0&&r<e.length&&rp(e.charAt(r))},cB=function(e,r){var s=Go(e.innerText);return r?TA(s):s},q$=function(e){return e.map(function(r){return r.nodeName}).getOr("div").toLowerCase()},G$=function(e){return Ee.from(e.selection.getRng()).map(function(r){var s=Ee.from(e.dom.getParent(r.commonAncestorContainer,e.dom.isBlock)),f=e.getBody(),h=q$(s),b=rr.browser.isIE()&&h!=="pre",E=e.dom.add(f,h,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},r.cloneContents()),O=cB(E,b),R=Go(E.textContent);if(e.dom.remove(E),AA(R,0)||AA(R,R.length-1)){var W=s.getOr(f),ne=cB(W,b),ae=ne.indexOf(O);if(ae===-1)return O;var ce=AA(ne,ae-1),we=AA(ne,ae+O.length);return(ce?" ":"")+O+(we?" ":"")}else return O}).getOr("")},K$=function(e,r){var s=e.selection.getRng(),f=e.dom.create("body"),h=e.selection.getSel(),b=Xx(e,h2(h)),E=r.contextual?lB(Z.fromDom(e.getBody()),b).dom:s.cloneContents();return E&&f.appendChild(E),e.selection.serializer.serialize(f,r)},X$=function(e,r){return Kn(Kn({},e),{format:r,get:!0,selection:!0})},Z$=function(e,r,s){s===void 0&&(s={});var f=X$(s,r),h=e.fire("BeforeGetContent",f);if(h.isDefaultPrevented())return e.fire("GetContent",h),h.content;if(h.format==="text")return G$(e);h.getInner=!0;var b=K$(e,h);return h.format==="tree"?b:(h.content=e.selection.isCollapsed()?"":b,e.fire("GetContent",h),h.content)},cR=0,fB=1,dB=2,J$=function(e,r){var s=e.length+r.length+2,f=new Array(s),h=new Array(s),b=function(ne,ae,ce){return{start:ne,end:ae,diag:ce}},E=function(ne,ae,ce,we,Se){var Ae=R(ne,ae,ce,we);if(Ae===null||Ae.start===ae&&Ae.diag===ae-we||Ae.end===ne&&Ae.diag===ne-ce)for(var De=ne,Ve=ce;De<ae||Ve<we;)De<ae&&Ve<we&&e[De]===r[Ve]?(Se.push([cR,e[De]]),++De,++Ve):ae-ne>we-ce?(Se.push([dB,e[De]]),++De):(Se.push([fB,r[Ve]]),++Ve);else{E(ne,Ae.start,ce,Ae.start-Ae.diag,Se);for(var Ne=Ae.start;Ne<Ae.end;++Ne)Se.push([cR,e[Ne]]);E(Ae.end,ae,Ae.end-Ae.diag,we,Se)}},O=function(ne,ae,ce,we){for(var Se=ne;Se-ae<we&&Se<ce&&e[Se]===r[Se-ae];)++Se;return b(ne,Se,ae)},R=function(ne,ae,ce,we){var Se=ae-ne,Ae=we-ce;if(Se===0||Ae===0)return null;var De=Se-Ae,Ve=Ae+Se,Ne=(Ve%2===0?Ve:Ve+1)/2;f[1+Ne]=ne,h[1+Ne]=ae+1;var ft,ot,je,ht,Bt;for(ft=0;ft<=Ne;++ft){for(ot=-ft;ot<=ft;ot+=2){for(je=ot+Ne,ot===-ft||ot!==ft&&f[je-1]<f[je+1]?f[je]=f[je+1]:f[je]=f[je-1]+1,ht=f[je],Bt=ht-ne+ce-ot;ht<ae&&Bt<we&&e[ht]===r[Bt];)f[je]=++ht,++Bt;if(De%2!==0&&De-ft<=ot&&ot<=De+ft&&h[je-De]<=f[je])return O(h[je-De],ot+ne-ce,ae,we)}for(ot=De-ft;ot<=De+ft;ot+=2){for(je=ot+Ne-De,ot===De-ft||ot!==De+ft&&h[je+1]<=h[je-1]?h[je]=h[je+1]-1:h[je]=h[je-1],ht=h[je]-1,Bt=ht-ne+ce-ot;ht>=ne&&Bt>=ce&&e[ht]===r[Bt];)h[je]=ht--,Bt--;if(De%2===0&&-ft<=ot&&ot<=ft&&h[je]<=f[je+De])return O(h[je],ot+ne-ce,ae,we)}}},W=[];return E(0,e.length,0,r.length,W),W},vB=function(e){return Tr(e)?e.outerHTML:Rn(e)?Hc.encodeRaw(e.data,!1):Md(e)?"<!--"+e.data+"-->":""},fR=function(e){var r,s=document.createElement("div"),f=document.createDocumentFragment();for(e&&(s.innerHTML=e);r=s.firstChild;)f.appendChild(r);return f},Q$=function(e,r,s){var f=fR(r);if(e.hasChildNodes()&&s<e.childNodes.length){var h=e.childNodes[s];h.parentNode.insertBefore(f,h)}else e.appendChild(f)},_C=function(e,r){if(e.hasChildNodes()&&r<e.childNodes.length){var s=e.childNodes[r];s.parentNode.removeChild(s)}},hB=function(e,r){var s=0;vt(e,function(f){f[0]===cR?s++:f[0]===fB?(Q$(r,f[1],s),s++):f[0]===dB&&_C(r,s)})},wu=function(e){return pn(st(ya(e.childNodes),vB),function(r){return r.length>0})},e8=function(e,r){var s=st(ya(r.childNodes),vB);return hB(J$(s,e),r),r},t8=uu(function(){return document.implementation.createHTMLDocument("undo")}),n8=function(e){return e.indexOf("</iframe>")!==-1},r8=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},qh=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},wC=function(e){var r=wu(e.getBody()),s=ns(r,function(h){var b=UT(e.serializer,h);return b.length>0?[b]:[]}),f=s.join("");return n8(f)?r8(s):qh(f)},L_=function(e,r,s){var f=s?r.beforeBookmark:r.bookmark;r.type==="fragmented"?e8(r.fragments,e.getBody()):e.setContent(r.content,{format:"raw",no_selection:at(f)&&Wk(f)?!f.isFakeCaret:!0}),e.selection.moveToBookmark(f)},F_=function(e){return e.type==="fragmented"?e.fragments.join(""):e.content},OA=function(e){var r=Z.fromTag("body",t8());return il(r,F_(e)),vt(bu(r,"*[data-mce-bogus]"),oa),al(r)},a8=function(e,r){return F_(e)===F_(r)},i8=function(e,r){return OA(e)===OA(r)},R0=function(e,r){return!e||!r?!1:a8(e,r)?!0:i8(e,r)},Ob=function(e){return e.get()===0},P0=function(e,r,s){Ob(s)&&(e.typing=r)},DA=function(e,r){e.typing&&(P0(e,!1,r),e.add())},o8=function(e){e.typing&&(e.typing=!1,e.add())},dR=function(e,r,s){Ob(r)&&s.set(Ji(e.selection))},mB=function(e,r,s,f,h,b,E){var O=wC(e);if(b=b||{},b=Tt.extend(b,O),Ob(f)===!1||e.removed)return null;var R=r.data[s.get()];if(e.fire("BeforeAddUndo",{level:b,lastLevel:R,originalEvent:E}).isDefaultPrevented()||R&&R0(R,b))return null;r.data[s.get()]&&h.get().each(function(ce){r.data[s.get()].beforeBookmark=ce});var W=p0(e);if(W&&r.data.length>W){for(var ne=0;ne<r.data.length-1;ne++)r.data[ne]=r.data[ne+1];r.data.length--,s.set(r.data.length)}b.bookmark=Ji(e.selection),s.get()<r.data.length-1&&(r.data.length=s.get()+1),r.data.push(b),s.set(r.data.length-1);var ae={level:b,lastLevel:R,originalEvent:E};return s.get()>0?(e.setDirty(!0),e.fire("AddUndo",ae),e.fire("change",ae)):e.fire("AddUndo",ae),b},gB=function(e,r,s){r.data=[],s.set(0),r.typing=!1,e.fire("ClearUndos")},s8=function(e,r,s,f,h){if(r.transact(f)){var b=r.data[s.get()].bookmark,E=r.data[s.get()-1];L_(e,E,!0),r.transact(h)&&(r.data[s.get()-1].beforeBookmark=b)}},u8=function(e,r,s){var f;return r.get()<s.length-1&&(r.set(r.get()+1),f=s[r.get()],L_(e,f,!1),e.setDirty(!0),e.fire("Redo",{level:f})),f},pB=function(e,r,s,f){var h;return r.typing&&(r.add(),r.typing=!1,P0(r,!1,s)),f.get()>0&&(f.set(f.get()-1),h=r.data[f.get()],L_(e,h,!0),e.setDirty(!0),e.fire("Undo",{level:h})),h},l8=function(e){e.clear(),e.add()},c8=function(e,r,s){return s.get()>0||r.typing&&r.data[0]&&!R0(wC(e),r.data[0])},f8=function(e,r){return r.get()<e.data.length-1&&!e.typing},d8=function(e,r,s){return DA(e,r),e.beforeChange(),e.ignore(s),e.add()},v8=function(e,r){try{e.set(e.get()+1),r()}finally{e.set(e.get()-1)}},bB=function(e,r){var s=e.dom,f=at(r)?r:e.getBody();Oe(e.hasVisual)&&(e.hasVisual=px(e)),vt(s.select("table,a",f),function(h){switch(h.nodeName){case"TABLE":var b=ZS(e),E=s.getAttrib(h,"border");(!E||E==="0")&&e.hasVisual?s.addClass(h,b):s.removeClass(h,b);break;case"A":if(!s.getAttrib(h,"href")){var O=s.getAttrib(h,"name")||h.id,R=e_(e);O&&e.hasVisual?s.addClass(h,R):s.removeClass(h,R)}break}}),e.fire("VisualAid",{element:r,hasVisual:e.hasVisual})},yB=function(e){return{undoManager:{beforeChange:function(r,s){return dR(e,r,s)},add:function(r,s,f,h,b,E){return mB(e,r,s,f,h,b,E)},undo:function(r,s,f){return pB(e,r,s,f)},redo:function(r,s){return u8(e,r,s)},clear:function(r,s){return gB(e,r,s)},reset:function(r){return l8(r)},hasUndo:function(r,s){return c8(e,r,s)},hasRedo:function(r,s){return f8(r,s)},transact:function(r,s,f){return d8(r,s,f)},ignore:function(r,s){return v8(r,s)},extra:function(r,s,f,h){return s8(e,r,s,f,h)}},formatter:{match:function(r,s,f,h){return dE(e,r,s,f,h)},matchAll:function(r,s){return jM(e,r,s)},matchNode:function(r,s,f,h){return ec(e,r,s,f,h)},canApply:function(r){return b$(e,r)},closest:function(r){return YM(e,r)},apply:function(r,s,f){return iR(e,r,s,f)},remove:function(r,s,f,h){return aR(e,r,s,f,h)},toggle:function(r,s,f){return H$(e,r,s,f)},formatChanged:function(r,s,f,h,b){return z$(e,r,s,f,h,b)}},editor:{getContent:function(r,s){return nC(e,r,s)},setContent:function(r,s){return m$(e,r,s)},insertContent:function(r,s){return c$(e,r,s)},addVisual:function(r){return bB(e,r)}},selection:{getContent:function(r,s){return Z$(e,r,s)}},raw:{getModel:function(){return Ee.none()}}}},bE=function(e){var r=function(O){return _e(O)?O:{}},s=e.undoManager,f=e.formatter,h=e.editor,b=e.selection,E=e.raw;return{undoManager:{beforeChange:s.beforeChange,add:s.add,undo:s.undo,redo:s.redo,clear:s.clear,reset:s.reset,hasUndo:s.hasUndo,hasRedo:s.hasRedo,transact:function(O,R,W){return s.transact(W)},ignore:function(O,R){return s.ignore(R)},extra:function(O,R,W,ne){return s.extra(W,ne)}},formatter:{match:function(O,R,W,ne){return f.match(O,r(R),ne)},matchAll:f.matchAll,matchNode:f.matchNode,canApply:function(O){return f.canApply(O)},closest:function(O){return f.closest(O)},apply:function(O,R,W){return f.apply(O,r(R))},remove:function(O,R,W,ne){return f.remove(O,r(R))},toggle:function(O,R,W){return f.toggle(O,r(R))},formatChanged:function(O,R,W,ne,ae){return f.formatChanged(R,W,ne,ae)}},editor:{getContent:function(O,R){return h.getContent(O)},setContent:function(O,R){return h.setContent(O,R)},insertContent:function(O,R){return h.insertContent(O)},addVisual:h.addVisual},selection:{getContent:function(O,R){return b.getContent(R)}},raw:{getModel:function(){return Ee.some(E.getRawModel())}}}},_B=function(){var e=Y(null),r=Y("");return{undoManager:{beforeChange:ve,add:e,undo:e,redo:e,clear:ve,reset:ve,hasUndo:dt,hasRedo:dt,transact:e,ignore:ve,extra:ve},formatter:{match:dt,matchAll:Y([]),matchNode:Y(void 0),canApply:dt,closest:r,apply:ve,remove:ve,toggle:ve,formatChanged:Y({unbind:ve})},editor:{getContent:r,setContent:r,insertContent:ve,addVisual:ve},selection:{getContent:r},raw:{getModel:Y(Ee.none())}}},I0=function(e){return Ur(e.plugins,"rtc")},wB=function(e){return _a(e.plugins,"rtc").bind(function(r){return Ee.from(r.setup)})},h8=function(e){var r=e;return wB(e).fold(function(){return r.rtcInstance=yB(e),Ee.none()},function(s){return r.rtcInstance=_B(),Ee.some(function(){return s().then(function(f){return r.rtcInstance=bE(f),f.rtc.isRemote})})})},MA=function(e){return e.rtcInstance?e.rtcInstance:yB(e)},ml=function(e){var r=e.rtcInstance;if(r)return r;throw new Error("Failed to get RTC instance not yet initialized.")},m8=function(e,r,s){ml(e).undoManager.beforeChange(r,s)},xB=function(e,r,s,f,h,b,E){return ml(e).undoManager.add(r,s,f,h,b,E)},CB=function(e,r,s,f){return ml(e).undoManager.undo(r,s,f)},SB=function(e,r,s){return ml(e).undoManager.redo(r,s)},EB=function(e,r,s){ml(e).undoManager.clear(r,s)},kB=function(e,r){ml(e).undoManager.reset(r)},g8=function(e,r,s){return ml(e).undoManager.hasUndo(r,s)},p8=function(e,r,s){return ml(e).undoManager.hasRedo(r,s)},b8=function(e,r,s,f){return ml(e).undoManager.transact(r,s,f)},y8=function(e,r,s){ml(e).undoManager.ignore(r,s)},vR=function(e,r,s,f,h){ml(e).undoManager.extra(r,s,f,h)},yE=function(e,r,s,f,h){return ml(e).formatter.match(r,s,f,h)},TB=function(e,r,s){return ml(e).formatter.matchAll(r,s)},AB=function(e,r,s,f,h){return ml(e).formatter.matchNode(r,s,f,h)},RA=function(e,r){return ml(e).formatter.canApply(r)},_8=function(e,r){return ml(e).formatter.closest(r)},w8=function(e,r,s,f){ml(e).formatter.apply(r,s,f)},Db=function(e,r,s,f,h){ml(e).formatter.remove(r,s,f,h)},hR=function(e,r,s,f){ml(e).formatter.toggle(r,s,f)},OB=function(e,r,s,f,h,b){return ml(e).formatter.formatChanged(r,s,f,h,b)},_E=function(e,r,s){return MA(e).editor.getContent(r,s)},DB=function(e,r,s){return MA(e).editor.setContent(r,s)},MB=function(e,r,s){return MA(e).editor.insertContent(r,s)},RB=function(e,r,s){return ml(e).selection.getContent(r,s)},PB=function(e,r){return ml(e).editor.addVisual(r)},x8=function(e,r){r===void 0&&(r={});var s=r.format?r.format:"html";return RB(e,s,r)},IB=function(e){return e.dom.length===0?(Nn(e),Ee.none()):Ee.some(e)},C8=function(e,r){return e.filter(function(s){return sp.isBookmarkNode(s.dom)}).bind(r?Bc:pv)},mR=function(e,r,s,f){var h=e.dom,b=r.dom,E=f?h.length:b.length;f?(d(h,b,!1,!f),s.setStart(b,E)):(d(b,h,!1,!f),s.setEnd(b,E))},S8=function(e,r){Vi(e).each(function(s){var f=e.dom;r&&uC(s,yt(f,0))?M_(f,0):!r&&lC(s,yt(f,f.length))&&fC(f,f.length)})},BB=function(e,r,s,f){e.bind(function(h){var b=f?fC:M_;return b(h.dom,f?h.dom.length:0),r.filter(to).map(function(E){return mR(h,E,s,f)})}).orThunk(function(){var h=C8(r,f).or(r).filter(to);return h.map(function(b){return S8(b,f)})})},wE=function(e,r){var s=Ee.from(r.firstChild).map(Z.fromDom),f=Ee.from(r.lastChild).map(Z.fromDom);e.deleteContents(),e.insertNode(r);var h=s.bind(pv).filter(to).bind(IB),b=f.bind(Bc).filter(to).bind(IB);BB(h,s,e,!0),BB(b,f,e,!1),e.collapse(!1)},gR=function(e,r){return Kn(Kn({format:"html"},e),{set:!0,selection:!0,content:r})},E8=function(e,r){if(r.format!=="raw"){var s=e.selection.getRng(),f=e.dom.getParent(s.commonAncestorContainer,e.dom.isBlock),h=f?{context:f.nodeName.toLowerCase()}:{},b=e.parser.parse(r.content,Kn(Kn({isRootContent:!0,forced_root_block:!1},h),r));return M0({validate:e.validate},e.schema).serialize(b)}else return r.content},LB=function(e,r,s){s===void 0&&(s={});var f=gR(s,r),h=f;if(!f.no_events){var b=e.fire("BeforeSetContent",f);if(b.isDefaultPrevented()){e.fire("SetContent",b);return}else h=b}h.content=E8(e,h);var E=e.selection.getRng();wE(E,E.createContextualFragment(h.content)),e.selection.setRng(E),__(e,E),h.no_events||e.fire("SetContent",h)},FB=function(e,r,s){if(e&&Ur(e,r)){var f=pn(e[r],function(h){return h!==s});f.length===0?delete e[r]:e[r]=f}};function PA(e,r){var s,f,h=function(E,O){return ba(O,function(R){return e.is(R,E)})},b=function(E){return e.getParents(E,null,e.getRoot())};return{selectorChangedWithUnbind:function(E,O){return s||(s={},f={},r.on("NodeChange",function(R){var W=R.element,ne=b(W),ae={};Tt.each(s,function(ce,we){h(we,ne).each(function(Se){f[we]||(vt(ce,function(Ae){Ae(!0,{node:Se,selector:we,parents:ne})}),f[we]=ce),ae[we]=ce})}),Tt.each(f,function(ce,we){ae[we]||(delete f[we],Tt.each(ce,function(Se){Se(!1,{node:W,selector:we,parents:ne})}))})})),s[E]||(s[E]=[]),s[E].push(O),h(E,b(r.selection.getStart())).each(function(){f[E]=s[E]}),{unbind:function(){FB(s,E,O),FB(f,E,O)}}}}}var pR=function(e){return!!e.select},NB=function(e){return!!(e&&e.ownerDocument)&&La(Z.fromDom(e.ownerDocument),Z.fromDom(e))},zu=function(e){return e?pR(e)?!0:NB(e.startContainer)&&NB(e.endContainer):!1},$B=function(e,r,s,f){var h,b,E=PA(e,f).selectorChangedWithUnbind,O=function(Gt,Ln){var va=e.createRng();at(Gt)&&at(Ln)?(va.setStart(Gt,Ln),va.setEnd(Gt,Ln),ft(va),De(!1)):(ip(e,va,f.getBody(),!0),ft(va))},R=function(Gt){return x8(f,Gt)},W=function(Gt,Ln){return LB(f,Gt,Ln)},ne=function(Gt){return D0(f.getBody(),Ne(),Gt)},ae=function(Gt){return vb(f.getBody(),Ne(),Gt)},ce=function(Gt,Ln){return yn.getBookmark(Gt,Ln)},we=function(Gt){return yn.moveToBookmark(Gt)},Se=function(Gt,Ln){return fM(e,Gt,Ln).each(ft),Gt},Ae=function(){var Gt=Ne(),Ln=Ve();return!Gt||Gt.item?!1:Gt.compareEndPoints?Gt.compareEndPoints("StartToEnd",Gt)===0:!Ln||Gt.collapsed},De=function(Gt){var Ln=Ne();Ln.collapse(!!Gt),ft(Ln)},Ve=function(){return r.getSelection?r.getSelection():r.document.selection},Ne=function(){var Gt,Ln,va,ai=function(No,Zc,_f){try{return Zc.compareBoundaryPoints(No,_f)}catch{return-1}},ti=r.document;if(f.bookmark!==void 0&&bd(f)===!1){var gl=cb(f);if(gl.isSome())return gl.map(function(No){return Xx(f,[No])[0]}).getOr(ti.createRange())}try{(Gt=Ve())&&!uf(Gt.anchorNode)&&(Gt.rangeCount>0?Ln=Gt.getRangeAt(0):Ln=Gt.createRange?Gt.createRange():ti.createRange(),Ln=Xx(f,[Ln])[0])}catch{}return Ln||(Ln=ti.createRange?ti.createRange():ti.body.createTextRange()),Ln.setStart&&Ln.startContainer.nodeType===9&&Ln.collapsed&&(va=e.getRoot(),Ln.setStart(va,0),Ln.setEnd(va,0)),h&&b&&(ai(Ln.START_TO_START,Ln,h)===0&&ai(Ln.END_TO_END,Ln,h)===0?Ln=b:(h=null,b=null)),Ln},ft=function(Gt,Ln){var va;if(zu(Gt)){var ai=pR(Gt)?Gt:null;if(ai){b=null;try{ai.select()}catch{}return}var ti=Ve(),gl=f.fire("SetSelectionRange",{range:Gt,forward:Ln});if(Gt=gl.range,ti){b=Gt;try{ti.removeAllRanges(),ti.addRange(Gt)}catch{}Ln===!1&&ti.extend&&(ti.collapse(Gt.endContainer,Gt.endOffset),ti.extend(Gt.startContainer,Gt.startOffset)),h=ti.rangeCount>0?ti.getRangeAt(0):null}!Gt.collapsed&&Gt.startContainer===Gt.endContainer&&ti.setBaseAndExtent&&!rr.ie&&Gt.endOffset-Gt.startOffset<2&&Gt.startContainer.hasChildNodes()&&(va=Gt.startContainer.childNodes[Gt.startOffset],va&&va.tagName==="IMG"&&(ti.setBaseAndExtent(Gt.startContainer,Gt.startOffset,Gt.endContainer,Gt.endOffset),(ti.anchorNode!==Gt.startContainer||ti.focusNode!==Gt.endContainer)&&ti.setBaseAndExtent(va,0,va,1))),f.fire("AfterSetSelectionRange",{range:Gt,forward:Ln})}},ot=function(Gt){return W(e.getOuterHTML(Gt)),Gt},je=function(){return FT(f.getBody(),Ne())},ht=function(Gt,Ln){return Kx(e,Ne(),Gt,Ln)},Bt=function(){var Gt=Ve(),Ln=Gt==null?void 0:Gt.anchorNode,va=Gt==null?void 0:Gt.focusNode;if(!Gt||!Ln||!va||uf(Ln)||uf(va))return!0;var ai=e.createRng();ai.setStart(Ln,Gt.anchorOffset),ai.collapse(!0);var ti=e.createRng();return ti.setStart(va,Gt.focusOffset),ti.collapse(!0),ai.compareBoundaryPoints(ai.START_TO_START,ti)<=0},en=function(){var Gt=Ne(),Ln=Ve();if(!g2(Ln)&&op(f)){var va=$x(e,Gt);return va.each(function(ai){ft(ai,Bt())}),va.getOr(Gt)}return Gt},gr=function(Gt,Ln){return E(Gt,Ln),cn},In=function(){for(var Gt,Ln=e.getRoot();Ln&&Ln.nodeName!=="BODY";){if(Ln.scrollHeight>Ln.clientHeight){Gt=Ln;break}Ln=Ln.parentNode}return Gt},Wt=function(Gt,Ln){at(Gt)?aM(f,Gt,Ln):__(f,Ne(),Ln)},hr=function(Gt,Ln){return ft(T2(Gt,Ln,f.getDoc()))},on=function(){var Gt=Ne();return Gt.collapsed?yt.fromRangeStart(Gt).getClientRects()[0]:Gt.getBoundingClientRect()},Mn=function(){r=h=b=null,Hn.destroy()},cn={bookmarkManager:null,controlSelection:null,dom:e,win:r,serializer:s,editor:f,collapse:De,setCursorLocation:O,getContent:R,setContent:W,getBookmark:ce,moveToBookmark:we,select:Se,isCollapsed:Ae,isForward:Bt,setNode:ot,getNode:je,getSel:Ve,setRng:ft,getRng:Ne,getStart:ne,getEnd:ae,getSelectedBlocks:ht,normalize:en,selectorChanged:gr,selectorChangedWithUnbind:E,getScrollContainer:In,scrollIntoView:Wt,placeCaretAt:hr,getBoundingClientRect:on,destroy:Mn},yn=sp(cn),Hn=E2(cn,f);return cn.bookmarkManager=yn,cn.controlSelection=Hn,cn},zB=function(e,r){vt(r,function(s){e.attr(s,null)})},k8=function(e,r,s){e.addNodeFilter("font",function(f){vt(f,function(h){var b=r.parse(h.attr("style")),E=h.attr("color"),O=h.attr("face"),R=h.attr("size");E&&(b.color=E),O&&(b["font-family"]=O),R&&(b["font-size"]=s[parseInt(h.attr("size"),10)-1]),h.name="span",h.attr("style",r.serialize(b)),zB(h,["color","face","size"])})})},T8=function(e,r){e.addNodeFilter("strike",function(s){vt(s,function(f){var h=r.parse(f.attr("style"));h["text-decoration"]="line-through",f.name="span",f.attr("style",r.serialize(h))})})},HB=function(e,r){var s=Ff();r.convert_fonts_to_spans&&k8(e,s,Tt.explode(r.font_size_legacy_values)),T8(e,s)},A8=function(e,r){r.inline_styles&&HB(e,r)},bR=function(e){return new nu(function(r,s){var f=function(){s("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var h=new XMLHttpRequest;h.open("GET",e,!0),h.responseType="blob",h.onload=function(){h.status===200?r(h.response):f()},h.onerror=f,h.send()}catch{f()}})},yR=function(e){var r,s=decodeURIComponent(e).split(","),f=/data:([^;]+)/.exec(s[0]);return f&&(r=f[1]),{type:r,data:s[1]}},_R=function(e,r){var s;try{s=atob(r)}catch{return Ee.none()}for(var f=new Uint8Array(s.length),h=0;h<f.length;h++)f[h]=s.charCodeAt(h);return Ee.some(new Blob([f],{type:e}))},wR=function(e){return new nu(function(r){var s=yR(e),f=s.type,h=s.data;_R(f,h).fold(function(){return r(new Blob([]))},r)})},VB=function(e){return e.indexOf("blob:")===0?bR(e):e.indexOf("data:")===0?wR(e):null},O8=function(e){return new nu(function(r){var s=new FileReader;s.onloadend=function(){r(s.result)},s.readAsDataURL(e)})},D8=0,xR=function(e){return(e||"blobid")+D8++},M8=function(e,r,s,f){var h,b;if(r.src.indexOf("blob:")===0){b=e.getByUri(r.src),b?s({image:r,blobInfo:b}):VB(r.src).then(function(W){O8(W).then(function(ne){h=yR(ne).data,b=e.create(xR(),W,h),e.add(b),s({image:r,blobInfo:b})})},function(W){f(W)});return}var E=yR(r.src),O=E.data,R=E.type;h=O,b=e.getByData(h,R),b?s({image:r,blobInfo:b}):VB(r.src).then(function(W){b=e.create(xR(),W,h),e.add(b),s({image:r,blobInfo:b})},function(W){f(W)})},UB=function(e){return e?ya(e.getElementsByTagName("img")):[]},WB=function(e,r){var s={},f=function(h,b){b||(b=Dt);var E=pn(UB(h),function(R){var W=R.src;return!rr.fileApi||R.hasAttribute("data-mce-bogus")||R.hasAttribute("data-mce-placeholder")||!W||W===rr.transparentSrc?!1:W.indexOf("blob:")===0?!e.isUploaded(W)&&b(R):W.indexOf("data:")===0?b(R):!1}),O=st(E,function(R){if(s[R.src]!==void 0)return new nu(function(ne){s[R.src].then(function(ae){if(typeof ae=="string")return ae;ne({image:R,blobInfo:ae.blobInfo})})});var W=new nu(function(ne,ae){M8(r,R,ne,ae)}).then(function(ne){return delete s[ne.image.src],ne}).catch(function(ne){return delete s[R.src],ne});return s[R.src]=W,W});return nu.all(O)};return{findAll:f}},xE=function(e,r,s,f){var h=e.padd_empty_with_br||r.insert;h&&s[f.name]?f.empty().append(new yd("br",1)).shortEnded=!0:f.empty().append(new yd("#text",3)).value=cs},jB=function(e){return CR(e,"#text")&&e.firstChild.value===cs},CR=function(e,r){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===r},YB=function(e,r){var s=e.getElementRule(r.name);return s&&s.paddEmpty},xC=function(e,r,s,f){return f.isEmpty(r,s,function(h){return YB(e,h)})},qB=function(e,r){return e&&(Ur(r,e.name)||e.name==="br")},GB=function(e){return at(e.attr("data-mce-bogus"))},R8=function(e){return e.attr("src")===rr.transparentSrc||at(e.attr("data-mce-placeholder"))},SR=function(e,r){if(r.images_dataimg_filter){var s=new Image;return s.src=e.attr("src"),ia(e.attributes.map,function(f,h){s.setAttribute(h,f)}),r.images_dataimg_filter(s)}else return!0},P8=function(e,r){var s=r.blob_cache,f=function(h){var b=h.attr("src");R8(h)||GB(h)||$T(b).filter(function(){return SR(h,r)}).bind(function(E){var O=E.type,R=E.data;return Ee.from(s.getByData(R,O)).orThunk(function(){return _R(O,R).map(function(W){var ne=s.create(xR(),W,R);return s.add(ne),ne})})}).each(function(E){h.attr("src",E.blobUri())})};s&&e.addAttributeFilter("src",function(h){return vt(h,f)})},IA=function(e,r){var s=e.schema;r.remove_trailing_brs&&e.addNodeFilter("br",function(f,h,b){var E,O=f.length,R,W=Tt.extend({},s.getBlockElements()),ne=s.getNonEmptyElements(),ae,ce,we,Se,Ae=s.getWhiteSpaceElements(),De,Ve;for(W.body=1,E=0;E<O;E++)if(R=f[E],ae=R.parent,W[R.parent.name]&&R===ae.lastChild){for(we=R.prev;we;){if(Se=we.name,Se!=="span"||we.attr("data-mce-type")!=="bookmark"){Se==="br"&&(R=null);break}we=we.prev}R&&(R.remove(),xC(s,ne,Ae,ae)&&(De=s.getElementRule(ae.name),De&&(De.removeEmpty?ae.remove():De.paddEmpty&&xE(r,b,W,ae))))}else{for(ce=R;ae&&ae.firstChild===ce&&ae.lastChild===ce&&(ce=ae,!W[ae.name]);)ae=ae.parent;ce===ae&&r.padd_empty_with_br!==!0&&(Ve=new yd("#text",3),Ve.value=cs,R.replace(Ve))}}),e.addAttributeFilter("href",function(f){var h=f.length,b=function(R){var W=R.split(" ").filter(function(ne){return ne.length>0});return W.concat(["noopener"]).sort().join(" ")},E=function(R){var W=R?Tt.trim(R):"";return/\b(noopener)\b/g.test(W)?W:b(W)};if(!r.allow_unsafe_link_target)for(;h--;){var O=f[h];O.name==="a"&&O.attr("target")==="_blank"&&O.attr("rel",E(O.attr("rel")))}}),r.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(f){for(var h=f.length,b,E,O,R;h--;)if(R=f[h],R.name==="a"&&R.firstChild&&!R.attr("href")){O=R.parent,b=R.lastChild;do E=b.prev,O.insert(b,R),b=E;while(b)}}),r.fix_list_elements&&e.addNodeFilter("ul,ol",function(f){for(var h=f.length,b,E;h--;)if(b=f[h],E=b.parent,E.name==="ul"||E.name==="ol")if(b.prev&&b.prev.name==="li")b.prev.append(b);else{var O=new yd("li",1);O.attr("style","list-style-type: none"),b.wrap(O)}}),r.validate&&s.getValidClasses()&&e.addAttributeFilter("class",function(f){for(var h=s.getValidClasses(),b=f.length;b--;){for(var E=f[b],O=E.attr("class").split(" "),R="",W=0;W<O.length;W++){var ne=O[W],ae=!1,ce=h["*"];ce&&ce[ne]&&(ae=!0),ce=h[E.name],!ae&&ce&&ce[ne]&&(ae=!0),ae&&(R&&(R+=" "),R+=ne)}R.length||(R=null),E.attr("class",R)}}),P8(e,r)},KB=Tt.makeMap,XB=Tt.each,ZB=Tt.explode,JB=Tt.extend,BA=function(e,r){r===void 0&&(r=yc());var s={},f=[],h={},b={};e=e||{},e.validate="validate"in e?e.validate:!0,e.root_name=e.root_name||"body";var E=function(Se){for(var Ae=KB("tr,td,th,tbody,thead,tfoot,table"),De=r.getNonEmptyElements(),Ve=r.getWhiteSpaceElements(),Ne=r.getTextBlockElements(),ft=r.getSpecialElements(),ot=function(yn,Hn){if(Hn===void 0&&(Hn=yn.parent),ft[yn.name])yn.empty().remove();else{for(var Gt=yn.children(),Ln=0,va=Gt;Ln<va.length;Ln++){var ai=va[Ln];r.isValidChild(Hn.name,ai.name)||ot(ai,Hn)}yn.unwrap()}},je=0;je<Se.length;je++){var ht=Se[je],Bt=void 0,en=void 0,gr=void 0;if(!(!ht.parent||ht.fixed)){if(Ne[ht.name]&&ht.parent.name==="li"){for(var In=ht.next;In&&Ne[In.name];){In.name="li",In.fixed=!0,ht.parent.insert(In,ht.parent);In=In.next}ht.unwrap();continue}var Wt=[ht];for(Bt=ht.parent;Bt&&!r.isValidChild(Bt.name,ht.name)&&!Ae[Bt.name];Bt=Bt.parent)Wt.push(Bt);if(Bt&&Wt.length>1)if(r.isValidChild(Bt.name,ht.name)){Wt.reverse(),en=O(Wt[0].clone());for(var hr=en,on=0;on<Wt.length-1;on++){r.isValidChild(hr.name,Wt[on].name)?(gr=O(Wt[on].clone()),hr.append(gr)):gr=hr;for(var Mn=Wt[on].firstChild;Mn&&Mn!==Wt[on+1];){var cn=Mn.next;gr.append(Mn),Mn=cn}hr=gr}xC(r,De,Ve,en)?Bt.insert(ht,Wt[0],!0):(Bt.insert(en,Wt[0],!0),Bt.insert(ht,en)),Bt=Wt[0],(xC(r,De,Ve,Bt)||CR(Bt,"br"))&&Bt.empty().remove()}else ot(ht);else if(ht.parent){if(ht.name==="li"){var In=ht.prev;if(In&&(In.name==="ul"||In.name==="ol")){In.append(ht);continue}if(In=ht.next,In&&(In.name==="ul"||In.name==="ol")){In.insert(ht,In.firstChild,!0);continue}ht.wrap(O(new yd("ul",1)));continue}r.isValidChild(ht.parent.name,"div")&&r.isValidChild("div",ht.name)?ht.wrap(O(new yd("div",1))):ot(ht)}}}},O=function(Se){var Ae=Se.name;if(Ae in s){var De=h[Ae];De?De.push(Se):h[Ae]=[Se]}for(var Ve=f.length;Ve--;){var Ne=f[Ve].name;if(Ne in Se.attributes.map){var De=b[Ne];De?De.push(Se):b[Ne]=[Se]}}return Se},R=function(Se,Ae){XB(ZB(Se),function(De){var Ve=s[De];Ve||(s[De]=Ve=[]),Ve.push(Ae)})},W=function(){var Se=[];for(var Ae in s)Ur(s,Ae)&&Se.push({name:Ae,callbacks:s[Ae]});return Se},ne=function(Se,Ae){XB(ZB(Se),function(De){var Ve;for(Ve=0;Ve<f.length;Ve++)if(f[Ve].name===De){f[Ve].callbacks.push(Ae);return}f.push({name:De,callbacks:[Ae]})})},ae=function(){return[].concat(f)},ce=function(Se,Ae){var De,Ve,Ne,ft,ot,je,ht,Bt=[],en,gr=function(mt){return mt===!1?"":mt===!0?"p":mt};Ae=Ae||{},h={},b={};var In=JB(KB("script,style,head,html,body,title,meta,param"),r.getBlockElements()),Wt=d1(r),hr=r.getNonEmptyElements(),on=r.children,Mn=e.validate,cn="forced_root_block"in Ae?Ae.forced_root_block:e.forced_root_block,yn=gr(cn),Hn=r.getWhiteSpaceElements(),Gt=/^[ \t\r\n]+/,Ln=/[ \t\r\n]+$/,va=/[ \t\r\n]+/g,ai=/^[ \t\r\n]+$/,ti=Ur(Hn,Ae.context)||Ur(Hn,e.root_name),gl=function(){var mt=nr.firstChild,an=null,Zt=function(dr){dr&&(mt=dr.firstChild,mt&&mt.type===3&&(mt.value=mt.value.replace(Gt,"")),mt=dr.lastChild,mt&&mt.type===3&&(mt.value=mt.value.replace(Ln,"")))};if(r.isValidChild(nr.name,yn.toLowerCase())){for(;mt;){var or=mt.next;mt.type===3||mt.type===1&&mt.name!=="p"&&!In[mt.name]&&!mt.attr("data-mce-type")?(an||(an=No(yn,1),an.attr(e.forced_root_block_attrs),nr.insert(an,mt)),an.append(mt)):(Zt(an),an=null),mt=or}Zt(an)}},No=function(mt,an){var Zt=new yd(mt,an),or;return mt in s&&(or=h[mt],or?or.push(Zt):h[mt]=[Zt]),Zt},Zc=function(mt){for(var an=r.getBlockElements(),Zt=mt.prev;Zt&&Zt.type===3;){var or=Zt.value.replace(Ln,"");if(or.length>0){Zt.value=or;return}var dr=Zt.next;if(dr){if(dr.type===3&&dr.value.length){Zt=Zt.prev;continue}if(!an[dr.name]&&dr.name!=="script"&&dr.name!=="style"){Zt=Zt.prev;continue}}var Hi=Zt.prev;Zt.remove(),Zt=Hi}},_f=function(mt){var an={};for(var Zt in mt)Zt!=="li"&&Zt!=="p"&&(an[Zt]=mt[Zt]);return an},Xt=function(mt){for(var an=mt;at(an);){if(an.name in Wt)return xC(r,hr,Hn,an);an=an.parent}return!1},fn=hb({validate:Mn,document:e.document,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:_f(r.getSelfClosingElements()),cdata:function(mt){en.append(No("#cdata",4)).value=mt},text:function(mt,an){var Zt;ti||(mt=mt.replace(va," "),qB(en.lastChild,In)&&(mt=mt.replace(Gt,""))),mt.length!==0&&(Zt=No("#text",3),Zt.raw=!!an,en.append(Zt).value=mt)},comment:function(mt){en.append(No("#comment",8)).value=mt},pi:function(mt,an){en.append(No(mt,7)).value=an,Zc(en)},doctype:function(mt){var an=en.append(No("#doctype",10));an.value=mt,Zc(en)},start:function(mt,an,Zt){var or=Mn?r.getElementRule(mt):{};if(or){var dr=No(or.outputName||mt,1);dr.attributes=an,dr.shortEnded=Zt,en.append(dr);var Hi=on[en.name];Hi&&on[dr.name]&&!Hi[dr.name]&&Bt.push(dr);for(var xu=f.length;xu--;){var iu=f[xu].name;iu in an.map&&(je=b[iu],je?je.push(dr):b[iu]=[dr])}In[mt]&&Zc(dr),Zt||(en=dr),!ti&&Hn[mt]&&(ti=!0)}},end:function(mt){var an,Zt,or,dr=Mn?r.getElementRule(mt):{};if(dr){if(In[mt]&&!ti){if(an=en.firstChild,an&&an.type===3)if(Zt=an.value.replace(Gt,""),Zt.length>0)an.value=Zt,an=an.next;else for(or=an.next,an.remove(),an=or;an&&an.type===3;)Zt=an.value,or=an.next,(Zt.length===0||ai.test(Zt))&&(an.remove(),an=or),an=or;if(an=en.lastChild,an&&an.type===3)if(Zt=an.value.replace(Ln,""),Zt.length>0)an.value=Zt,an=an.prev;else for(or=an.prev,an.remove(),an=or;an&&an.type===3;)Zt=an.value,or=an.prev,(Zt.length===0||ai.test(Zt))&&(an.remove(),an=or),an=or}ti&&Hn[mt]&&(ti=!1);var Hi=xC(r,hr,Hn,en),xu=en.parent;dr.paddInEmptyBlock&&Hi&&Xt(en)?xE(e,Ae,In,en):dr.removeEmpty&&Hi?In[en.name]?en.empty().remove():en.unwrap():dr.paddEmpty&&(jB(en)||Hi)&&xE(e,Ae,In,en),en=xu}}},r),nr=en=new yd(Ae.context||e.root_name,11);if(fn.parse(Se,Ae.format),Mn&&Bt.length&&(Ae.context?Ae.invalid=!0:E(Bt)),yn&&(nr.name==="body"||Ae.isRootContent)&&gl(),!Ae.invalid){for(ht in h)if(Ur(h,ht)){for(je=s[ht],De=h[ht],ft=De.length;ft--;)De[ft].parent||De.splice(ft,1);for(Ve=0,Ne=je.length;Ve<Ne;Ve++)je[Ve](De,ht,Ae)}for(Ve=0,Ne=f.length;Ve<Ne;Ve++)if(je=f[Ve],je.name in b){for(De=b[je.name],ft=De.length;ft--;)De[ft].parent||De.splice(ft,1);for(ft=0,ot=je.callbacks.length;ft<ot;ft++)je.callbacks[ft](De,je.name,Ae)}}return nr},we={schema:r,addAttributeFilter:ne,getAttributeFilters:ae,addNodeFilter:R,getNodeFilters:W,filterNode:O,parse:ce};return IA(we,e),A8(we,e),we},I8=function(e,r,s){e.addAttributeFilter("data-mce-tabindex",function(f,h){for(var b=f.length;b--;){var E=f[b];E.attr("tabindex",E.attr("data-mce-tabindex")),E.attr(h,null)}}),e.addAttributeFilter("src,href,style",function(f,h){for(var b="data-mce-"+h,E=r.url_converter,O=r.url_converter_scope,R=f.length;R--;){var W=f[R],ne=W.attr(b);ne!==void 0?(W.attr(h,ne.length>0?ne:null),W.attr(b,null)):(ne=W.attr(h),h==="style"?ne=s.serializeStyle(s.parseStyle(ne),W.name):E&&(ne=E.call(O,ne,h,W.name)),W.attr(h,ne.length>0?ne:null))}}),e.addAttributeFilter("class",function(f){for(var h=f.length;h--;){var b=f[h],E=b.attr("class");E&&(E=b.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),b.attr("class",E.length>0?E:null))}}),e.addAttributeFilter("data-mce-type",function(f,h,b){for(var E=f.length;E--;){var O=f[E];if(O.attr("data-mce-type")==="bookmark"&&!b.cleanup){var R=Ee.from(O.firstChild).exists(function(W){return!tl(W.value)});R?O.unwrap():O.remove()}}}),e.addNodeFilter("noscript",function(f){for(var h=f.length;h--;){var b=f[h].firstChild;b&&(b.value=Hc.decode(b.value))}}),e.addNodeFilter("script,style",function(f,h){for(var b=function(ne){return ne.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")},E=f.length;E--;){var O=f[E],R=O.firstChild?O.firstChild.value:"";if(h==="script"){var W=O.attr("type");W&&O.attr("type",W==="mce-no/type"?null:W.replace(/^mce\-/,"")),r.element_format==="xhtml"&&R.length>0&&(O.firstChild.value=`// <![CDATA[
`+b(R)+`
// ]]>`)}else r.element_format==="xhtml"&&R.length>0&&(O.firstChild.value=`<!--
`+b(R)+`
-->`)}}),e.addNodeFilter("#comment",function(f){for(var h=f.length;h--;){var b=f[h];r.preserve_cdata&&b.value.indexOf("[CDATA[")===0?(b.name="#cdata",b.type=4,b.value=s.decode(b.value.replace(/^\[CDATA\[|\]\]$/g,""))):b.value.indexOf("mce:protected ")===0&&(b.name="#text",b.type=3,b.raw=!0,b.value=unescape(b.value).substr(14))}}),e.addNodeFilter("xml:namespace,input",function(f,h){for(var b=f.length;b--;){var E=f[b];E.type===7?E.remove():E.type===1&&h==="input"&&!E.attr("type")&&E.attr("type","text")}}),e.addAttributeFilter("data-mce-type",function(f){vt(f,function(h){h.attr("data-mce-type")==="format-caret"&&(h.isEmpty(e.schema.getNonEmptyElements())?h.remove():h.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(f,h){for(var b=f.length;b--;)f[b].attr(h,null)})},B8=function(e){var r=function(h){return h&&h.name==="br"},s=e.lastChild;if(r(s)){var f=s.prev;r(f)&&(s.remove(),f.remove())}},L8=function(e,r,s){var f,h=e.dom,b=r.cloneNode(!0),E=document.implementation;if(E.createHTMLDocument){var O=E.createHTMLDocument("");Tt.each(b.nodeName==="BODY"?b.childNodes:[b],function(R){O.body.appendChild(O.importNode(R,!0))}),b.nodeName!=="BODY"?b=O.body.firstChild:b=O.body,f=h.doc,h.doc=O}return UD(e,Kn(Kn({},s),{node:b})),f&&(h.doc=f),b},F8=function(e,r){return e&&e.hasEventListeners("PreProcess")&&!r.no_events},QB=function(e,r,s){return F8(e,s)?L8(e,r,s):r},N8=function(e,r,s){Tt.inArray(r,s)===-1&&(e.addAttributeFilter(s,function(f,h){for(var b=f.length;b--;)f[b].attr(h,null)}),r.push(s))},$8=function(e,r,s){if(!r.no_events&&e){var f=w2(e,Kn(Kn({},r),{content:s}));return f.content}else return s},z8=function(e,r,s){var f=Go(s.getInner?r.innerHTML:e.getOuterHTML(r));return s.selection||bs(Z.fromDom(r))?f:Tt.trim(f)},H8=function(e,r,s){var f=s.selection?Kn({forced_root_block:!1},s):s,h=e.parse(r,f);return B8(h),h},V8=function(e,r,s){var f=M0(e,r);return f.serialize(s)},U8=function(e,r,s,f,h){var b=V8(r,s,f);return $8(e,h,b)},W8=function(e,r){var s=["data-mce-selected"],f=r&&r.dom?r.dom:Wi.DOM,h=r&&r.schema?r.schema:yc(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0;var b=BA(e,h);I8(b,e,f);var E=function(O,R){R===void 0&&(R={});var W=Kn({format:"html"},R),ne=QB(r,O,W),ae=z8(f,ne,W),ce=H8(b,ae,W);return W.format==="tree"?ce:U8(r,e,h,ce,W)};return{schema:h,addNodeFilter:b.addNodeFilter,addAttributeFilter:b.addAttributeFilter,serialize:E,addRules:h.addValidElements,setRules:h.setValidElements,addTempAttr:Ce(N8,b,s),getTempAttrs:Y(s),getNodeFilters:b.getNodeFilters,getAttributeFilters:b.getAttributeFilters}},e4=function(e,r){var s=W8(e,r);return{schema:s.schema,addNodeFilter:s.addNodeFilter,addAttributeFilter:s.addAttributeFilter,serialize:s.serialize,addRules:s.addRules,setRules:s.setRules,addTempAttr:s.addTempAttr,getTempAttrs:s.getTempAttrs,getNodeFilters:s.getNodeFilters,getAttributeFilters:s.getAttributeFilters}},t4="html",j8=function(e,r){r===void 0&&(r={});var s=r.format?r.format:t4;return _E(e,r,s)},ER=function(e,r,s){return s===void 0&&(s={}),DB(e,r,s)},LA=Wi.DOM,Y8=function(e){LA.setStyle(e.id,"display",e.orgDisplay)},FA=function(e){return Ee.from(e).each(function(r){return r.destroy()})},CE=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},q8=function(e){var r=e.formElement;r&&(r._mceOldSubmit&&(r.submit=r._mceOldSubmit,r._mceOldSubmit=null),LA.unbind(r,"submit reset",e.formEventDelegate))},G8=function(e){if(!e.removed){var r=e._selectionOverrides,s=e.editorUpload,f=e.getBody(),h=e.getElement();f&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&h&&LA.remove(h.nextSibling),eT(e),e.editorManager.remove(e),!e.inline&&f&&Y8(e),tT(e),LA.remove(e.getContainer()),FA(r),FA(s),e.destroy()}},n4=function(e,r){var s=e.selection,f=e.dom;if(!e.destroyed){if(!r&&!e.removed){e.remove();return}r||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),FA(s),FA(f)),q8(e),CE(e),e.destroyed=!0}},r4=function(e,r){var s=_e(e)&&_e(r);return s?a4(e,r):r},K8=function(e){return function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];if(r.length===0)throw new Error("Can't merge zero objects");for(var f={},h=0;h<r.length;h++){var b=r[h];for(var E in b)Ur(b,E)&&(f[E]=e(f[E],b[E]))}return f}},a4=K8(r4),X8="autoresize_on_init,content_editable_state,convert_fonts_to_spans,inline_styles,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),SE="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),i4="imagetools,toc".split(","),o4=function(e){var r=pn(X8,function(f){return Ur(e,f)}),s=e.forced_root_block;return(s===!1||s==="")&&r.push("forced_root_block (false only)"),mi(r)},Z8=function(e){var r=Tt.makeMap(e.plugins," "),s=function(h){return Ur(r,h)},f=Ps(Ps([],pn(SE,s),!0),ns(i4,function(h){return s(h)?[h+" (moving to premium)"]:[]}),!0);return mi(f)},s4=function(e,r){var s=o4(e),f=Z8(r),h=f.length>0,b=s.length>0,E=r.theme==="mobile";if(h||b||E){var O=`
- `,R=E?`

Themes:`+O+"mobile":"",W=h?`

Plugins:`+O+f.join(O):"",ne=b?`

Settings:`+O+s.join(O):"";console.warn("The following deprecated features are currently enabled, these will be removed in TinyMCE 6.0. See https://www.tiny.cloud/docs/release-notes/6.0-upcoming-changes/ for more information."+R+W+ne)}},J8=function(e,r){return{sections:Y(e),settings:Y(r)}},kR=qn().deviceType,Q8=kR.isTouch(),TR=kR.isPhone(),ez=kR.isTablet(),tz=["lists","autolink","autosave"],u4={table_grid:!1,object_resizing:!1,resize:!1},CC=function(e){var r=be(e)?e.join(" "):e,s=st(Te(r)?r.split(" "):[],Bn);return pn(s,function(f){return f.length>0})},nz=function(e){return pn(e,Ce(kt,tz))},rz=function(e,r){var s=ma(r,function(f,h){return kt(e,h)});return J8(s.t,s.f)},EE=function(e,r,s){s===void 0&&(s={});var f=e.sections(),h=_a(f,r).getOr({});return Tt.extend({},s,h)},kE=function(e,r){return Ur(e.sections(),r)},l4=function(e,r,s){var f=e.sections();return kE(e,r)&&f[r].theme===s},az=function(e,r){return kE(e,r)?e.sections()[r]:{}},c4=function(e,r){return _a(e,"toolbar_mode").orThunk(function(){return _a(e,"toolbar_drawer").map(function(s){return s===!1?"wrap":s})}).getOr(r)},iz=function(e,r,s,f,h){var b={id:r,theme:"silver",toolbar_mode:c4(e,"floating"),plugins:"",document_base_url:s,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:h.convertURL,url_converter_scope:h};return Kn(Kn({},b),f?u4:{})},f4=function(e,r){var s={resize:!1,toolbar_mode:c4(e,"scrolling"),toolbar_sticky:!1},f={menubar:!1};return Kn(Kn(Kn({},u4),s),r?f:{})},oz=function(e,r){var s=r.external_plugins?r.external_plugins:{};return e&&e.external_plugins?Tt.extend({},e.external_plugins,s):s},sz=function(e,r){return[].concat(CC(e)).concat(CC(r))},uz=function(e,r,s,f){return e&&l4(r,"mobile","mobile")?nz(f):e&&kE(r,"mobile")?f:s},lz=function(e,r,s,f){var h=CC(s.forced_plugins),b=CC(f.plugins),E=az(r,"mobile"),O=E.plugins?CC(E.plugins):b,R=uz(e,r,b,O),W=sz(h,R);if(rr.browser.isIE()&&kt(W,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return Tt.extend(f,{plugins:W.join(" ")})},cz=function(e,r){return e&&kE(r,"mobile")},Ec=function(e,r,s,f,h){var b=e?{mobile:f4(h.mobile||{},r)}:{},E=rz(["mobile"],a4(b,h)),O=Tt.extend(s,f,E.settings(),cz(e,E)?EE(E,"mobile"):{},{validate:!0,external_plugins:oz(f,E.settings())});return lz(e,E,f,O)},d4=function(e,r,s,f,h){var b=iz(h,r,s,Q8,e),E=Ec(TR||ez,TR,b,f,h);return E.deprecation_warnings!==!1&&s4(h,E),E},N_=function(e,r,s){return Ee.from(r.settings[s]).filter(e)},fz=function(e){var r={};return typeof e=="string"?vt(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(s){var f=s.split("=");f.length>1?r[Tt.trim(f[0])]=Tt.trim(f[1]):r[Tt.trim(f[0])]=Tt.trim(f[0])}):r=e,r},dz=function(e){return function(r){return be(r)&&yo(r,e)}},vz=function(e,r,s,f){var h=r in e.settings?e.settings[r]:s;return f==="hash"?fz(h):f==="string"?N_(Te,e,r).getOr(s):f==="number"?N_(de,e,r).getOr(s):f==="boolean"?N_(Pe,e,r).getOr(s):f==="object"?N_(_e,e,r).getOr(s):f==="array"?N_(be,e,r).getOr(s):f==="string[]"?N_(dz(Te),e,r).getOr(s):f==="function"?N_(K,e,r).getOr(s):h},ei=function(){var e={},r=function(h,b){e[h]=b},s=function(h){return e[h]?e[h]:{icons:{}}},f=function(h){return Ur(e,h)};return{add:r,get:s,has:f}},NA=ei(),v4=function(e,r){var s=r.dom;return s[e]},h4=function(e,r){return parseInt(zr(r,e),10)},Es=Ce(v4,"clientWidth"),hz=Ce(v4,"clientHeight"),TE=Ce(h4,"margin-top"),mz=Ce(h4,"margin-left"),gz=function(e){return e.dom.getBoundingClientRect()},pz=function(e,r,s){var f=Es(e),h=hz(e);return r>=0&&s>=0&&r<=f&&s<=h},m4=function(e,r,s,f){var h=gz(r),b=e?h.left+r.dom.clientLeft+mz(r):0,E=e?h.top+r.dom.clientTop+TE(r):0,O=s-b,R=f-E;return{x:O,y:R}},B0=function(e,r,s){var f=Z.fromDom(e.getBody()),h=e.inline?f:Co(f),b=m4(e.inline,h,r,s);return pz(h,b.x,b.y)},rv=function(e){return Ee.from(e).map(Z.fromDom)},AE=function(e){var r=e.inline?e.getBody():e.getContentAreaContainer();return rv(r).map(si).getOr(!1)},$_=function(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}},Km=function(e){var r=[],s=function(){var ce=e.theme;return ce&&ce.getNotificationManagerImpl?ce.getNotificationManagerImpl():$_()},f=function(){return Ee.from(r[0])},h=function(ce,we){return ce.type===we.type&&ce.text===we.text&&!ce.progressBar&&!ce.timeout&&!we.progressBar&&!we.timeout},b=function(){r.length>0&&s().reposition(r)},E=function(ce){r.push(ce)},O=function(ce){ho(r,function(we){return we===ce}).each(function(we){r.splice(we,1)})},R=function(ce,we){if(we===void 0&&(we=!0),!(e.removed||!AE(e)))return we&&e.fire("BeforeOpenNotification",{notification:ce}),ba(r,function(Se){return h(s().getArgs(Se),ce)}).getOrThunk(function(){e.editorManager.setActive(e);var Se=s().open(ce,function(){O(Se),b(),f().fold(function(){return e.focus()},function(Ae){return Hx(Z.fromDom(Ae.getEl()))})});return E(Se),b(),e.fire("OpenNotification",{notification:Kn({},Se)}),Se})},W=function(){f().each(function(ce){s().close(ce),O(ce),b()})},ne=Y(r),ae=function(ce){ce.on("SkinLoaded",function(){var we=vx(ce);we&&R({text:we,type:"warning",timeout:0},!1),b()}),ce.on("show ResizeEditor ResizeWindow NodeChange",function(){mu.requestAnimationFrame(b)}),ce.on("remove",function(){vt(r.slice(),function(we){s().close(we)})})};return ae(e),{open:R,close:W,getNotifications:ne}},_d=Kl.PluginManager,bp=Kl.ThemeManager;function AR(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}var OR=function(e){var r=[],s=function(){var Ae=e.theme;return Ae&&Ae.getWindowManagerImpl?Ae.getWindowManagerImpl():AR()},f=function(Ae,De){return function(){for(var Ve=[],Ne=0;Ne<arguments.length;Ne++)Ve[Ne]=arguments[Ne];return De?De.apply(Ae,Ve):void 0}},h=function(Ae){e.fire("OpenWindow",{dialog:Ae})},b=function(Ae){e.fire("CloseWindow",{dialog:Ae})},E=function(Ae){r.push(Ae),h(Ae)},O=function(Ae){b(Ae),r=pn(r,function(De){return De!==Ae}),r.length===0&&e.focus()},R=function(){return Ee.from(r[r.length-1])},W=function(Ae){e.editorManager.setActive(e),Ux(e);var De=Ae();return E(De),De},ne=function(Ae,De){return W(function(){return s().open(Ae,De,O)})},ae=function(Ae){return W(function(){return s().openUrl(Ae,O)})},ce=function(Ae,De,Ve){var Ne=s();Ne.alert(Ae,f(Ve||Ne,De))},we=function(Ae,De,Ve){var Ne=s();Ne.confirm(Ae,f(Ve||Ne,De))},Se=function(){R().each(function(Ae){s().close(Ae),O(Ae)})};return e.on("remove",function(){vt(r,function(Ae){s().close(Ae)})}),{open:ne,openUrl:ae,alert:ce,confirm:we,close:Se}},DR=function(e,r){e.notificationManager.open({type:"error",text:r})},$A=function(e,r){e._skinLoaded?DR(e,r):e.on("SkinLoaded",function(){DR(e,r)})},g4=function(e,r){$A(e,Il.translate(["Failed to upload image: {0}",r]))},zA=function(e,r,s){Lx(e,r,{message:s}),console.error(s)},MR=function(e,r,s){return s?"Failed to load "+e+": "+s+" from url "+r:"Failed to load "+e+" url: "+r},HA=function(e,r,s){zA(e,"PluginLoadError",MR("plugin",r,s))},bz=function(e,r,s){zA(e,"IconsLoadError",MR("icons",r,s))},OE=function(e,r,s){zA(e,"LanguageLoadError",MR("language",r,s))},p4=function(e,r,s){var f=Il.translate(["Failed to initialize plugin: {0}",r]);Lx(e,"PluginLoadError",{message:f}),DE(f,s),$A(e,f)},DE=function(e){for(var r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];var f=window.console;f&&(f.error?f.error.apply(f,Ps([e],r,!1)):f.log.apply(f,Ps([e],r,!1)))},L0=function(e){return/^[a-z0-9\-]+$/i.test(e)},RR=function(e){return b4(e,cx(e))},yz=function(e){return b4(e,Xy(e))},b4=function(e,r){var s=e.editorManager.baseURL+"/skins/content",f=e.editorManager.suffix,h="content"+f+".css",b=e.inline===!0;return st(r,function(E){return L0(E)&&!b?s+"/"+E+"/"+h:e.documentBaseURI.toAbsolute(E)})},_z=function(e){e.contentCSS=e.contentCSS.concat(RR(e),yz(e))},z_=function(){var e=1,r=2,s={},f=function(ce,we){return{status:ce,resultUri:we}},h=function(ce){return ce in s},b=function(ce){var we=s[ce];return we?we.resultUri:null},E=function(ce){return h(ce)?s[ce].status===e:!1},O=function(ce){return h(ce)?s[ce].status===r:!1},R=function(ce){s[ce]=f(e,null)},W=function(ce,we){s[ce]=f(r,we)},ne=function(ce){delete s[ce]},ae=function(){s={}};return{hasBlobUri:h,getResultUri:b,isPending:E,isUploaded:O,markPending:R,markUploaded:W,removeFailed:ne,destroy:ae}},wz=0,xz=function(){var e=function(){return Math.round(Math.random()*4294967295).toString(36)},r=new Date().getTime();return"s"+r.toString(36)+e()+e()+e()},Fl=function(e){return e+wz+++xz()},Cz=function(){var e=[],r=function(ae){var ce={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};return ce[ae.toLowerCase()]||"dat"},s=function(ae,ce,we,Se,Ae){if(Te(ae)){var De=ae;return f({id:De,name:Se,filename:Ae,blob:ce,base64:we})}else{if(_e(ae))return f(ae);throw new Error("Unknown input type")}},f=function(ae){if(!ae.blob||!ae.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var ce=ae.id||Fl("blobid"),we=ae.name||ce,Se=ae.blob;return{id:Y(ce),name:Y(we),filename:Y(ae.filename||we+"."+r(Se.type)),blob:Y(Se),base64:Y(ae.base64),blobUri:Y(ae.blobUri||URL.createObjectURL(Se)),uri:Y(ae.uri)}},h=function(ae){E(ae.id())||e.push(ae)},b=function(ae){return ba(e,ae).getOrUndefined()},E=function(ae){return b(function(ce){return ce.id()===ae})},O=function(ae){return b(function(ce){return ce.blobUri()===ae})},R=function(ae,ce){return b(function(we){return we.base64()===ae&&we.blob().type===ce})},W=function(ae){e=pn(e,function(ce){return ce.blobUri()===ae?(URL.revokeObjectURL(ce.blobUri()),!1):!0})},ne=function(){vt(e,function(ae){URL.revokeObjectURL(ae.blobUri())}),e=[]};return{create:s,add:h,get:E,getByUri:O,getByData:R,findFirst:b,removeByUri:W,destroy:ne}},y4=function(e,r){var s={},f=function(Se,Ae){return Se?Se.replace(/\/$/,"")+"/"+Ae.replace(/^\//,""):Ae},h=function(Se,Ae,De,Ve){var Ne=new XMLHttpRequest;Ne.open("POST",r.url),Ne.withCredentials=r.credentials,Ne.upload.onprogress=function(ot){Ve(ot.loaded/ot.total*100)},Ne.onerror=function(){De("Image upload failed due to a XHR Transport error. Code: "+Ne.status)},Ne.onload=function(){if(Ne.status<200||Ne.status>=300){De("HTTP Error: "+Ne.status);return}var ot=JSON.parse(Ne.responseText);if(!ot||typeof ot.location!="string"){De("Invalid JSON: "+Ne.responseText);return}Ae(f(r.basePath,ot.location))};var ft=new FormData;ft.append("file",Se.blob(),Se.filename()),Ne.send(ft)},b=function(){return new nu(function(Se){Se([])})},E=function(Se,Ae){return{url:Ae,blobInfo:Se,status:!0}},O=function(Se,Ae,De){return{url:"",blobInfo:Se,status:!1,error:{message:Ae,options:De}}},R=function(Se,Ae){Tt.each(s[Se],function(De){De(Ae)}),delete s[Se]},W=function(Se,Ae,De){return e.markPending(Se.blobUri()),new nu(function(Ve){var Ne,ft;try{var ot=function(){Ne&&(Ne.close(),ft=ve)},je=function(Bt){ot(),e.markUploaded(Se.blobUri(),Bt),R(Se.blobUri(),E(Se,Bt)),Ve(E(Se,Bt))},ht=function(Bt,en){var gr=en||{};ot(),e.removeFailed(Se.blobUri()),R(Se.blobUri(),O(Se,Bt,gr)),Ve(O(Se,Bt,gr))};ft=function(Bt){Bt<0||Bt>100||Ee.from(Ne).orThunk(function(){return Ee.from(De).map(z)}).each(function(en){Ne=en,en.progressBar.value(Bt)})},Ae(Se,je,ht,ft)}catch(Bt){Ve(O(Se,Bt.message,{}))}})},ne=function(Se){return Se===h},ae=function(Se){var Ae=Se.blobUri();return new nu(function(De){s[Ae]=s[Ae]||[],s[Ae].push(De)})},ce=function(Se,Ae){return Se=Tt.grep(Se,function(De){return!e.isUploaded(De.blobUri())}),nu.all(Tt.map(Se,function(De){return e.isPending(De.blobUri())?ae(De):W(De,r.handler,Ae)}))},we=function(Se,Ae){return!r.url&&ne(r.handler)?b():ce(Se,Ae)};return K(r.handler)===!1&&(r.handler=h),{upload:we}},PR=function(e){return function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}},IR=function(e,r){return y4(r,{url:HS(e),basePath:Oh(e),credentials:Dh(e),handler:ux(e)})},_4=function(e){var r=z_(),s=IR(e,r);return{upload:function(f,h){return h===void 0&&(h=!0),s.upload(f,h?PR(e):void 0)}}},BR=function(e){var r=Pl(null);e.on("change AddUndo",function(f){r.set(Kn({},f.level))});var s=function(){var f=e.undoManager.data;oi(f).filter(function(h){return!R0(r.get(),h)}).each(function(h){e.setDirty(!0),e.fire("change",{level:h,lastLevel:ii(f,f.length-2).getOrNull()})})};return{fireIfChanged:s}},Sz=function(e){var r=Cz(),s,f,h=z_(),b=[],E=BR(e),O=function(ot){return function(je){return e.selection?ot(je):[]}},R=function(ot){return ot+(ot.indexOf("?")===-1?"?":"&")+new Date().getTime()},W=function(ot,je,ht){var Bt=0;do Bt=ot.indexOf(je,Bt),Bt!==-1&&(ot=ot.substring(0,Bt)+ht+ot.substr(Bt+je.length),Bt+=ht.length-je.length+1);while(Bt!==-1);return ot},ne=function(ot,je,ht){var Bt='src="'+ht+'"'+(ht===rr.transparentSrc?' data-mce-placeholder="1"':"");return ot=W(ot,'src="'+je+'"',Bt),ot=W(ot,'data-mce-src="'+je+'"','data-mce-src="'+ht+'"'),ot},ae=function(ot,je){vt(e.undoManager.data,function(ht){ht.type==="fragmented"?ht.fragments=st(ht.fragments,function(Bt){return ne(Bt,ot,je)}):ht.content=ne(ht.content,ot,je)})},ce=function(ot,je){var ht=e.convertURL(je,"src");ae(ot.src,je),e.$(ot).attr({src:Gy(e)?R(je):je,"data-mce-src":ht})},we=function(ot){return s||(s=IR(e,h)),Ve().then(O(function(je){var ht=st(je,function(Bt){return Bt.blobInfo});return s.upload(ht,PR(e)).then(O(function(Bt){var en=[],gr=st(Bt,function(In,Wt){var hr=je[Wt].blobInfo,on=je[Wt].image;return In.status&&zS(e)?(r.removeByUri(on.src),I0(e)||ce(on,In.url)):In.error&&(In.error.options.remove&&(ae(on.getAttribute("src"),rr.transparentSrc),en.push(on)),g4(e,In.error.message)),{element:on,status:In.status,uploadUri:In.url,blobInfo:hr}});return gr.length>0&&E.fireIfChanged(),en.length>0&&(I0(e)?console.error("Removing images on failed uploads is currently unsupported for RTC"):e.undoManager.transact(function(){vt(en,function(In){e.dom.remove(In),r.removeByUri(In.src)})})),ot&&ot(gr),gr}))}))},Se=function(ot){if(m0(e))return we(ot)},Ae=function(ot){if(yo(b,function(ht){return ht(ot)})===!1)return!1;if(ot.getAttribute("src").indexOf("data:")===0){var je=Ug(e);return je(ot)}return!0},De=function(ot){b.push(ot)},Ve=function(){return f||(f=WB(h,r)),f.findAll(e.getBody(),Ae).then(O(function(ot){return ot=pn(ot,function(je){return typeof je=="string"?($A(e,je),!1):!0}),I0(e)||vt(ot,function(je){ae(je.image.src,je.blobInfo.blobUri()),je.image.src=je.blobInfo.blobUri(),je.image.removeAttribute("data-mce-src")}),ot}))},Ne=function(){r.destroy(),h.destroy(),f=s=null},ft=function(ot){return ot.replace(/src="(blob:[^"]+)"/g,function(je,ht){var Bt=h.getResultUri(ht);if(Bt)return'src="'+Bt+'"';var en=r.getByUri(ht);if(en||(en=xr(e.editorManager.get(),function(In,Wt){return In||Wt.editorUpload&&Wt.editorUpload.blobCache.getByUri(ht)},null)),en){var gr=en.blob();return'src="data:'+gr.type+";base64,"+en.base64()+'"'}return je})};return e.on("SetContent",function(){m0(e)?Se():Ve()}),e.on("RawSaveContent",function(ot){ot.content=ft(ot.content)}),e.on("GetContent",function(ot){ot.source_view||ot.format==="raw"||ot.format==="tree"||(ot.content=ft(ot.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(ot){vt(ot,function(je){var ht=je.attr("src");if(!r.getByUri(ht)){var Bt=h.getResultUri(ht);Bt&&je.attr("src",Bt)}})})}),{blobCache:r,addFilter:De,uploadImages:we,uploadImagesAuto:Se,scanForImages:Ve,destroy:Ne}},Ez=function(e){var r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(s,f,h){return Tr(s)&&s.hasAttribute("href")},onformat:function(s,f,h){Tt.each(h,function(b,E){e.setAttrib(s,E,b)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":function(s){var f;return(f=s==null?void 0:s.customValue)!==null&&f!==void 0?f:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Tt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),function(s){r[s]={block:s,remove:"all"}}),r},kz=function(e){var r={},s=function(E){return at(E)?r[E]:r},f=function(E){return Ur(r,E)},h=function(E,O){E&&(Te(E)?(be(O)||(O=[O]),vt(O,function(R){Oe(R.deep)&&(R.deep=!mf(R)),Oe(R.split)&&(R.split=!mf(R)||vl(R)),Oe(R.remove)&&mf(R)&&!vl(R)&&(R.remove="none"),mf(R)&&vl(R)&&(R.mixed=!0,R.block_expand=!0),Te(R.classes)&&(R.classes=R.classes.split(/\s+/))}),r[E]=O):ia(E,function(R,W){h(W,R)}))},b=function(E){return E&&r[E]&&delete r[E],r};return h(Ez(e.dom)),h(US(e)),{get:s,has:f,register:h,unregister:b}},VA=Tt.each,bf=Wi.DOM,Xm=function(e,r){var s,f,h,b=r&&r.schema||yc({}),E=function(ne,ae){ae.classes.length&&bf.addClass(ne,ae.classes.join(" ")),bf.setAttribs(ne,ae.attrs)},O=function(ne){f=typeof ne=="string"?{name:ne,classes:[],attrs:{}}:ne;var ae=bf.create(f.name);return E(ae,f),ae},R=function(ne,ae){var ce=typeof ne!="string"?ne.nodeName.toLowerCase():ne,we=b.getElementRule(ce),Se=we&&we.parentsRequired;return Se&&Se.length?ae&&Tt.inArray(Se,ae)!==-1?ae:Se[0]:!1},W=function(ne,ae,ce){var we,Se,Ae=ae.length>0&&ae[0],De=Ae&&Ae.name,Ve=R(ne,De);if(Ve)De===Ve?(Se=ae[0],ae=ae.slice(1)):Se=Ve;else if(Ae)Se=ae[0],ae=ae.slice(1);else if(!ce)return ne;return Se&&(we=O(Se),we.appendChild(ne)),ce&&(we||(we=bf.create("div"),we.appendChild(ne)),Tt.each(ce,function(Ne){var ft=O(Ne);we.insertBefore(ft,ne)})),W(we,ae,Se&&Se.siblings)};return e&&e.length?(f=e[0],s=O(f),h=bf.create("div"),h.appendChild(W(s,e.slice(1),f.siblings)),h):""},Tz=function(e){var r,s={classes:[],attrs:{}};return e=s.selector=Tt.trim(e),e!=="*"&&(r=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(f,h,b,E,O){switch(h){case"#":s.attrs.id=b;break;case".":s.classes.push(b);break;case":":Tt.inArray("checked disabled enabled read-only required".split(" "),b)!==-1&&(s.attrs[b]=b);break}if(E==="["){var R=O.match(/([\w\-]+)(?:\=\"([^\"]+))?/);R&&(s.attrs[R[1]]=R[2])}return""})),s.name=r||"div",s},Az=function(e){return!e||typeof e!="string"?[]:(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Tt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(r){var s=Tt.map(r.split(/(?:~\+|~|\+)/),Tz),f=s.pop();return s.length&&(f.siblings=s),f}).reverse())},Oz=function(e,r){var s,f,h="",b,E=Nm(e);if(E==="")return"";var O=function(ae){return ae.replace(/%(\w+)/g,"")};if(typeof r=="string"){if(r=e.formatter.get(r),!r)return;r=r[0]}if("preview"in r){var R=_a(r,"preview");if(xv(R,!1))return"";E=R.getOr(E)}s=r.block||r.inline||"span";var W=Az(r.selector);W.length?(W[0].name||(W[0].name=s),s=r.selector,f=Xm(W,e)):f=Xm([s],e);var ne=bf.select(s,f)[0]||f.firstChild;return VA(r.styles,function(ae,ce){var we=O(ae);we&&bf.setStyle(ne,ce,we)}),VA(r.attributes,function(ae,ce){var we=O(ae);we&&bf.setAttrib(ne,ce,we)}),VA(r.classes,function(ae){var ce=O(ae);bf.hasClass(ne,ce)||bf.addClass(ne,ce)}),e.fire("PreviewFormats"),bf.setStyles(f,{position:"absolute",left:-65535}),e.getBody().appendChild(f),b=bf.getStyle(e.getBody(),"fontSize",!0),b=/px$/.test(b)?parseInt(b,10):0,VA(E.split(" "),function(ae){var ce=bf.getStyle(ne,ae,!0);if(!(ae==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(ce)&&(ce=bf.getStyle(e.getBody(),ae,!0),bf.toHex(ce).toLowerCase()==="#ffffff"))&&!(ae==="color"&&bf.toHex(ce).toLowerCase()==="#000000")){if(ae==="font-size"&&/em|%$/.test(ce)){if(b===0)return;var we=parseFloat(ce)/(/%$/.test(ce)?100:1);ce=we*b+"px"}ae==="border"&&ce&&(h+="padding:0 2px;"),h+=ae+":"+ce+";"}}),e.fire("AfterPreviewFormats"),bf.remove(f),h},Dz=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var r=1;r<=6;r++)e.addShortcut("access+"+r,"",["FormatBlock",!1,"h"+r]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},w4=function(e){var r=kz(e),s=Pl(null);return Dz(e),ZM(e),{get:r.get,has:r.has,register:r.register,unregister:r.unregister,apply:function(f,h,b){w8(e,f,h,b)},remove:function(f,h,b,E){Db(e,f,h,b,E)},toggle:function(f,h,b){hR(e,f,h,b)},match:function(f,h,b,E){return yE(e,f,h,b,E)},closest:function(f){return _8(e,f)},matchAll:function(f,h){return TB(e,f,h)},matchNode:function(f,h,b,E){return AB(e,f,h,b,E)},canApply:function(f){return RA(e,f)},formatChanged:function(f,h,b,E){return OB(e,s,f,h,b,E)},getCssText:Ce(Oz,e)}},ks=function(e){switch(e.toLowerCase()){case"undo":case"redo":case"mcerepaint":case"mcefocus":return!0;default:return!1}},x4=function(e,r,s){var f=Pl(!1),h=function(R){P0(r,!1,s),r.add({},R)};e.on("init",function(){r.add()}),e.on("BeforeExecCommand",function(R){var W=R.command;ks(W)||(DA(r,s),r.beforeChange())}),e.on("ExecCommand",function(R){var W=R.command;ks(W)||h(R)}),e.on("ObjectResizeStart cut",function(){r.beforeChange()}),e.on("SaveContent ObjectResized blur",h),e.on("dragend",h),e.on("keyup",function(R){var W=R.keyCode;R.isDefaultPrevented()||((W>=33&&W<=36||W>=37&&W<=40||W===45||R.ctrlKey)&&(h(),e.nodeChanged()),(W===46||W===8)&&e.nodeChanged(),f.get()&&r.typing&&R0(wC(e),r.data[0])===!1&&(e.isDirty()===!1&&(e.setDirty(!0),e.fire("change",{level:r.data[0],lastLevel:null})),e.fire("TypingUndo"),f.set(!1),e.nodeChanged()))}),e.on("keydown",function(R){var W=R.keyCode;if(!R.isDefaultPrevented()){if(W>=33&&W<=36||W>=37&&W<=40||W===45){r.typing&&h(R);return}var ne=R.ctrlKey&&!R.altKey||R.metaKey;(W<16||W>20)&&W!==224&&W!==91&&!r.typing&&!ne&&(r.beforeChange(),P0(r,!0,s),r.add({},R),f.set(!0))}}),e.on("mousedown",function(R){r.typing&&h(R)});var b=function(R){return R.inputType==="insertReplacementText"},E=function(R){return R.inputType==="insertText"&&R.data===null},O=function(R){return R.inputType==="insertFromPaste"||R.inputType==="insertFromDrop"};e.on("input",function(R){R.inputType&&(b(R)||E(R)||O(R))&&h(R)}),e.on("AddUndo Undo Redo ClearUndos",function(R){R.isDefaultPrevented()||e.nodeChanged()})},C4=function(e){e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},Gh=function(e){var r=xh(),s=Pl(0),f=Pl(0),h={data:[],typing:!1,beforeChange:function(){m8(e,s,r)},add:function(b,E){return xB(e,h,f,s,r,b,E)},undo:function(){return CB(e,h,s,f)},redo:function(){return SB(e,f,h.data)},clear:function(){EB(e,h,f)},reset:function(){kB(e,h)},hasUndo:function(){return g8(e,h,f)},hasRedo:function(){return p8(e,h,f)},transact:function(b){return b8(e,h,s,b)},ignore:function(b){y8(e,s,b)},extra:function(b,E){vR(e,h,f,b,E)}};return I0(e)||x4(e,h,s),C4(e),h},S4=[9,27,pr.HOME,pr.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,pr.DOWN,pr.UP,pr.LEFT,pr.RIGHT].concat(rr.browser.isFirefox()?[224]:[]),E4="data-mce-placeholder",k4=function(e){return e.type==="keydown"||e.type==="keyup"},UA=function(e){var r=e.keyCode;return r===pr.BACKSPACE||r===pr.DELETE},Mz=function(e){if(k4(e)){var r=e.keyCode;return!UA(e)&&(pr.metaKeyPressed(e)||e.altKey||r>=112&&r<=123||kt(S4,r))}else return!1},SC=function(e){return k4(e)&&!(UA(e)||e.type==="keyup"&&e.keyCode===229)},Rz=function(e,r,s){if(ru(Z.fromDom(r),!1)){var f=s==="",h=r.firstElementChild;return h?e.getStyle(r.firstElementChild,"padding-left")||e.getStyle(r.firstElementChild,"padding-right")?!1:f?!e.isBlock(h):s===h.nodeName.toLowerCase():!0}else return!1},T4=function(e){var r=e.dom,s=yu(e),f=Zy(e),h=function(b,E){if(!Mz(b)){var O=e.getBody(),R=SC(b)?!1:Rz(r,O,s),W=r.getAttrib(O,E4)!=="";(W!==R||E)&&(r.setAttrib(O,E4,R?f:null),r.setAttrib(O,"aria-placeholder",R?f:null),aT(e,R),e.on(R?"keydown":"keyup",h),e.off(R?"keyup":"keydown",h))}};f&&e.on("init",function(b){h(b,!0),e.on("change SetContent ExecCommand",h),e.on("paste",function(E){return mu.setEditorTimeout(e,function(){return h(E)})})})},A4=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,LR=function(e){return A4.test(e)},Mb=function(e,r){return On(Z.fromDom(r),Wv(e))},FR=function(e){return Wi.DOM.getStyle(e,"direction",!0)==="rtl"||LR(e.textContent)},Pz=function(e,r,s){return pn(Wi.DOM.getParents(s.container(),"*",r),e)},Rb=function(e,r,s){var f=Pz(e,r,s);return Ee.from(f[f.length-1])},Iz=function(e,r,s){var f=hd(r,e),h=hd(s,e);return f&&f===h},Kh=function(e){return ur(e)||i1(e)},Kv=function(e,r){if(!r)return r;var s=r.container(),f=r.offset();return e?Mi(s)?Rn(s.nextSibling)?yt(s.nextSibling,0):yt.after(s):ur(r)?yt(s,f+1):r:Mi(s)?Rn(s.previousSibling)?yt(s.previousSibling,s.previousSibling.data.length):yt.before(s):i1(r)?yt(s,f-1):r},O4=Ce(Kv,!0),D4=Ce(Kv,!1),ME=function(e){return function(r){return yr(e,Z.fromDom(r.dom.parentNode))}},Bz=function(e){return ad(e)||Ns(e)},RE=function(e,r){return La(e,r)?bg(r,Bz,ME(e)):Ee.none()},M4=function(e){var r=e.getBody(),s=r.firstChild&&e.dom.isBlock(r.firstChild)?r.firstChild:r;e.selection.setCursorLocation(s,0)},NR=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),M4(e))},Lz=function(e,r,s){return Mu(io(s),zi(s),function(f,h){var b=Kv(!0,f),E=Kv(!1,h),O=Kv(!1,r);return e?vs(s,O).exists(function(R){return R.isEqual(E)&&r.isEqual(b)}):es(s,O).exists(function(R){return R.isEqual(b)&&r.isEqual(E)})}).getOr(!0)},Fz=function(e,r){return{block:e,position:r}},Pb=function(e,r){return{from:e,to:r}},$R=function(e,r){var s=Z.fromDom(e),f=Z.fromDom(r.container());return RE(s,f).map(function(h){return Fz(h,r)})},Nz=function(e){return yr(e.from.block,e.to.block)===!1},$z=function(e){return Vi(e.from.block).bind(function(r){return Vi(e.to.block).filter(function(s){return yr(r,s)})}).isSome()},zz=function(e){return Zi(e.from.block.dom)===!1&&Zi(e.to.block.dom)===!1},Hz=function(e,r,s){return ui(s.position.getNode())&&ru(s.block)===!1?Ua(!1,s.block.dom).bind(function(f){return f.isEqual(s.position)?ea(r,e,f).bind(function(h){return $R(e,h)}):Ee.some(s)}).getOr(s):s},Vz=function(e,r,s){var f=$R(e,yt.fromRangeStart(s)),h=f.bind(function(b){return ea(r,e,b.position).bind(function(E){return $R(e,E).map(function(O){return Hz(e,r,O)})})});return Mu(f,h,Pb).filter(function(b){return Nz(b)&&$z(b)&&zz(b)})},Uz=function(e,r,s){return s.collapsed?Vz(e,r,s):Ee.none()},Wz=function(e){var r=el(e);return ho(r,hc).fold(Y(r),function(s){return r.slice(0,s)})},R4=function(e){var r=Wz(e);return vt(r,Nn),r},P4=function(e,r){var s=Yv(r,e);return ba(s.reverse(),function(f){return ru(f)}).each(Nn)},jz=function(e){return pn(Na(e),function(r){return!ru(r)}).length===0},Yz=function(e,r,s,f){if(ru(s))return Wh(s),io(s.dom);jz(f)&&ru(r)&&du(f,Z.fromTag("br"));var h=es(s.dom,yt.before(f.dom));return vt(R4(r),function(b){du(f,b)}),P4(e,r),h},PE=function(e,r,s){if(ru(s))return Nn(s),ru(r)&&Wh(r),io(r.dom);var f=zi(s.dom);return vt(R4(r),function(h){ps(s,h)}),P4(e,r),f},qz=function(e,r){var s=Yv(r,e);return Ee.from(s[s.length-1])},zR=function(e,r){return La(r,e)?qz(r,e):Ee.none()},I4=function(e,r){Ua(e,r.dom).map(function(s){return s.getNode()}).map(Z.fromDom).filter(lf).each(Nn)},B4=function(e,r,s){return I4(!0,r),I4(!1,s),zR(r,s).fold(Ce(PE,e,r,s),Ce(Yz,e,r,s))},L4=function(e,r,s,f){return r?B4(e,f,s):B4(e,s,f)},WA=function(e,r){var s=Z.fromDom(e.getBody()),f=Uz(s.dom,r,e.selection.getRng()).bind(function(h){return L4(s,r,h.from.block,h.to.block)});return f.each(function(h){e.selection.setRng(h.toRange())}),f.isSome()},H_=function(e,r){var s=r.getRng();return Mu(RE(e,Z.fromDom(s.startContainer)),RE(e,Z.fromDom(s.endContainer)),function(f,h){return yr(f,h)===!1?(s.deleteContents(),L4(e,!0,f,h).each(function(b){r.setRng(b.toRange())}),!0):!1}).getOr(!1)},Ib=function(e,r){var s=Z.fromDom(r),f=Ce(yr,e);return Yl(s,Bf,f).isSome()},jA=function(e,r){return Ib(e,r.startContainer)||Ib(e,r.endContainer)},YA=function(e,r){var s=es(e.dom,yt.fromRangeStart(r)).isNone(),f=vs(e.dom,yt.fromRangeEnd(r)).isNone();return!jA(e,r)&&s&&f},V_=function(e){return e.setContent(""),e.selection.setCursorLocation(),!0},U_=function(e){var r=Z.fromDom(e.getBody()),s=e.selection.getRng();return YA(r,s)?V_(e):H_(r,e.selection)},W_=function(e,r){return e.selection.isCollapsed()?!1:U_(e)},qA=Df,F4=Zi,Zm=function(e,r,s,f,h){return Ee.from(r._selectionOverrides.showCaret(e,s,f,h))},HR=function(e){var r=e.ownerDocument.createRange();return r.selectNode(e),r},j_=function(e,r){var s=e.fire("BeforeObjectSelected",{target:r});return s.isDefaultPrevented()?Ee.none():Ee.some(HR(r))},VR=function(e,r,s){var f=Bu(1,e.getBody(),r),h=yt.fromRangeStart(f),b=h.getNode();if(Rh(b))return Zm(1,e,b,!h.isAtEnd(),!1);var E=h.getNode(!0);if(Rh(E))return Zm(1,e,E,!1,!1);var O=e.dom.getParent(h.getNode(),function(R){return F4(R)||qA(R)});return Rh(O)?Zm(1,e,O,!1,s):Ee.none()},Bb=function(e,r,s){return r.collapsed?VR(e,r,s).getOr(r):r},N4=function(e){return tv(e)||mb(e)},$4=function(e){return mp(e)||gb(e)},z4=function(e,r){Rn(r)&&r.data.length===0&&e.remove(r)},IE=function(e,r,s,f,h,b){return Zm(f,e,b.getNode(!h),h,!0).each(function(E){if(r.collapsed){var O=r.cloneRange();h?O.setEnd(E.startContainer,E.startOffset):O.setStart(E.endContainer,E.endOffset),O.deleteContents()}else r.deleteContents();e.selection.setRng(E)}),z4(e.dom,s),!0},H4=function(e,r){var s=e.selection.getRng();if(!Rn(s.commonAncestorContainer))return!1;var f=r?_u.Forwards:_u.Backwards,h=it(e.getBody()),b=Ce(l_,r?h.next:h.prev),E=r?N4:$4,O=tp(f,e.getBody(),s),R=Kv(r,b(O));if(!R||!J1(O,R))return!1;if(E(R))return IE(e,s,O.getNode(),f,r,R);var W=b(R);return W&&E(W)&&J1(R,W)?IE(e,s,O.getNode(),f,r,W):!1},BE=function(e,r){return H4(e,r)},V4=function(e){return Bf(Z.fromDom(e))||Ns(Z.fromDom(e))},wd=Jn.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),F0=function(e,r){var s=r.getNode(e===!1),f=e?"after":"before";return Tr(s)&&s.getAttribute("data-mce-caret")===f},U4=function(e,r,s,f){var h=function(b){return Fs(Z.fromDom(b))&&!md(s,f,e)};return ep(!r,s).fold(function(){return ep(r,f).fold(dt,h)},h)},UR=function(e,r,s,f){var h=f.getNode(r===!1);return RE(Z.fromDom(e),Z.fromDom(s.getNode())).map(function(b){return ru(b)?wd.remove(b.dom):wd.moveToElement(h)}).orThunk(function(){return Ee.some(wd.moveToElement(h))})},N0=function(e,r,s){return ea(r,e,s).bind(function(f){return V4(f.getNode())||U4(e,r,s,f)?Ee.none():r&&Zi(f.getNode())||r===!1&&Zi(f.getNode(!0))?UR(e,r,s,f):r&&mp(s)||r===!1&&tv(s)?Ee.some(wd.moveToPosition(f)):Ee.none()})},Xh=function(e,r){return e&&Zi(r.nextSibling)?Ee.some(wd.moveToElement(r.nextSibling)):e===!1&&Zi(r.previousSibling)?Ee.some(wd.moveToElement(r.previousSibling)):Ee.none()},Gz=function(e,r,s){return s.fold(function(f){return Ee.some(wd.remove(f))},function(f){return Ee.some(wd.moveToElement(f))},function(f){return md(r,f,e)?Ee.none():Ee.some(wd.moveToPosition(f))})},Kz=function(e,r,s){return F0(r,s)?Xh(r,s.getNode(r===!1)).fold(function(){return N0(e,r,s)},Ee.some):N0(e,r,s).bind(function(f){return Gz(e,s,f)})},Xz=function(e,r,s){var f=Bu(r?1:-1,e,s),h=yt.fromRangeStart(f),b=Z.fromDom(e);return r===!1&&mp(h)?Ee.some(wd.remove(h.getNode(!0))):r&&tv(h)?Ee.some(wd.remove(h.getNode())):r===!1&&tv(h)&&_b(b,h)?CM(b,h).map(function(E){return wd.remove(E.getNode())}):r&&mp(h)&&yb(b,h)?Rr(b,h).map(function(E){return wd.remove(E.getNode())}):Kz(e,r,h)},Zz=function(e,r){return function(s){return e._selectionOverrides.hideFakeCaret(),er(e,r,Z.fromDom(s)),!0}},Jz=function(e,r){return function(s){var f=r?yt.before(s):yt.after(s);return e.selection.setRng(f.toRange()),!0}},Qz=function(e){return function(r){return e.selection.setRng(r.toRange()),!0}},W4=function(e,r){return Ee.from(C0(e.getBody(),r))},e7=function(e,r){var s=e.selection.getNode();return W4(e,s).filter(Zi).fold(function(){return Xz(e.getBody(),r,e.selection.getRng()).exists(function(f){return f.fold(Zz(e,r),Jz(e,r),Qz(e))})},Dt)},t7=function(e){vt(bu(e,".mce-offscreen-selection"),Nn)},n7=function(e,r){var s=e.selection.getNode();if(Zi(s)&&!wv(s)){var f=W4(e,s.parentNode).filter(Zi);return f.fold(function(){return t7(Z.fromDom(e.getBody())),er(e,r,Z.fromDom(e.selection.getNode())),NR(e),!0},Dt)}return!1},j4=function(e){var r=e.dom,s=e.selection,f=C0(e.getBody(),s.getNode());if(Df(f)&&r.isBlock(f)&&r.isEmpty(f)){var h=r.create("br",{"data-mce-bogus":"1"});r.setHTML(f,""),f.appendChild(h),s.setRng(yt.before(h).toRange())}return!0},GA=function(e,r){return e.selection.isCollapsed()?e7(e,r):n7(e,r)},WR=function(e,r){var s=yt.fromRangeStart(e.selection.getRng());return ea(r,e.getBody(),s).filter(function(f){return r?wM(f):J2(f)}).bind(function(f){return Ee.from(K1(r?0:-1,f))}).exists(function(f){return e.selection.select(f),!0})},EC=function(e,r){return e.selection.isCollapsed()?WR(e,r):!1},Y_=Rn,Y4=function(e){return Y_(e)&&e.data[0]===Je},q4=function(e){return Y_(e)&&e.data[e.data.length-1]===Je},jR=function(e){return e.ownerDocument.createTextNode(Je)},G4=function(e){if(Y_(e.previousSibling))return q4(e.previousSibling)||e.previousSibling.appendData(Je),e.previousSibling;if(Y_(e))return Y4(e)||e.insertData(0,Je),e;var r=jR(e);return e.parentNode.insertBefore(r,e),r},YR=function(e){if(Y_(e.nextSibling))return Y4(e.nextSibling)||e.nextSibling.insertData(0,Je),e.nextSibling;if(Y_(e))return q4(e)||e.appendData(Je),e;var r=jR(e);return e.nextSibling?e.parentNode.insertBefore(r,e.nextSibling):e.parentNode.appendChild(r),r},LE=function(e,r){return e?G4(r):YR(r)},K4=Ce(LE,!0),qR=Ce(LE,!1),X4=function(e,r){return Rn(e.container())?LE(r,e.container()):LE(r,e.getNode())},Z4=function(e,r){var s=r.get();return s&&e.container()===s&&Mi(s)},Zh=function(e,r){return r.fold(function(s){Kd(e.get());var f=K4(s);return e.set(f),Ee.some(yt(f,f.length-1))},function(s){return io(s).map(function(f){if(Z4(f,e))return yt(e.get(),1);Kd(e.get());var h=X4(f,!0);return e.set(h),yt(h,1)})},function(s){return zi(s).map(function(f){if(Z4(f,e))return yt(e.get(),e.get().length-1);Kd(e.get());var h=X4(f,!1);return e.set(h),yt(h,h.length-1)})},function(s){Kd(e.get());var f=qR(s);return e.set(f),Ee.some(yt(f,1))})},Xv=function(e,r){for(var s=0;s<e.length;s++){var f=e[s].apply(null,r);if(f.isSome())return f}return Ee.none()},tc=Jn.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),GR=function(e,r){var s=hd(r,e);return s||e},KA=function(e,r,s){var f=O4(s),h=GR(r,f.container());return Rb(e,h,f).fold(function(){return vs(h,f).bind(Ce(Rb,e,h)).map(function(b){return tc.before(b)})},Ee.none)},J4=function(e,r){return Bh(e,r)===null},KR=function(e,r,s){return Rb(e,r,s).filter(Ce(J4,r))},Q4=function(e,r,s){var f=D4(s);return KR(e,r,f).bind(function(h){var b=es(h,f);return b.isNone()?Ee.some(tc.start(h)):Ee.none()})},eL=function(e,r,s){var f=O4(s);return KR(e,r,f).bind(function(h){var b=vs(h,f);return b.isNone()?Ee.some(tc.end(h)):Ee.none()})},tL=function(e,r,s){var f=D4(s),h=GR(r,f.container());return Rb(e,h,f).fold(function(){return es(h,f).bind(Ce(Rb,e,h)).map(function(b){return tc.after(b)})},Ee.none)},XR=function(e){return FR(kC(e))===!1},Zv=function(e,r,s){var f=Xv([KA,Q4,eL,tL],[e,r,s]);return f.filter(XR)},kC=function(e){return e.fold($e,$e,$e,$e)},XA=function(e){return e.fold(Y("before"),Y("start"),Y("end"),Y("after"))},ZA=function(e){return e.fold(tc.before,tc.before,tc.after,tc.after)},ZR=function(e){return e.fold(tc.start,tc.start,tc.end,tc.end)},r7=function(e,r){return XA(e)===XA(r)&&kC(e)===kC(r)},a7=function(e,r,s,f,h,b){return Mu(Rb(r,s,f),Rb(r,s,h),function(E,O){return E!==O&&Iz(s,E,O)?tc.after(e?E:O):b}).getOr(b)},nL=function(e,r){return e.fold(Dt,function(s){return!r7(s,r)})},i7=function(e,r,s,f,h){var b=Kv(e,h),E=ea(e,s,b).map(Ce(Kv,e)),O=E.fold(function(){return f.map(ZA)},function(R){return Zv(r,s,R).map(Ce(a7,e,r,s,b,R)).filter(Ce(nL,f))});return O.filter(XR)},o7=function(e,r){return e?r.fold(Ue(Ee.some,tc.start),Ee.none,Ue(Ee.some,tc.after),Ee.none):r.fold(Ee.none,Ue(Ee.some,tc.before),Ee.none,Ue(Ee.some,tc.end))},FE=function(e,r,s,f){var h=Kv(e,f),b=Zv(r,s,h);return Zv(r,s,h).bind(Ce(o7,e)).orThunk(function(){return i7(e,r,s,b,f)})};Ce(FE,!1),Ce(FE,!0);var s7=function(e){return K(e.selection.getSel().modify)},rL=function(e,r,s){var f=e?1:-1;return r.setRng(yt(s.container(),s.offset()+f).toRange()),r.getSel().modify("move",e?"forward":"backward","word"),!0},u7=function(e,r){var s=r.selection.getRng(),f=e?yt.fromRangeEnd(s):yt.fromRangeStart(s);return s7(r)?e&&ur(f)?rL(!0,r.selection,f):!e&&i1(f)?rL(!1,r.selection,f):!1:!1},yp;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(yp||(yp={}));var JA=function(e,r){return e===_u.Backwards?Oa(r):r},l7=function(e,r,s){return e===_u.Forwards?r.next(s):r.prev(s)},c7=function(e,r,s,f){return ui(f.getNode(r===_u.Forwards))?yp.Br:md(s,f)===!1?yp.Block:yp.Wrap},NE=function(e,r,s,f){for(var h=it(s),b=f,E=[];b;){var O=l7(r,h,b);if(!O)break;if(ui(O.getNode(!1)))return r===_u.Forwards?{positions:JA(r,E).concat([O]),breakType:yp.Br,breakAt:Ee.some(O)}:{positions:JA(r,E),breakType:yp.Br,breakAt:Ee.some(O)};if(!O.isVisible()){b=O;continue}if(e(b,O)){var R=c7(s,r,b,O);return{positions:JA(r,E),breakType:R,breakAt:Ee.some(O)}}E.push(O),b=O}return{positions:JA(r,E),breakType:yp.Eol,breakAt:Ee.none()}},$E=function(e,r,s,f){return r(s,f).breakAt.map(function(h){var b=r(s,h).positions;return e===_u.Backwards?b.concat(h):[h].concat(b)}).getOr([])},zE=function(e,r){return xr(e,function(s,f){return s.fold(function(){return Ee.some(f)},function(h){return Mu(Xi(h.getClientRects()),Xi(f.getClientRects()),function(b,E){var O=Math.abs(r-b.left),R=Math.abs(r-E.left);return R<=O?f:h}).or(s)})},Ee.none())},aL=function(e,r){return Xi(r.getClientRects()).bind(function(s){return zE(e,s.left)})},HE=Ce(NE,yt.isAbove,-1),VE=Ce(NE,yt.isBelow,1),f7=Ce($E,-1,HE),iL=Ce($E,1,VE),d7=function(e,r){return HE(e,r).breakAt.isNone()},v7=function(e,r){return VE(e,r).breakAt.isNone()},JR=function(e){return io(e).map(function(r){return[r].concat(VE(e,r).positions)}).getOr([])},h7=function(e){return zi(e).map(function(r){return HE(e,r).positions.concat(r)}).getOr([])},m7=function(e){var r=function(f){return st(f,function(h){var b=Sh(h);return b.node=e,b})};if(Tr(e))return r(e.getClientRects());if(Rn(e)){var s=e.ownerDocument.createRange();return s.setStart(e,0),s.setEnd(e,e.data.length),r(s.getClientRects())}},QR=function(e){return ns(e,m7)},q_;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(q_||(q_={}));var g7=function(e,r,s,f){for(;f=Xd(f,e,Ko,r);)if(s(f))return},oL=function(e,r,s,f,h,b){var E=0,O=[],R=function(ae){var ce=QR([ae]);e===-1&&(ce=ce.reverse());for(var we=0;we<ce.length;we++){var Se=ce[we];if(!s(Se,W)){if(O.length>0&&r(Se,su(O))&&E++,Se.line=E,h(Se))return!0;O.push(Se)}}},W=su(b.getClientRects());if(!W)return O;var ne=b.getNode();return R(ne),g7(e,f,R,ne),O},p7=function(e,r){return r.line>e},QA=function(e,r){return r.line===e},eO=Ce(oL,q_.Up,Lg,Fg),b7=Ce(oL,q_.Down,Fg,Lg),y7=function(e,r,s,f){var h=it(r),b,E,O,R,W=[],ne=0,ae=function(Ae){return su(Ae.getClientRects())};e===1?(b=h.next,E=Fg,O=Lg,R=yt.after(f)):(b=h.prev,E=Lg,O=Fg,R=yt.before(f));var ce=ae(R);do if(R.isVisible()){var we=ae(R);if(!O(we,ce)){W.length>0&&E(we,su(W))&&ne++;var Se=Sh(we);if(Se.position=R,Se.line=ne,s(Se))return W;W.push(Se)}}while(R=b(R));return W},UE=function(e){return function(r){return p7(e,r)}},eP=function(e){return function(r){return QA(e,r)}},_7=Zi,sL=Xd,tP=function(e,r){return Math.abs(e.left-r)},nP=function(e,r){return Math.abs(e.right-r)},uL=function(e,r){return e>=r.left&&e<=r.right},w7=function(e,r){return e>=r.top&&e<=r.bottom},x7=function(e){return Uo(e,"node")},tO=function(e,r,s){return s===void 0&&(s=Dt),Hl(e,function(f,h){if(uL(r,h))return s(h)?h:f;if(uL(r,f))return s(f)?f:h;var b=Math.min(tP(f,r),nP(f,r)),E=Math.min(tP(h,r),nP(h,r));return E===b&&x7(h)&&_7(h.node)||E<b?h:f})},lL=function(e,r,s,f,h){var b=sL(f,e,Ko,r,!h);do if(!b||s(b))return;while(b=sL(b,e,Ko,r))},C7=function(e,r,s){s===void 0&&(s=!0);var f=[],h=function(b,E){var O=pn(QR([E]),function(R){return!b(R,r)});return f=f.concat(O),O.length===0};return f.push(r),lL(q_.Up,e,Ce(h,Lg),r.node,s),lL(q_.Down,e,Ce(h,Fg),r.node,s),f},S7=function(e){return pn(ya(e.getElementsByTagName("*")),$m)},Jh=function(e,r){return{node:e.node,before:tP(e,r)<nP(e,r)}},rP=function(e,r,s){var f=QR(S7(e)),h=pn(f,Ce(w7,s)),b=function(R){return!go(R.node)&&!Du(R.node)},E=tO(h,r,b);if(E){var O=b(E);if(E=tO(C7(e,E,O),r,b),E&&$m(E.node))return Jh(E,r)}return null},_p=function(e,r){e.selection.setRng(r),__(e,e.selection.getRng())},nO=function(e,r,s){return Ee.some(Bb(e,r,s))},cL=function(e,r,s,f,h,b){var E=r===_u.Forwards,O=it(e.getBody()),R=Ce(l_,E?O.next:O.prev),W=E?f:h;if(!s.collapsed){var ne=Rm(s);if(b(ne))return Zm(r,e,ne,r===_u.Backwards,!1)}var ae=tp(r,e.getBody(),s);if(W(ae))return j_(e,ae.getNode(!E));var ce=Kv(E,R(ae)),we=Id(s);if(!ce)return we?Ee.some(s):Ee.none();if(W(ce))return Zm(r,e,ce.getNode(!E),E,!1);var Se=R(ce);return Se&&W(Se)&&J1(ce,Se)?Zm(r,e,Se.getNode(!E),E,!1):we?nO(e,ce.toRange(),!1):Ee.none()},aP=function(e,r,s,f,h,b){var E=tp(r,e.getBody(),s),O=su(E.getClientRects()),R=r===q_.Down;if(!O)return Ee.none();var W=R?b7:eO,ne=W(e.getBody(),UE(1),E),ae=pn(ne,eP(1)),ce=O.left,we=tO(ae,ce);if(we&&b(we.node)){var Se=Math.abs(ce-we.left),Ae=Math.abs(ce-we.right);return Zm(r,e,we.node,Se<Ae,!1)}var De;if(f(E)?De=E.getNode():h(E)?De=E.getNode(!0):De=Rm(s),De){var Ve=y7(r,e.getBody(),UE(1),De),Ne=tO(pn(Ve,eP(1)),ce);if(Ne||(Ne=su(pn(Ve,eP(0))),Ne))return nO(e,Ne.position.toRange(),!1)}return ae.length===0?iP(e,R).filter(R?h:f).map(function(ft){return Bb(e,ft.toRange(),!1)}):Ee.none()},iP=function(e,r){var s=e.selection.getRng(),f=e.getBody();if(r){var h=yt.fromRangeEnd(s),b=VE(f,h);return oi(b.positions)}else{var h=yt.fromRangeStart(s),b=HE(f,h);return Xi(b.positions)}},oP=function(e,r,s){return iP(e,r).filter(s).exists(function(f){return e.selection.setRng(f.toRange()),!0})},rO=function(e,r){var s=e.dom.createRng();s.setStart(r.container(),r.offset()),s.setEnd(r.container(),r.offset()),e.selection.setRng(s)},fL=function(e,r){e?r.setAttribute("data-mce-selected","inline-boundary"):r.removeAttribute("data-mce-selected")},dL=function(e,r,s){return Zh(r,s).map(function(f){return rO(e,f),s})},TC=function(e,r,s){var f=e.getBody(),h=yt.fromRangeStart(e.selection.getRng()),b=Ce(Mb,e),E=FE(s,b,f,h);return E.bind(function(O){return dL(e,r,O)})},vL=function(e,r,s){var f=st(bu(Z.fromDom(r.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(E){return E.dom}),h=pn(f,e),b=pn(s,e);vt(Ki(h,b),Ce(fL,!1)),vt(Ki(b,h),Ce(fL,!0))},hL=function(e,r){if(e.selection.isCollapsed()&&e.composing!==!0&&r.get()){var s=yt.fromRangeStart(e.selection.getRng());yt.isTextPosition(s)&&Kh(s)===!1&&(rO(e,Cx(r.get(),s)),r.set(null))}},mL=function(e,r,s,f){if(r.selection.isCollapsed()){var h=pn(f,e);vt(h,function(b){var E=yt.fromRangeStart(r.selection.getRng());Zv(e,r.getBody(),E).bind(function(O){return dL(r,s,O)})})}},aO=function(e,r,s){return g0(e)?TC(e,r,s).isSome():!1},gL=function(e,r,s){return g0(r)?u7(e,r):!1},E7=function(e){var r=Pl(null),s=Ce(Mb,e);return e.on("NodeChange",function(f){g0(e)&&!(rr.browser.isIE()&&f.initial)&&(vL(s,e.dom,f.parents),hL(e,r),mL(s,e,r,f.parents))}),r},k7=Ce(gL,!0),T7=Ce(gL,!1),iO=function(e,r,s){if(g0(e)){var f=iP(e,r).getOrThunk(function(){var h=e.selection.getRng();return r?yt.fromRangeEnd(h):yt.fromRangeStart(h)});return Zv(Ce(Mb,e),e.getBody(),f).exists(function(h){var b=ZA(h);return Zh(s,b).exists(function(E){return rO(e,E),!0})})}else return!1},A7=function(e,r){var s=document.createRange();return s.setStart(e.container(),e.offset()),s.setEnd(r.container(),r.offset()),s},Jm=function(e){return Mu(io(e),zi(e),function(r,s){var f=Kv(!0,r),h=Kv(!1,s);return vs(e,f).forall(function(b){return b.isEqual(h)})}).getOr(!0)},pL=function(e,r){return function(s){return Zh(r,s).exists(function(f){return rO(e,f),!0})}},bL=function(e,r,s,f){var h=e.getBody(),b=Ce(Mb,e);e.undoManager.ignore(function(){e.selection.setRng(A7(s,f)),e.execCommand("Delete"),Zv(b,h,yt.fromRangeStart(e.selection.getRng())).map(ZR).map(pL(e,r))}),e.nodeChanged()},O7=function(e,r){var s=hd(r,e);return s||e},D7=function(e,r,s,f){var h=O7(e.getBody(),f.container()),b=Ce(Mb,e),E=Zv(b,h,f);return E.bind(function(O){return s?O.fold(Y(Ee.some(ZR(O))),Ee.none,Y(Ee.some(ZA(O))),Ee.none):O.fold(Ee.none,Y(Ee.some(ZA(O))),Ee.none,Y(Ee.some(ZR(O))))}).map(pL(e,r)).getOrThunk(function(){var O=Hr(s,h,f),R=O.bind(function(W){return Zv(b,h,W)});return Mu(E,R,function(){return Rb(b,h,f).exists(function(W){return Jm(W)?(er(e,s,Z.fromDom(W)),!0):!1})}).orThunk(function(){return R.bind(function(W){return O.map(function(ne){return s?bL(e,r,f,ne):bL(e,r,ne,f),!0})})}).getOr(!1)})},oO=function(e,r,s){if(e.selection.isCollapsed()&&g0(e)){var f=yt.fromRangeStart(e.selection.getRng());return D7(e,r,s,f)}return!1},M7=function(e,r){var s=Yv(r,e);return ho(s,hc).fold(Y(s),function(f){return s.slice(0,f)})},R7=function(e){return hg(e)===1},Lb=function(e,r,s,f){var h=Ce(S$,r),b=st(pn(f,h),function(O){return O.dom});if(b.length===0)er(r,e,s);else{var E=mC(s.dom,b);r.selection.setRng(E.toRange())}},P7=function(e,r){var s=Z.fromDom(e.getBody()),f=Z.fromDom(e.selection.getStart()),h=pn(M7(s,f),R7);return oi(h).exists(function(b){var E=yt.fromRangeStart(e.selection.getRng());return Lz(r,E,b.dom)&&!E$(b)?(Lb(r,e,b,h),!0):!1})},sO=function(e,r){return e.selection.isCollapsed()?P7(e,r):!1},uO=function(e,r,s){return e._selectionOverrides.hideFakeCaret(),er(e,r,Z.fromDom(s)),!0},sP=function(e,r){var s=r?mb:gb,f=r?_u.Forwards:_u.Backwards,h=tp(f,e.getBody(),e.selection.getRng());return s(h)?uO(e,r,h.getNode(!r)):Ee.from(Kv(r,h)).filter(function(b){return s(b)&&J1(h,b)}).exists(function(b){return uO(e,r,b.getNode(!r))})},I7=function(e,r){var s=e.selection.getNode();return Du(s)?uO(e,r,s):!1},lO=function(e,r){return e.selection.isCollapsed()?sP(e,r):I7(e,r)},B7=function(e){return bg(e,function(r){return Df(r.dom)||Zi(r.dom)}).exists(function(r){return Df(r.dom)})},$0=function(e){var r=parseInt(e,10);return isNaN(r)?0:r},yL=function(e,r){var s=e||Uw(r)?"margin":"padding",f=zr(r,"direction")==="rtl"?"-right":"-left";return s+f},L7=function(e,r,s,f,h,b){var E=yL(s,Z.fromDom(b));if(r==="outdent"){var O=Math.max(0,$0(b.style[E])-f);e.setStyle(b,E,O?O+h:"")}else{var O=$0(b.style[E])+f+h;e.setStyle(b,E,O)}},F7=function(e,r){return yo(r,function(s){var f=yL(lx(e),s),h=qo(s,f).map($0).getOr(0),b=e.dom.getContentEditable(s.dom);return b!=="false"&&h>0})},_L=function(e){var r=lP(e);return!e.mode.isReadOnly()&&(r.length>1||F7(e,r))},cO=function(e){return If(e)||Ns(e)},uP=function(e){return Vi(e).exists(cO)},lP=function(e){return pn(Us(e.selection.getSelectedBlocks()),function(r){return!cO(r)&&!uP(r)&&B7(r)})},cP=function(e,r){var s=e.dom,f=e.selection,h=e.formatter,b=Ky(e),E=/[a-z%]+$/i.exec(b)[0],O=parseInt(b,10),R=lx(e),W=yu(e);!e.queryCommandState("InsertUnorderedList")&&!e.queryCommandState("InsertOrderedList")&&W===""&&!s.getParent(f.getNode(),s.isBlock)&&h.apply("div"),vt(lP(e),function(ne){L7(s,r,R,O,E,ne.dom)})},fP=function(e,r){if(e.selection.isCollapsed()&&_L(e)){var s=e.dom,f=e.selection.getRng(),h=yt.fromRangeStart(f),b=s.getParent(f.startContainer,s.isBlock);if(b!==null&&qr(Z.fromDom(b),h))return cP(e,"outdent"),!0}return!1},wL=function(e,r){e.getDoc().execCommand(r,!1,null)},WE=function(e,r){if(!fP(e)){if(GA(e,!1))return;if(BE(e,!1))return;if(oO(e,r,!1))return;if(WA(e,!1))return;if(dA(e))return;if(EC(e,!1))return;if(lO(e,!1))return;if(W_(e))return;if(sO(e,!1))return;wL(e,"Delete"),NR(e)}},N7=function(e,r){if(!GA(e,!0)){if(BE(e,!0))return;if(oO(e,r,!0))return;if(WA(e,!0))return;if(dA(e))return;if(EC(e,!0))return;if(lO(e,!0))return;if(W_(e))return;if(sO(e,!0))return;wL(e,"ForwardDelete")}},$7=function(e,r){e.addCommand("delete",function(){WE(e,r)}),e.addCommand("forwardDelete",function(){N7(e,r)})},xL=5,AC=400,CL=function(e){return e.touches===void 0||e.touches.length!==1?Ee.none():Ee.some(e.touches[0])},z0=function(e,r){var s=Math.abs(e.clientX-r.x),f=Math.abs(e.clientY-r.y);return s>xL||f>xL},z7=function(e){var r=xh(),s=Pl(!1),f=Hs(function(h){e.fire("longpress",Kn(Kn({},h),{type:"longpress"})),s.set(!0)},AC);e.on("touchstart",function(h){CL(h).each(function(b){f.cancel();var E={x:b.clientX,y:b.clientY,target:h.target};f.throttle(h),s.set(!1),r.set(E)})},!0),e.on("touchmove",function(h){f.cancel(),CL(h).each(function(b){r.on(function(E){z0(b,E)&&(r.clear(),s.set(!1),e.fire("longpresscancel"))})})},!0),e.on("touchend touchcancel",function(h){f.cancel(),h.type!=="touchcancel"&&r.get().filter(function(b){return b.target.isEqualNode(h.target)}).each(function(){s.get()?h.preventDefault():e.fire("tap",Kn(Kn({},h),{type:"tap"}))})},!0)},jE=function(e,r){return Ur(e,r.nodeName)},dP=function(e,r){return Rn(r)?!0:Tr(r)?!jE(e,r)&&!Gc(r):!1},H7=function(e,r,s){return Qe(O_(Z.fromDom(s),Z.fromDom(r)),function(f){return jE(e,f.dom)})},V7=function(e,r){if(Rn(r)){if(r.nodeValue.length===0)return!0;if(/^\s+$/.test(r.nodeValue)&&(!r.nextSibling||jE(e,r.nextSibling)))return!0}return!1},U7=function(e){var r=e.dom,s=e.selection,f=e.schema,h=f.getBlockElements(),b=s.getStart(),E=e.getBody(),O,R,W,ne=yu(e);if(!(!b||!Tr(b)||!ne)){var ae=E.nodeName.toLowerCase();if(!(!f.isValidChild(ae,ne.toLowerCase())||H7(h,E,b))){var ce=s.getRng(),we=ce.startContainer,Se=ce.startOffset,Ae=ce.endContainer,De=ce.endOffset,Ve=bd(e);for(b=E.firstChild;b;)if(dP(h,b)){if(V7(h,b)){R=b,b=b.nextSibling,r.remove(R);continue}O||(O=r.create(ne,Hg(e)),b.parentNode.insertBefore(O,b),W=!0),R=b,b=b.nextSibling,O.appendChild(R)}else O=null,b=b.nextSibling;W&&Ve&&(ce.setStart(we,Se),ce.setEnd(Ae,De),s.setRng(ce),e.nodeChanged())}}},SL=function(e){yu(e)&&e.on("NodeChange",Ce(U7,e))},W7=function(e){return yg(Z.fromDom(e.getBody()),"*[data-mce-caret]").map(function(r){return r.dom}).getOrNull()},j7=function(e){e.selection.setRng(e.selection.getRng())},EL=function(e,r){r.hasAttribute("data-mce-caret")&&(o1(r),j7(e),e.selection.scrollIntoView(r))},Y7=function(e,r){var s=W7(e);if(s){if(r.type==="compositionstart"){r.preventDefault(),r.stopPropagation(),EL(e,s);return}kv(s)&&(EL(e,s),e.undoManager.add())}},kL=function(e){e.on("keyup compositionstart",Ce(Y7,e))},TL=Zi,G_=function(e,r,s){return cL(r,e,s,tv,mp,TL)},q7=function(e,r,s){var f=function(b){return tv(b)||JT(b)},h=function(b){return mp(b)||Q2(b)};return aP(r,e,s,f,h,TL)},YE=function(e){var r=e.dom.create(yu(e));return(!rr.ie||rr.ie>=11)&&(r.innerHTML='<br data-mce-bogus="1">'),r},vP=function(e,r,s){var f=it(e.getBody()),h=Ce(l_,r===1?f.next:f.prev);if(s.collapsed&&YS(e)){var b=e.dom.getParent(s.startContainer,"PRE");if(!b)return;var E=h(yt.fromRangeStart(s));if(!E){var O=YE(e);r===1?e.$(b).after(O):e.$(b).before(O),e.selection.select(O,!0),e.selection.collapse()}}},hP=function(e,r){var s=r?_u.Forwards:_u.Backwards,f=e.selection.getRng();return G_(s,e,f).orThunk(function(){return vP(e,s,f),Ee.none()})},mP=function(e,r){var s=r?1:-1,f=e.selection.getRng();return q7(s,e,f).orThunk(function(){return vP(e,s,f),Ee.none()})},AL=function(e,r){return hP(e,r).exists(function(s){return _p(e,s),!0})},OL=function(e,r){return mP(e,r).exists(function(s){return _p(e,s),!0})},DL=function(e,r){var s=r?mp:tv;return oP(e,r,s)},gP=function(e){return kt(["figcaption"],Di(e))},ML=function(e){var r=document.createRange();return r.setStartBefore(e.dom),r.setEndBefore(e.dom),r},RL=function(e,r,s){s?ps(e,r):sf(e,r)},G7=function(e,r){var s=Z.fromTag("br");return RL(e,s,r),ML(s)},K7=function(e,r,s,f){var h=Z.fromTag(s),b=Z.fromTag("br");return re(h,f),ps(h,b),RL(e,h,r),ML(b)},PL=function(e,r,s,f){return r===""?G7(e,f):K7(e,f,r,s)},X7=function(e,r){var s=Ce(yr,r);return bg(Z.fromDom(e.container()),hc,s).filter(gP)},Z7=function(e,r,s){return r?v7(e.dom,s):d7(e.dom,s)},J7=function(e,r){var s=Z.fromDom(e.getBody()),f=yt.fromRangeStart(e.selection.getRng()),h=yu(e),b=Hg(e);return X7(f,s).exists(function(){if(Z7(s,r,f)){var E=PL(s,h,b,r);return e.selection.setRng(E),!0}else return!1})},IL=function(e,r){return e.selection.isCollapsed()?J7(e,r):!1},Q7=function(e){return st(e,function(r){return Kn({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:ve},r)})},eH=function(e,r){return r.keyCode===e.keyCode&&r.shiftKey===e.shiftKey&&r.altKey===e.altKey&&r.ctrlKey===e.ctrlKey&&r.metaKey===e.metaKey},tH=function(e,r){return ns(Q7(e),function(s){return eH(s,r)?[s]:[]})},Fa=function(e){for(var r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];return function(){return e.apply(null,r)}},K_=function(e,r){return ba(tH(e,r),function(s){return s.action()})},BL=function(e,r){var s=r?_u.Forwards:_u.Backwards,f=e.selection.getRng();return cL(e,s,f,mb,gb,Du).exists(function(h){return _p(e,h),!0})},pP=function(e,r){var s=r?1:-1,f=e.selection.getRng();return aP(e,s,f,mb,gb,Du).exists(function(h){return _p(e,h),!0})},LL=function(e,r){var s=r?gb:mb;return oP(e,r,s)},nH=function(e,r){return{left:e.left-r,top:e.top-r,right:e.right+r*2,bottom:e.bottom+r*2,width:e.width+r,height:e.height+r}},rH=function(e,r){return ns(r,function(s){var f=nH(Sh(s.getBoundingClientRect()),-1);return[{x:f.left,y:e(f),cell:s},{x:f.right,y:e(f),cell:s}]})},aH=function(e,r,s){return xr(e,function(f,h){return f.fold(function(){return Ee.some(h)},function(b){var E=Math.sqrt(Math.abs(b.x-r)+Math.abs(b.y-s)),O=Math.sqrt(Math.abs(h.x-r)+Math.abs(h.y-s));return Ee.some(O<E?h:b)})},Ee.none())},FL=function(e,r,s,f,h){var b=bu(Z.fromDom(s),"td,th,caption").map(function(O){return O.dom}),E=pn(rH(e,b),function(O){return r(O,h)});return aH(E,f,h).map(function(O){return O.cell})},iH=function(e){return e.bottom},oH=function(e){return e.top},sH=function(e,r){return e.y<r},uH=function(e,r){return e.y>r},lH=Ce(FL,iH,sH),cH=Ce(FL,oH,uH),fH=function(e,r){return Xi(r.getClientRects()).bind(function(s){return lH(e,s.left,s.top)}).bind(function(s){return aL(h7(s),r)})},dH=function(e,r){return oi(r.getClientRects()).bind(function(s){return cH(e,s.left,s.top)}).bind(function(s){return aL(JR(s),r)})},NL=function(e,r,s){return s.breakAt.exists(function(f){return e(r,f).breakAt.isSome()})},vH=function(e){return e.breakType===yp.Wrap&&e.positions.length===0},hH=function(e){return e.breakType===yp.Br&&e.positions.length===1},bP=function(e,r,s){var f=e(r,s);return vH(f)||!ui(s.getNode())&&hH(f)?!NL(e,r,f):f.breakAt.isNone()},$L=Ce(bP,HE),fO=Ce(bP,VE),zL=function(e,r,s){var f=yt.fromRangeStart(r);return Ua(!e,s).exists(function(h){return h.isEqual(f)})},yP=function(e,r,s,f){var h=e.selection.getRng(),b=r?1:-1;return o_()&&zL(r,h,s)?(Zm(b,e,s,!r,!1).each(function(E){_p(e,E)}),!0):!1},_P=function(e,r,s){return fH(r,s).orThunk(function(){return Xi(s.getClientRects()).bind(function(f){return zE(f7(e,yt.before(r)),f.left)})}).getOr(yt.before(r))},HL=function(e,r,s){return dH(r,s).orThunk(function(){return Xi(s.getClientRects()).bind(function(f){return zE(iL(e,yt.after(r)),f.left)})}).getOr(yt.after(r))},VL=function(e,r){var s=r.getNode(e);return Tr(s)&&s.nodeName==="TABLE"?Ee.some(s):Ee.none()},UL=function(e,r,s,f){var h=yu(r);h?r.undoManager.transact(function(){var b=Z.fromTag(h);re(b,Hg(r)),ps(b,Z.fromTag("br")),e?uh(Z.fromDom(s),b):du(Z.fromDom(s),b);var E=r.dom.createRng();E.setStart(b.dom,0),E.setEnd(b.dom,0),_p(r,E)}):_p(r,f.toRange())},X_=function(e,r,s){var f=VL(!!r,s),h=r===!1;f.fold(function(){return _p(e,s.toRange())},function(b){return Ua(h,e.getBody()).filter(function(E){return E.isEqual(s)}).fold(function(){return _p(e,s.toRange())},function(E){return UL(r,e,b,s)})})},WL=function(e,r,s,f){var h=e.selection.getRng(),b=yt.fromRangeStart(h),E=e.getBody();if(!r&&$L(f,b)){var O=_P(E,s,b);return X_(e,r,O),!0}else if(r&&fO(f,b)){var O=HL(E,s,b);return X_(e,r,O),!0}else return!1},dO=function(e,r,s){return Ee.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(f){return Ee.from(e.dom.getParent(f,"table")).map(function(h){return s(e,r,h,f)})}).getOr(!1)},jL=function(e,r){return dO(e,r,yP)},vO=function(e,r){return dO(e,r,WL)},mH=function(e,r,s){var f=qn().os;K_([{keyCode:pr.RIGHT,action:Fa(AL,e,!0)},{keyCode:pr.LEFT,action:Fa(AL,e,!1)},{keyCode:pr.UP,action:Fa(OL,e,!1)},{keyCode:pr.DOWN,action:Fa(OL,e,!0)},{keyCode:pr.RIGHT,action:Fa(jL,e,!0)},{keyCode:pr.LEFT,action:Fa(jL,e,!1)},{keyCode:pr.UP,action:Fa(vO,e,!1)},{keyCode:pr.DOWN,action:Fa(vO,e,!0)},{keyCode:pr.RIGHT,action:Fa(BL,e,!0)},{keyCode:pr.LEFT,action:Fa(BL,e,!1)},{keyCode:pr.UP,action:Fa(pP,e,!1)},{keyCode:pr.DOWN,action:Fa(pP,e,!0)},{keyCode:pr.RIGHT,action:Fa(aO,e,r,!0)},{keyCode:pr.LEFT,action:Fa(aO,e,r,!1)},{keyCode:pr.RIGHT,ctrlKey:!f.isOSX(),altKey:f.isOSX(),action:Fa(k7,e,r)},{keyCode:pr.LEFT,ctrlKey:!f.isOSX(),altKey:f.isOSX(),action:Fa(T7,e,r)},{keyCode:pr.UP,action:Fa(IL,e,!1)},{keyCode:pr.DOWN,action:Fa(IL,e,!0)}],s).each(function(h){s.preventDefault()})},gH=function(e,r){e.on("keydown",function(s){s.isDefaultPrevented()===!1&&mH(e,r,s)})},pH=function(e,r,s){K_([{keyCode:pr.BACKSPACE,action:Fa(fP,e,!1)},{keyCode:pr.BACKSPACE,action:Fa(GA,e,!1)},{keyCode:pr.DELETE,action:Fa(GA,e,!0)},{keyCode:pr.BACKSPACE,action:Fa(BE,e,!1)},{keyCode:pr.DELETE,action:Fa(BE,e,!0)},{keyCode:pr.BACKSPACE,action:Fa(oO,e,r,!1)},{keyCode:pr.DELETE,action:Fa(oO,e,r,!0)},{keyCode:pr.BACKSPACE,action:Fa(dA,e,!1)},{keyCode:pr.DELETE,action:Fa(dA,e,!0)},{keyCode:pr.BACKSPACE,action:Fa(EC,e,!1)},{keyCode:pr.DELETE,action:Fa(EC,e,!0)},{keyCode:pr.BACKSPACE,action:Fa(lO,e,!1)},{keyCode:pr.DELETE,action:Fa(lO,e,!0)},{keyCode:pr.BACKSPACE,action:Fa(W_,e,!1)},{keyCode:pr.DELETE,action:Fa(W_,e,!0)},{keyCode:pr.BACKSPACE,action:Fa(WA,e,!1)},{keyCode:pr.DELETE,action:Fa(WA,e,!0)},{keyCode:pr.BACKSPACE,action:Fa(sO,e,!1)},{keyCode:pr.DELETE,action:Fa(sO,e,!0)}],s).each(function(f){s.preventDefault()})},bH=function(e,r){K_([{keyCode:pr.BACKSPACE,action:Fa(j4,e)},{keyCode:pr.DELETE,action:Fa(j4,e)}],r)},yH=function(e,r){e.on("keydown",function(s){s.isDefaultPrevented()===!1&&pH(e,r,s)}),e.on("keyup",function(s){s.isDefaultPrevented()===!1&&bH(e,s)})},_H=function(e){for(;e;){if(e.nodeType===1||e.nodeType===3&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},OC=function(e,r){var s,f=r,h=e.dom,b=e.schema.getMoveCaretBeforeOnEnterElements();if(r){if(/^(LI|DT|DD)$/.test(r.nodeName)){var E=_H(r.firstChild);E&&/^(UL|OL|DL)$/.test(E.nodeName)&&r.insertBefore(h.doc.createTextNode(cs),r.firstChild)}var O=h.createRng();if(r.normalize(),r.hasChildNodes()){for(var R=new Wa(r,r);s=R.current();){if(Rn(s)){O.setStart(s,0),O.setEnd(s,0);break}if(b[s.nodeName.toLowerCase()]){O.setStartBefore(s),O.setEndBefore(s);break}f=s,s=R.next()}s||(O.setStart(f,0),O.setEnd(f,0))}else ui(r)?r.nextSibling&&h.isBlock(r.nextSibling)?(O.setStartBefore(r),O.setEndBefore(r)):(O.setStartAfter(r),O.setEndAfter(r)):(O.setStart(r,0),O.setEnd(r,0));e.selection.setRng(O),__(e,O)}},DC=function(e,r){var s=e.getRoot(),f,h;for(f=r;f!==s&&e.getContentEditable(f)!=="false";)e.getContentEditable(f)==="true"&&(h=f),f=f.parentNode;return f!==s?h:s},wP=function(e){return Ee.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},xP=function(e){return wP(e).fold(Y(""),function(r){return r.nodeName.toUpperCase()})},wH=function(e){return wP(e).filter(function(r){return Ns(Z.fromDom(r))}).isSome()},YL=function(e,r){return e.firstChild&&e.firstChild.nodeName===r},qL=function(e){var r;return((r=e.parentNode)===null||r===void 0?void 0:r.firstChild)===e},CP=function(e,r){return e&&e.parentNode&&e.parentNode.nodeName===r},SP=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},EP=function(e){return SP(e)&&SP(e.parentNode)},qE=function(e){var r=e.parentNode;return/^(LI|DT|DD)$/.test(r.nodeName)?r:e},hO=function(e,r,s){for(var f=e[s?"firstChild":"lastChild"];f&&!Tr(f);)f=f[s?"nextSibling":"previousSibling"];return f===r},xH=function(e,r,s,f,h){var b=e.dom,E=e.selection.getRng();if(s!==e.getBody()){EP(s)&&(h="LI");var O=h?r(h):b.create("BR");if(hO(s,f,!0)&&hO(s,f,!1))if(CP(s,"LI")){var R=qE(s);b.insertAfter(O,R),qL(s)?b.remove(R):b.remove(s)}else b.replace(O,s);else if(hO(s,f,!0))CP(s,"LI")?(b.insertAfter(O,qE(s)),O.appendChild(b.doc.createTextNode(" ")),O.appendChild(s)):s.parentNode.insertBefore(O,s),b.remove(f);else if(hO(s,f,!1))b.insertAfter(O,qE(s)),b.remove(f);else{s=qE(s);var W=E.cloneRange();W.setStartAfter(f),W.setEndAfter(s);var ne=W.extractContents();h==="LI"&&YL(ne,"LI")?(O=ne.firstChild,b.insertAfter(ne,s)):(b.insertAfter(ne,s),b.insertAfter(O,s)),b.remove(f)}OC(e,O)}},mO=function(e){vt(Bg(Z.fromDom(e),to),function(r){var s=r.dom;s.nodeValue=Go(s.nodeValue)})},CH=function(e,r){return r&&r.nodeName==="A"&&e.isEmpty(r)},SH=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},kP=function(e){e.innerHTML='<br data-mce-bogus="1">'},gO=function(e,r){return e.nodeName===r||e.previousSibling&&e.previousSibling.nodeName===r},GL=function(e,r){return r&&e.isBlock(r)&&!/^(TD|TH|CAPTION|FORM)$/.test(r.nodeName)&&!/^(fixed|absolute)/i.test(r.style.position)&&e.getContentEditable(r)!=="true"},EH=function(e,r,s){var f=s,h=[],b;if(f){for(;f=f.firstChild;){if(e.isBlock(f))return;Tr(f)&&!r[f.nodeName.toLowerCase()]&&h.push(f)}for(b=h.length;b--;)f=h[b],(!f.hasChildNodes()||f.firstChild===f.lastChild&&f.firstChild.nodeValue===""||CH(e,f))&&e.remove(f)}},Gf=function(e,r,s){return Rn(r)===!1?s:e?s===1&&r.data.charAt(s-1)===Je?0:s:s===r.data.length-1&&r.data.charAt(s)===Je?r.data.length:s},kH=function(e){var r=e.cloneRange();return r.setStart(e.startContainer,Gf(!0,e.startContainer,e.startOffset)),r.setEnd(e.endContainer,Gf(!1,e.endContainer,e.endOffset)),r},TP=function(e){do Rn(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)},AP=function(e,r){var s=e.getRoot(),f,h;for(f=r;f!==s&&e.getContentEditable(f)!=="false";)e.getContentEditable(f)==="true"&&(h=f),f=f.parentNode;return f!==s?h:s},OP=function(e,r,s){var f=e.dom;Ee.from(s.style).map(f.parseStyle).each(function(R){var W=po(Z.fromDom(r)),ne=Kn(Kn({},W),R);f.setStyles(r,ne)});var h=Ee.from(s.class).map(function(R){return R.split(/\s+/)}),b=Ee.from(r.className).map(function(R){return pn(R.split(/\s+/),function(W){return W!==""})});Mu(h,b,function(R,W){var ne=pn(W,function(ce){return!kt(R,ce)}),ae=Ps(Ps([],R,!0),ne,!0);f.setAttrib(r,"class",ae.join(" "))});var E=["style","class"],O=Pi(s,function(R,W){return!kt(E,W)});f.setAttribs(r,O)},GE=function(e,r){var s=yu(e);if(s&&s.toLowerCase()===r.tagName.toLowerCase()){var f=Hg(e);OP(e,r,f)}},TH=function(e,r,s,f,h){var b,E,O,R,W,ne,ae=r||"P",ce=e.dom,we=AP(ce,f);if(E=ce.getParent(f,ce.isBlock),!E||!GL(ce,E)){if(E=E||we,E===e.getBody()||SH(E)?ne=E.nodeName.toLowerCase():ne=E.parentNode.nodeName.toLowerCase(),!E.hasChildNodes())return b=ce.create(ae),GE(e,b),E.appendChild(b),s.setStart(b,0),s.setEnd(b,0),b;for(R=f;R.parentNode!==E;)R=R.parentNode;for(;R&&!ce.isBlock(R);)O=R,R=R.previousSibling;if(O&&e.schema.isValidChild(ne,ae.toLowerCase())){for(b=ce.create(ae),GE(e,b),O.parentNode.insertBefore(b,O),R=O;R&&!ce.isBlock(R);)W=R.nextSibling,b.appendChild(R),R=W;s.setStart(f,h),s.setEnd(f,h)}}return f},KL=function(e,r){r.normalize();var s=r.lastChild;(!s||/^(left|right)$/gi.test(e.getStyle(s,"float",!0)))&&e.add(r,"br")},AH=function(e,r){var s,f,h,b,E,O,R,W,ne,ae,ce=e.dom,we=e.schema,Se=we.getNonEmptyElements(),Ae=e.selection.getRng(),De=function(Bt){var en=f,gr,In,Wt,hr=we.getTextInlineElements();if(Bt||W==="TABLE"||W==="HR"?gr=ce.create(Bt||ne):gr=b.cloneNode(!1),Wt=gr,$S(e)===!1)ce.setAttrib(gr,"style",null),ce.setAttrib(gr,"class",null);else do if(hr[en.nodeName]){if(dl(en)||Gc(en))continue;In=en.cloneNode(!1),ce.setAttrib(In,"id",""),gr.hasChildNodes()?(In.appendChild(gr.firstChild),gr.appendChild(In)):(Wt=In,gr.appendChild(In))}while((en=en.parentNode)&&en!==je);return GE(e,gr),kP(Wt),gr},Ve=function(Bt){var en,gr,In=Gf(Bt,f,h);if(Rn(f)&&(Bt?In>0:In<f.nodeValue.length))return!1;if(f.parentNode===b&&ae&&!Bt||Bt&&Tr(f)&&f===b.firstChild)return!0;if(gO(f,"TABLE")||gO(f,"HR"))return ae&&!Bt||!ae&&Bt;var Wt=new Wa(f,b);for(Rn(f)&&(Bt&&In===0?Wt.prev():!Bt&&In===f.nodeValue.length&&Wt.next());en=Wt.current();){if(Tr(en)){if(!en.getAttribute("data-mce-bogus")&&(gr=en.nodeName.toLowerCase(),Se[gr]&&gr!=="br"))return!1}else if(Rn(en)&&!zc(en.nodeValue))return!1;Bt?Wt.prev():Wt.next()}return!0},Ne=function(){/^(H[1-6]|PRE|FIGURE)$/.test(W)&&ht!=="HGROUP"?E=De(ne):E=De(),h0(e)&&GL(ce,R)&&ce.isEmpty(b)?E=ce.split(R,b):ce.insertAfter(E,b),OC(e,E)};$x(ce,Ae).each(function(Bt){Ae.setStart(Bt.startContainer,Bt.startOffset),Ae.setEnd(Bt.endContainer,Bt.endOffset)}),f=Ae.startContainer,h=Ae.startOffset,ne=yu(e);var ft=!!(r&&r.shiftKey),ot=!!(r&&r.ctrlKey);Tr(f)&&f.hasChildNodes()&&(ae=h>f.childNodes.length-1,f=f.childNodes[Math.min(h,f.childNodes.length-1)]||f,ae&&Rn(f)?h=f.nodeValue.length:h=0);var je=AP(ce,f);if(je){(ne&&!ft||!ne&&ft)&&(f=TH(e,ne,Ae,f,h)),b=ce.getParent(f,ce.isBlock),R=b?ce.getParent(b.parentNode,ce.isBlock):null,W=b?b.nodeName.toUpperCase():"";var ht=R?R.nodeName.toUpperCase():"";if(ht==="LI"&&!ot&&(b=R,R=R.parentNode,W=ht),/^(LI|DT|DD)$/.test(W)&&ce.isEmpty(b)){xH(e,De,R,b,ne);return}ne&&b===e.getBody()||(ne=ne||"P",Ci(b)?(E=o1(b),ce.isEmpty(b)&&kP(b),GE(e,E),OC(e,E)):Ve()?Ne():Ve(!0)?(E=b.parentNode.insertBefore(De(),b),OC(e,gO(b,"HR")?E:b)):(s=kH(Ae).cloneRange(),s.setEndAfter(b),O=s.extractContents(),mO(O),TP(O),E=O.firstChild,ce.insertAfter(O,b),EH(ce,Se,E),KL(ce,b),ce.isEmpty(b)&&kP(b),E.normalize(),ce.isEmpty(E)?(ce.remove(E),Ne()):(GE(e,E),OC(e,E))),ce.setAttrib(E,"id",""),e.fire("NewBlock",{newBlock:E}))}},OH=function(e,r,s){for(var f=new Wa(r,s),h,b=e.getNonEmptyElements();h=f.next();)if(b[h.nodeName.toLowerCase()]||h.length>0)return!0},XL=function(e,r,s){var f=e.dom.createRng();s?(f.setStartBefore(r),f.setEndBefore(r)):(f.setStartAfter(r),f.setEndAfter(r)),e.selection.setRng(f),__(e,f)},DH=function(e,r){var s=e.selection,f=e.dom,h=s.getRng(),b,E;$x(f,h).each(function(Se){h.setStart(Se.startContainer,Se.startOffset),h.setEnd(Se.endContainer,Se.endOffset)});var O=h.startOffset,R=h.startContainer;if(R.nodeType===1&&R.hasChildNodes()){var W=O>R.childNodes.length-1;R=R.childNodes[Math.min(O,R.childNodes.length-1)]||R,W&&R.nodeType===3?O=R.nodeValue.length:O=0}var ne=f.getParent(R,f.isBlock),ae=ne?f.getParent(ne.parentNode,f.isBlock):null,ce=ae?ae.nodeName.toUpperCase():"",we=!!(r&&r.ctrlKey);ce==="LI"&&!we&&(ne=ae),R&&R.nodeType===3&&O>=R.nodeValue.length&&(OH(e.schema,R,ne)||(b=f.create("br"),h.insertNode(b),h.setStartAfter(b),h.setEndAfter(b),E=!0)),b=f.create("br"),Im(f,h,b),XL(e,b,E),e.undoManager.add()},MH=function(e,r){var s=Z.fromTag("br");du(Z.fromDom(r),s),e.undoManager.add()},RH=function(e,r){IH(e.getBody(),r)||uh(Z.fromDom(r),Z.fromTag("br"));var s=Z.fromTag("br");uh(Z.fromDom(r),s),XL(e,s.dom,!1),e.undoManager.add()},PH=function(e){return ui(e.getNode())},IH=function(e,r){return PH(yt.after(r))?!0:vs(e,yt.after(r)).map(function(s){return ui(s.getNode())}).getOr(!1)},ZL=function(e){return e&&e.nodeName==="A"&&"href"in e},kc=function(e){return e.fold(dt,ZL,ZL,dt)},BH=function(e){var r=Ce(Mb,e),s=yt.fromRangeStart(e.selection.getRng());return Zv(r,e.getBody(),s).filter(kc)},LH=function(e,r){r.fold(ve,Ce(MH,e),Ce(RH,e),ve)},JL=function(e,r){var s=BH(e);s.isSome()?s.each(Ce(LH,e)):DH(e,r)},yf=function(e,r){return wP(e).filter(function(s){return r.length>0&&On(Z.fromDom(s),r)}).isSome()},FH=function(e){return yf(e,Vg(e))},QL=function(e){return yf(e,sx(e))},av=Jn.generate([{br:[]},{block:[]},{none:[]}]),MC=function(e,r){return QL(e)},DP=function(e){return function(r,s){var f=yu(r)==="";return f===e}},eF=function(e){return function(r,s){return wH(r)===e}},pO=function(e,r){return function(s,f){var h=xP(s)===e.toUpperCase();return h===r}},bO=function(e){return pO("pre",e)},NH=function(){return pO("summary",!0)},yO=function(e){return function(r,s){return qy(r)===e}},$H=function(e,r){return FH(e)},KE=function(e,r){return r},tF=function(e){var r=yu(e),s=DC(e.dom,e.selection.getStart());return s&&e.schema.isValidChild(s.nodeName,r||"P")},Kf=function(e,r){return function(s,f){var h=xr(e,function(b,E){return b&&E(s,f)},!0);return h?Ee.some(r):Ee.none()}},nF=function(e,r){return Xv([Kf([MC],av.none()),Kf([NH()],av.br()),Kf([bO(!0),yO(!1),KE],av.br()),Kf([bO(!0),yO(!1)],av.block()),Kf([bO(!0),yO(!0),KE],av.block()),Kf([bO(!0),yO(!0)],av.br()),Kf([eF(!0),KE],av.br()),Kf([eF(!0)],av.block()),Kf([DP(!0),KE,tF],av.block()),Kf([DP(!0)],av.br()),Kf([$H],av.br()),Kf([DP(!1),KE],av.br()),Kf([tF],av.block())],[e,!!(r&&r.shiftKey)]).getOr(av.none())},rF=function(e,r){nF(e,r).fold(function(){JL(e,r)},function(){AH(e,r)},ve)},zH=function(e,r){r.isDefaultPrevented()||(r.preventDefault(),o8(e.undoManager),e.undoManager.transact(function(){e.selection.isCollapsed()===!1&&e.execCommand("Delete"),rF(e,r)}))},HH=function(e){e.on("keydown",function(r){r.keyCode===pr.ENTER&&zH(e,r)})},VH=function(e,r,s){K_([{keyCode:pr.END,action:Fa(DL,e,!0)},{keyCode:pr.HOME,action:Fa(DL,e,!1)},{keyCode:pr.END,action:Fa(LL,e,!0)},{keyCode:pr.HOME,action:Fa(LL,e,!1)},{keyCode:pr.END,action:Fa(iO,e,!0,r)},{keyCode:pr.HOME,action:Fa(iO,e,!1,r)}],s).each(function(f){s.preventDefault()})},UH=function(e,r){e.on("keydown",function(s){s.isDefaultPrevented()===!1&&VH(e,r,s)})},MP=qn().browser,aF=function(e){var r=M1(function(){e.composing||oE(e)},0);MP.isIE()&&(e.on("keypress",function(s){r.throttle()}),e.on("remove",function(s){r.cancel()}))},iF=function(e){aF(e),e.on("input",function(r){r.isComposing===!1&&oE(e)})},oF=qn(),WH=function(e,r,s){K_([{keyCode:pr.PAGE_UP,action:Fa(iO,e,!1,r)},{keyCode:pr.PAGE_DOWN,action:Fa(iO,e,!0,r)}],s)},sF=function(e){return e.stopImmediatePropagation()},uF=function(e){return e.keyCode===pr.PAGE_UP||e.keyCode===pr.PAGE_DOWN},lF=function(e,r,s){s&&!e.get()?r.on("NodeChange",sF,!0):!s&&e.get()&&r.off("NodeChange",sF),e.set(s)},jH=function(e,r){if(!oF.os.isOSX()){var s=Pl(!1);e.on("keydown",function(f){uF(f)&&lF(s,e,!0)}),e.on("keyup",function(f){f.isDefaultPrevented()===!1&&WH(e,r,f),uF(f)&&s.get()&&(lF(s,e,!1),e.nodeChanged())})}},cF=function(e,r){var s=r.container(),f=r.offset();return Rn(s)?(s.insertData(f,e),Ee.some(yt(s,f+e.length))):Z1(r).map(function(h){var b=Z.fromText(e);return r.isAtEnd()?uh(h,b):du(h,b),yt(b.dom,e.length)})},fF=Ce(cF,cs),YH=Ce(cF," "),qH=function(e){return function(r){return r.fold(function(s){return es(e.dom,yt.before(s))},function(s){return io(s)},function(s){return zi(s)},function(s){return vs(e.dom,yt.after(s))})}},GH=function(e,r){return function(s){return EM(e,s)?fF(r):YH(r)}},KH=function(e){return function(r){return e.selection.setRng(r.toRange()),e.nodeChanged(),!0}},dF=function(e){var r=yt.fromRangeStart(e.selection.getRng()),s=Z.fromDom(e.getBody());if(e.selection.isCollapsed()){var f=Ce(Mb,e),h=yt.fromRangeStart(e.selection.getRng());return Zv(f,e.getBody(),h).bind(qH(s)).bind(GH(s,r)).exists(KH(e))}else return!1},XH=function(e,r){K_([{keyCode:pr.SPACEBAR,action:Fa(dF,e)}],r).each(function(s){r.preventDefault()})},ZH=function(e){e.on("keydown",function(r){r.isDefaultPrevented()===!1&&XH(e,r)})},JH=function(e){var r=E7(e);return kL(e),gH(e,r),yH(e,r),HH(e),ZH(e),iF(e),UH(e,r),jH(e,r),r},QH=function(e){return I0(e)?Pl(null):JH(e)},vF=function(){function e(r){this.lastPath=[],this.editor=r;var s,f=this;"onselectionchange"in r.getDoc()||r.on("NodeChange click mouseup keyup focus",function(h){var b=r.selection.getRng(),E={startContainer:b.startContainer,startOffset:b.startOffset,endContainer:b.endContainer,endOffset:b.endOffset};(h.type==="nodechange"||!A2(E,s))&&r.fire("SelectionChange"),s=E}),r.on("contextmenu",function(){r.fire("SelectionChange")}),r.on("SelectionChange",function(){var h=r.selection.getStart(!0);!h||!rr.range&&r.selection.isCollapsed()||op(r)&&!f.isSameElementPath(h)&&r.dom.isChildOf(h,r.getBody())&&r.nodeChanged({selectionChange:!0})}),r.on("mouseup",function(h){!h.isDefaultPrevented()&&op(r)&&(r.selection.getNode().nodeName==="IMG"?mu.setEditorTimeout(r,function(){r.nodeChanged()}):r.nodeChanged())})}return e.prototype.nodeChanged=function(r){var s=this.editor.selection,f,h,b;this.editor.initialized&&s&&!qS(this.editor)&&!this.editor.mode.isReadOnly()&&(b=this.editor.getBody(),f=s.getStart(!0)||b,(f.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(f,b))&&(f=b),h=[],this.editor.dom.getParent(f,function(E){if(E===b)return!0;h.push(E)}),r=r||{},r.element=f,r.parents=h,this.editor.fire("NodeChange",r))},e.prototype.isSameElementPath=function(r){var s,f=this.editor.$(r).parentsUntil(this.editor.getBody()).add(r);if(f.length===this.lastPath.length){for(s=f.length;s>=0&&f[s]===this.lastPath[s];s--);if(s===-1)return this.lastPath=f,!0}return this.lastPath=f,!1},e}(),_O=function(e){e.on("click",function(r){e.dom.getParent(r.target,"details")&&r.preventDefault()})},hF=function(e){e.parser.addNodeFilter("details",function(r){vt(r,function(s){s.attr("data-mce-open",s.attr("open")),s.attr("open","open")})}),e.serializer.addNodeFilter("details",function(r){vt(r,function(s){var f=s.attr("data-mce-open");s.attr("open",Te(f)?f:null),s.attr("data-mce-open",null)})})},mF=function(e){_O(e),hF(e)},gF=function(e){return Tr(e)&&ad(Z.fromDom(e))},e9=function(e){var r=e.selection.getRng(),s=yt.fromRangeStart(r),f=yt.fromRangeEnd(r);if(yt.isElementPosition(s)){var h=s.container();gF(h)&&io(h).each(function(b){return r.setStart(b.container(),b.offset())})}if(yt.isElementPosition(f)){var h=s.container();gF(h)&&zi(h).each(function(E){return r.setEnd(E.container(),E.offset())})}e.selection.setRng(IM(r))},RP=function(e){e.on("click",function(r){r.detail>=3&&e9(e)})},pF=function(e){var r=e.getBoundingClientRect(),s=e.ownerDocument,f=s.documentElement,h=s.defaultView;return{top:r.top+h.pageYOffset-f.clientTop,left:r.left+h.pageXOffset-f.clientLeft}},t9=function(e){return e.inline?pF(e.getBody()):{left:0,top:0}},n9=function(e){var r=e.getBody();return e.inline?{left:r.scrollLeft,top:r.scrollTop}:{left:0,top:0}},r9=function(e){var r=e.getBody(),s=e.getDoc().documentElement,f={left:r.scrollLeft,top:r.scrollTop},h={left:r.scrollLeft||s.scrollLeft,top:r.scrollTop||s.scrollTop};return e.inline?f:h},Qh=function(e,r){if(r.target.ownerDocument!==e.getDoc()){var s=pF(e.getContentAreaContainer()),f=r9(e);return{left:r.pageX-s.left+f.left,top:r.pageY-s.top+f.top}}return{left:r.pageX,top:r.pageY}},bF=function(e,r,s){return{pageX:s.left-e.left+r.left,pageY:s.top-e.top+r.top}},yF=function(e,r){return bF(t9(e),n9(e),Qh(e,r))},wO=Zi,a9=Df,i9=function(e,r){return wO(r)&&r!==e},o9=function(e,r,s){return r===s||e.dom.isChildOf(r,s)?!1:!wO(r)},s9=function(e){var r=e.cloneNode(!0);return r.removeAttribute("data-mce-selected"),r},u9=function(e,r,s,f){var h=e.dom,b=r.cloneNode(!0);h.setStyles(b,{width:s,height:f}),h.setAttrib(b,"data-mce-selected",null);var E=h.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return h.setStyles(E,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:s,height:f}),h.setStyles(b,{margin:0,boxSizing:"border-box"}),E.appendChild(b),E},l9=function(e,r){e.parentNode!==r&&r.appendChild(e)},PP=function(e,r,s,f,h,b){var E=0,O=0;e.style.left=r.pageX+"px",e.style.top=r.pageY+"px",r.pageX+s>h&&(E=r.pageX+s-h),r.pageY+f>b&&(O=r.pageY+f-b),e.style.width=s-E+"px",e.style.height=f-O+"px"},_F=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},c9=function(e){return e.button===0},wF=function(e,r){return{pageX:r.pageX-e.relX,pageY:r.pageY+5}},f9=function(e,r){return function(s){if(c9(s)){var f=ba(r.dom.getParents(s.target),MS(wO,a9)).getOr(null);if(i9(r.getBody(),f)){var h=r.dom.getPos(f),b=r.getBody(),E=r.getDoc().documentElement;e.set({element:f,dragging:!1,screenX:s.screenX,screenY:s.screenY,maxX:(r.inline?b.scrollWidth:E.offsetWidth)-2,maxY:(r.inline?b.scrollHeight:E.offsetHeight)-2,relX:s.pageX-h.x,relY:s.pageY-h.y,width:f.offsetWidth,height:f.offsetHeight,ghost:u9(r,f,f.offsetWidth,f.offsetHeight)})}}}},d9=function(e,r){var s=mu.throttle(function(f,h){r._selectionOverrides.hideFakeCaret(),r.selection.placeCaretAt(f,h)},0);return r.on("remove",s.stop),function(f){return e.on(function(h){var b=Math.max(Math.abs(f.screenX-h.screenX),Math.abs(f.screenY-h.screenY));if(!h.dragging&&b>10){var E=r.fire("dragstart",{target:h.element});if(E.isDefaultPrevented())return;h.dragging=!0,r.focus()}if(h.dragging){var O=wF(h,yF(r,f));l9(h.ghost,r.getBody()),PP(h.ghost,O,h.width,h.height,h.maxX,h.maxY),s(f.clientX,f.clientY)}})}},v9=function(e){var r=e.getSel().getRangeAt(0),s=r.startContainer;return s.nodeType===3?s.parentNode:s},h9=function(e,r){return function(s){e.on(function(f){if(f.dragging){if(o9(r,v9(r.selection),f.element)){var h=s9(f.element),b=r.fire("drop",{clientX:s.clientX,clientY:s.clientY});b.isDefaultPrevented()||r.undoManager.transact(function(){_F(f.element),r.insertContent(r.dom.getOuterHTML(h)),r._selectionOverrides.hideFakeCaret()})}r.fire("dragend")}}),xF(e)}},m9=function(e,r){return function(){e.on(function(s){s.dragging&&r.fire("dragend")}),xF(e)}},xF=function(e){e.on(function(r){_F(r.ghost)}),e.clear()},IP=function(e){var r=xh(),s=Wi.DOM,f=document,h=f9(r,e),b=d9(r,e),E=h9(r,e),O=m9(r,e);e.on("mousedown",h),e.on("mousemove",b),e.on("mouseup",E),s.bind(f,"mousemove",b),s.bind(f,"mouseup",O),e.on("remove",function(){s.unbind(f,"mousemove",b),s.unbind(f,"mouseup",O)}),e.on("keydown",function(R){R.keyCode===pr.ESC&&O()})},g9=function(e){e.on("drop",function(r){var s=typeof r.clientX<"u"?e.getDoc().elementFromPoint(r.clientX,r.clientY):null;(wO(s)||e.dom.getContentEditableParent(s)==="false")&&r.preventDefault()})},CF=function(e){var r=function(h){if(!h.isDefaultPrevented()){var b=h.dataTransfer;b&&(kt(b.types,"Files")||b.files.length>0)&&(h.preventDefault(),h.type==="drop"&&$A(e,"Dropped file type is not supported"))}},s=function(h){Yx(e,h.target)&&r(h)},f=function(){var h=Wi.DOM,b=e.dom,E=document,O=e.inline?e.getBody():e.getDoc(),R=["drop","dragover"];vt(R,function(W){h.bind(E,W,s),b.bind(O,W,r)}),e.on("remove",function(){vt(R,function(W){h.unbind(E,W,s),b.unbind(O,W,r)})})};e.on("init",function(){mu.setEditorTimeout(e,f,0)})},p9=function(e){IP(e),g9(e),jg(e)&&CF(e)},b9=function(e){var r=M1(function(){if(!e.removed&&e.getBody().contains(document.activeElement)){var s=e.selection.getRng();if(s.collapsed){var f=Bb(e,s,!1);e.selection.setRng(f)}}},0);e.on("focus",function(){r.throttle()}),e.on("blur",function(){r.cancel()})},y9=function(e){e.on("init",function(){e.on("focusin",function(r){var s=r.target;if(Du(s)){var f=C0(e.getBody(),s),h=Zi(f)?f:s;e.selection.getNode()!==h&&j_(e,h).each(function(b){return e.selection.setRng(b)})}})})},SF=Df,ms=Zi,xO=function(e,r){return C0(e.getBody(),r)},_9=function(e){var r=e.selection,s=e.dom,f=s.isBlock,h=e.getBody(),b=fl(e,h,f,function(){return bd(e)}),E="sel-"+s.uniqueId(),O="data-mce-selected",R,W=function(Wt){return s.hasClass(Wt,"mce-offscreen-selection")},ne=function(Wt){return Wt!==h&&(ms(Wt)||Du(Wt))&&s.isChildOf(Wt,h)},ae=function(Wt){return tv(Wt)||mp(Wt)||mb(Wt)||gb(Wt)},ce=function(){var Wt=s.get(E);return Wt&&Wt.getElementsByTagName("*")[0]},we=function(Wt){Wt&&r.setRng(Wt)},Se=r.getRng,Ae=function(Wt,hr,on,Mn){Mn===void 0&&(Mn=!0);var cn=e.fire("ShowCaret",{target:hr,direction:Wt,before:on});return cn.isDefaultPrevented()?null:(Mn&&r.scrollIntoView(hr,Wt===-1),b.show(on,hr))},De=function(Wt){Wt.hasAttribute("data-mce-caret")&&(o1(Wt),we(Se()),r.scrollIntoView(Wt))},Ve=function(){e.on("mouseup",function(cn){var yn=Se();yn.collapsed&&B0(e,cn.clientX,cn.clientY)&&VR(e,yn,!1).each(we)}),e.on("click",function(cn){var yn=xO(e,cn.target);yn&&(ms(yn)&&(cn.preventDefault(),e.focus()),SF(yn)&&s.isChildOf(yn,r.getNode())&&en())}),e.on("blur NewBlock",en),e.on("ResizeWindow FullscreenStateChanged",b.reposition);var Wt=function(cn){var yn=cn.firstChild;if(lt(yn))return!1;var Hn=yt.before(yn);if(ui(Hn.getNode())&&cn.childNodes.length===1)return!ae(Hn);var Gt=it(cn),Ln=Gt.next(Hn);return Ln&&!ae(Ln)},hr=function(cn,yn){var Hn=s.getParent(cn,f),Gt=s.getParent(yn,f);return Hn===Gt},on=function(cn,yn){var Hn=s.getParent(cn,f),Gt=s.getParent(yn,f);return lt(Hn)?!1:cn!==Gt&&s.isChildOf(Hn,Gt)&&ms(xO(e,Hn))===!1?!0:!s.isChildOf(Gt,Hn)&&!hr(Hn,Gt)&&Wt(Hn)};e.on("tap",function(cn){var yn=cn.target,Hn=xO(e,yn);ms(Hn)?(cn.preventDefault(),j_(e,Hn).each(Bt)):ne(yn)&&j_(e,yn).each(Bt)},!0),e.on("mousedown",function(cn){var yn=cn.target;if(!(yn!==h&&yn.nodeName!=="HTML"&&!s.isChildOf(yn,h))&&B0(e,cn.clientX,cn.clientY)!==!1){var Hn=xO(e,yn);if(Hn)ms(Hn)?(cn.preventDefault(),j_(e,Hn).each(Bt)):(en(),!(SF(Hn)&&cn.shiftKey)&&!S0(cn.clientX,cn.clientY,r.getRng())&&(In(),r.placeCaretAt(cn.clientX,cn.clientY)));else if(ne(yn))j_(e,yn).each(Bt);else if($m(yn)===!1){en(),In();var Gt=rP(h,cn.clientX,cn.clientY);if(Gt&&!on(yn,Gt.node)){cn.preventDefault();var Ln=Ae(1,Gt.node,Gt.before,!1);we(Ln),e.getBody().focus()}}}}),e.on("keypress",function(cn){pr.modifierPressed(cn)||ms(r.getNode())&&cn.preventDefault()}),e.on("GetSelectionRange",function(cn){var yn=cn.range;if(R){if(!R.parentNode){R=null;return}yn=yn.cloneRange(),yn.selectNode(R),cn.range=yn}}),e.on("SetSelectionRange",function(cn){cn.range=ot(cn.range);var yn=Bt(cn.range,cn.forward);yn&&(cn.range=yn)});var Mn=function(cn){return cn.id==="mcepastebin"};e.on("AfterSetSelectionRange",function(cn){var yn=cn.range,Hn=yn.startContainer.parentNode;!ft(yn)&&!Mn(Hn)&&In(),W(Hn)||en()}),e.on("copy",function(cn){var yn=cn.clipboardData;if(!cn.isDefaultPrevented()&&cn.clipboardData&&!rr.ie){var Hn=ce();Hn&&(cn.preventDefault(),yn.clearData(),yn.setData("text/html",Hn.outerHTML),yn.setData("text/plain",Hn.outerText||Hn.innerText))}}),p9(e),b9(e),y9(e)},Ne=function(Wt){return nl(Wt)||Vp(Wt)||Up(Wt)},ft=function(Wt){return Ne(Wt.startContainer)||Ne(Wt.endContainer)},ot=function(Wt){var hr=e.schema.getShortEndedElements(),on=s.createRng(),Mn=Wt.startContainer,cn=Wt.startOffset,yn=Wt.endContainer,Hn=Wt.endOffset;return Ur(hr,Mn.nodeName.toLowerCase())?cn===0?on.setStartBefore(Mn):on.setStartAfter(Mn):on.setStart(Mn,cn),Ur(hr,yn.nodeName.toLowerCase())?Hn===0?on.setEndBefore(yn):on.setEndAfter(yn):on.setEnd(yn,Hn),on},je=function(Wt,hr,on){var Mn=e.$,cn=yg(Z.fromDom(e.getBody()),"#"+E).fold(function(){return Mn([])},function(Gt){return Mn([Gt.dom])});cn.length===0&&(cn=Mn('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",E),cn.appendTo(e.getBody()));var yn=s.createRng();hr===on&&rr.ie?(cn.empty().append('<p style="font-size: 0" data-mce-bogus="all"> </p>').append(hr),yn.setStartAfter(cn[0].firstChild.firstChild),yn.setEndAfter(hr)):(cn.empty().append(cs).append(hr).append(cs),yn.setStart(cn[0].firstChild,1),yn.setEnd(cn[0].lastChild,0)),cn.css({top:s.getPos(Wt,e.getBody()).y}),cn[0].focus();var Hn=r.getSel();return Hn.removeAllRanges(),Hn.addRange(yn),yn},ht=function(Wt){var hr=Wt.cloneNode(!0),on=e.fire("ObjectSelected",{target:Wt,targetClone:hr});if(on.isDefaultPrevented())return null;var Mn=je(Wt,on.targetClone,hr),cn=Z.fromDom(Wt);return vt(bu(Z.fromDom(e.getBody()),"*[data-mce-selected]"),function(yn){yr(cn,yn)||Et(yn,O)}),s.getAttrib(Wt,O)||Wt.setAttribute(O,"1"),R=Wt,In(),Mn},Bt=function(Wt,hr){if(!Wt)return null;if(Wt.collapsed){if(!ft(Wt)){var on=hr?1:-1,Mn=tp(on,h,Wt),cn=Mn.getNode(!hr);if($m(cn))return Ae(on,cn,hr?!Mn.isAtEnd():!1,!1);var yn=Mn.getNode(hr);if($m(yn))return Ae(on,yn,hr?!1:!Mn.isAtEnd(),!1)}return null}var Hn=Wt.startContainer,Gt=Wt.startOffset,Ln=Wt.endOffset;if(Hn.nodeType===3&&Gt===0&&ms(Hn.parentNode)&&(Hn=Hn.parentNode,Gt=s.nodeIndex(Hn),Hn=Hn.parentNode),Hn.nodeType!==1)return null;if(Ln===Gt+1&&Hn===Wt.endContainer){var va=Hn.childNodes[Gt];if(ne(va))return ht(va)}return null},en=function(){R&&R.removeAttribute(O),yg(Z.fromDom(e.getBody()),"#"+E).each(Nn),R=null},gr=function(){b.destroy(),R=null},In=function(){b.hide()};return rr.ceFalse&&!I0(e)&&Ve(),{showCaret:Ae,showBlockCaretContainer:De,hideFakeCaret:In,destroy:gr}},w9=function(e){var r=Tt.each,s=pr.BACKSPACE,f=pr.DELETE,h=e.dom,b=e.selection,E=e.parser,O=rr.gecko,R=rr.ie,W=rr.webkit,ne="data:text/mce-internal,",ae=R?"Text":"URL",ce=function(Xt,fn){try{e.getDoc().execCommand(Xt,!1,fn)}catch{}},we=function(Xt){return Xt.isDefaultPrevented()},Se=function(Xt){var fn,nr;Xt.dataTransfer&&(e.selection.isCollapsed()&&Xt.target.tagName==="IMG"&&b.select(Xt.target),fn=e.selection.getContent(),fn.length>0&&(nr=ne+escape(e.id)+","+escape(fn),Xt.dataTransfer.setData(ae,nr)))},Ae=function(Xt){var fn;return Xt.dataTransfer&&(fn=Xt.dataTransfer.getData(ae),fn&&fn.indexOf(ne)>=0)?(fn=fn.substr(ne.length).split(","),{id:unescape(fn[0]),html:unescape(fn[1])}):null},De=function(Xt,fn){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:Xt,internal:fn}):e.execCommand("mceInsertContent",!1,Xt)},Ve=function(){var Xt=function(nr){var mt=h.create("body"),an=nr.cloneContents();return mt.appendChild(an),b.serializer.serialize(mt,{format:"html"})},fn=function(nr){var mt=Xt(nr),an=h.createRng();an.selectNode(e.getBody());var Zt=Xt(an);return mt===Zt};e.on("keydown",function(nr){var mt=nr.keyCode,an,Zt;if(!we(nr)&&(mt===f||mt===s)){if(an=e.selection.isCollapsed(),Zt=e.getBody(),an&&!h.isEmpty(Zt)||!an&&!fn(e.selection.getRng()))return;nr.preventDefault(),e.setContent(""),Zt.firstChild&&h.isBlock(Zt.firstChild)?e.selection.setCursorLocation(Zt.firstChild,0):e.selection.setCursorLocation(Zt,0),e.nodeChanged()}})},Ne=function(){e.shortcuts.add("meta+a",null,"SelectAll")},ft=function(){e.inline||h.bind(e.getDoc(),"mousedown mouseup",function(Xt){var fn;if(Xt.target===e.getDoc().documentElement)if(fn=b.getRng(),e.getBody().focus(),Xt.type==="mousedown"){if(nl(fn.startContainer))return;b.placeCaretAt(Xt.clientX,Xt.clientY)}else b.setRng(fn)})},ot=function(){e.on("keydown",function(Xt){if(!we(Xt)&&Xt.keyCode===s){if(!e.getBody().getElementsByTagName("hr").length)return;if(b.isCollapsed()&&b.getRng().startOffset===0){var fn=b.getNode(),nr=fn.previousSibling;if(fn.nodeName==="HR"){h.remove(fn),Xt.preventDefault();return}nr&&nr.nodeName&&nr.nodeName.toLowerCase()==="hr"&&(h.remove(nr),Xt.preventDefault())}}})},je=function(){Range.prototype.getClientRects||e.on("mousedown",function(Xt){if(!we(Xt)&&Xt.target.nodeName==="HTML"){var fn=e.getBody();fn.blur(),mu.setEditorTimeout(e,function(){fn.focus()})}})},ht=function(){e.on("click",function(Xt){var fn=Xt.target;/^(IMG|HR)$/.test(fn.nodeName)&&h.getContentEditableParent(fn)!=="false"&&(Xt.preventDefault(),e.selection.select(fn),e.nodeChanged()),fn.nodeName==="A"&&h.hasClass(fn,"mce-item-anchor")&&(Xt.preventDefault(),b.select(fn))})},Bt=function(){var Xt=function(){var nr=h.getAttribs(b.getStart().cloneNode(!1));return function(){var mt=b.getStart();mt!==e.getBody()&&(h.setAttrib(mt,"style",null),r(nr,function(an){mt.setAttributeNode(an.cloneNode(!0))}))}},fn=function(){return!b.isCollapsed()&&h.getParent(b.getStart(),h.isBlock)!==h.getParent(b.getEnd(),h.isBlock)};e.on("keypress",function(nr){var mt;if(!we(nr)&&(nr.keyCode===8||nr.keyCode===46)&&fn())return mt=Xt(),e.getDoc().execCommand("delete",!1,null),mt(),nr.preventDefault(),!1}),h.bind(e.getDoc(),"cut",function(nr){var mt;!we(nr)&&fn()&&(mt=Xt(),mu.setEditorTimeout(e,function(){mt()}))})},en=function(){e.on("keydown",function(Xt){if(!we(Xt)&&Xt.keyCode===s&&b.isCollapsed()&&b.getRng().startOffset===0){var fn=b.getNode().previousSibling;if(fn&&fn.nodeName&&fn.nodeName.toLowerCase()==="table")return Xt.preventDefault(),!1}})},gr=function(){e.on("keydown",function(Xt){var fn,nr;if(!(we(Xt)||Xt.keyCode!==pr.BACKSPACE)){fn=b.getRng();var mt=fn.startContainer,an=fn.startOffset,Zt=h.getRoot();if(nr=mt,!(!fn.collapsed||an!==0)){for(;nr&&nr.parentNode&&nr.parentNode.firstChild===nr&&nr.parentNode!==Zt;)nr=nr.parentNode;nr.tagName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",null,nr),fn=h.createRng(),fn.setStart(mt,0),fn.setEnd(mt,0),b.setRng(fn))}}})},In=function(){var Xt=function(){ce("StyleWithCSS",!1),ce("enableInlineTableEditing",!1),fx(e)||ce("enableObjectResizing",!1)};GS(e)||e.on("BeforeExecCommand mousedown",Xt)},Wt=function(){var Xt=function(){r(h.select("a"),function(fn){var nr=fn.parentNode,mt=h.getRoot();if(nr.lastChild===fn){for(;nr&&!h.isBlock(nr);){if(nr.parentNode.lastChild!==nr||nr===mt)return;nr=nr.parentNode}h.add(nr,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",function(fn){(fn.type==="setcontent"||fn.command==="mceInsertLink")&&Xt()})},hr=function(){yu(e)&&e.on("init",function(){ce("DefaultParagraphSeparator",yu(e))})},on=function(){e.on("keyup focusin mouseup",function(Xt){pr.modifierPressed(Xt)||b.normalize()},!0)},Mn=function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},cn=function(){e.inline||e.on("keydown",function(){document.activeElement===document.body&&e.getWin().focus()})},yn=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(Xt){var fn;if(Xt.target.nodeName==="HTML"){if(rr.ie>11){e.getBody().focus();return}fn=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(fn),e.selection.normalize(),e.nodeChanged()}}))},Hn=function(){rr.mac&&e.on("keydown",function(Xt){if(pr.metaKeyPressed(Xt)&&!Xt.shiftKey&&(Xt.keyCode===37||Xt.keyCode===39)){Xt.preventDefault();var fn=e.selection.getSel();fn.modify("move",Xt.keyCode===37?"backward":"forward","lineboundary")}})},Gt=function(){ce("AutoUrlDetect",!1)},Ln=function(){e.on("click",function(Xt){var fn=Xt.target;do if(fn.tagName==="A"){Xt.preventDefault();return}while(fn=fn.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},va=function(){e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(Xt){Xt.preventDefault()})})},ai=function(){E.addNodeFilter("br",function(Xt){for(var fn=Xt.length;fn--;)Xt[fn].attr("class")==="Apple-interchange-newline"&&Xt[fn].remove()})},ti=function(){e.on("dragstart",function(Xt){Se(Xt)}),e.on("drop",function(Xt){if(!we(Xt)){var fn=Ae(Xt);if(fn&&fn.id!==e.id){Xt.preventDefault();var nr=T2(Xt.x,Xt.y,e.getDoc());b.setRng(nr),De(fn.html,!0)}}})},gl=ve,No=function(){if(!O||e.removed)return!1;var Xt=e.selection.getSel();return!Xt||!Xt.rangeCount||Xt.rangeCount===0},Zc=function(){W&&(ft(),ht(),va(),Ne(),rr.iOS&&(cn(),yn(),Ln())),O&&(je(),In(),Mn(),Hn())},_f=function(){gr(),Ve(),rr.windowsPhone||on(),W&&(ft(),ht(),hr(),va(),en(),ai(),rr.iOS?(cn(),yn(),Ln()):Ne()),rr.ie>=11&&(yn(),en()),rr.ie&&(Ne(),Gt(),ti()),O&&(ot(),je(),Bt(),In(),Wt(),Mn(),Hn(),en())};return I0(e)?Zc():_f(),{refreshContentEditable:gl,isHidden:No}},CO=Wi.DOM,BP=function(e,r){var s=Z.fromDom(e.getBody()),f=So(Sl(s)),h=Z.fromTag("style");U(h,"type","text/css"),ps(h,Z.fromText(r)),ps(f,h),e.on("remove",function(){Nn(h)})},x9=function(e){return e.inline?e.getElement().nodeName.toLowerCase():void 0},SO=function(e){return Pi(e,function(r){return Oe(r)===!1})},EF=function(e){var r=e.settings;return SO({block_elements:r.block_elements,boolean_attributes:r.boolean_attributes,custom_elements:r.custom_elements,extended_valid_elements:r.extended_valid_elements,invalid_elements:r.invalid_elements,invalid_styles:r.invalid_styles,move_caret_before_on_enter_elements:r.move_caret_before_on_enter_elements,non_empty_elements:r.non_empty_elements,schema:r.schema,self_closing_elements:r.self_closing_elements,short_ended_elements:r.short_ended_elements,special:r.special,text_block_elements:r.text_block_elements,text_inline_elements:r.text_inline_elements,valid_children:r.valid_children,valid_classes:r.valid_classes,valid_elements:r.valid_elements,valid_styles:r.valid_styles,verify_html:r.verify_html,whitespace_elements:r.whitespace_elements,padd_empty_block_inline_children:r.format_empty_lines})},kF=function(e){var r=e.settings,s=e.editorUpload.blobCache;return SO({allow_conditional_comments:r.allow_conditional_comments,allow_html_data_urls:r.allow_html_data_urls,allow_svg_data_urls:r.allow_svg_data_urls,allow_html_in_named_anchor:r.allow_html_in_named_anchor,allow_script_urls:r.allow_script_urls,allow_unsafe_link_target:r.allow_unsafe_link_target,convert_fonts_to_spans:r.convert_fonts_to_spans,fix_list_elements:r.fix_list_elements,font_size_legacy_values:r.font_size_legacy_values,forced_root_block:r.forced_root_block,forced_root_block_attrs:r.forced_root_block_attrs,padd_empty_with_br:r.padd_empty_with_br,preserve_cdata:r.preserve_cdata,remove_trailing_brs:r.remove_trailing_brs,inline_styles:r.inline_styles,root_name:x9(e),validate:!0,blob_cache:s,document:e.getDoc(),images_dataimg_filter:r.images_dataimg_filter})},C9=function(e){var r=e.settings;return Kn(Kn(Kn({},kF(e)),EF(e)),SO({url_converter:r.url_converter,url_converter_scope:r.url_converter_scope,element_format:r.element_format,entities:r.entities,entity_encoding:r.entity_encoding,indent:r.indent,indent_after:r.indent_after,indent_before:r.indent_before}))},S9=function(e){var r=BA(kF(e),e.schema);return r.addAttributeFilter("src,href,style,tabindex",function(s,f){for(var h=s.length,b,E,O=e.dom,R="data-mce-"+f;h--;)if(b=s[h],E=b.attr(f),E&&!b.attr(R)){if(E.indexOf("data:")===0||E.indexOf("blob:")===0)continue;f==="style"?(E=O.serializeStyle(O.parseStyle(E),b.name),E.length||(E=null),b.attr(R,E),b.attr(f,E)):f==="tabindex"?(b.attr(R,E),b.attr(f,null)):b.attr(R,e.convertURL(E,f,b.name))}}),r.addNodeFilter("script",function(s){for(var f=s.length;f--;){var h=s[f],b=h.attr("type")||"no/type";b.indexOf("mce-")!==0&&h.attr("type","mce-"+b)}}),e.settings.preserve_cdata&&r.addNodeFilter("#cdata",function(s){for(var f=s.length;f--;){var h=s[f];h.type=8,h.name="#comment",h.value="[CDATA["+e.dom.encode(h.value)+"]]"}}),r.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(s){for(var f=s.length,h=e.schema.getNonEmptyElements();f--;){var b=s[f];b.isEmpty(h)&&b.getAll("br").length===0&&(b.append(new yd("br",1)).shortEnded=!0)}}),r},E9=function(e){e.settings.auto_focus&&mu.setEditorTimeout(e,function(){var r;e.settings.auto_focus===!0?r=e:r=e.editorManager.get(e.settings.auto_focus),r.destroyed||r.focus()},100)},k9=function(e){var r=e.dom.getRoot();!e.inline&&(!op(e)||e.selection.getStart(!0)===r)&&io(r).each(function(s){var f=s.getNode(),h=go(f)?io(f).getOr(s):s;rr.browser.isIE()?uM(e,h.toRange()):e.selection.setRng(h.toRange())})},T9=function(e){e.bindPendingEventDelegates(),e.initialized=!0,rT(e),e.focus(!0),k9(e),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),E9(e)},TF=function(e){return e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader},A9=function(e,r,s){var f=[new nu(function(h,b){return TF(e).loadAll(r,h,b)})];return e.inline?f:f.concat([new nu(function(h,b){return e.ui.styleSheetLoader.loadAll(s,h,b)})])},AF=function(e){var r=TF(e),s=Xy(e),f=e.contentCSS,h=function(){r.unloadAll(f),e.inline||e.ui.styleSheetLoader.unloadAll(s)},b=function(){e.removed?h():e.on("remove",h)};if(e.contentStyles.length>0){var E="";Tt.each(e.contentStyles,function(R){E+=R+`\r
`}),e.dom.addStyle(E)}var O=nu.all(A9(e,f,s)).then(b).catch(b);return e.settings.content_style&&BP(e,e.settings.content_style),O},O9=function(e){var r=e.settings,s=e.getDoc(),f=e.getBody();Hh(e),!r.browser_spellcheck&&!r.gecko_spellcheck&&(s.body.spellcheck=!1,CO.setAttrib(f,"spellcheck","false")),e.quirks=w9(e),nT(e);var h=Wf(e);h!==void 0&&(f.dir=h),r.protect&&e.on("BeforeSetContent",function(b){Tt.each(r.protect,function(E){b.content=b.content.replace(E,function(O){return"<!--mce:protected "+escape(O)+"-->"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),e.on("compositionstart compositionend",function(b){e.composing=b.type==="compositionstart"})},D9=function(e){I0(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},LP=function(e){e.removed!==!0&&(D9(e),T9(e))},EO=function(e,r){var s=e.settings,f=e.getElement(),h=e.getDoc();s.inline||(e.getElement().style.visibility=e.orgVisibility),!r&&!e.inline&&(h.open(),h.write(e.iframeHTML),h.close()),e.inline&&(CO.addClass(f,"mce-content-body"),e.contentDocument=h=document,e.contentWindow=window,e.bodyElement=f,e.contentAreaContainer=f);var b=e.getBody();b.disabled=!0,e.readonly=!!s.readonly,e.readonly||(e.inline&&CO.getStyle(b,"position",!0)==="static"&&(b.style.position="relative"),b.contentEditable=e.getParam("content_editable_state",!0)),b.disabled=!1,e.editorUpload=Sz(e),e.schema=yc(EF(e)),e.dom=Wi(h,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:s.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:W1(e),referrerPolicy:j1(e),onSetAttrib:function(R){e.fire("SetAttrib",R)}}),e.parser=S9(e),e.serializer=e4(C9(e),e),e.selection=$B(e.dom,e.getWin(),e.serializer,e),e.annotator=Bx(e),e.formatter=w4(e),e.undoManager=Gh(e),e._nodeChangeDispatcher=new vF(e),e._selectionOverrides=_9(e),z7(e),mF(e),I0(e)||RP(e);var E=QH(e);$7(e,E),SL(e),T4(e);var O=h8(e);O9(e),O.fold(function(){AF(e).then(function(){return LP(e)})},function(R){e.setProgressState(!0),AF(e).then(function(){R().then(function(W){e.setProgressState(!1),LP(e)},function(W){e.notificationManager.open({type:"error",text:String(W)}),LP(e)})})})},XE=Wi.DOM,M9=function(e,r){if(document.domain!==window.location.hostname&&rr.browser.isIE()){var s=Fl("mce");e[s]=function(){EO(e)};var f='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+s+"(true);})()";return XE.setAttrib(r,"src",f),!0}return!1},R9=function(e,r,s,f){var h=Z.fromTag("iframe");return re(h,f),re(h,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:r}),Am(h,"tox-edit-area__iframe"),h},P9=function(e){var r=ox(e)+"<html><head>";Yy(e)!==e.documentBaseUrl&&(r+='<base href="'+e.documentBaseURI.getURI()+'" />'),r+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var s=FS(e),f=NS(e),h=e.translate(bx(e));return U1(e)&&(r+='<meta http-equiv="Content-Security-Policy" content="'+U1(e)+'" />'),r+="</head>"+('<body id="'+s+'" class="mce-content-body '+f+'" data-id="'+e.id+'" aria-label="'+h+'">')+"<br></body></html>",r},OF=function(e,r){var s=e.translate("Rich Text Area"),f=R9(e.id,s,r.height,LS(e)).dom;f.onload=function(){f.onload=null,e.fire("load")};var h=M9(e,f);return e.contentAreaContainer=r.iframeContainer,e.iframeElement=f,e.iframeHTML=P9(e),XE.add(r.iframeContainer,f),h},I9=function(e,r){var s=OF(e,r);r.editorContainer&&(XE.get(r.editorContainer).style.display=e.orgDisplay,e.hidden=XE.isHidden(r.editorContainer)),e.getElement().style.display="none",XE.setAttrib(e.id,"aria-hidden","true"),s||EO(e)},FP=Wi.DOM,NP=function(e,r,s){var f=_d.get(s),h=_d.urls[s]||e.documentBaseUrl.replace(/\/$/,"");if(s=Tt.trim(s),f&&Tt.inArray(r,s)===-1){if(Tt.each(_d.dependencies(s),function(E){NP(e,r,E)}),e.plugins[s])return;try{var b=new f(e,h,e.$);e.plugins[s]=b,b.init&&(b.init(e,h),r.push(s))}catch(E){p4(e,s,E)}}},$P=function(e){return e.replace(/^\-/,"")},B9=function(e){var r=[];Tt.each(G1(e).split(/[ ,]/),function(s){NP(e,r,$P(s))})},L9=function(e){var r=Tt.trim(ko(e)),s=e.ui.registry.getAll().icons,f=Kn(Kn({},NA.get("default").icons),NA.get(r).icons);ia(f,function(h,b){Ur(s,b)||e.ui.registry.addIcon(b,h)})},F9=function(e){var r=Wg(e);if(Te(r)){e.settings.theme=$P(r);var s=bp.get(r);e.theme=new s(e,bp.urls[r]),e.theme.init&&e.theme.init(e,bp.urls[r]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}},DF=function(e){return e.theme.renderUI()},N9=function(e){var r=e.getElement(),s=Wg(e),f=s(e,r);return f.editorContainer.nodeType&&(f.editorContainer.id=f.editorContainer.id||e.id+"_parent"),f.iframeContainer&&f.iframeContainer.nodeType&&(f.iframeContainer.id=f.iframeContainer.id||e.id+"_iframecontainer"),f.height=f.iframeHeight?f.iframeHeight:r.offsetHeight,f},MF=function(e){return{editorContainer:e,iframeContainer:e,api:{}}},RF=function(e){var r=FP.create("div");return FP.insertAfter(r,e),MF(r)},$9=function(e){var r=e.getElement();return e.inline?MF(null):RF(r)},z9=function(e){var r=e.getElement();return e.orgDisplay=r.style.display,Te(Wg(e))?DF(e):K(Wg(e))?N9(e):$9(e)},PF=function(e,r){var s={show:Ee.from(r.show).getOr(ve),hide:Ee.from(r.hide).getOr(ve),disable:Ee.from(r.disable).getOr(ve),isDisabled:Ee.from(r.isDisabled).getOr(dt),enable:function(){e.mode.isReadOnly()||Ee.from(r.enable).map(ln)}};e.ui=Kn(Kn({},e.ui),s)},IF=function(e){e.fire("ScriptsLoaded"),L9(e),F9(e),B9(e);var r=z9(e);PF(e,Ee.from(r.api).getOr({}));var s={editorContainer:r.editorContainer,iframeContainer:r.iframeContainer};return e.editorContainer=s.editorContainer?s.editorContainer:null,_z(e),e.inline?EO(e):I9(e,s)},Z_=Wi.DOM,BF=function(e){return e.charAt(0)==="-"},LF=function(e,r){var s=Y1(r),f=Ws(r);if(Il.hasCode(s)===!1&&s!=="en"){var h=f!==""?f:r.editorManager.baseURL+"/langs/"+s+".js";e.add(h,ve,void 0,function(){OE(r,h,s)})}},FF=function(e,r,s,f){var h=Wg(r);if(Te(h)){if(!BF(h)&&!Ur(bp.urls,h)){var b=hx(r);b?bp.load(h,r.documentBaseURI.toAbsolute(b)):bp.load(h,"themes/"+h+"/theme"+s+".js")}e.loadQueue(function(){bp.waitFor(h,f)})}else f()},H9=function(e){return Ee.from(Ll(e)).filter(function(r){return r.length>0}).map(function(r){return{url:r,name:Ee.none()}})},NF=function(e,r,s){return Ee.from(r).filter(function(f){return f.length>0&&!NA.has(f)}).map(function(f){return{url:e.editorManager.baseURL+"/icons/"+f+"/icons"+s+".js",name:Ee.some(f)}})},V9=function(e,r,s){var f=NF(r,"default",s),h=H9(r).orThunk(function(){return NF(r,ko(r),"")});vt(Jr([f,h]),function(b){e.add(b.url,ve,void 0,function(){bz(r,b.url,b.name.getOrUndefined())})})},U9=function(e,r){Tt.each(XS(e),function(s,f){_d.load(f,s,ve,void 0,function(){HA(e,s,f)}),e.settings.plugins+=" "+f}),Tt.each(G1(e).split(/[ ,]/),function(s){if(s=Tt.trim(s),s&&!_d.urls[s])if(BF(s)){s=s.substr(1,s.length);var f=_d.dependencies(s);Tt.each(f,function(b){var E={prefix:"plugins/",resource:b,suffix:"/plugin"+r+".js"},O=_d.createUrl(E,b);_d.load(O.resource,O,ve,void 0,function(){HA(e,O.prefix+O.resource+O.suffix,O.resource)})})}else{var h={prefix:"plugins/",resource:s,suffix:"/plugin"+r+".js"};_d.load(s,h,ve,void 0,function(){HA(e,h.prefix+h.resource+h.suffix,s)})}})},W9=function(e,r){var s=jd.ScriptLoader;FF(s,e,r,function(){LF(s,e),V9(s,e,r),U9(e,r),s.loadQueue(function(){e.removed||IF(e)},e,function(){e.removed||IF(e)})})},j9=function(e,r){return Rf.forElement(e,{contentCssCors:KS(r),referrerPolicy:j1(r)})},Y9=function(e){var r=e.id;Il.setCode(Y1(e));var s=function(){Z_.unbind(window,"ready",s),e.render()};if(!Bv.Event.domLoaded){Z_.bind(window,"ready",s);return}if(e.getElement()&&rr.contentEditable){var f=Z.fromDom(e.getElement()),h=Wn(f);e.on("remove",function(){Jt(f.dom.attributes,function(E){return Et(f,E.name)}),re(f,h)}),e.ui.styleSheetLoader=j9(f,e),WS(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var b=e.getElement().form||Z_.getParent(r,"form");b&&(e.formElement=b,mx(e)&&!eu(e.getElement())&&(Z_.insertAfter(Z_.create("input",{type:"hidden",name:r}),r),e.hasHiddenInput=!0),e.formEventDelegate=function(E){e.fire(E.type,E)},Z_.bind(b,"submit reset",e.formEventDelegate),e.on("reset",function(){e.resetContent()}),gx(e)&&!b.submit.nodeType&&!b.submit.length&&!b._mceOldSubmit&&(b._mceOldSubmit=b.submit,b.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),b._mceOldSubmit(b)})),e.windowManager=OR(e),e.notificationManager=Km(e),Qy(e)&&e.on("GetContent",function(E){E.save&&(E.content=Z_.encode(E.content))}),jS(e)&&e.on("submit",function(){e.initialized&&e.save()}),q1(e)&&(e._beforeUnload=function(){e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),W9(e,e.suffix)}},q9=function(e,r){return PB(e,r)},G9={"font-size":"size","font-family":"face"},K9=function(e,r,s){var f=function(b){return qo(b,e).orThunk(function(){return Di(b)==="font"?_a(G9,e).bind(function(E){return Ie(b,E)}):Ee.none()})},h=function(b){return yr(Z.fromDom(r),b)};return HM(Z.fromDom(s),function(b){return f(b)},h)},kO=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},$F=function(e,r){return Ee.from(Wi.DOM.getStyle(r,e,!0))},zP=function(e){return function(r,s){return Ee.from(s).map(Z.fromDom).filter(Li).bind(function(f){return K9(e,r,f.dom).or($F(e,f.dom))}).getOr("")}},X9=zP("font-size"),zF=Ue(kO,zP("font-family")),HF=function(e){return io(e.getBody()).map(function(r){var s=r.container();return Rn(s)?s.parentNode:s})},Z9=function(e){return Ee.from(e.selection.getRng()).bind(function(r){var s=e.getBody(),f=r.startContainer===s&&r.startOffset===0;return f?Ee.none():Ee.from(e.selection.getStart(!0))})},J9=function(e,r){return Z9(e).orThunk(Ce(HF,e)).map(Z.fromDom).filter(Li).bind(r)},HP=function(e,r){return J9(e,ue(Ee.some,r))},TO=function(e,r){if(/^[0-9.]+$/.test(r)){var s=parseInt(r,10);if(s>=1&&s<=7){var f=Lm(e),h=Fm(e);return h?h[s-1]||r:f[s-1]||r}else return r}else return r},Q9=function(e){var r=e.split(/\s*,\s*/);return st(r,function(s){return s.indexOf(" ")!==-1&&!(tn(s,'"')||tn(s,"'"))?"'"+s+"'":s}).join(",")},VP=function(e,r){var s=TO(e,r);e.formatter.toggle("fontname",{value:Q9(s)}),e.nodeChanged()},eV=function(e){return HP(e,function(r){return zF(e.getBody(),r.dom)}).getOr("")},tV=function(e,r){e.formatter.toggle("fontsize",{value:TO(e,r)}),e.nodeChanged()},nV=function(e){return HP(e,function(r){return X9(e.getBody(),r.dom)}).getOr("")},VF=function(e){return HP(e,function(r){var s=Z.fromDom(e.getBody()),f=HM(r,function(b){return qo(b,"line-height")},Ce(yr,s)),h=function(){var b=parseFloat(zr(r,"line-height")),E=parseFloat(zr(r,"font-size"));return String(b/E)};return f.getOrThunk(h)}).getOr("")},rV=function(e,r){e.formatter.toggle("lineheight",{value:String(r)}),e.nodeChanged()},aV=function(e){if(typeof e!="string"){var r=Tt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:r}}return{content:e,details:{}}},iV=function(e,r){var s=aV(r);MB(e,s.content,s.details)},AO=Tt.each,oV=Tt.map,Xf=Tt.inArray,Fb=function(){function e(r){this.commands={state:{},exec:{},value:{}},this.editor=r,this.setupCommands(r)}return e.prototype.execCommand=function(r,s,f,h){var b,E=!1,O=this;if(!O.editor.removed){if(r.toLowerCase()!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(r)&&(!h||!h.skip_focus)?O.editor.focus():$2(O.editor)),h=O.editor.fire("BeforeExecCommand",{command:r,ui:s,value:f}),h.isDefaultPrevented())return!1;var R=r.toLowerCase();if(b=O.commands.exec[R])return b(R,s,f),O.editor.fire("ExecCommand",{command:r,ui:s,value:f}),!0;if(AO(this.editor.plugins,function(W){if(W.execCommand&&W.execCommand(r,s,f))return O.editor.fire("ExecCommand",{command:r,ui:s,value:f}),E=!0,!1}),E)return E;if(O.editor.theme&&O.editor.theme.execCommand&&O.editor.theme.execCommand(r,s,f))return O.editor.fire("ExecCommand",{command:r,ui:s,value:f}),!0;try{E=O.editor.getDoc().execCommand(r,s,f)}catch{}return E?(O.editor.fire("ExecCommand",{command:r,ui:s,value:f}),!0):!1}},e.prototype.queryCommandState=function(r){var s;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(r=r.toLowerCase(),s=this.commands.state[r])return s(r);try{return this.editor.getDoc().queryCommandState(r)}catch{}return!1}},e.prototype.queryCommandValue=function(r){var s;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(r=r.toLowerCase(),s=this.commands.value[r])return s(r);try{return this.editor.getDoc().queryCommandValue(r)}catch{}}},e.prototype.addCommands=function(r,s){s===void 0&&(s="exec");var f=this;AO(r,function(h,b){AO(b.toLowerCase().split(","),function(E){f.commands[s][E]=h})})},e.prototype.addCommand=function(r,s,f){var h=this;r=r.toLowerCase(),this.commands.exec[r]=function(b,E,O,R){return s.call(f||h.editor,E,O,R)}},e.prototype.queryCommandSupported=function(r){if(r=r.toLowerCase(),this.commands.exec[r])return!0;try{return this.editor.getDoc().queryCommandSupported(r)}catch{}return!1},e.prototype.addQueryStateHandler=function(r,s,f){var h=this;r=r.toLowerCase(),this.commands.state[r]=function(){return s.call(f||h.editor)}},e.prototype.addQueryValueHandler=function(r,s,f){var h=this;r=r.toLowerCase(),this.commands.value[r]=function(){return s.call(f||h.editor)}},e.prototype.hasCustomCommand=function(r){return r=r.toLowerCase(),!!this.commands.exec[r]},e.prototype.execNativeCommand=function(r,s,f){return s===void 0&&(s=!1),f===void 0&&(f=null),this.editor.getDoc().execCommand(r,s,f)},e.prototype.isFormatMatch=function(r){return this.editor.formatter.match(r)},e.prototype.toggleFormat=function(r,s){this.editor.formatter.toggle(r,s),this.editor.nodeChanged()},e.prototype.storeSelection=function(r){this.selectionBookmark=this.editor.selection.getBookmark(r)},e.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},e.prototype.setupCommands=function(r){var s=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":ve,"mceEndUndoLevel,mceAddUndoLevel":function(){r.undoManager.add()},mceFocus:function(h,b,E){Gx(r,E)},"Cut,Copy,Paste":function(h){var b=r.getDoc(),E;try{s.execNativeCommand(h)}catch{E=!0}if(h==="paste"&&!b.queryCommandEnabled(h)&&(E=!0),E||!b.queryCommandSupported(h)){var O=r.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");rr.mac&&(O=O.replace(/Ctrl\+/g,"⌘+")),r.notificationManager.open({text:O,type:"error"})}},unlink:function(){if(r.selection.isCollapsed()){var h=r.dom.getParent(r.selection.getStart(),"a");h&&r.dom.remove(h,!0);return}r.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(h){var b=h.substring(7);b==="full"&&(b="justify"),AO("left,center,right,justify".split(","),function(E){b!==E&&r.formatter.remove("align"+E)}),b!=="none"&&s.toggleFormat("align"+b)},"InsertUnorderedList,InsertOrderedList":function(h){var b;s.execNativeCommand(h);var E=r.dom.getParent(r.selection.getNode(),"ol,ul");E&&(b=E.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(b.nodeName)&&(s.storeSelection(),r.dom.split(b,E),s.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(h){s.toggleFormat(h)},"ForeColor,HiliteColor":function(h,b,E){s.toggleFormat(h,{value:E})},FontName:function(h,b,E){VP(r,E)},FontSize:function(h,b,E){tV(r,E)},LineHeight:function(h,b,E){rV(r,E)},Lang:function(h,b,E){s.toggleFormat(h,{value:E.code,customValue:E.customCode})},RemoveFormat:function(h){r.formatter.remove(h)},mceBlockQuote:function(){s.toggleFormat("blockquote")},FormatBlock:function(h,b,E){return s.toggleFormat(E||"p")},mceCleanup:function(){var h=r.selection.getBookmark();r.setContent(r.getContent()),r.selection.moveToBookmark(h)},mceRemoveNode:function(h,b,E){var O=E||r.selection.getNode();O!==r.getBody()&&(s.storeSelection(),r.dom.remove(O,!0),s.restoreSelection())},mceSelectNodeDepth:function(h,b,E){var O=0;r.dom.getParent(r.selection.getNode(),function(R){if(R.nodeType===1&&O++===E)return r.selection.select(R),!1},r.getBody())},mceSelectNode:function(h,b,E){r.selection.select(E)},mceInsertContent:function(h,b,E){iV(r,E)},mceInsertRawHTML:function(h,b,E){r.selection.setContent("tiny_mce_marker");var O=r.getContent();r.setContent(O.replace(/tiny_mce_marker/g,function(){return E}))},mceInsertNewLine:function(h,b,E){rF(r,E)},mceToggleFormat:function(h,b,E){s.toggleFormat(E)},mceSetContent:function(h,b,E){r.setContent(E)},"Indent,Outdent":function(h){cP(r,h)},mceRepaint:ve,InsertHorizontalRule:function(){r.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){r.hasVisual=!r.hasVisual,r.addVisual()},mceReplaceContent:function(h,b,E){r.execCommand("mceInsertContent",!1,E.replace(/\{\$selection\}/g,r.selection.getContent({format:"text"})))},mceInsertLink:function(h,b,E){typeof E=="string"&&(E={href:E});var O=r.dom.getParent(r.selection.getNode(),"a");E.href=E.href.replace(/ /g,"%20"),(!O||!E.href)&&r.formatter.remove("link"),E.href&&r.formatter.apply("link",E,O)},selectAll:function(){var h=r.dom.getParent(r.selection.getStart(),Df);if(h){var b=r.dom.createRng();b.selectNodeContents(h),r.selection.setRng(b)}},mceNewDocument:function(){r.setContent("")},InsertLineBreak:function(h,b,E){return JL(r,E),!0}});var f=function(h){return function(){var b=r.selection,E=b.isCollapsed()?[r.dom.getParent(b.getNode(),r.dom.isBlock)]:b.getSelectedBlocks(),O=oV(E,function(R){return!!r.formatter.matchNode(R,h)});return Xf(O,!0)!==-1}};s.addCommands({JustifyLeft:f("alignleft"),JustifyCenter:f("aligncenter"),JustifyRight:f("alignright"),JustifyFull:f("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(h){return s.isFormatMatch(h)},mceBlockQuote:function(){return s.isFormatMatch("blockquote")},Outdent:function(){return _L(r)},"InsertUnorderedList,InsertOrderedList":function(h){var b=r.dom.getParent(r.selection.getNode(),"ul,ol");return b&&(h==="insertunorderedlist"&&b.tagName==="UL"||h==="insertorderedlist"&&b.tagName==="OL")}},"state"),s.addCommands({Undo:function(){r.undoManager.undo()},Redo:function(){r.undoManager.redo()}}),s.addQueryValueHandler("FontName",function(){return eV(r)},this),s.addQueryValueHandler("FontSize",function(){return nV(r)},this),s.addQueryValueHandler("LineHeight",function(){return VF(r)},this)},e}(),J_="data-mce-contenteditable",sV=function(e,r,s){Py(e,r)&&s===!1?I1(e,r):s&&Am(e,r)},UP=function(e,r,s){try{e.getDoc().execCommand(r,!1,String(s))}catch{}},OO=function(e,r){e.dom.contentEditable=r?"true":"false"},uV=function(e){vt(bu(e,'*[contenteditable="true"]'),function(r){U(r,J_,"true"),OO(r,!1)})},lV=function(e){vt(bu(e,"*["+J_+'="true"]'),function(r){Et(r,J_),OO(r,!0)})},UF=function(e){Ee.from(e.selection.getNode()).each(function(r){r.removeAttribute("data-mce-selected")})},RC=function(e){e.selection.setRng(e.selection.getRng())},cV=function(e,r){var s=Z.fromDom(e.getBody());sV(s,"mce-content-readonly",r),r?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),UF(e),e.readonly=!0,OO(s,!1),uV(s)):(e.readonly=!1,OO(s,!0),lV(s),UP(e,"StyleWithCSS",!1),UP(e,"enableInlineTableEditing",!1),UP(e,"enableObjectResizing",!1),IT(e)&&e.focus(),RC(e),e.nodeChanged())},Q_=function(e){return e.readonly},WF=function(e){e.parser.addAttributeFilter("contenteditable",function(r){Q_(e)&&vt(r,function(s){s.attr(J_,s.attr("contenteditable")),s.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(J_,function(r){Q_(e)&&vt(r,function(s){s.attr("contenteditable",s.attr(J_))})}),e.serializer.addTempAttr(J_)},Qm=function(e){e.serializer?WF(e):e.on("PreInit",function(){WF(e)})},fV=function(e){return e.type==="click"},dV=function(e,r){var s=function(f){return yr(f,Z.fromDom(e.getBody()))};return Ui(r,"a",s).bind(function(f){return Ie(f,"href")})},jF=function(e,r){if(fV(r)&&!pr.metaKeyPressed(r)){var s=Z.fromDom(r.target);dV(e,s).each(function(f){if(r.preventDefault(),/^#/.test(f)){var h=e.dom.select(f+',[name="'+Lt(f,"#")+'"]');h.length&&e.selection.scrollIntoView(h[0],!0)}else window.open(f,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}},vV=function(e){e.on("ShowCaret",function(r){Q_(e)&&r.preventDefault()}),e.on("ObjectSelected",function(r){Q_(e)&&r.preventDefault()})},YF=Tt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),DO=function(){function e(r){this.bindings={},this.settings=r||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||dt}return e.isNative=function(r){return!!YF[r.toLowerCase()]},e.prototype.fire=function(r,s){var f=r.toLowerCase(),h=Nt(f,s||{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(h);var b=this.bindings[f];if(b)for(var E=0,O=b.length;E<O;E++){var R=b[E];if(!R.removed){if(R.once&&this.off(f,R.func),h.isImmediatePropagationStopped())return h;if(R.func.call(this.scope,h)===!1)return h.preventDefault(),h}}return h},e.prototype.on=function(r,s,f,h){if(s===!1&&(s=dt),s){var b={func:s,removed:!1};h&&Tt.extend(b,h);for(var E=r.toLowerCase().split(" "),O=E.length;O--;){var R=E[O],W=this.bindings[R];W||(W=[],this.toggleEvent(R,!0)),f?W=Ps([b],W,!0):W=Ps(Ps([],W,!0),[b],!1),this.bindings[R]=W}}return this},e.prototype.off=function(r,s){var f=this;if(r)for(var h=r.toLowerCase().split(" "),b=h.length;b--;){var E=h[b],O=this.bindings[E];if(!E)return ia(this.bindings,function(W,ne){f.toggleEvent(ne,!1),delete f.bindings[ne]}),this;if(O){if(!s)O.length=0;else{var R=zn(O,function(W){return W.func===s});O=R.fail,this.bindings[E]=O,vt(R.pass,function(W){W.removed=!0})}O.length||(this.toggleEvent(r,!1),delete this.bindings[E])}}else ia(this.bindings,function(W,ne){f.toggleEvent(ne,!1)}),this.bindings={};return this},e.prototype.once=function(r,s,f){return this.on(r,s,f,{once:!0})},e.prototype.has=function(r){return r=r.toLowerCase(),!(!this.bindings[r]||this.bindings[r].length===0)},e}(),ew=function(e){return e._eventDispatcher||(e._eventDispatcher=new DO({scope:e,toggleEvent:function(r,s){DO.isNative(r)&&e.toggleNativeEvent&&e.toggleNativeEvent(r,s)}})),e._eventDispatcher},MO={fire:function(e,r,s){var f=this;if(f.removed&&e!=="remove"&&e!=="detach")return r;var h=ew(f).fire(e,r);if(s!==!1&&f.parent)for(var b=f.parent();b&&!h.isPropagationStopped();)b.fire(e,h,!1),b=b.parent();return h},on:function(e,r,s){return ew(this).on(e,r,s)},off:function(e,r){return ew(this).off(e,r)},once:function(e,r){return ew(this).once(e,r)},hasEventListeners:function(e){return ew(this).has(e)}},RO=Wi.DOM,tw,PO=function(e,r){if(r==="selectionchange")return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(r))return e.getDoc().documentElement;var s=jv(e);return s?(e.eventRoot||(e.eventRoot=RO.select(s)[0]),e.eventRoot):e.getBody()},hV=function(e){return!e.hidden&&!Q_(e)},WP=function(e,r,s){hV(e)?e.fire(r,s):Q_(e)&&jF(e,s)},jP=function(e,r){var s;if(e.delegates||(e.delegates={}),!(e.delegates[r]||e.removed)){var f=PO(e,r);if(jv(e)){if(tw||(tw={},e.editorManager.on("removeEditor",function(){e.editorManager.activeEditor||tw&&(ia(tw,function(h,b){e.dom.unbind(PO(e,b))}),tw=null)})),tw[r])return;s=function(h){for(var b=h.target,E=e.editorManager.get(),O=E.length;O--;){var R=E[O].getBody();(R===b||RO.isChildOf(b,R))&&WP(E[O],r,h)}},tw[r]=s,RO.bind(f,r,s)}else s=function(h){WP(e,r,h)},RO.bind(f,r,s),e.delegates[r]=s}},qF=Kn(Kn({},MO),{bindPendingEventDelegates:function(){var e=this;Tt.each(e._pendingNativeEvents,function(r){jP(e,r)})},toggleNativeEvent:function(e,r){var s=this;e==="focus"||e==="blur"||s.removed||(r?s.initialized?jP(s,e):s._pendingNativeEvents?s._pendingNativeEvents.push(e):s._pendingNativeEvents=[e]:s.initialized&&(s.dom.unbind(PO(s,e),e,s.delegates[e]),delete s.delegates[e]))},unbindAllNativeEvents:function(){var e=this,r=e.getBody(),s=e.dom;e.delegates&&(ia(e.delegates,function(f,h){e.dom.unbind(PO(e,h),h,f)}),delete e.delegates),!e.inline&&r&&s&&(r.onload=null,s.unbind(e.getWin()),s.unbind(e.getDoc())),s&&(s.unbind(r),s.unbind(e.getContainer()))}}),GF=["design","readonly"],KF=function(e,r,s,f){var h=s[r.get()],b=s[f];try{b.activate()}catch(E){console.error("problem while activating editor mode "+f+":",E);return}h.deactivate(),h.editorReadOnly!==b.editorReadOnly&&cV(e,b.editorReadOnly),r.set(f),x2(e,f)},mV=function(e,r,s,f){if(f!==s.get()){if(!Ur(r,f))throw new Error("Editor mode '"+f+"' is invalid");e.initialized?KF(e,s,r,f):e.on("init",function(){return KF(e,s,r,f)})}},gV=function(e,r,s){var f;if(kt(GF,r))throw new Error("Cannot override default mode "+r);return Kn(Kn({},e),(f={},f[r]=Kn(Kn({},s),{deactivate:function(){try{s.deactivate()}catch(h){console.error("problem while deactivating editor mode "+r+":",h)}}}),f))},pV=function(e){var r=Pl("design"),s=Pl({design:{activate:ve,deactivate:ve,editorReadOnly:!1},readonly:{activate:ve,deactivate:ve,editorReadOnly:!0}});return Qm(e),vV(e),{isReadOnly:function(){return Q_(e)},set:function(f){return mV(e,s.get(),r,f)},get:function(){return r.get()},register:function(f,h){s.set(gV(s.get(),f,h))}}},IO=Tt.each,ZE=Tt.explode,XF={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},ZF=Tt.makeMap("alt,ctrl,shift,meta,access"),bV=function(e){var r,s={};IO(ZE(e.toLowerCase(),"+"),function(h){h in ZF?s[h]=!0:/^[0-9]{2,}$/.test(h)?s.keyCode=parseInt(h,10):(s.charCode=h.charCodeAt(0),s.keyCode=XF[h]||h.toUpperCase().charCodeAt(0))});var f=[s.keyCode];for(r in ZF)s[r]?f.push(r):s[r]=!1;return s.id=f.join(","),s.access&&(s.alt=!0,rr.mac?s.ctrl=!0:s.shift=!0),s.meta&&(rr.mac?s.meta=!0:(s.ctrl=!0,s.meta=!1)),s},BO=function(){function e(r){this.shortcuts={},this.pendingPatterns=[],this.editor=r;var s=this;r.on("keyup keypress keydown",function(f){(s.hasModifier(f)||s.isFunctionKey(f))&&!f.isDefaultPrevented()&&(IO(s.shortcuts,function(h){if(s.matchShortcut(f,h))return s.pendingPatterns=h.subpatterns.slice(0),f.type==="keydown"&&s.executeShortcutAction(h),!0}),s.matchShortcut(f,s.pendingPatterns[0])&&(s.pendingPatterns.length===1&&f.type==="keydown"&&s.executeShortcutAction(s.pendingPatterns[0]),s.pendingPatterns.shift()))})}return e.prototype.add=function(r,s,f,h){var b=this,E=b.normalizeCommandFunc(f);return IO(ZE(Tt.trim(r)),function(O){var R=b.createShortcut(O,s,E,h);b.shortcuts[R.id]=R}),!0},e.prototype.remove=function(r){var s=this.createShortcut(r);return this.shortcuts[s.id]?(delete this.shortcuts[s.id],!0):!1},e.prototype.normalizeCommandFunc=function(r){var s=this,f=r;return typeof f=="string"?function(){s.editor.execCommand(f,!1,null)}:Tt.isArray(f)?function(){s.editor.execCommand(f[0],f[1],f[2])}:f},e.prototype.createShortcut=function(r,s,f,h){var b=Tt.map(ZE(r,">"),bV);return b[b.length-1]=Tt.extend(b[b.length-1],{func:f,scope:h||this.editor}),Tt.extend(b[0],{desc:this.editor.translate(s),subpatterns:b.slice(1)})},e.prototype.hasModifier=function(r){return r.altKey||r.ctrlKey||r.metaKey},e.prototype.isFunctionKey=function(r){return r.type==="keydown"&&r.keyCode>=112&&r.keyCode<=123},e.prototype.matchShortcut=function(r,s){return!s||s.ctrl!==r.ctrlKey||s.meta!==r.metaKey||s.alt!==r.altKey||s.shift!==r.shiftKey?!1:r.keyCode===s.keyCode||r.charCode&&r.charCode===s.charCode?(r.preventDefault(),!0):!1},e.prototype.executeShortcutAction=function(r){return r.func?r.func.call(r.scope):null},e}(),JF=function(){var e={},r={},s={},f={},h={},b={},E={},O=function(W,ne){return function(ae,ce){return W[ae.toLowerCase()]=Kn(Kn({},ce),{type:ne})}},R=function(W,ne){return f[W.toLowerCase()]=ne};return{addButton:O(e,"button"),addGroupToolbarButton:O(e,"grouptoolbarbutton"),addToggleButton:O(e,"togglebutton"),addMenuButton:O(e,"menubutton"),addSplitButton:O(e,"splitbutton"),addMenuItem:O(r,"menuitem"),addNestedMenuItem:O(r,"nestedmenuitem"),addToggleMenuItem:O(r,"togglemenuitem"),addAutocompleter:O(s,"autocompleter"),addContextMenu:O(h,"contextmenu"),addContextToolbar:O(b,"contexttoolbar"),addContextForm:O(b,"contextform"),addSidebar:O(E,"sidebar"),addIcon:R,getAll:function(){return{buttons:e,menuItems:r,icons:f,popups:s,contextMenus:h,contextToolbars:b,sidebars:E}}}},yV=function(){var e=JF();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},nw=Wi.DOM,QF=Tt.extend,_V=Tt.each,eN=Tt.resolve,wV=rr.ie,LO=function(){function e(r,s,f){var h=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=f,this.documentBaseUrl=f.documentBaseURL,QF(this,qF),this.settings=d4(this,r,this.documentBaseUrl,f.defaultSettings,s),this.settings.suffix&&(f.suffix=this.settings.suffix),this.suffix=f.suffix,this.settings.base_url&&f._setBaseUrl(this.settings.base_url),this.baseUri=f.baseURI,this.settings.referrer_policy&&(jd.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),Wi.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),Kl.languageLoad=this.settings.language_load,Kl.baseURL=f.baseURL,this.id=r,this.setDirty(!1),this.documentBaseURI=new dp(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new BO(this),this.editorCommands=new Fb(this),this.settings.cache_suffix&&(rr.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:yV(),styleSheetLoader:void 0,show:ve,hide:ve,enable:ve,disable:ve,isDisabled:dt};var b=this,E=pV(b);this.mode=E,this.setMode=E.set,f.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=Yr.overrideDefaults(function(){return{context:h.inline?h.getBody():h.getDoc(),element:h.getBody()}})}return e.prototype.render=function(){Y9(this)},e.prototype.focus=function(r){this.execCommand("mceFocus",!1,r)},e.prototype.hasFocus=function(){return bd(this)},e.prototype.execCallback=function(r){for(var s=[],f=1;f<arguments.length;f++)s[f-1]=arguments[f];var h=this,b=h.settings[r],E;if(b)return h.callbackLookup&&(E=h.callbackLookup[r])&&(b=E.func,E=E.scope),typeof b=="string"&&(E=b.replace(/\.\w+$/,""),E=E?eN(E):0,b=eN(b),h.callbackLookup=h.callbackLookup||{},h.callbackLookup[r]={func:b,scope:E}),b.apply(E||h,s)},e.prototype.translate=function(r){return Il.translate(r)},e.prototype.getParam=function(r,s,f){return vz(this,r,s,f)},e.prototype.hasPlugin=function(r,s){var f=kt(G1(this).split(/[ ,]/),r);return f?s?_d.get(r)!==void 0:!0:!1},e.prototype.nodeChanged=function(r){this._nodeChangeDispatcher.nodeChanged(r)},e.prototype.addCommand=function(r,s,f){this.editorCommands.addCommand(r,s,f)},e.prototype.addQueryStateHandler=function(r,s,f){this.editorCommands.addQueryStateHandler(r,s,f)},e.prototype.addQueryValueHandler=function(r,s,f){this.editorCommands.addQueryValueHandler(r,s,f)},e.prototype.addShortcut=function(r,s,f,h){this.shortcuts.add(r,s,f,h)},e.prototype.execCommand=function(r,s,f,h){return this.editorCommands.execCommand(r,s,f,h)},e.prototype.queryCommandState=function(r){return this.editorCommands.queryCommandState(r)},e.prototype.queryCommandValue=function(r){return this.editorCommands.queryCommandValue(r)},e.prototype.queryCommandSupported=function(r){return this.editorCommands.queryCommandSupported(r)},e.prototype.show=function(){var r=this;r.hidden&&(r.hidden=!1,r.inline?r.getBody().contentEditable="true":(nw.show(r.getContainer()),nw.hide(r.id)),r.load(),r.fire("show"))},e.prototype.hide=function(){var r=this,s=r.getDoc();r.hidden||(wV&&s&&!r.inline&&s.execCommand("SelectAll"),r.save(),r.inline?(r.getBody().contentEditable="false",r===r.editorManager.focusedEditor&&(r.editorManager.focusedEditor=null)):(nw.hide(r.getContainer()),nw.setStyle(r.id,"display",r.orgDisplay)),r.hidden=!0,r.fire("hide"))},e.prototype.isHidden=function(){return!!this.hidden},e.prototype.setProgressState=function(r,s){this.fire("ProgressState",{state:r,time:s})},e.prototype.load=function(r){var s=this,f=s.getElement(),h;if(s.removed)return"";if(f){r=r||{},r.load=!0;var b=eu(f)?f.value:f.innerHTML;return h=s.setContent(b,r),r.element=f,r.no_events||s.fire("LoadContent",r),r.element=f=null,h}},e.prototype.save=function(r){var s=this,f=s.getElement(),h,b;if(!(!f||!s.initialized||s.removed))return r=r||{},r.save=!0,r.element=f,h=r.content=s.getContent(r),r.no_events||s.fire("SaveContent",r),r.format==="raw"&&s.fire("RawSaveContent",r),h=r.content,eu(f)?f.value=h:((r.is_removing||!s.inline)&&(f.innerHTML=h),(b=nw.getParent(s.id,"form"))&&_V(b.elements,function(E){if(E.name===s.id)return E.value=h,!1})),r.element=f=null,r.set_dirty!==!1&&s.setDirty(!1),h},e.prototype.setContent=function(r,s){return ER(this,r,s)},e.prototype.getContent=function(r){return j8(this,r)},e.prototype.insertContent=function(r,s){s&&(r=QF({content:r},s)),this.execCommand("mceInsertContent",!1,r)},e.prototype.resetContent=function(r){r===void 0?ER(this,this.startContent,{format:"raw"}):ER(this,r),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},e.prototype.isDirty=function(){return!this.isNotDirty},e.prototype.setDirty=function(r){var s=!this.isNotDirty;this.isNotDirty=!r,r&&r!==s&&this.fire("dirty")},e.prototype.getContainer=function(){var r=this;return r.container||(r.container=nw.get(r.editorContainer||r.id+"_parent")),r.container},e.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},e.prototype.getElement=function(){return this.targetElm||(this.targetElm=nw.get(this.id)),this.targetElm},e.prototype.getWin=function(){var r=this,s;return r.contentWindow||(s=r.iframeElement,s&&(r.contentWindow=s.contentWindow)),r.contentWindow},e.prototype.getDoc=function(){var r=this,s;return r.contentDocument||(s=r.getWin(),s&&(r.contentDocument=s.document)),r.contentDocument},e.prototype.getBody=function(){var r=this.getDoc();return this.bodyElement||(r?r.body:null)},e.prototype.convertURL=function(r,s,f){var h=this,b=h.settings;return b.urlconverter_callback?h.execCallback("urlconverter_callback",r,f,!0,s):!b.convert_urls||f&&f.nodeName==="LINK"||r.indexOf("file:")===0||r.length===0?r:b.relative_urls?h.documentBaseURI.toRelative(r):(r=h.documentBaseURI.toAbsolute(r,b.remove_script_host),r)},e.prototype.addVisual=function(r){q9(this,r)},e.prototype.remove=function(){G8(this)},e.prototype.destroy=function(r){n4(this,r)},e.prototype.uploadImages=function(r){return this.editorUpload.uploadImages(r)},e.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},e.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},e.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},e.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},e.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},e}(),em=Wi.DOM,xV=Tt.explode,Ts=Tt.each,YP=Tt.extend,wp=0,qP=!1,JE,Nb=[],Xc=[],GP=function(e){return e!=="length"},KP=function(e){var r=e.type;Ts($b.get(),function(s){switch(r){case"scroll":s.fire("ScrollWindow",e);break;case"resize":s.fire("ResizeWindow",e);break}})},XP=function(e){e!==qP&&(e?Yr(window).on("resize scroll",KP):Yr(window).off("resize scroll",KP),qP=e)},tN=function(e){var r=Xc;delete Nb[e.id];for(var s=0;s<Nb.length;s++)if(Nb[s]===e){Nb.splice(s,1);break}return Xc=pn(Xc,function(f){return e!==f}),$b.activeEditor===e&&($b.activeEditor=Xc.length>0?Xc[0]:null),$b.focusedEditor===e&&($b.focusedEditor=null),r.length!==Xc.length},CV=function(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(tN(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e},SV=document.compatMode!=="CSS1Compat",$b=Kn(Kn({},MO),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:Yr,majorVersion:"5",minorVersion:"10.7",releaseDate:"2022-12-06",editors:Nb,i18n:Il,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e=this,r,s,f="";s=dp.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(s)&&(s=s.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(s)||(s+="/"));var h=window.tinymce||window.tinyMCEPreInit;if(h)r=h.base||h.baseURL,f=h.suffix;else{for(var b=document.getElementsByTagName("script"),E=0;E<b.length;E++){var O=b[E].src||"";if(O!==""){var R=O.substring(O.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(O)){R.indexOf(".min")!==-1&&(f=".min"),r=O.substring(0,O.lastIndexOf("/"));break}}}if(!r&&document.currentScript){var O=document.currentScript.src;O.indexOf(".min")!==-1&&(f=".min"),r=O.substring(0,O.lastIndexOf("/"))}}e.baseURL=new dp(s).toAbsolute(r),e.documentBaseURL=s,e.baseURI=new dp(e.baseURL),e.suffix=f,AT(e)},overrideDefaults:function(e){var r=e.base_url;r&&this._setBaseUrl(r);var s=e.suffix;e.suffix&&(this.suffix=s),this.defaultSettings=e;var f=e.plugin_base_urls;f!==void 0&&ia(f,function(h,b){Kl.PluginManager.urls[b]=h})},init:function(e){var r=this,s,f=Tt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),h=function(ae,ce){return ae.inline&&ce.tagName.toLowerCase()in f},b=function(ae){var ce=ae.id;return ce||(ce=_a(ae,"name").filter(function(we){return!em.get(we)}).getOrThunk(em.uniqueId),ae.setAttribute("id",ce)),ce},E=function(ae){var ce=e[ae];if(ce)return ce.apply(r,[])},O=function(ae,ce){return ce.constructor===RegExp?ce.test(ae.className):em.hasClass(ae,ce)},R=function(ae){var ce=[];if(rr.browser.isIE()&&rr.browser.version.major<11)return DE("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(SV)return DE("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(ae.types)return Ts(ae.types,function(Se){ce=ce.concat(em.select(Se.selector))}),ce;if(ae.selector)return em.select(ae.selector);if(ae.target)return[ae.target];switch(ae.mode){case"exact":var we=ae.elements||"";we.length>0&&Ts(xV(we),function(Se){var Ae=em.get(Se);Ae?ce.push(Ae):Ts(document.forms,function(De){Ts(De.elements,function(Ve){Ve.name===Se&&(Se="mce_editor_"+wp++,em.setAttrib(Ve,"id",Se),ce.push(Ve))})})});break;case"textareas":case"specific_textareas":Ts(em.select("textarea"),function(Se){ae.editor_deselector&&O(Se,ae.editor_deselector)||(!ae.editor_selector||O(Se,ae.editor_selector))&&ce.push(Se)});break}return ce},W=function(ae){s=ae},ne=function(){var ae=0,ce=[],we,Se=function(Ae,De,Ve){var Ne=new LO(Ae,De,r);ce.push(Ne),Ne.on("init",function(){++ae===we.length&&W(ce)}),Ne.targetElm=Ne.targetElm||Ve,Ne.render()};if(em.unbind(window,"ready",ne),E("onpageload"),we=Yr.unique(R(e)),e.types){Ts(e.types,function(Ae){Tt.each(we,function(De){return em.is(De,Ae.selector)?(Se(b(De),YP({},e,Ae),De),!1):!0})});return}Tt.each(we,function(Ae){CV(r.get(Ae.id))}),we=Tt.grep(we,function(Ae){return!r.get(Ae.id)}),we.length===0?W([]):Ts(we,function(Ae){h(e,Ae)?DE("Could not initialize inline editor on invalid inline target element",Ae):Se(b(Ae),e,Ae)})};return r.settings=e,em.bind(window,"ready",ne),new nu(function(ae){s?ae(s):W=function(ce){ae(ce)}})},get:function(e){return arguments.length===0?Xc.slice(0):Te(e)?ba(Xc,function(r){return r.id===e}).getOr(null):de(e)&&Xc[e]?Xc[e]:null},add:function(e){var r=this,s=Nb[e.id];return s===e||(r.get(e.id)===null&&(GP(e.id)&&(Nb[e.id]=e),Nb.push(e),Xc.push(e)),XP(!0),r.activeEditor=e,r.fire("AddEditor",{editor:e}),JE||(JE=function(f){var h=r.fire("BeforeUnload");if(h.returnValue)return f.preventDefault(),f.returnValue=h.returnValue,h.returnValue},window.addEventListener("beforeunload",JE))),e},createEditor:function(e,r){return this.add(new LO(e,r,this))},remove:function(e){var r=this,s,f;if(!e){for(s=Xc.length-1;s>=0;s--)r.remove(Xc[s]);return}if(Te(e)){Ts(em.select(e),function(h){f=r.get(h.id),f&&r.remove(f)});return}return f=e,le(r.get(f.id))?null:(tN(f)&&r.fire("RemoveEditor",{editor:f}),Xc.length===0&&window.removeEventListener("beforeunload",JE),f.remove(),XP(Xc.length>0),f)},execCommand:function(e,r,s){var f=this,h=f.get(s);switch(e){case"mceAddEditor":return f.get(s)||new LO(s,f.settings,f).render(),!0;case"mceRemoveEditor":return h&&h.remove(),!0;case"mceToggleEditor":return h?(h.isHidden()?h.show():h.hide(),!0):(f.execCommand("mceAddEditor",!1,s),!0)}return f.activeEditor?f.activeEditor.execCommand(e,r,s):!1},triggerSave:function(){Ts(Xc,function(e){e.save()})},addI18n:function(e,r){Il.add(e,r)},translate:function(e){return Il.translate(e)},setActive:function(e){var r=this.activeEditor;this.activeEditor!==e&&(r&&r.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:r})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new dp(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new dp(this.baseURL)}});$b.setup();var nN=Math.min,rw=Math.max,FO=Math.round,rN=function(e,r,s){var f=r.x,h=r.y,b=e.w,E=e.h,O=r.w,R=r.h,W=(s||"").split("");return W[0]==="b"&&(h+=R),W[1]==="r"&&(f+=O),W[0]==="c"&&(h+=FO(R/2)),W[1]==="c"&&(f+=FO(O/2)),W[3]==="b"&&(h-=E),W[4]==="r"&&(f-=b),W[3]==="c"&&(h-=FO(E/2)),W[4]==="c"&&(f-=FO(b/2)),aw(f,h,b,E)},EV=function(e,r,s,f){var h,b;for(b=0;b<f.length;b++)if(h=rN(e,r,f[b]),h.x>=s.x&&h.x+h.w<=s.w+s.x&&h.y>=s.y&&h.y+h.h<=s.h+s.y)return f[b];return null},kV=function(e,r,s){return aw(e.x-r,e.y-s,e.w+r*2,e.h+s*2)},TV=function(e,r){var s=rw(e.x,r.x),f=rw(e.y,r.y),h=nN(e.x+e.w,r.x+r.w),b=nN(e.y+e.h,r.y+r.h);return h-s<0||b-f<0?null:aw(s,f,h-s,b-f)},AV=function(e,r,s){var f=e.x,h=e.y,b=e.x+e.w,E=e.y+e.h,O=r.x+r.w,R=r.y+r.h,W=rw(0,r.x-f),ne=rw(0,r.y-h),ae=rw(0,b-O),ce=rw(0,E-R);return f+=W,h+=ne,s&&(b+=W,E+=ne,f-=ae,h-=ce),b-=ae,E-=ce,aw(f,h,b-f,E-h)},aw=function(e,r,s,f){return{x:e,y:r,w:s,h:f}},OV=function(e){return aw(e.left,e.top,e.width,e.height)},DV={inflate:kV,relativePosition:rN,findBestRelativePosition:EV,intersect:TV,clamp:AV,create:aw,fromClientRect:OV},MV=function(e,r,s){s===void 0&&(s=1e3);var f=!1,h=null,b=function(W){return function(){for(var ne=[],ae=0;ae<arguments.length;ae++)ne[ae]=arguments[ae];f||(f=!0,h!==null&&(clearTimeout(h),h=null),W.apply(null,ne))}},E=b(e),O=b(r),R=function(){for(var W=[],ne=0;ne<arguments.length;ne++)W[ne]=arguments[ne];!f&&h===null&&(h=setTimeout(function(){return O.apply(null,W)},s))};return{start:R,resolve:E,reject:O}},ZP=function(){var e={},r={},s=function(h,b){var E='Script at URL "'+b+'" failed to load',O='Script at URL "'+b+"\" did not call `tinymce.Resource.add('"+h+"', data)` within 1 second";if(e[h]!==void 0)return e[h];var R=new nu(function(W,ne){var ae=MV(W,ne);r[h]=ae.resolve,jd.ScriptLoader.loadScript(b,function(){return ae.start(O)},function(){return ae.reject(E)})});return e[h]=R,R},f=function(h,b){r[h]!==void 0&&(r[h](b),delete r[h]),e[h]=nu.resolve(b)};return{load:s,add:f}},QE=ZP(),eg=Tt.each,PC=Tt.extend,NO,ek,JP=function(){};JP.extend=NO=function(e){var r=this,s=r.prototype,f=function(){var O,R,W,ne=this;if(!ek&&(ne.init&&ne.init.apply(ne,arguments),R=ne.Mixins,R))for(O=R.length;O--;)W=R[O],W.init&&W.init.apply(ne,arguments)},h=function(){return this},b=function(O,R){return function(){var W=this,ne=W._super;W._super=s[O];var ae=R.apply(W,arguments);return W._super=ne,ae}};ek=!0;var E=new r;return ek=!1,e.Mixins&&(eg(e.Mixins,function(O){for(var R in O)R!=="init"&&(e[R]=O[R])}),s.Mixins&&(e.Mixins=s.Mixins.concat(e.Mixins))),e.Methods&&eg(e.Methods.split(","),function(O){e[O]=h}),e.Properties&&eg(e.Properties.split(","),function(O){var R="_"+O;e[O]=function(W){var ne=this;return W!==void 0?(ne[R]=W,ne):ne[R]}}),e.Statics&&eg(e.Statics,function(O,R){f[R]=O}),e.Defaults&&s.Defaults&&(e.Defaults=PC({},s.Defaults,e.Defaults)),ia(e,function(O,R){typeof O=="function"&&s[R]?E[R]=b(R,O):E[R]=O}),f.prototype=E,f.constructor=f,f.extend=NO,f};var tk=Math.min,$O=Math.max,zb=Math.round,aN=function(e){var r={},s=0,f=0,h=0,b=function(ae,ce,we){var Se,Ae,De;Se=0,Ae=0,De=0,ae=ae/255,ce=ce/255,we=we/255;var Ve=tk(ae,tk(ce,we)),Ne=$O(ae,$O(ce,we));if(Ve===Ne)return De=Ve,{h:0,s:0,v:De*100};var ft=ae===Ve?ce-we:we===Ve?ae-ce:we-ae;return Se=ae===Ve?3:we===Ve?1:5,Se=60*(Se-ft/(Ne-Ve)),Ae=(Ne-Ve)/Ne,De=Ne,{h:zb(Se),s:zb(Ae*100),v:zb(De*100)}},E=function(ae,ce,we){if(ae=(parseInt(ae,10)||0)%360,ce=parseInt(ce,10)/100,we=parseInt(we,10)/100,ce=$O(0,tk(ce,1)),we=$O(0,tk(we,1)),ce===0){s=f=h=zb(255*we);return}var Se=ae/60,Ae=we*ce,De=Ae*(1-Math.abs(Se%2-1)),Ve=we-Ae;switch(Math.floor(Se)){case 0:s=Ae,f=De,h=0;break;case 1:s=De,f=Ae,h=0;break;case 2:s=0,f=Ae,h=De;break;case 3:s=0,f=De,h=Ae;break;case 4:s=De,f=0,h=Ae;break;case 5:s=Ae,f=0,h=De;break;default:s=f=h=0}s=zb(255*(s+Ve)),f=zb(255*(f+Ve)),h=zb(255*(h+Ve))},O=function(){var ae=function(ce){return ce=parseInt(ce,10).toString(16),ce.length>1?ce:"0"+ce};return"#"+ae(s)+ae(f)+ae(h)},R=function(){return{r:s,g:f,b:h}},W=function(){return b(s,f,h)},ne=function(ae){var ce;return typeof ae=="object"?"r"in ae?(s=ae.r,f=ae.g,h=ae.b):"v"in ae&&E(ae.h,ae.s,ae.v):(ce=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(ae))?(s=parseInt(ce[1],10),f=parseInt(ce[2],10),h=parseInt(ce[3],10)):(ce=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(ae))?(s=parseInt(ce[1],16),f=parseInt(ce[2],16),h=parseInt(ce[3],16)):(ce=/#([0-F])([0-F])([0-F])/gi.exec(ae))&&(s=parseInt(ce[1]+ce[1],16),f=parseInt(ce[2]+ce[2],16),h=parseInt(ce[3]+ce[3],16)),s=s<0?0:s>255?255:s,f=f<0?0:f>255?255:f,h=h<0?0:h>255?255:h,r};return e&&ne(e),r.toRgb=R,r.toHsv=W,r.toHex=O,r.parse=ne,r},RV=function(e){var r=JSON.stringify(e);return Te(r)?r.replace(/[\u0080-\uFFFF]/g,function(s){var f=s.charCodeAt(0).toString(16);return"\\u"+"0000".substring(f.length)+f}):r},QP={serialize:RV,parse:function(e){try{return JSON.parse(e)}catch{}}},PV={callbacks:{},count:0,send:function(e){var r=this,s=Wi.DOM,f=e.count!==void 0?e.count:r.count,h="tinymce_jsonp_"+f;r.callbacks[f]=function(b){s.remove(h),delete r.callbacks[f],e.callback(b)},s.add(s.doc.body,"script",{id:h,src:e.url,type:"text/javascript"}),r.count++}},zO=Kn(Kn({},MO),{send:function(e){var r,s=0,f=function(){!e.async||r.readyState===4||s++>1e4?(e.success&&s<1e4&&r.status===200?e.success.call(e.success_scope,""+r.responseText,r,e):e.error&&e.error.call(e.error_scope,s>1e4?"TIMED_OUT":"GENERAL",r,e),r=null):mu.setTimeout(f,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async!==!1,e.data=e.data||"",zO.fire("beforeInitialize",{settings:e}),r=new XMLHttpRequest,r.overrideMimeType&&r.overrideMimeType(e.content_type),r.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(r.withCredentials=!0),e.content_type&&r.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&Tt.each(e.requestheaders,function(h){r.setRequestHeader(h.key,h.value)}),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r=zO.fire("beforeSend",{xhr:r,settings:e}).xhr,r.send(e.data),!e.async)return f();mu.setTimeout(f,10)}}),iN=Tt.extend,IV=function(){function e(r){this.settings=iN({},r),this.count=0}return e.sendRPC=function(r){return new e().send(r)},e.prototype.send=function(r){var s=r.error,f=r.success,h=iN(this.settings,r);h.success=function(b,E){b=QP.parse(b),typeof b>"u"&&(b={error:"JSON Parse error."}),b.error?s.call(h.error_scope||h.scope,b.error,E):f.call(h.success_scope||h.scope,b.result)},h.error=function(b,E){s&&s.call(h.error_scope||h.scope,b,E)},h.data=QP.serialize({id:r.id||"c"+this.count++,method:r.method,params:r.params}),h.content_type="application/json",zO.send(h)},e}(),oN=function(){return function(){var e={},r=[],s={getItem:function(f){var h=e[f];return h||null},setItem:function(f,h){r.push(f),e[f]=String(h)},key:function(f){return r[f]},removeItem:function(f){r=r.filter(function(h){return h===f}),delete e[f]},clear:function(){r=[],e={}},length:0};return Object.defineProperty(s,"length",{get:function(){return r.length},configurable:!1,enumerable:!1}),s}()},IC;try{var e3="__storage_test__";IC=window.localStorage,IC.setItem(e3,e3),IC.removeItem(e3)}catch{IC=oN()}var BV=IC,LV={geom:{Rect:DV},util:{Promise:nu,Delay:mu,Tools:Tt,VK:pr,URI:dp,Class:JP,EventDispatcher:DO,Observable:MO,I18n:Il,XHR:zO,JSON:QP,JSONRequest:IV,JSONP:PV,LocalStorage:BV,Color:aN,ImageUploader:_4},dom:{EventUtils:Bv,Sizzle:vi,DomQuery:Yr,TreeWalker:Wa,TextSeeker:F1,DOMUtils:Wi,ScriptLoader:jd,RangeUtils:p_,Serializer:e4,StyleSheetLoader:uy,ControlSelection:E2,BookmarkManager:sp,Selection:$B,Event:Bv.Event},html:{Styles:Ff,Entities:Hc,Node:yd,Schema:yc,SaxParser:hb,DomParser:BA,Writer:qT,Serializer:M0},Env:rr,AddOnManager:Kl,Annotator:Bx,Formatter:w4,UndoManager:Gh,EditorCommands:Fb,WindowManager:OR,NotificationManager:Km,EditorObservable:qF,Shortcuts:BO,Editor:LO,FocusManager:xT,EditorManager:$b,DOM:Wi.DOM,ScriptLoader:jd.ScriptLoader,PluginManager:_d,ThemeManager:bp,IconManager:NA,Resource:QE,trim:Tt.trim,isArray:Tt.isArray,is:Tt.is,toArray:Tt.toArray,makeMap:Tt.makeMap,each:Tt.each,map:Tt.map,grep:Tt.grep,inArray:Tt.inArray,extend:Tt.extend,create:Tt.create,walk:Tt.walk,createNS:Tt.createNS,resolve:Tt.resolve,explode:Tt.explode,_addCacheSuffix:Tt._addCacheSuffix,isOpera:rr.opera,isWebKit:rr.webkit,isIE:rr.ie,isGecko:rr.gecko,isMac:rr.mac},sN=Tt.extend($b,LV),FV=function(e){try{i.exports=e}catch{}},NV=function(e){window.tinymce=e,window.tinyMCE=e};NV(sN),FV(sN)})()})(kee);var Ybe=kee.exports;const qbe=qZ(Ybe);var Gbe=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,mW=Math.ceil,Ep=Math.floor,am="[BigNumber Error] ",aZ=am+"Number primitive has more than 15 significant digits: ",Y0=1e14,_i=14,gW=9007199254740991,pW=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],WC=1e7,Zf=1e9;function Tee(i){var t,a,u,c=be.prototype={constructor:be,toString:null,valueOf:null},m=new be(1),p=20,x=4,k=-7,D=21,L=-1e7,V=1e7,q=!1,ie=1,ee=0,se={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},Te="0123456789abcdefghijklmnopqrstuvwxyz",_e=!0;function be(K,de){var ve,Ue,ue,Y,$e,He,Ce,rt,We=this;if(!(We instanceof be))return new be(K,de);if(de==null){if(K&&K._isBigNumber===!0){We.s=K.s,!K.c||K.e>V?We.c=We.e=null:K.e<L?We.c=[We.e=0]:(We.e=K.e,We.c=K.c.slice());return}if((He=typeof K=="number")&&K*0==0){if(We.s=1/K<0?(K=-K,-1):1,K===~~K){for(Y=0,$e=K;$e>=10;$e/=10,Y++);Y>V?We.c=We.e=null:(We.e=Y,We.c=[K]);return}rt=String(K)}else{if(!Gbe.test(rt=String(K)))return u(We,rt,He);We.s=rt.charCodeAt(0)==45?(rt=rt.slice(1),-1):1}(Y=rt.indexOf("."))>-1&&(rt=rt.replace(".","")),($e=rt.search(/e/i))>0?(Y<0&&(Y=$e),Y+=+rt.slice($e+1),rt=rt.substring(0,$e)):Y<0&&(Y=rt.length)}else{if(Nl(de,2,Te.length,"Base"),de==10&&_e)return We=new be(K),lt(We,p+We.e+1,x);if(rt=String(K),He=typeof K=="number"){if(K*0!=0)return u(We,rt,He,de);if(We.s=1/K<0?(rt=rt.slice(1),-1):1,be.DEBUG&&rt.replace(/^0\.0*|\./,"").length>15)throw Error(aZ+K)}else We.s=rt.charCodeAt(0)===45?(rt=rt.slice(1),-1):1;for(ve=Te.slice(0,de),Y=$e=0,Ce=rt.length;$e<Ce;$e++)if(ve.indexOf(Ue=rt.charAt($e))<0){if(Ue=="."){if($e>Y){Y=Ce;continue}}else if(!ue&&(rt==rt.toUpperCase()&&(rt=rt.toLowerCase())||rt==rt.toLowerCase()&&(rt=rt.toUpperCase()))){ue=!0,$e=-1,Y=0;continue}return u(We,String(K),He,de)}He=!1,rt=a(rt,de,10,We.s),(Y=rt.indexOf("."))>-1?rt=rt.replace(".",""):Y=rt.length}for($e=0;rt.charCodeAt($e)===48;$e++);for(Ce=rt.length;rt.charCodeAt(--Ce)===48;);if(rt=rt.slice($e,++Ce)){if(Ce-=$e,He&&be.DEBUG&&Ce>15&&(K>gW||K!==Ep(K)))throw Error(aZ+We.s*K);if((Y=Y-$e-1)>V)We.c=We.e=null;else if(Y<L)We.c=[We.e=0];else{if(We.e=Y,We.c=[],$e=(Y+1)%_i,Y<0&&($e+=_i),$e<Ce){for($e&&We.c.push(+rt.slice(0,$e)),Ce-=_i;$e<Ce;)We.c.push(+rt.slice($e,$e+=_i));$e=_i-(rt=rt.slice($e)).length}else $e-=Ce;for(;$e--;rt+="0");We.c.push(+rt)}}else We.c=[We.e=0]}be.clone=Tee,be.ROUND_UP=0,be.ROUND_DOWN=1,be.ROUND_CEIL=2,be.ROUND_FLOOR=3,be.ROUND_HALF_UP=4,be.ROUND_HALF_DOWN=5,be.ROUND_HALF_EVEN=6,be.ROUND_HALF_CEIL=7,be.ROUND_HALF_FLOOR=8,be.EUCLID=9,be.config=be.set=function(K){var de,ve;if(K!=null)if(typeof K=="object"){if(K.hasOwnProperty(de="DECIMAL_PLACES")&&(ve=K[de],Nl(ve,0,Zf,de),p=ve),K.hasOwnProperty(de="ROUNDING_MODE")&&(ve=K[de],Nl(ve,0,8,de),x=ve),K.hasOwnProperty(de="EXPONENTIAL_AT")&&(ve=K[de],ve&&ve.pop?(Nl(ve[0],-Zf,0,de),Nl(ve[1],0,Zf,de),k=ve[0],D=ve[1]):(Nl(ve,-Zf,Zf,de),k=-(D=ve<0?-ve:ve))),K.hasOwnProperty(de="RANGE"))if(ve=K[de],ve&&ve.pop)Nl(ve[0],-Zf,-1,de),Nl(ve[1],1,Zf,de),L=ve[0],V=ve[1];else if(Nl(ve,-Zf,Zf,de),ve)L=-(V=ve<0?-ve:ve);else throw Error(am+de+" cannot be zero: "+ve);if(K.hasOwnProperty(de="CRYPTO"))if(ve=K[de],ve===!!ve)if(ve)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))q=ve;else throw q=!ve,Error(am+"crypto unavailable");else q=ve;else throw Error(am+de+" not true or false: "+ve);if(K.hasOwnProperty(de="MODULO_MODE")&&(ve=K[de],Nl(ve,0,9,de),ie=ve),K.hasOwnProperty(de="POW_PRECISION")&&(ve=K[de],Nl(ve,0,Zf,de),ee=ve),K.hasOwnProperty(de="FORMAT"))if(ve=K[de],typeof ve=="object")se=ve;else throw Error(am+de+" not an object: "+ve);if(K.hasOwnProperty(de="ALPHABET"))if(ve=K[de],typeof ve=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(ve))_e=ve.slice(0,10)=="0123456789",Te=ve;else throw Error(am+de+" invalid: "+ve)}else throw Error(am+"Object expected: "+K);return{DECIMAL_PLACES:p,ROUNDING_MODE:x,EXPONENTIAL_AT:[k,D],RANGE:[L,V],CRYPTO:q,MODULO_MODE:ie,POW_PRECISION:ee,FORMAT:se,ALPHABET:Te}},be.isBigNumber=function(K){if(!K||K._isBigNumber!==!0)return!1;if(!be.DEBUG)return!0;var de,ve,Ue=K.c,ue=K.e,Y=K.s;e:if({}.toString.call(Ue)=="[object Array]"){if((Y===1||Y===-1)&&ue>=-Zf&&ue<=Zf&&ue===Ep(ue)){if(Ue[0]===0){if(ue===0&&Ue.length===1)return!0;break e}if(de=(ue+1)%_i,de<1&&(de+=_i),String(Ue[0]).length==de){for(de=0;de<Ue.length;de++)if(ve=Ue[de],ve<0||ve>=Y0||ve!==Ep(ve))break e;if(ve!==0)return!0}}}else if(Ue===null&&ue===null&&(Y===null||Y===1||Y===-1))return!0;throw Error(am+"Invalid BigNumber: "+K)},be.maximum=be.max=function(){return Pe(arguments,-1)},be.minimum=be.min=function(){return Pe(arguments,1)},be.random=function(){var K=9007199254740992,de=Math.random()*K&2097151?function(){return Ep(Math.random()*K)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(ve){var Ue,ue,Y,$e,He,Ce=0,rt=[],We=new be(m);if(ve==null?ve=p:Nl(ve,0,Zf),$e=mW(ve/_i),q)if(crypto.getRandomValues){for(Ue=crypto.getRandomValues(new Uint32Array($e*=2));Ce<$e;)He=Ue[Ce]*131072+(Ue[Ce+1]>>>11),He>=9e15?(ue=crypto.getRandomValues(new Uint32Array(2)),Ue[Ce]=ue[0],Ue[Ce+1]=ue[1]):(rt.push(He%1e14),Ce+=2);Ce=$e/2}else if(crypto.randomBytes){for(Ue=crypto.randomBytes($e*=7);Ce<$e;)He=(Ue[Ce]&31)*281474976710656+Ue[Ce+1]*1099511627776+Ue[Ce+2]*4294967296+Ue[Ce+3]*16777216+(Ue[Ce+4]<<16)+(Ue[Ce+5]<<8)+Ue[Ce+6],He>=9e15?crypto.randomBytes(7).copy(Ue,Ce):(rt.push(He%1e14),Ce+=7);Ce=$e/7}else throw q=!1,Error(am+"crypto unavailable");if(!q)for(;Ce<$e;)He=de(),He<9e15&&(rt[Ce++]=He%1e14);for($e=rt[--Ce],ve%=_i,$e&&ve&&(He=pW[_i-ve],rt[Ce]=Ep($e/He)*He);rt[Ce]===0;rt.pop(),Ce--);if(Ce<0)rt=[Y=0];else{for(Y=-1;rt[0]===0;rt.splice(0,1),Y-=_i);for(Ce=1,He=rt[0];He>=10;He/=10,Ce++);Ce<_i&&(Y-=_i-Ce)}return We.e=Y,We.c=rt,We}}(),be.sum=function(){for(var K=1,de=arguments,ve=new be(de[0]);K<de.length;)ve=ve.plus(de[K++]);return ve},a=function(){var K="0123456789";function de(ve,Ue,ue,Y){for(var $e,He=[0],Ce,rt=0,We=ve.length;rt<We;){for(Ce=He.length;Ce--;He[Ce]*=Ue);for(He[0]+=Y.indexOf(ve.charAt(rt++)),$e=0;$e<He.length;$e++)He[$e]>ue-1&&(He[$e+1]==null&&(He[$e+1]=0),He[$e+1]+=He[$e]/ue|0,He[$e]%=ue)}return He.reverse()}return function(ve,Ue,ue,Y,$e){var He,Ce,rt,We,z,ln,dt,Dt,mr=ve.indexOf("."),Kr=p,_n=x;for(mr>=0&&(We=ee,ee=0,ve=ve.replace(".",""),Dt=new be(Ue),ln=Dt.pow(ve.length-mr),ee=We,Dt.c=de(hw(Sp(ln.c),ln.e,"0"),10,ue,K),Dt.e=Dt.c.length),dt=de(ve,Ue,ue,$e?(He=Te,K):(He=K,Te)),rt=We=dt.length;dt[--We]==0;dt.pop());if(!dt[0])return He.charAt(0);if(mr<0?--rt:(ln.c=dt,ln.e=rt,ln.s=Y,ln=t(ln,Dt,Kr,_n,ue),dt=ln.c,z=ln.r,rt=ln.e),Ce=rt+Kr+1,mr=dt[Ce],We=ue/2,z=z||Ce<0||dt[Ce+1]!=null,z=_n<4?(mr!=null||z)&&(_n==0||_n==(ln.s<0?3:2)):mr>We||mr==We&&(_n==4||z||_n==6&&dt[Ce-1]&1||_n==(ln.s<0?8:7)),Ce<1||!dt[0])ve=z?hw(He.charAt(1),-Kr,He.charAt(0)):He.charAt(0);else{if(dt.length=Ce,z)for(--ue;++dt[--Ce]>ue;)dt[Ce]=0,Ce||(++rt,dt=[1].concat(dt));for(We=dt.length;!dt[--We];);for(mr=0,ve="";mr<=We;ve+=He.charAt(dt[mr++]));ve=hw(ve,rt,He.charAt(0))}return ve}}(),t=function(){function K(Ue,ue,Y){var $e,He,Ce,rt,We=0,z=Ue.length,ln=ue%WC,dt=ue/WC|0;for(Ue=Ue.slice();z--;)Ce=Ue[z]%WC,rt=Ue[z]/WC|0,$e=dt*Ce+rt*ln,He=ln*Ce+$e%WC*WC+We,We=(He/Y|0)+($e/WC|0)+dt*rt,Ue[z]=He%Y;return We&&(Ue=[We].concat(Ue)),Ue}function de(Ue,ue,Y,$e){var He,Ce;if(Y!=$e)Ce=Y>$e?1:-1;else for(He=Ce=0;He<Y;He++)if(Ue[He]!=ue[He]){Ce=Ue[He]>ue[He]?1:-1;break}return Ce}function ve(Ue,ue,Y,$e){for(var He=0;Y--;)Ue[Y]-=He,He=Ue[Y]<ue[Y]?1:0,Ue[Y]=He*$e+Ue[Y]-ue[Y];for(;!Ue[0]&&Ue.length>1;Ue.splice(0,1));}return function(Ue,ue,Y,$e,He){var Ce,rt,We,z,ln,dt,Dt,mr,Kr,_n,Gn,Ee,qa,Vt,xn,Ga,jt,kt=Ue.s==ue.s?1:-1,Qe=Ue.c,st=ue.c;if(!Qe||!Qe[0]||!st||!st[0])return new be(!Ue.s||!ue.s||(Qe?st&&Qe[0]==st[0]:!st)?NaN:Qe&&Qe[0]==0||!st?kt*0:kt/0);for(mr=new be(kt),Kr=mr.c=[],rt=Ue.e-ue.e,kt=Y+rt+1,He||(He=Y0,rt=kp(Ue.e/_i)-kp(ue.e/_i),kt=kt/_i|0),We=0;st[We]==(Qe[We]||0);We++);if(st[We]>(Qe[We]||0)&&rt--,kt<0)Kr.push(1),z=!0;else{for(Vt=Qe.length,Ga=st.length,We=0,kt+=2,ln=Ep(He/(st[0]+1)),ln>1&&(st=K(st,ln,He),Qe=K(Qe,ln,He),Ga=st.length,Vt=Qe.length),qa=Ga,_n=Qe.slice(0,Ga),Gn=_n.length;Gn<Ga;_n[Gn++]=0);jt=st.slice(),jt=[0].concat(jt),xn=st[0],st[1]>=He/2&&xn++;do{if(ln=0,Ce=de(st,_n,Ga,Gn),Ce<0){if(Ee=_n[0],Ga!=Gn&&(Ee=Ee*He+(_n[1]||0)),ln=Ep(Ee/xn),ln>1)for(ln>=He&&(ln=He-1),dt=K(st,ln,He),Dt=dt.length,Gn=_n.length;de(dt,_n,Dt,Gn)==1;)ln--,ve(dt,Ga<Dt?jt:st,Dt,He),Dt=dt.length,Ce=1;else ln==0&&(Ce=ln=1),dt=st.slice(),Dt=dt.length;if(Dt<Gn&&(dt=[0].concat(dt)),ve(_n,dt,Gn,He),Gn=_n.length,Ce==-1)for(;de(st,_n,Ga,Gn)<1;)ln++,ve(_n,Ga<Gn?jt:st,Gn,He),Gn=_n.length}else Ce===0&&(ln++,_n=[0]);Kr[We++]=ln,_n[0]?_n[Gn++]=Qe[qa]||0:(_n=[Qe[qa]],Gn=1)}while((qa++<Vt||_n[0]!=null)&&kt--);z=_n[0]!=null,Kr[0]||Kr.splice(0,1)}if(He==Y0){for(We=1,kt=Kr[0];kt>=10;kt/=10,We++);lt(mr,Y+(mr.e=We+rt*_i-1)+1,$e,z)}else mr.e=rt,mr.r=+z;return mr}}();function le(K,de,ve,Ue){var ue,Y,$e,He,Ce;if(ve==null?ve=x:Nl(ve,0,8),!K.c)return K.toString();if(ue=K.c[0],$e=K.e,de==null)Ce=Sp(K.c),Ce=Ue==1||Ue==2&&($e<=k||$e>=D)?a5(Ce,$e):hw(Ce,$e,"0");else if(K=lt(new be(K),de,ve),Y=K.e,Ce=Sp(K.c),He=Ce.length,Ue==1||Ue==2&&(de<=Y||Y<=k)){for(;He<de;Ce+="0",He++);Ce=a5(Ce,Y)}else if(de-=$e,Ce=hw(Ce,Y,"0"),Y+1>He){if(--de>0)for(Ce+=".";de--;Ce+="0");}else if(de+=Y-He,de>0)for(Y+1==He&&(Ce+=".");de--;Ce+="0");return K.s<0&&ue?"-"+Ce:Ce}function Pe(K,de){for(var ve,Ue,ue=1,Y=new be(K[0]);ue<K.length;ue++)Ue=new be(K[ue]),(!Ue.s||(ve=pk(Y,Ue))===de||ve===0&&Y.s===de)&&(Y=Ue);return Y}function Oe(K,de,ve){for(var Ue=1,ue=de.length;!de[--ue];de.pop());for(ue=de[0];ue>=10;ue/=10,Ue++);return(ve=Ue+ve*_i-1)>V?K.c=K.e=null:ve<L?K.c=[K.e=0]:(K.e=ve,K.c=de),K}u=function(){var K=/^(-?)0([xbo])(?=\w[\w.]*$)/i,de=/^([^.]+)\.$/,ve=/^\.([^.]+)$/,Ue=/^-?(Infinity|NaN)$/,ue=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(Y,$e,He,Ce){var rt,We=He?$e:$e.replace(ue,"");if(Ue.test(We))Y.s=isNaN(We)?null:We<0?-1:1;else{if(!He&&(We=We.replace(K,function(z,ln,dt){return rt=(dt=dt.toLowerCase())=="x"?16:dt=="b"?2:8,!Ce||Ce==rt?ln:z}),Ce&&(rt=Ce,We=We.replace(de,"$1").replace(ve,"0.$1")),$e!=We))return new be(We,rt);if(be.DEBUG)throw Error(am+"Not a"+(Ce?" base "+Ce:"")+" number: "+$e);Y.s=null}Y.c=Y.e=null}}();function lt(K,de,ve,Ue){var ue,Y,$e,He,Ce,rt,We,z=K.c,ln=pW;if(z){e:{for(ue=1,He=z[0];He>=10;He/=10,ue++);if(Y=de-ue,Y<0)Y+=_i,$e=de,Ce=z[rt=0],We=Ep(Ce/ln[ue-$e-1]%10);else if(rt=mW((Y+1)/_i),rt>=z.length)if(Ue){for(;z.length<=rt;z.push(0));Ce=We=0,ue=1,Y%=_i,$e=Y-_i+1}else break e;else{for(Ce=He=z[rt],ue=1;He>=10;He/=10,ue++);Y%=_i,$e=Y-_i+ue,We=$e<0?0:Ep(Ce/ln[ue-$e-1]%10)}if(Ue=Ue||de<0||z[rt+1]!=null||($e<0?Ce:Ce%ln[ue-$e-1]),Ue=ve<4?(We||Ue)&&(ve==0||ve==(K.s<0?3:2)):We>5||We==5&&(ve==4||Ue||ve==6&&(Y>0?$e>0?Ce/ln[ue-$e]:0:z[rt-1])%10&1||ve==(K.s<0?8:7)),de<1||!z[0])return z.length=0,Ue?(de-=K.e+1,z[0]=ln[(_i-de%_i)%_i],K.e=-de||0):z[0]=K.e=0,K;if(Y==0?(z.length=rt,He=1,rt--):(z.length=rt+1,He=ln[_i-Y],z[rt]=$e>0?Ep(Ce/ln[ue-$e]%ln[$e])*He:0),Ue)for(;;)if(rt==0){for(Y=1,$e=z[0];$e>=10;$e/=10,Y++);for($e=z[0]+=He,He=1;$e>=10;$e/=10,He++);Y!=He&&(K.e++,z[0]==Y0&&(z[0]=1));break}else{if(z[rt]+=He,z[rt]!=Y0)break;z[rt--]=0,He=1}for(Y=z.length;z[--Y]===0;z.pop());}K.e>V?K.c=K.e=null:K.e<L&&(K.c=[K.e=0])}return K}function at(K){var de,ve=K.e;return ve===null?K.toString():(de=Sp(K.c),de=ve<=k||ve>=D?a5(de,ve):hw(de,ve,"0"),K.s<0?"-"+de:de)}return c.absoluteValue=c.abs=function(){var K=new be(this);return K.s<0&&(K.s=1),K},c.comparedTo=function(K,de){return pk(this,new be(K,de))},c.decimalPlaces=c.dp=function(K,de){var ve,Ue,ue,Y=this;if(K!=null)return Nl(K,0,Zf),de==null?de=x:Nl(de,0,8),lt(new be(Y),K+Y.e+1,de);if(!(ve=Y.c))return null;if(Ue=((ue=ve.length-1)-kp(this.e/_i))*_i,ue=ve[ue])for(;ue%10==0;ue/=10,Ue--);return Ue<0&&(Ue=0),Ue},c.dividedBy=c.div=function(K,de){return t(this,new be(K,de),p,x)},c.dividedToIntegerBy=c.idiv=function(K,de){return t(this,new be(K,de),0,1)},c.exponentiatedBy=c.pow=function(K,de){var ve,Ue,ue,Y,$e,He,Ce,rt,We,z=this;if(K=new be(K),K.c&&!K.isInteger())throw Error(am+"Exponent not an integer: "+at(K));if(de!=null&&(de=new be(de)),He=K.e>14,!z.c||!z.c[0]||z.c[0]==1&&!z.e&&z.c.length==1||!K.c||!K.c[0])return We=new be(Math.pow(+at(z),He?K.s*(2-r5(K)):+at(K))),de?We.mod(de):We;if(Ce=K.s<0,de){if(de.c?!de.c[0]:!de.s)return new be(NaN);Ue=!Ce&&z.isInteger()&&de.isInteger(),Ue&&(z=z.mod(de))}else{if(K.e>9&&(z.e>0||z.e<-1||(z.e==0?z.c[0]>1||He&&z.c[1]>=24e7:z.c[0]<8e13||He&&z.c[0]<=9999975e7)))return Y=z.s<0&&r5(K)?-0:0,z.e>-1&&(Y=1/Y),new be(Ce?1/Y:Y);ee&&(Y=mW(ee/_i+2))}for(He?(ve=new be(.5),Ce&&(K.s=1),rt=r5(K)):(ue=Math.abs(+at(K)),rt=ue%2),We=new be(m);;){if(rt){if(We=We.times(z),!We.c)break;Y?We.c.length>Y&&(We.c.length=Y):Ue&&(We=We.mod(de))}if(ue){if(ue=Ep(ue/2),ue===0)break;rt=ue%2}else if(K=K.times(ve),lt(K,K.e+1,1),K.e>14)rt=r5(K);else{if(ue=+at(K),ue===0)break;rt=ue%2}z=z.times(z),Y?z.c&&z.c.length>Y&&(z.c.length=Y):Ue&&(z=z.mod(de))}return Ue?We:(Ce&&(We=m.div(We)),de?We.mod(de):Y?lt(We,ee,x,$e):We)},c.integerValue=function(K){var de=new be(this);return K==null?K=x:Nl(K,0,8),lt(de,de.e+1,K)},c.isEqualTo=c.eq=function(K,de){return pk(this,new be(K,de))===0},c.isFinite=function(){return!!this.c},c.isGreaterThan=c.gt=function(K,de){return pk(this,new be(K,de))>0},c.isGreaterThanOrEqualTo=c.gte=function(K,de){return(de=pk(this,new be(K,de)))===1||de===0},c.isInteger=function(){return!!this.c&&kp(this.e/_i)>this.c.length-2},c.isLessThan=c.lt=function(K,de){return pk(this,new be(K,de))<0},c.isLessThanOrEqualTo=c.lte=function(K,de){return(de=pk(this,new be(K,de)))===-1||de===0},c.isNaN=function(){return!this.s},c.isNegative=function(){return this.s<0},c.isPositive=function(){return this.s>0},c.isZero=function(){return!!this.c&&this.c[0]==0},c.minus=function(K,de){var ve,Ue,ue,Y,$e=this,He=$e.s;if(K=new be(K,de),de=K.s,!He||!de)return new be(NaN);if(He!=de)return K.s=-de,$e.plus(K);var Ce=$e.e/_i,rt=K.e/_i,We=$e.c,z=K.c;if(!Ce||!rt){if(!We||!z)return We?(K.s=-de,K):new be(z?$e:NaN);if(!We[0]||!z[0])return z[0]?(K.s=-de,K):new be(We[0]?$e:x==3?-0:0)}if(Ce=kp(Ce),rt=kp(rt),We=We.slice(),He=Ce-rt){for((Y=He<0)?(He=-He,ue=We):(rt=Ce,ue=z),ue.reverse(),de=He;de--;ue.push(0));ue.reverse()}else for(Ue=(Y=(He=We.length)<(de=z.length))?He:de,He=de=0;de<Ue;de++)if(We[de]!=z[de]){Y=We[de]<z[de];break}if(Y&&(ue=We,We=z,z=ue,K.s=-K.s),de=(Ue=z.length)-(ve=We.length),de>0)for(;de--;We[ve++]=0);for(de=Y0-1;Ue>He;){if(We[--Ue]<z[Ue]){for(ve=Ue;ve&&!We[--ve];We[ve]=de);--We[ve],We[Ue]+=Y0}We[Ue]-=z[Ue]}for(;We[0]==0;We.splice(0,1),--rt);return We[0]?Oe(K,We,rt):(K.s=x==3?-1:1,K.c=[K.e=0],K)},c.modulo=c.mod=function(K,de){var ve,Ue,ue=this;return K=new be(K,de),!ue.c||!K.s||K.c&&!K.c[0]?new be(NaN):!K.c||ue.c&&!ue.c[0]?new be(ue):(ie==9?(Ue=K.s,K.s=1,ve=t(ue,K,0,3),K.s=Ue,ve.s*=Ue):ve=t(ue,K,0,ie),K=ue.minus(ve.times(K)),!K.c[0]&&ie==1&&(K.s=ue.s),K)},c.multipliedBy=c.times=function(K,de){var ve,Ue,ue,Y,$e,He,Ce,rt,We,z,ln,dt,Dt,mr,Kr,_n=this,Gn=_n.c,Ee=(K=new be(K,de)).c;if(!Gn||!Ee||!Gn[0]||!Ee[0])return!_n.s||!K.s||Gn&&!Gn[0]&&!Ee||Ee&&!Ee[0]&&!Gn?K.c=K.e=K.s=null:(K.s*=_n.s,!Gn||!Ee?K.c=K.e=null:(K.c=[0],K.e=0)),K;for(Ue=kp(_n.e/_i)+kp(K.e/_i),K.s*=_n.s,Ce=Gn.length,z=Ee.length,Ce<z&&(Dt=Gn,Gn=Ee,Ee=Dt,ue=Ce,Ce=z,z=ue),ue=Ce+z,Dt=[];ue--;Dt.push(0));for(mr=Y0,Kr=WC,ue=z;--ue>=0;){for(ve=0,ln=Ee[ue]%Kr,dt=Ee[ue]/Kr|0,$e=Ce,Y=ue+$e;Y>ue;)rt=Gn[--$e]%Kr,We=Gn[$e]/Kr|0,He=dt*rt+We*ln,rt=ln*rt+He%Kr*Kr+Dt[Y]+ve,ve=(rt/mr|0)+(He/Kr|0)+dt*We,Dt[Y--]=rt%mr;Dt[Y]=ve}return ve?++Ue:Dt.splice(0,1),Oe(K,Dt,Ue)},c.negated=function(){var K=new be(this);return K.s=-K.s||null,K},c.plus=function(K,de){var ve,Ue=this,ue=Ue.s;if(K=new be(K,de),de=K.s,!ue||!de)return new be(NaN);if(ue!=de)return K.s=-de,Ue.minus(K);var Y=Ue.e/_i,$e=K.e/_i,He=Ue.c,Ce=K.c;if(!Y||!$e){if(!He||!Ce)return new be(ue/0);if(!He[0]||!Ce[0])return Ce[0]?K:new be(He[0]?Ue:ue*0)}if(Y=kp(Y),$e=kp($e),He=He.slice(),ue=Y-$e){for(ue>0?($e=Y,ve=Ce):(ue=-ue,ve=He),ve.reverse();ue--;ve.push(0));ve.reverse()}for(ue=He.length,de=Ce.length,ue-de<0&&(ve=Ce,Ce=He,He=ve,de=ue),ue=0;de;)ue=(He[--de]=He[de]+Ce[de]+ue)/Y0|0,He[de]=Y0===He[de]?0:He[de]%Y0;return ue&&(He=[ue].concat(He),++$e),Oe(K,He,$e)},c.precision=c.sd=function(K,de){var ve,Ue,ue,Y=this;if(K!=null&&K!==!!K)return Nl(K,1,Zf),de==null?de=x:Nl(de,0,8),lt(new be(Y),K,de);if(!(ve=Y.c))return null;if(ue=ve.length-1,Ue=ue*_i+1,ue=ve[ue]){for(;ue%10==0;ue/=10,Ue--);for(ue=ve[0];ue>=10;ue/=10,Ue++);}return K&&Y.e+1>Ue&&(Ue=Y.e+1),Ue},c.shiftedBy=function(K){return Nl(K,-gW,gW),this.times("1e"+K)},c.squareRoot=c.sqrt=function(){var K,de,ve,Ue,ue,Y=this,$e=Y.c,He=Y.s,Ce=Y.e,rt=p+4,We=new be("0.5");if(He!==1||!$e||!$e[0])return new be(!He||He<0&&(!$e||$e[0])?NaN:$e?Y:1/0);if(He=Math.sqrt(+at(Y)),He==0||He==1/0?(de=Sp($e),(de.length+Ce)%2==0&&(de+="0"),He=Math.sqrt(+de),Ce=kp((Ce+1)/2)-(Ce<0||Ce%2),He==1/0?de="5e"+Ce:(de=He.toExponential(),de=de.slice(0,de.indexOf("e")+1)+Ce),ve=new be(de)):ve=new be(He+""),ve.c[0]){for(Ce=ve.e,He=Ce+rt,He<3&&(He=0);;)if(ue=ve,ve=We.times(ue.plus(t(Y,ue,rt,1))),Sp(ue.c).slice(0,He)===(de=Sp(ve.c)).slice(0,He))if(ve.e<Ce&&--He,de=de.slice(He-3,He+1),de=="9999"||!Ue&&de=="4999"){if(!Ue&&(lt(ue,ue.e+p+2,0),ue.times(ue).eq(Y))){ve=ue;break}rt+=4,He+=4,Ue=1}else{(!+de||!+de.slice(1)&&de.charAt(0)=="5")&&(lt(ve,ve.e+p+2,1),K=!ve.times(ve).eq(Y));break}}return lt(ve,ve.e+p+1,x,K)},c.toExponential=function(K,de){return K!=null&&(Nl(K,0,Zf),K++),le(this,K,de,1)},c.toFixed=function(K,de){return K!=null&&(Nl(K,0,Zf),K=K+this.e+1),le(this,K,de)},c.toFormat=function(K,de,ve){var Ue,ue=this;if(ve==null)K!=null&&de&&typeof de=="object"?(ve=de,de=null):K&&typeof K=="object"?(ve=K,K=de=null):ve=se;else if(typeof ve!="object")throw Error(am+"Argument not an object: "+ve);if(Ue=ue.toFixed(K,de),ue.c){var Y,$e=Ue.split("."),He=+ve.groupSize,Ce=+ve.secondaryGroupSize,rt=ve.groupSeparator||"",We=$e[0],z=$e[1],ln=ue.s<0,dt=ln?We.slice(1):We,Dt=dt.length;if(Ce&&(Y=He,He=Ce,Ce=Y,Dt-=Y),He>0&&Dt>0){for(Y=Dt%He||He,We=dt.substr(0,Y);Y<Dt;Y+=He)We+=rt+dt.substr(Y,He);Ce>0&&(We+=rt+dt.slice(Y)),ln&&(We="-"+We)}Ue=z?We+(ve.decimalSeparator||"")+((Ce=+ve.fractionGroupSize)?z.replace(new RegExp("\\d{"+Ce+"}\\B","g"),"$&"+(ve.fractionGroupSeparator||"")):z):We}return(ve.prefix||"")+Ue+(ve.suffix||"")},c.toFraction=function(K){var de,ve,Ue,ue,Y,$e,He,Ce,rt,We,z,ln,dt=this,Dt=dt.c;if(K!=null&&(He=new be(K),!He.isInteger()&&(He.c||He.s!==1)||He.lt(m)))throw Error(am+"Argument "+(He.isInteger()?"out of range: ":"not an integer: ")+at(He));if(!Dt)return new be(dt);for(de=new be(m),rt=ve=new be(m),Ue=Ce=new be(m),ln=Sp(Dt),Y=de.e=ln.length-dt.e-1,de.c[0]=pW[($e=Y%_i)<0?_i+$e:$e],K=!K||He.comparedTo(de)>0?Y>0?de:rt:He,$e=V,V=1/0,He=new be(ln),Ce.c[0]=0;We=t(He,de,0,1),ue=ve.plus(We.times(Ue)),ue.comparedTo(K)!=1;)ve=Ue,Ue=ue,rt=Ce.plus(We.times(ue=rt)),Ce=ue,de=He.minus(We.times(ue=de)),He=ue;return ue=t(K.minus(ve),Ue,0,1),Ce=Ce.plus(ue.times(rt)),ve=ve.plus(ue.times(Ue)),Ce.s=rt.s=dt.s,Y=Y*2,z=t(rt,Ue,Y,x).minus(dt).abs().comparedTo(t(Ce,ve,Y,x).minus(dt).abs())<1?[rt,Ue]:[Ce,ve],V=$e,z},c.toNumber=function(){return+at(this)},c.toPrecision=function(K,de){return K!=null&&Nl(K,1,Zf),le(this,K,de,2)},c.toString=function(K){var de,ve=this,Ue=ve.s,ue=ve.e;return ue===null?Ue?(de="Infinity",Ue<0&&(de="-"+de)):de="NaN":(K==null?de=ue<=k||ue>=D?a5(Sp(ve.c),ue):hw(Sp(ve.c),ue,"0"):K===10&&_e?(ve=lt(new be(ve),p+ue+1,x),de=hw(Sp(ve.c),ve.e,"0")):(Nl(K,2,Te.length,"Base"),de=a(hw(Sp(ve.c),ue,"0"),10,K,Ue,!0)),Ue<0&&ve.c[0]&&(de="-"+de)),de},c.valueOf=c.toJSON=function(){return at(this)},c._isBigNumber=!0,c[Symbol.toStringTag]="BigNumber",c[Symbol.for("nodejs.util.inspect.custom")]=c.valueOf,i!=null&&be.set(i),be}function kp(i){var t=i|0;return i>0||i===t?t:t-1}function Sp(i){for(var t,a,u=1,c=i.length,m=i[0]+"";u<c;){for(t=i[u++]+"",a=_i-t.length;a--;t="0"+t);m+=t}for(c=m.length;m.charCodeAt(--c)===48;);return m.slice(0,c+1||1)}function pk(i,t){var a,u,c=i.c,m=t.c,p=i.s,x=t.s,k=i.e,D=t.e;if(!p||!x)return null;if(a=c&&!c[0],u=m&&!m[0],a||u)return a?u?0:-x:p;if(p!=x)return p;if(a=p<0,u=k==D,!c||!m)return u?0:!c^a?1:-1;if(!u)return k>D^a?1:-1;for(x=(k=c.length)<(D=m.length)?k:D,p=0;p<x;p++)if(c[p]!=m[p])return c[p]>m[p]^a?1:-1;return k==D?0:k>D^a?1:-1}function Nl(i,t,a,u){if(i<t||i>a||i!==Ep(i))throw Error(am+(u||"Argument")+(typeof i=="number"?i<t||i>a?" out of range: ":" not an integer: ":" not a primitive number: ")+String(i))}function r5(i){var t=i.c.length-1;return kp(i.e/_i)==t&&i.c[t]%2!=0}function a5(i,t){return(i.length>1?i.charAt(0)+"."+i.slice(1):i)+(t<0?"e":"e+")+t}function hw(i,t,a){var u,c;if(t<0){for(c=a+".";++t;c+=a);i=c+i}else if(u=i.length,++t>u){for(c=a,t-=u;--t;c+=a);i+=c}else t<u&&(i=i.slice(0,t)+"."+i.slice(t));return i}var Kbe=Tee();//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var Aee;function Sr(){return Aee.apply(null,arguments)}function Xbe(i){Aee=i}function Z0(i){return i instanceof Array||Object.prototype.toString.call(i)==="[object Array]"}function Mk(i){return i!=null&&Object.prototype.toString.call(i)==="[object Object]"}function zo(i,t){return Object.prototype.hasOwnProperty.call(i,t)}function aY(i){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(i).length===0;var t;for(t in i)if(zo(i,t))return!1;return!0}function im(i){return i===void 0}function Iw(i){return typeof i=="number"||Object.prototype.toString.call(i)==="[object Number]"}function dI(i){return i instanceof Date||Object.prototype.toString.call(i)==="[object Date]"}function Oee(i,t){var a=[],u,c=i.length;for(u=0;u<c;++u)a.push(t(i[u],u));return a}function XC(i,t){for(var a in t)zo(t,a)&&(i[a]=t[a]);return zo(t,"toString")&&(i.toString=t.toString),zo(t,"valueOf")&&(i.valueOf=t.valueOf),i}function ny(i,t,a,u){return Qee(i,t,a,u,!0).utc()}function Zbe(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Oi(i){return i._pf==null&&(i._pf=Zbe()),i._pf}var sj;Array.prototype.some?sj=Array.prototype.some:sj=function(i){var t=Object(this),a=t.length>>>0,u;for(u=0;u<a;u++)if(u in t&&i.call(this,t[u],u,t))return!0;return!1};function iY(i){if(i._isValid==null){var t=Oi(i),a=sj.call(t.parsedDateParts,function(c){return c!=null}),u=!isNaN(i._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&a);if(i._strict&&(u=u&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(i))i._isValid=u;else return u}return i._isValid}function A6(i){var t=ny(NaN);return i!=null?XC(Oi(t),i):Oi(t).userInvalidated=!0,t}var iZ=Sr.momentProperties=[],bW=!1;function oY(i,t){var a,u,c,m=iZ.length;if(im(t._isAMomentObject)||(i._isAMomentObject=t._isAMomentObject),im(t._i)||(i._i=t._i),im(t._f)||(i._f=t._f),im(t._l)||(i._l=t._l),im(t._strict)||(i._strict=t._strict),im(t._tzm)||(i._tzm=t._tzm),im(t._isUTC)||(i._isUTC=t._isUTC),im(t._offset)||(i._offset=t._offset),im(t._pf)||(i._pf=Oi(t)),im(t._locale)||(i._locale=t._locale),m>0)for(a=0;a<m;a++)u=iZ[a],c=t[u],im(c)||(i[u]=c);return i}function vI(i){oY(this,i),this._d=new Date(i._d!=null?i._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),bW===!1&&(bW=!0,Sr.updateOffset(this),bW=!1)}function J0(i){return i instanceof vI||i!=null&&i._isAMomentObject!=null}function Dee(i){Sr.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+i)}function Bp(i,t){var a=!0;return XC(function(){if(Sr.deprecationHandler!=null&&Sr.deprecationHandler(null,i),a){var u=[],c,m,p,x=arguments.length;for(m=0;m<x;m++){if(c="",typeof arguments[m]=="object"){c+=`
[`+m+"] ";for(p in arguments[0])zo(arguments[0],p)&&(c+=p+": "+arguments[0][p]+", ");c=c.slice(0,-2)}else c=arguments[m];u.push(c)}Dee(i+`
Arguments: `+Array.prototype.slice.call(u).join("")+`
`+new Error().stack),a=!1}return t.apply(this,arguments)},t)}var oZ={};function Mee(i,t){Sr.deprecationHandler!=null&&Sr.deprecationHandler(i,t),oZ[i]||(Dee(t),oZ[i]=!0)}Sr.suppressDeprecationWarnings=!1;Sr.deprecationHandler=null;function ry(i){return typeof Function<"u"&&i instanceof Function||Object.prototype.toString.call(i)==="[object Function]"}function Jbe(i){var t,a;for(a in i)zo(i,a)&&(t=i[a],ry(t)?this[a]=t:this["_"+a]=t);this._config=i,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function uj(i,t){var a=XC({},i),u;for(u in t)zo(t,u)&&(Mk(i[u])&&Mk(t[u])?(a[u]={},XC(a[u],i[u]),XC(a[u],t[u])):t[u]!=null?a[u]=t[u]:delete a[u]);for(u in i)zo(i,u)&&!zo(t,u)&&Mk(i[u])&&(a[u]=XC({},a[u]));return a}function sY(i){i!=null&&this.set(i)}var lj;Object.keys?lj=Object.keys:lj=function(i){var t,a=[];for(t in i)zo(i,t)&&a.push(t);return a};var Qbe={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function eye(i,t,a){var u=this._calendar[i]||this._calendar.sameElse;return ry(u)?u.call(t,a):u}function ey(i,t,a){var u=""+Math.abs(i),c=t-u.length,m=i>=0;return(m?a?"+":"":"-")+Math.pow(10,Math.max(0,c)).toString().substr(1)+u}var uY=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,i5=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,yW={},uD={};function ha(i,t,a,u){var c=u;typeof u=="string"&&(c=function(){return this[u]()}),i&&(uD[i]=c),t&&(uD[t[0]]=function(){return ey(c.apply(this,arguments),t[1],t[2])}),a&&(uD[a]=function(){return this.localeData().ordinal(c.apply(this,arguments),i)})}function tye(i){return i.match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"")}function nye(i){var t=i.match(uY),a,u;for(a=0,u=t.length;a<u;a++)uD[t[a]]?t[a]=uD[t[a]]:t[a]=tye(t[a]);return function(c){var m="",p;for(p=0;p<u;p++)m+=ry(t[p])?t[p].call(c,i):t[p];return m}}function M5(i,t){return i.isValid()?(t=Ree(t,i.localeData()),yW[t]=yW[t]||nye(t),yW[t](i)):i.localeData().invalidDate()}function Ree(i,t){var a=5;function u(c){return t.longDateFormat(c)||c}for(i5.lastIndex=0;a>=0&&i5.test(i);)i=i.replace(i5,u),i5.lastIndex=0,a-=1;return i}var rye={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function aye(i){var t=this._longDateFormat[i],a=this._longDateFormat[i.toUpperCase()];return t||!a?t:(this._longDateFormat[i]=a.match(uY).map(function(u){return u==="MMMM"||u==="MM"||u==="DD"||u==="dddd"?u.slice(1):u}).join(""),this._longDateFormat[i])}var iye="Invalid date";function oye(){return this._invalidDate}var sye="%d",uye=/\d{1,2}/;function lye(i){return this._ordinal.replace("%d",i)}var cye={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function fye(i,t,a,u){var c=this._relativeTime[a];return ry(c)?c(i,t,a,u):c.replace(/%d/i,i)}function dye(i,t){var a=this._relativeTime[i>0?"future":"past"];return ry(a)?a(t):a.replace(/%s/i,t)}var L3={};function fv(i,t){var a=i.toLowerCase();L3[a]=L3[a+"s"]=L3[t]=i}function Lp(i){return typeof i=="string"?L3[i]||L3[i.toLowerCase()]:void 0}function lY(i){var t={},a,u;for(u in i)zo(i,u)&&(a=Lp(u),a&&(t[a]=i[u]));return t}var Pee={};function dv(i,t){Pee[i]=t}function vye(i){var t=[],a;for(a in i)zo(i,a)&&t.push({unit:a,priority:Pee[a]});return t.sort(function(u,c){return u.priority-c.priority}),t}function O6(i){return i%4===0&&i%100!==0||i%400===0}function Op(i){return i<0?Math.ceil(i)||0:Math.floor(i)}function Gi(i){var t=+i,a=0;return t!==0&&isFinite(t)&&(a=Op(t)),a}function AD(i,t){return function(a){return a!=null?(Iee(this,i,a),Sr.updateOffset(this,t),this):t6(this,i)}}function t6(i,t){return i.isValid()?i._d["get"+(i._isUTC?"UTC":"")+t]():NaN}function Iee(i,t,a){i.isValid()&&!isNaN(a)&&(t==="FullYear"&&O6(i.year())&&i.month()===1&&i.date()===29?(a=Gi(a),i._d["set"+(i._isUTC?"UTC":"")+t](a,i.month(),B6(a,i.month()))):i._d["set"+(i._isUTC?"UTC":"")+t](a))}function hye(i){return i=Lp(i),ry(this[i])?this[i]():this}function mye(i,t){if(typeof i=="object"){i=lY(i);var a=vye(i),u,c=a.length;for(u=0;u<c;u++)this[a[u].unit](i[a[u].unit])}else if(i=Lp(i),ry(this[i]))return this[i](t);return this}var Bee=/\d/,vg=/\d\d/,Lee=/\d{3}/,cY=/\d{4}/,D6=/[+-]?\d{6}/,Ku=/\d\d?/,Fee=/\d\d\d\d?/,Nee=/\d\d\d\d\d\d?/,M6=/\d{1,3}/,fY=/\d{1,4}/,R6=/[+-]?\d{1,6}/,OD=/\d+/,P6=/[+-]?\d+/,gye=/Z|[+-]\d\d:?\d\d/gi,I6=/Z|[+-]\d\d(?::?\d\d)?/gi,pye=/[+-]?\d+(\.\d{1,3})?/,hI=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,n6;n6={};function Nr(i,t,a){n6[i]=ry(t)?t:function(u,c){return u&&a?a:t}}function bye(i,t){return zo(n6,i)?n6[i](t._strict,t._locale):new RegExp(yye(i))}function yye(i){return ug(i.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,a,u,c,m){return a||u||c||m}))}function ug(i){return i.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var cj={};function Gs(i,t){var a,u=t,c;for(typeof i=="string"&&(i=[i]),Iw(t)&&(u=function(m,p){p[t]=Gi(m)}),c=i.length,a=0;a<c;a++)cj[i[a]]=u}function mI(i,t){Gs(i,function(a,u,c,m){c._w=c._w||{},t(a,c._w,c,m)})}function _ye(i,t,a){t!=null&&zo(cj,i)&&cj[i](t,a._a,a,i)}var lv=0,Tw=1,Kb=2,Ef=3,K0=4,Aw=5,Tk=6,wye=7,xye=8;function Cye(i,t){return(i%t+t)%t}var Oc;Array.prototype.indexOf?Oc=Array.prototype.indexOf:Oc=function(i){var t;for(t=0;t<this.length;++t)if(this[t]===i)return t;return-1};function B6(i,t){if(isNaN(i)||isNaN(t))return NaN;var a=Cye(t,12);return i+=(t-a)/12,a===1?O6(i)?29:28:31-a%7%2}ha("M",["MM",2],"Mo",function(){return this.month()+1});ha("MMM",0,0,function(i){return this.localeData().monthsShort(this,i)});ha("MMMM",0,0,function(i){return this.localeData().months(this,i)});fv("month","M");dv("month",8);Nr("M",Ku);Nr("MM",Ku,vg);Nr("MMM",function(i,t){return t.monthsShortRegex(i)});Nr("MMMM",function(i,t){return t.monthsRegex(i)});Gs(["M","MM"],function(i,t){t[Tw]=Gi(i)-1});Gs(["MMM","MMMM"],function(i,t,a,u){var c=a._locale.monthsParse(i,u,a._strict);c!=null?t[Tw]=c:Oi(a).invalidMonth=i});var Sye="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),$ee="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),zee=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Eye=hI,kye=hI;function Tye(i,t){return i?Z0(this._months)?this._months[i.month()]:this._months[(this._months.isFormat||zee).test(t)?"format":"standalone"][i.month()]:Z0(this._months)?this._months:this._months.standalone}function Aye(i,t){return i?Z0(this._monthsShort)?this._monthsShort[i.month()]:this._monthsShort[zee.test(t)?"format":"standalone"][i.month()]:Z0(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Oye(i,t,a){var u,c,m,p=i.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],u=0;u<12;++u)m=ny([2e3,u]),this._shortMonthsParse[u]=this.monthsShort(m,"").toLocaleLowerCase(),this._longMonthsParse[u]=this.months(m,"").toLocaleLowerCase();return a?t==="MMM"?(c=Oc.call(this._shortMonthsParse,p),c!==-1?c:null):(c=Oc.call(this._longMonthsParse,p),c!==-1?c:null):t==="MMM"?(c=Oc.call(this._shortMonthsParse,p),c!==-1?c:(c=Oc.call(this._longMonthsParse,p),c!==-1?c:null)):(c=Oc.call(this._longMonthsParse,p),c!==-1?c:(c=Oc.call(this._shortMonthsParse,p),c!==-1?c:null))}function Dye(i,t,a){var u,c,m;if(this._monthsParseExact)return Oye.call(this,i,t,a);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),u=0;u<12;u++){if(c=ny([2e3,u]),a&&!this._longMonthsParse[u]&&(this._longMonthsParse[u]=new RegExp("^"+this.months(c,"").replace(".","")+"$","i"),this._shortMonthsParse[u]=new RegExp("^"+this.monthsShort(c,"").replace(".","")+"$","i")),!a&&!this._monthsParse[u]&&(m="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[u]=new RegExp(m.replace(".",""),"i")),a&&t==="MMMM"&&this._longMonthsParse[u].test(i))return u;if(a&&t==="MMM"&&this._shortMonthsParse[u].test(i))return u;if(!a&&this._monthsParse[u].test(i))return u}}function Hee(i,t){var a;if(!i.isValid())return i;if(typeof t=="string"){if(/^\d+$/.test(t))t=Gi(t);else if(t=i.localeData().monthsParse(t),!Iw(t))return i}return a=Math.min(i.date(),B6(i.year(),t)),i._d["set"+(i._isUTC?"UTC":"")+"Month"](t,a),i}function Vee(i){return i!=null?(Hee(this,i),Sr.updateOffset(this,!0),this):t6(this,"Month")}function Mye(){return B6(this.year(),this.month())}function Rye(i){return this._monthsParseExact?(zo(this,"_monthsRegex")||Uee.call(this),i?this._monthsShortStrictRegex:this._monthsShortRegex):(zo(this,"_monthsShortRegex")||(this._monthsShortRegex=Eye),this._monthsShortStrictRegex&&i?this._monthsShortStrictRegex:this._monthsShortRegex)}function Pye(i){return this._monthsParseExact?(zo(this,"_monthsRegex")||Uee.call(this),i?this._monthsStrictRegex:this._monthsRegex):(zo(this,"_monthsRegex")||(this._monthsRegex=kye),this._monthsStrictRegex&&i?this._monthsStrictRegex:this._monthsRegex)}function Uee(){function i(p,x){return x.length-p.length}var t=[],a=[],u=[],c,m;for(c=0;c<12;c++)m=ny([2e3,c]),t.push(this.monthsShort(m,"")),a.push(this.months(m,"")),u.push(this.months(m,"")),u.push(this.monthsShort(m,""));for(t.sort(i),a.sort(i),u.sort(i),c=0;c<12;c++)t[c]=ug(t[c]),a[c]=ug(a[c]);for(c=0;c<24;c++)u[c]=ug(u[c]);this._monthsRegex=new RegExp("^("+u.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}ha("Y",0,0,function(){var i=this.year();return i<=9999?ey(i,4):"+"+i});ha(0,["YY",2],0,function(){return this.year()%100});ha(0,["YYYY",4],0,"year");ha(0,["YYYYY",5],0,"year");ha(0,["YYYYYY",6,!0],0,"year");fv("year","y");dv("year",1);Nr("Y",P6);Nr("YY",Ku,vg);Nr("YYYY",fY,cY);Nr("YYYYY",R6,D6);Nr("YYYYYY",R6,D6);Gs(["YYYYY","YYYYYY"],lv);Gs("YYYY",function(i,t){t[lv]=i.length===2?Sr.parseTwoDigitYear(i):Gi(i)});Gs("YY",function(i,t){t[lv]=Sr.parseTwoDigitYear(i)});Gs("Y",function(i,t){t[lv]=parseInt(i,10)});function F3(i){return O6(i)?366:365}Sr.parseTwoDigitYear=function(i){return Gi(i)+(Gi(i)>68?1900:2e3)};var Wee=AD("FullYear",!0);function Iye(){return O6(this.year())}function Bye(i,t,a,u,c,m,p){var x;return i<100&&i>=0?(x=new Date(i+400,t,a,u,c,m,p),isFinite(x.getFullYear())&&x.setFullYear(i)):x=new Date(i,t,a,u,c,m,p),x}function J3(i){var t,a;return i<100&&i>=0?(a=Array.prototype.slice.call(arguments),a[0]=i+400,t=new Date(Date.UTC.apply(null,a)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(i)):t=new Date(Date.UTC.apply(null,arguments)),t}function r6(i,t,a){var u=7+t-a,c=(7+J3(i,0,u).getUTCDay()-t)%7;return-c+u-1}function jee(i,t,a,u,c){var m=(7+a-u)%7,p=r6(i,u,c),x=1+7*(t-1)+m+p,k,D;return x<=0?(k=i-1,D=F3(k)+x):x>F3(i)?(k=i+1,D=x-F3(i)):(k=i,D=x),{year:k,dayOfYear:D}}function Q3(i,t,a){var u=r6(i.year(),t,a),c=Math.floor((i.dayOfYear()-u-1)/7)+1,m,p;return c<1?(p=i.year()-1,m=c+Rw(p,t,a)):c>Rw(i.year(),t,a)?(m=c-Rw(i.year(),t,a),p=i.year()+1):(p=i.year(),m=c),{week:m,year:p}}function Rw(i,t,a){var u=r6(i,t,a),c=r6(i+1,t,a);return(F3(i)-u+c)/7}ha("w",["ww",2],"wo","week");ha("W",["WW",2],"Wo","isoWeek");fv("week","w");fv("isoWeek","W");dv("week",5);dv("isoWeek",5);Nr("w",Ku);Nr("ww",Ku,vg);Nr("W",Ku);Nr("WW",Ku,vg);mI(["w","ww","W","WW"],function(i,t,a,u){t[u.substr(0,1)]=Gi(i)});function Lye(i){return Q3(i,this._week.dow,this._week.doy).week}var Fye={dow:0,doy:6};function Nye(){return this._week.dow}function $ye(){return this._week.doy}function zye(i){var t=this.localeData().week(this);return i==null?t:this.add((i-t)*7,"d")}function Hye(i){var t=Q3(this,1,4).week;return i==null?t:this.add((i-t)*7,"d")}ha("d",0,"do","day");ha("dd",0,0,function(i){return this.localeData().weekdaysMin(this,i)});ha("ddd",0,0,function(i){return this.localeData().weekdaysShort(this,i)});ha("dddd",0,0,function(i){return this.localeData().weekdays(this,i)});ha("e",0,0,"weekday");ha("E",0,0,"isoWeekday");fv("day","d");fv("weekday","e");fv("isoWeekday","E");dv("day",11);dv("weekday",11);dv("isoWeekday",11);Nr("d",Ku);Nr("e",Ku);Nr("E",Ku);Nr("dd",function(i,t){return t.weekdaysMinRegex(i)});Nr("ddd",function(i,t){return t.weekdaysShortRegex(i)});Nr("dddd",function(i,t){return t.weekdaysRegex(i)});mI(["dd","ddd","dddd"],function(i,t,a,u){var c=a._locale.weekdaysParse(i,u,a._strict);c!=null?t.d=c:Oi(a).invalidWeekday=i});mI(["d","e","E"],function(i,t,a,u){t[u]=Gi(i)});function Vye(i,t){return typeof i!="string"?i:isNaN(i)?(i=t.weekdaysParse(i),typeof i=="number"?i:null):parseInt(i,10)}function Uye(i,t){return typeof i=="string"?t.weekdaysParse(i)%7||7:isNaN(i)?null:i}function dY(i,t){return i.slice(t,7).concat(i.slice(0,t))}var Wye="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Yee="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),jye="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Yye=hI,qye=hI,Gye=hI;function Kye(i,t){var a=Z0(this._weekdays)?this._weekdays:this._weekdays[i&&i!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return i===!0?dY(a,this._week.dow):i?a[i.day()]:a}function Xye(i){return i===!0?dY(this._weekdaysShort,this._week.dow):i?this._weekdaysShort[i.day()]:this._weekdaysShort}function Zye(i){return i===!0?dY(this._weekdaysMin,this._week.dow):i?this._weekdaysMin[i.day()]:this._weekdaysMin}function Jye(i,t,a){var u,c,m,p=i.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],u=0;u<7;++u)m=ny([2e3,1]).day(u),this._minWeekdaysParse[u]=this.weekdaysMin(m,"").toLocaleLowerCase(),this._shortWeekdaysParse[u]=this.weekdaysShort(m,"").toLocaleLowerCase(),this._weekdaysParse[u]=this.weekdays(m,"").toLocaleLowerCase();return a?t==="dddd"?(c=Oc.call(this._weekdaysParse,p),c!==-1?c:null):t==="ddd"?(c=Oc.call(this._shortWeekdaysParse,p),c!==-1?c:null):(c=Oc.call(this._minWeekdaysParse,p),c!==-1?c:null):t==="dddd"?(c=Oc.call(this._weekdaysParse,p),c!==-1||(c=Oc.call(this._shortWeekdaysParse,p),c!==-1)?c:(c=Oc.call(this._minWeekdaysParse,p),c!==-1?c:null)):t==="ddd"?(c=Oc.call(this._shortWeekdaysParse,p),c!==-1||(c=Oc.call(this._weekdaysParse,p),c!==-1)?c:(c=Oc.call(this._minWeekdaysParse,p),c!==-1?c:null)):(c=Oc.call(this._minWeekdaysParse,p),c!==-1||(c=Oc.call(this._weekdaysParse,p),c!==-1)?c:(c=Oc.call(this._shortWeekdaysParse,p),c!==-1?c:null))}function Qye(i,t,a){var u,c,m;if(this._weekdaysParseExact)return Jye.call(this,i,t,a);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),u=0;u<7;u++){if(c=ny([2e3,1]).day(u),a&&!this._fullWeekdaysParse[u]&&(this._fullWeekdaysParse[u]=new RegExp("^"+this.weekdays(c,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[u]=new RegExp("^"+this.weekdaysShort(c,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[u]=new RegExp("^"+this.weekdaysMin(c,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[u]||(m="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[u]=new RegExp(m.replace(".",""),"i")),a&&t==="dddd"&&this._fullWeekdaysParse[u].test(i))return u;if(a&&t==="ddd"&&this._shortWeekdaysParse[u].test(i))return u;if(a&&t==="dd"&&this._minWeekdaysParse[u].test(i))return u;if(!a&&this._weekdaysParse[u].test(i))return u}}function e_e(i){if(!this.isValid())return i!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return i!=null?(i=Vye(i,this.localeData()),this.add(i-t,"d")):t}function t_e(i){if(!this.isValid())return i!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return i==null?t:this.add(i-t,"d")}function n_e(i){if(!this.isValid())return i!=null?this:NaN;if(i!=null){var t=Uye(i,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function r_e(i){return this._weekdaysParseExact?(zo(this,"_weekdaysRegex")||vY.call(this),i?this._weekdaysStrictRegex:this._weekdaysRegex):(zo(this,"_weekdaysRegex")||(this._weekdaysRegex=Yye),this._weekdaysStrictRegex&&i?this._weekdaysStrictRegex:this._weekdaysRegex)}function a_e(i){return this._weekdaysParseExact?(zo(this,"_weekdaysRegex")||vY.call(this),i?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(zo(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=qye),this._weekdaysShortStrictRegex&&i?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function i_e(i){return this._weekdaysParseExact?(zo(this,"_weekdaysRegex")||vY.call(this),i?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(zo(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Gye),this._weekdaysMinStrictRegex&&i?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function vY(){function i(L,V){return V.length-L.length}var t=[],a=[],u=[],c=[],m,p,x,k,D;for(m=0;m<7;m++)p=ny([2e3,1]).day(m),x=ug(this.weekdaysMin(p,"")),k=ug(this.weekdaysShort(p,"")),D=ug(this.weekdays(p,"")),t.push(x),a.push(k),u.push(D),c.push(x),c.push(k),c.push(D);t.sort(i),a.sort(i),u.sort(i),c.sort(i),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function hY(){return this.hours()%12||12}function o_e(){return this.hours()||24}ha("H",["HH",2],0,"hour");ha("h",["hh",2],0,hY);ha("k",["kk",2],0,o_e);ha("hmm",0,0,function(){return""+hY.apply(this)+ey(this.minutes(),2)});ha("hmmss",0,0,function(){return""+hY.apply(this)+ey(this.minutes(),2)+ey(this.seconds(),2)});ha("Hmm",0,0,function(){return""+this.hours()+ey(this.minutes(),2)});ha("Hmmss",0,0,function(){return""+this.hours()+ey(this.minutes(),2)+ey(this.seconds(),2)});function qee(i,t){ha(i,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}qee("a",!0);qee("A",!1);fv("hour","h");dv("hour",13);function Gee(i,t){return t._meridiemParse}Nr("a",Gee);Nr("A",Gee);Nr("H",Ku);Nr("h",Ku);Nr("k",Ku);Nr("HH",Ku,vg);Nr("hh",Ku,vg);Nr("kk",Ku,vg);Nr("hmm",Fee);Nr("hmmss",Nee);Nr("Hmm",Fee);Nr("Hmmss",Nee);Gs(["H","HH"],Ef);Gs(["k","kk"],function(i,t,a){var u=Gi(i);t[Ef]=u===24?0:u});Gs(["a","A"],function(i,t,a){a._isPm=a._locale.isPM(i),a._meridiem=i});Gs(["h","hh"],function(i,t,a){t[Ef]=Gi(i),Oi(a).bigHour=!0});Gs("hmm",function(i,t,a){var u=i.length-2;t[Ef]=Gi(i.substr(0,u)),t[K0]=Gi(i.substr(u)),Oi(a).bigHour=!0});Gs("hmmss",function(i,t,a){var u=i.length-4,c=i.length-2;t[Ef]=Gi(i.substr(0,u)),t[K0]=Gi(i.substr(u,2)),t[Aw]=Gi(i.substr(c)),Oi(a).bigHour=!0});Gs("Hmm",function(i,t,a){var u=i.length-2;t[Ef]=Gi(i.substr(0,u)),t[K0]=Gi(i.substr(u))});Gs("Hmmss",function(i,t,a){var u=i.length-4,c=i.length-2;t[Ef]=Gi(i.substr(0,u)),t[K0]=Gi(i.substr(u,2)),t[Aw]=Gi(i.substr(c))});function s_e(i){return(i+"").toLowerCase().charAt(0)==="p"}var u_e=/[ap]\.?m?\.?/i,l_e=AD("Hours",!0);function c_e(i,t,a){return i>11?a?"pm":"PM":a?"am":"AM"}var Kee={calendar:Qbe,longDateFormat:rye,invalidDate:iye,ordinal:sye,dayOfMonthOrdinalParse:uye,relativeTime:cye,months:Sye,monthsShort:$ee,week:Fye,weekdays:Wye,weekdaysMin:jye,weekdaysShort:Yee,meridiemParse:u_e},yl={},b3={},eI;function f_e(i,t){var a,u=Math.min(i.length,t.length);for(a=0;a<u;a+=1)if(i[a]!==t[a])return a;return u}function sZ(i){return i&&i.toLowerCase().replace("_","-")}function d_e(i){for(var t=0,a,u,c,m;t<i.length;){for(m=sZ(i[t]).split("-"),a=m.length,u=sZ(i[t+1]),u=u?u.split("-"):null;a>0;){if(c=L6(m.slice(0,a).join("-")),c)return c;if(u&&u.length>=a&&f_e(m,u)>=a-1)break;a--}t++}return eI}function v_e(i){return i.match("^[^/\\\\]*$")!=null}function L6(i){var t=null,a;if(yl[i]===void 0&&typeof B5<"u"&&B5&&B5.exports&&v_e(i))try{t=eI._abbr,a=require,a("./locale/"+i),QC(t)}catch{yl[i]=null}return yl[i]}function QC(i,t){var a;return i&&(im(t)?a=Nw(i):a=mY(i,t),a?eI=a:typeof console<"u"&&console.warn&&console.warn("Locale "+i+" not found. Did you forget to load it?")),eI._abbr}function mY(i,t){if(t!==null){var a,u=Kee;if(t.abbr=i,yl[i]!=null)Mee("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),u=yl[i]._config;else if(t.parentLocale!=null)if(yl[t.parentLocale]!=null)u=yl[t.parentLocale]._config;else if(a=L6(t.parentLocale),a!=null)u=a._config;else return b3[t.parentLocale]||(b3[t.parentLocale]=[]),b3[t.parentLocale].push({name:i,config:t}),null;return yl[i]=new sY(uj(u,t)),b3[i]&&b3[i].forEach(function(c){mY(c.name,c.config)}),QC(i),yl[i]}else return delete yl[i],null}function h_e(i,t){if(t!=null){var a,u,c=Kee;yl[i]!=null&&yl[i].parentLocale!=null?yl[i].set(uj(yl[i]._config,t)):(u=L6(i),u!=null&&(c=u._config),t=uj(c,t),u==null&&(t.abbr=i),a=new sY(t),a.parentLocale=yl[i],yl[i]=a),QC(i)}else yl[i]!=null&&(yl[i].parentLocale!=null?(yl[i]=yl[i].parentLocale,i===QC()&&QC(i)):yl[i]!=null&&delete yl[i]);return yl[i]}function Nw(i){var t;if(i&&i._locale&&i._locale._abbr&&(i=i._locale._abbr),!i)return eI;if(!Z0(i)){if(t=L6(i),t)return t;i=[i]}return d_e(i)}function m_e(){return lj(yl)}function gY(i){var t,a=i._a;return a&&Oi(i).overflow===-2&&(t=a[Tw]<0||a[Tw]>11?Tw:a[Kb]<1||a[Kb]>B6(a[lv],a[Tw])?Kb:a[Ef]<0||a[Ef]>24||a[Ef]===24&&(a[K0]!==0||a[Aw]!==0||a[Tk]!==0)?Ef:a[K0]<0||a[K0]>59?K0:a[Aw]<0||a[Aw]>59?Aw:a[Tk]<0||a[Tk]>999?Tk:-1,Oi(i)._overflowDayOfYear&&(t<lv||t>Kb)&&(t=Kb),Oi(i)._overflowWeeks&&t===-1&&(t=wye),Oi(i)._overflowWeekday&&t===-1&&(t=xye),Oi(i).overflow=t),i}var g_e=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,p_e=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,b_e=/Z|[+-]\d\d(?::?\d\d)?/,o5=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],_W=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],y_e=/^\/?Date\((-?\d+)/i,__e=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,w_e={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Xee(i){var t,a,u=i._i,c=g_e.exec(u)||p_e.exec(u),m,p,x,k,D=o5.length,L=_W.length;if(c){for(Oi(i).iso=!0,t=0,a=D;t<a;t++)if(o5[t][1].exec(c[1])){p=o5[t][0],m=o5[t][2]!==!1;break}if(p==null){i._isValid=!1;return}if(c[3]){for(t=0,a=L;t<a;t++)if(_W[t][1].exec(c[3])){x=(c[2]||" ")+_W[t][0];break}if(x==null){i._isValid=!1;return}}if(!m&&x!=null){i._isValid=!1;return}if(c[4])if(b_e.exec(c[4]))k="Z";else{i._isValid=!1;return}i._f=p+(x||"")+(k||""),bY(i)}else i._isValid=!1}function x_e(i,t,a,u,c,m){var p=[C_e(i),$ee.indexOf(t),parseInt(a,10),parseInt(u,10),parseInt(c,10)];return m&&p.push(parseInt(m,10)),p}function C_e(i){var t=parseInt(i,10);return t<=49?2e3+t:t<=999?1900+t:t}function S_e(i){return i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function E_e(i,t,a){if(i){var u=Yee.indexOf(i),c=new Date(t[0],t[1],t[2]).getDay();if(u!==c)return Oi(a).weekdayMismatch=!0,a._isValid=!1,!1}return!0}function k_e(i,t,a){if(i)return w_e[i];if(t)return 0;var u=parseInt(a,10),c=u%100,m=(u-c)/100;return m*60+c}function Zee(i){var t=__e.exec(S_e(i._i)),a;if(t){if(a=x_e(t[4],t[3],t[2],t[5],t[6],t[7]),!E_e(t[1],a,i))return;i._a=a,i._tzm=k_e(t[8],t[9],t[10]),i._d=J3.apply(null,i._a),i._d.setUTCMinutes(i._d.getUTCMinutes()-i._tzm),Oi(i).rfc2822=!0}else i._isValid=!1}function T_e(i){var t=y_e.exec(i._i);if(t!==null){i._d=new Date(+t[1]);return}if(Xee(i),i._isValid===!1)delete i._isValid;else return;if(Zee(i),i._isValid===!1)delete i._isValid;else return;i._strict?i._isValid=!1:Sr.createFromInputFallback(i)}Sr.createFromInputFallback=Bp("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(i){i._d=new Date(i._i+(i._useUTC?" UTC":""))});function nD(i,t,a){return i??t??a}function A_e(i){var t=new Date(Sr.now());return i._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function pY(i){var t,a,u=[],c,m,p;if(!i._d){for(c=A_e(i),i._w&&i._a[Kb]==null&&i._a[Tw]==null&&O_e(i),i._dayOfYear!=null&&(p=nD(i._a[lv],c[lv]),(i._dayOfYear>F3(p)||i._dayOfYear===0)&&(Oi(i)._overflowDayOfYear=!0),a=J3(p,0,i._dayOfYear),i._a[Tw]=a.getUTCMonth(),i._a[Kb]=a.getUTCDate()),t=0;t<3&&i._a[t]==null;++t)i._a[t]=u[t]=c[t];for(;t<7;t++)i._a[t]=u[t]=i._a[t]==null?t===2?1:0:i._a[t];i._a[Ef]===24&&i._a[K0]===0&&i._a[Aw]===0&&i._a[Tk]===0&&(i._nextDay=!0,i._a[Ef]=0),i._d=(i._useUTC?J3:Bye).apply(null,u),m=i._useUTC?i._d.getUTCDay():i._d.getDay(),i._tzm!=null&&i._d.setUTCMinutes(i._d.getUTCMinutes()-i._tzm),i._nextDay&&(i._a[Ef]=24),i._w&&typeof i._w.d<"u"&&i._w.d!==m&&(Oi(i).weekdayMismatch=!0)}}function O_e(i){var t,a,u,c,m,p,x,k,D;t=i._w,t.GG!=null||t.W!=null||t.E!=null?(m=1,p=4,a=nD(t.GG,i._a[lv],Q3(Gu(),1,4).year),u=nD(t.W,1),c=nD(t.E,1),(c<1||c>7)&&(k=!0)):(m=i._locale._week.dow,p=i._locale._week.doy,D=Q3(Gu(),m,p),a=nD(t.gg,i._a[lv],D.year),u=nD(t.w,D.week),t.d!=null?(c=t.d,(c<0||c>6)&&(k=!0)):t.e!=null?(c=t.e+m,(t.e<0||t.e>6)&&(k=!0)):c=m),u<1||u>Rw(a,m,p)?Oi(i)._overflowWeeks=!0:k!=null?Oi(i)._overflowWeekday=!0:(x=jee(a,u,c,m,p),i._a[lv]=x.year,i._dayOfYear=x.dayOfYear)}Sr.ISO_8601=function(){};Sr.RFC_2822=function(){};function bY(i){if(i._f===Sr.ISO_8601){Xee(i);return}if(i._f===Sr.RFC_2822){Zee(i);return}i._a=[],Oi(i).empty=!0;var t=""+i._i,a,u,c,m,p,x=t.length,k=0,D,L;for(c=Ree(i._f,i._locale).match(uY)||[],L=c.length,a=0;a<L;a++)m=c[a],u=(t.match(bye(m,i))||[])[0],u&&(p=t.substr(0,t.indexOf(u)),p.length>0&&Oi(i).unusedInput.push(p),t=t.slice(t.indexOf(u)+u.length),k+=u.length),uD[m]?(u?Oi(i).empty=!1:Oi(i).unusedTokens.push(m),_ye(m,u,i)):i._strict&&!u&&Oi(i).unusedTokens.push(m);Oi(i).charsLeftOver=x-k,t.length>0&&Oi(i).unusedInput.push(t),i._a[Ef]<=12&&Oi(i).bigHour===!0&&i._a[Ef]>0&&(Oi(i).bigHour=void 0),Oi(i).parsedDateParts=i._a.slice(0),Oi(i).meridiem=i._meridiem,i._a[Ef]=D_e(i._locale,i._a[Ef],i._meridiem),D=Oi(i).era,D!==null&&(i._a[lv]=i._locale.erasConvertYear(D,i._a[lv])),pY(i),gY(i)}function D_e(i,t,a){var u;return a==null?t:i.meridiemHour!=null?i.meridiemHour(t,a):(i.isPM!=null&&(u=i.isPM(a),u&&t<12&&(t+=12),!u&&t===12&&(t=0)),t)}function M_e(i){var t,a,u,c,m,p,x=!1,k=i._f.length;if(k===0){Oi(i).invalidFormat=!0,i._d=new Date(NaN);return}for(c=0;c<k;c++)m=0,p=!1,t=oY({},i),i._useUTC!=null&&(t._useUTC=i._useUTC),t._f=i._f[c],bY(t),iY(t)&&(p=!0),m+=Oi(t).charsLeftOver,m+=Oi(t).unusedTokens.length*10,Oi(t).score=m,x?m<u&&(u=m,a=t):(u==null||m<u||p)&&(u=m,a=t,p&&(x=!0));XC(i,a||t)}function R_e(i){if(!i._d){var t=lY(i._i),a=t.day===void 0?t.date:t.day;i._a=Oee([t.year,t.month,a,t.hour,t.minute,t.second,t.millisecond],function(u){return u&&parseInt(u,10)}),pY(i)}}function P_e(i){var t=new vI(gY(Jee(i)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Jee(i){var t=i._i,a=i._f;return i._locale=i._locale||Nw(i._l),t===null||a===void 0&&t===""?A6({nullInput:!0}):(typeof t=="string"&&(i._i=t=i._locale.preparse(t)),J0(t)?new vI(gY(t)):(dI(t)?i._d=t:Z0(a)?M_e(i):a?bY(i):I_e(i),iY(i)||(i._d=null),i))}function I_e(i){var t=i._i;im(t)?i._d=new Date(Sr.now()):dI(t)?i._d=new Date(t.valueOf()):typeof t=="string"?T_e(i):Z0(t)?(i._a=Oee(t.slice(0),function(a){return parseInt(a,10)}),pY(i)):Mk(t)?R_e(i):Iw(t)?i._d=new Date(t):Sr.createFromInputFallback(i)}function Qee(i,t,a,u,c){var m={};return(t===!0||t===!1)&&(u=t,t=void 0),(a===!0||a===!1)&&(u=a,a=void 0),(Mk(i)&&aY(i)||Z0(i)&&i.length===0)&&(i=void 0),m._isAMomentObject=!0,m._useUTC=m._isUTC=c,m._l=a,m._i=i,m._f=t,m._strict=u,P_e(m)}function Gu(i,t,a,u){return Qee(i,t,a,u,!1)}var B_e=Bp("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var i=Gu.apply(null,arguments);return this.isValid()&&i.isValid()?i<this?this:i:A6()}),L_e=Bp("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var i=Gu.apply(null,arguments);return this.isValid()&&i.isValid()?i>this?this:i:A6()});function ete(i,t){var a,u;if(t.length===1&&Z0(t[0])&&(t=t[0]),!t.length)return Gu();for(a=t[0],u=1;u<t.length;++u)(!t[u].isValid()||t[u][i](a))&&(a=t[u]);return a}function F_e(){var i=[].slice.call(arguments,0);return ete("isBefore",i)}function N_e(){var i=[].slice.call(arguments,0);return ete("isAfter",i)}var $_e=function(){return Date.now?Date.now():+new Date},y3=["year","quarter","month","week","day","hour","minute","second","millisecond"];function z_e(i){var t,a=!1,u,c=y3.length;for(t in i)if(zo(i,t)&&!(Oc.call(y3,t)!==-1&&(i[t]==null||!isNaN(i[t]))))return!1;for(u=0;u<c;++u)if(i[y3[u]]){if(a)return!1;parseFloat(i[y3[u]])!==Gi(i[y3[u]])&&(a=!0)}return!0}function H_e(){return this._isValid}function V_e(){return e1(NaN)}function F6(i){var t=lY(i),a=t.year||0,u=t.quarter||0,c=t.month||0,m=t.week||t.isoWeek||0,p=t.day||0,x=t.hour||0,k=t.minute||0,D=t.second||0,L=t.millisecond||0;this._isValid=z_e(t),this._milliseconds=+L+D*1e3+k*6e4+x*1e3*60*60,this._days=+p+m*7,this._months=+c+u*3+a*12,this._data={},this._locale=Nw(),this._bubble()}function R5(i){return i instanceof F6}function fj(i){return i<0?Math.round(-1*i)*-1:Math.round(i)}function U_e(i,t,a){var u=Math.min(i.length,t.length),c=Math.abs(i.length-t.length),m=0,p;for(p=0;p<u;p++)(a&&i[p]!==t[p]||!a&&Gi(i[p])!==Gi(t[p]))&&m++;return m+c}function tte(i,t){ha(i,0,0,function(){var a=this.utcOffset(),u="+";return a<0&&(a=-a,u="-"),u+ey(~~(a/60),2)+t+ey(~~a%60,2)})}tte("Z",":");tte("ZZ","");Nr("Z",I6);Nr("ZZ",I6);Gs(["Z","ZZ"],function(i,t,a){a._useUTC=!0,a._tzm=yY(I6,i)});var W_e=/([\+\-]|\d\d)/gi;function yY(i,t){var a=(t||"").match(i),u,c,m;return a===null?null:(u=a[a.length-1]||[],c=(u+"").match(W_e)||["-",0,0],m=+(c[1]*60)+Gi(c[2]),m===0?0:c[0]==="+"?m:-m)}function _Y(i,t){var a,u;return t._isUTC?(a=t.clone(),u=(J0(i)||dI(i)?i.valueOf():Gu(i).valueOf())-a.valueOf(),a._d.setTime(a._d.valueOf()+u),Sr.updateOffset(a,!1),a):Gu(i).local()}function dj(i){return-Math.round(i._d.getTimezoneOffset())}Sr.updateOffset=function(){};function j_e(i,t,a){var u=this._offset||0,c;if(!this.isValid())return i!=null?this:NaN;if(i!=null){if(typeof i=="string"){if(i=yY(I6,i),i===null)return this}else Math.abs(i)<16&&!a&&(i=i*60);return!this._isUTC&&t&&(c=dj(this)),this._offset=i,this._isUTC=!0,c!=null&&this.add(c,"m"),u!==i&&(!t||this._changeInProgress?ate(this,e1(i-u,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Sr.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?u:dj(this)}function Y_e(i,t){return i!=null?(typeof i!="string"&&(i=-i),this.utcOffset(i,t),this):-this.utcOffset()}function q_e(i){return this.utcOffset(0,i)}function G_e(i){return this._isUTC&&(this.utcOffset(0,i),this._isUTC=!1,i&&this.subtract(dj(this),"m")),this}function K_e(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var i=yY(gye,this._i);i!=null?this.utcOffset(i):this.utcOffset(0,!0)}return this}function X_e(i){return this.isValid()?(i=i?Gu(i).utcOffset():0,(this.utcOffset()-i)%60===0):!1}function Z_e(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function J_e(){if(!im(this._isDSTShifted))return this._isDSTShifted;var i={},t;return oY(i,this),i=Jee(i),i._a?(t=i._isUTC?ny(i._a):Gu(i._a),this._isDSTShifted=this.isValid()&&U_e(i._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Q_e(){return this.isValid()?!this._isUTC:!1}function ewe(){return this.isValid()?this._isUTC:!1}function nte(){return this.isValid()?this._isUTC&&this._offset===0:!1}var twe=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,nwe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function e1(i,t){var a=i,u=null,c,m,p;return R5(i)?a={ms:i._milliseconds,d:i._days,M:i._months}:Iw(i)||!isNaN(+i)?(a={},t?a[t]=+i:a.milliseconds=+i):(u=twe.exec(i))?(c=u[1]==="-"?-1:1,a={y:0,d:Gi(u[Kb])*c,h:Gi(u[Ef])*c,m:Gi(u[K0])*c,s:Gi(u[Aw])*c,ms:Gi(fj(u[Tk]*1e3))*c}):(u=nwe.exec(i))?(c=u[1]==="-"?-1:1,a={y:bk(u[2],c),M:bk(u[3],c),w:bk(u[4],c),d:bk(u[5],c),h:bk(u[6],c),m:bk(u[7],c),s:bk(u[8],c)}):a==null?a={}:typeof a=="object"&&("from"in a||"to"in a)&&(p=rwe(Gu(a.from),Gu(a.to)),a={},a.ms=p.milliseconds,a.M=p.months),m=new F6(a),R5(i)&&zo(i,"_locale")&&(m._locale=i._locale),R5(i)&&zo(i,"_isValid")&&(m._isValid=i._isValid),m}e1.fn=F6.prototype;e1.invalid=V_e;function bk(i,t){var a=i&&parseFloat(i.replace(",","."));return(isNaN(a)?0:a)*t}function uZ(i,t){var a={};return a.months=t.month()-i.month()+(t.year()-i.year())*12,i.clone().add(a.months,"M").isAfter(t)&&--a.months,a.milliseconds=+t-+i.clone().add(a.months,"M"),a}function rwe(i,t){var a;return i.isValid()&&t.isValid()?(t=_Y(t,i),i.isBefore(t)?a=uZ(i,t):(a=uZ(t,i),a.milliseconds=-a.milliseconds,a.months=-a.months),a):{milliseconds:0,months:0}}function rte(i,t){return function(a,u){var c,m;return u!==null&&!isNaN(+u)&&(Mee(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),m=a,a=u,u=m),c=e1(a,u),ate(this,c,i),this}}function ate(i,t,a,u){var c=t._milliseconds,m=fj(t._days),p=fj(t._months);i.isValid()&&(u=u??!0,p&&Hee(i,t6(i,"Month")+p*a),m&&Iee(i,"Date",t6(i,"Date")+m*a),c&&i._d.setTime(i._d.valueOf()+c*a),u&&Sr.updateOffset(i,m||p))}var awe=rte(1,"add"),iwe=rte(-1,"subtract");function ite(i){return typeof i=="string"||i instanceof String}function owe(i){return J0(i)||dI(i)||ite(i)||Iw(i)||uwe(i)||swe(i)||i===null||i===void 0}function swe(i){var t=Mk(i)&&!aY(i),a=!1,u=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c,m,p=u.length;for(c=0;c<p;c+=1)m=u[c],a=a||zo(i,m);return t&&a}function uwe(i){var t=Z0(i),a=!1;return t&&(a=i.filter(function(u){return!Iw(u)&&ite(i)}).length===0),t&&a}function lwe(i){var t=Mk(i)&&!aY(i),a=!1,u=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],c,m;for(c=0;c<u.length;c+=1)m=u[c],a=a||zo(i,m);return t&&a}function cwe(i,t){var a=i.diff(t,"days",!0);return a<-6?"sameElse":a<-1?"lastWeek":a<0?"lastDay":a<1?"sameDay":a<2?"nextDay":a<7?"nextWeek":"sameElse"}function fwe(i,t){arguments.length===1&&(arguments[0]?owe(arguments[0])?(i=arguments[0],t=void 0):lwe(arguments[0])&&(t=arguments[0],i=void 0):(i=void 0,t=void 0));var a=i||Gu(),u=_Y(a,this).startOf("day"),c=Sr.calendarFormat(this,u)||"sameElse",m=t&&(ry(t[c])?t[c].call(this,a):t[c]);return this.format(m||this.localeData().calendar(c,this,Gu(a)))}function dwe(){return new vI(this)}function vwe(i,t){var a=J0(i)?i:Gu(i);return this.isValid()&&a.isValid()?(t=Lp(t)||"millisecond",t==="millisecond"?this.valueOf()>a.valueOf():a.valueOf()<this.clone().startOf(t).valueOf()):!1}function hwe(i,t){var a=J0(i)?i:Gu(i);return this.isValid()&&a.isValid()?(t=Lp(t)||"millisecond",t==="millisecond"?this.valueOf()<a.valueOf():this.clone().endOf(t).valueOf()<a.valueOf()):!1}function mwe(i,t,a,u){var c=J0(i)?i:Gu(i),m=J0(t)?t:Gu(t);return this.isValid()&&c.isValid()&&m.isValid()?(u=u||"()",(u[0]==="("?this.isAfter(c,a):!this.isBefore(c,a))&&(u[1]===")"?this.isBefore(m,a):!this.isAfter(m,a))):!1}function gwe(i,t){var a=J0(i)?i:Gu(i),u;return this.isValid()&&a.isValid()?(t=Lp(t)||"millisecond",t==="millisecond"?this.valueOf()===a.valueOf():(u=a.valueOf(),this.clone().startOf(t).valueOf()<=u&&u<=this.clone().endOf(t).valueOf())):!1}function pwe(i,t){return this.isSame(i,t)||this.isAfter(i,t)}function bwe(i,t){return this.isSame(i,t)||this.isBefore(i,t)}function ywe(i,t,a){var u,c,m;if(!this.isValid())return NaN;if(u=_Y(i,this),!u.isValid())return NaN;switch(c=(u.utcOffset()-this.utcOffset())*6e4,t=Lp(t),t){case"year":m=P5(this,u)/12;break;case"month":m=P5(this,u);break;case"quarter":m=P5(this,u)/3;break;case"second":m=(this-u)/1e3;break;case"minute":m=(this-u)/6e4;break;case"hour":m=(this-u)/36e5;break;case"day":m=(this-u-c)/864e5;break;case"week":m=(this-u-c)/6048e5;break;default:m=this-u}return a?m:Op(m)}function P5(i,t){if(i.date()<t.date())return-P5(t,i);var a=(t.year()-i.year())*12+(t.month()-i.month()),u=i.clone().add(a,"months"),c,m;return t-u<0?(c=i.clone().add(a-1,"months"),m=(t-u)/(u-c)):(c=i.clone().add(a+1,"months"),m=(t-u)/(c-u)),-(a+m)||0}Sr.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Sr.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function _we(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function wwe(i){if(!this.isValid())return null;var t=i!==!0,a=t?this.clone().utc():this;return a.year()<0||a.year()>9999?M5(a,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ry(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",M5(a,"Z")):M5(a,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function xwe(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var i="moment",t="",a,u,c,m;return this.isLocal()||(i=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),a="["+i+'("]',u=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",c="-MM-DD[T]HH:mm:ss.SSS",m=t+'[")]',this.format(a+u+c+m)}function Cwe(i){i||(i=this.isUtc()?Sr.defaultFormatUtc:Sr.defaultFormat);var t=M5(this,i);return this.localeData().postformat(t)}function Swe(i,t){return this.isValid()&&(J0(i)&&i.isValid()||Gu(i).isValid())?e1({to:this,from:i}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Ewe(i){return this.from(Gu(),i)}function kwe(i,t){return this.isValid()&&(J0(i)&&i.isValid()||Gu(i).isValid())?e1({from:this,to:i}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Twe(i){return this.to(Gu(),i)}function ote(i){var t;return i===void 0?this._locale._abbr:(t=Nw(i),t!=null&&(this._locale=t),this)}var ste=Bp("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(i){return i===void 0?this.localeData():this.locale(i)});function ute(){return this._locale}var a6=1e3,lD=60*a6,i6=60*lD,lte=(365*400+97)*24*i6;function cD(i,t){return(i%t+t)%t}function cte(i,t,a){return i<100&&i>=0?new Date(i+400,t,a)-lte:new Date(i,t,a).valueOf()}function fte(i,t,a){return i<100&&i>=0?Date.UTC(i+400,t,a)-lte:Date.UTC(i,t,a)}function Awe(i){var t,a;if(i=Lp(i),i===void 0||i==="millisecond"||!this.isValid())return this;switch(a=this._isUTC?fte:cte,i){case"year":t=a(this.year(),0,1);break;case"quarter":t=a(this.year(),this.month()-this.month()%3,1);break;case"month":t=a(this.year(),this.month(),1);break;case"week":t=a(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=a(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=a(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=cD(t+(this._isUTC?0:this.utcOffset()*lD),i6);break;case"minute":t=this._d.valueOf(),t-=cD(t,lD);break;case"second":t=this._d.valueOf(),t-=cD(t,a6);break}return this._d.setTime(t),Sr.updateOffset(this,!0),this}function Owe(i){var t,a;if(i=Lp(i),i===void 0||i==="millisecond"||!this.isValid())return this;switch(a=this._isUTC?fte:cte,i){case"year":t=a(this.year()+1,0,1)-1;break;case"quarter":t=a(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=a(this.year(),this.month()+1,1)-1;break;case"week":t=a(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=a(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=a(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=i6-cD(t+(this._isUTC?0:this.utcOffset()*lD),i6)-1;break;case"minute":t=this._d.valueOf(),t+=lD-cD(t,lD)-1;break;case"second":t=this._d.valueOf(),t+=a6-cD(t,a6)-1;break}return this._d.setTime(t),Sr.updateOffset(this,!0),this}function Dwe(){return this._d.valueOf()-(this._offset||0)*6e4}function Mwe(){return Math.floor(this.valueOf()/1e3)}function Rwe(){return new Date(this.valueOf())}function Pwe(){var i=this;return[i.year(),i.month(),i.date(),i.hour(),i.minute(),i.second(),i.millisecond()]}function Iwe(){var i=this;return{years:i.year(),months:i.month(),date:i.date(),hours:i.hours(),minutes:i.minutes(),seconds:i.seconds(),milliseconds:i.milliseconds()}}function Bwe(){return this.isValid()?this.toISOString():null}function Lwe(){return iY(this)}function Fwe(){return XC({},Oi(this))}function Nwe(){return Oi(this).overflow}function $we(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}ha("N",0,0,"eraAbbr");ha("NN",0,0,"eraAbbr");ha("NNN",0,0,"eraAbbr");ha("NNNN",0,0,"eraName");ha("NNNNN",0,0,"eraNarrow");ha("y",["y",1],"yo","eraYear");ha("y",["yy",2],0,"eraYear");ha("y",["yyy",3],0,"eraYear");ha("y",["yyyy",4],0,"eraYear");Nr("N",wY);Nr("NN",wY);Nr("NNN",wY);Nr("NNNN",Xwe);Nr("NNNNN",Zwe);Gs(["N","NN","NNN","NNNN","NNNNN"],function(i,t,a,u){var c=a._locale.erasParse(i,u,a._strict);c?Oi(a).era=c:Oi(a).invalidEra=i});Nr("y",OD);Nr("yy",OD);Nr("yyy",OD);Nr("yyyy",OD);Nr("yo",Jwe);Gs(["y","yy","yyy","yyyy"],lv);Gs(["yo"],function(i,t,a,u){var c;a._locale._eraYearOrdinalRegex&&(c=i.match(a._locale._eraYearOrdinalRegex)),a._locale.eraYearOrdinalParse?t[lv]=a._locale.eraYearOrdinalParse(i,c):t[lv]=parseInt(i,10)});function zwe(i,t){var a,u,c,m=this._eras||Nw("en")._eras;for(a=0,u=m.length;a<u;++a){switch(typeof m[a].since){case"string":c=Sr(m[a].since).startOf("day"),m[a].since=c.valueOf();break}switch(typeof m[a].until){case"undefined":m[a].until=1/0;break;case"string":c=Sr(m[a].until).startOf("day").valueOf(),m[a].until=c.valueOf();break}}return m}function Hwe(i,t,a){var u,c,m=this.eras(),p,x,k;for(i=i.toUpperCase(),u=0,c=m.length;u<c;++u)if(p=m[u].name.toUpperCase(),x=m[u].abbr.toUpperCase(),k=m[u].narrow.toUpperCase(),a)switch(t){case"N":case"NN":case"NNN":if(x===i)return m[u];break;case"NNNN":if(p===i)return m[u];break;case"NNNNN":if(k===i)return m[u];break}else if([p,x,k].indexOf(i)>=0)return m[u]}function Vwe(i,t){var a=i.since<=i.until?1:-1;return t===void 0?Sr(i.since).year():Sr(i.since).year()+(t-i.offset)*a}function Uwe(){var i,t,a,u=this.localeData().eras();for(i=0,t=u.length;i<t;++i)if(a=this.clone().startOf("day").valueOf(),u[i].since<=a&&a<=u[i].until||u[i].until<=a&&a<=u[i].since)return u[i].name;return""}function Wwe(){var i,t,a,u=this.localeData().eras();for(i=0,t=u.length;i<t;++i)if(a=this.clone().startOf("day").valueOf(),u[i].since<=a&&a<=u[i].until||u[i].until<=a&&a<=u[i].since)return u[i].narrow;return""}function jwe(){var i,t,a,u=this.localeData().eras();for(i=0,t=u.length;i<t;++i)if(a=this.clone().startOf("day").valueOf(),u[i].since<=a&&a<=u[i].until||u[i].until<=a&&a<=u[i].since)return u[i].abbr;return""}function Ywe(){var i,t,a,u,c=this.localeData().eras();for(i=0,t=c.length;i<t;++i)if(a=c[i].since<=c[i].until?1:-1,u=this.clone().startOf("day").valueOf(),c[i].since<=u&&u<=c[i].until||c[i].until<=u&&u<=c[i].since)return(this.year()-Sr(c[i].since).year())*a+c[i].offset;return this.year()}function qwe(i){return zo(this,"_erasNameRegex")||xY.call(this),i?this._erasNameRegex:this._erasRegex}function Gwe(i){return zo(this,"_erasAbbrRegex")||xY.call(this),i?this._erasAbbrRegex:this._erasRegex}function Kwe(i){return zo(this,"_erasNarrowRegex")||xY.call(this),i?this._erasNarrowRegex:this._erasRegex}function wY(i,t){return t.erasAbbrRegex(i)}function Xwe(i,t){return t.erasNameRegex(i)}function Zwe(i,t){return t.erasNarrowRegex(i)}function Jwe(i,t){return t._eraYearOrdinalRegex||OD}function xY(){var i=[],t=[],a=[],u=[],c,m,p=this.eras();for(c=0,m=p.length;c<m;++c)t.push(ug(p[c].name)),i.push(ug(p[c].abbr)),a.push(ug(p[c].narrow)),u.push(ug(p[c].name)),u.push(ug(p[c].abbr)),u.push(ug(p[c].narrow));this._erasRegex=new RegExp("^("+u.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+a.join("|")+")","i")}ha(0,["gg",2],0,function(){return this.weekYear()%100});ha(0,["GG",2],0,function(){return this.isoWeekYear()%100});function N6(i,t){ha(0,[i,i.length],0,t)}N6("gggg","weekYear");N6("ggggg","weekYear");N6("GGGG","isoWeekYear");N6("GGGGG","isoWeekYear");fv("weekYear","gg");fv("isoWeekYear","GG");dv("weekYear",1);dv("isoWeekYear",1);Nr("G",P6);Nr("g",P6);Nr("GG",Ku,vg);Nr("gg",Ku,vg);Nr("GGGG",fY,cY);Nr("gggg",fY,cY);Nr("GGGGG",R6,D6);Nr("ggggg",R6,D6);mI(["gggg","ggggg","GGGG","GGGGG"],function(i,t,a,u){t[u.substr(0,2)]=Gi(i)});mI(["gg","GG"],function(i,t,a,u){t[u]=Sr.parseTwoDigitYear(i)});function Qwe(i){return dte.call(this,i,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function exe(i){return dte.call(this,i,this.isoWeek(),this.isoWeekday(),1,4)}function txe(){return Rw(this.year(),1,4)}function nxe(){return Rw(this.isoWeekYear(),1,4)}function rxe(){var i=this.localeData()._week;return Rw(this.year(),i.dow,i.doy)}function axe(){var i=this.localeData()._week;return Rw(this.weekYear(),i.dow,i.doy)}function dte(i,t,a,u,c){var m;return i==null?Q3(this,u,c).year:(m=Rw(i,u,c),t>m&&(t=m),ixe.call(this,i,t,a,u,c))}function ixe(i,t,a,u,c){var m=jee(i,t,a,u,c),p=J3(m.year,0,m.dayOfYear);return this.year(p.getUTCFullYear()),this.month(p.getUTCMonth()),this.date(p.getUTCDate()),this}ha("Q",0,"Qo","quarter");fv("quarter","Q");dv("quarter",7);Nr("Q",Bee);Gs("Q",function(i,t){t[Tw]=(Gi(i)-1)*3});function oxe(i){return i==null?Math.ceil((this.month()+1)/3):this.month((i-1)*3+this.month()%3)}ha("D",["DD",2],"Do","date");fv("date","D");dv("date",9);Nr("D",Ku);Nr("DD",Ku,vg);Nr("Do",function(i,t){return i?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Gs(["D","DD"],Kb);Gs("Do",function(i,t){t[Kb]=Gi(i.match(Ku)[0])});var vte=AD("Date",!0);ha("DDD",["DDDD",3],"DDDo","dayOfYear");fv("dayOfYear","DDD");dv("dayOfYear",4);Nr("DDD",M6);Nr("DDDD",Lee);Gs(["DDD","DDDD"],function(i,t,a){a._dayOfYear=Gi(i)});function sxe(i){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return i==null?t:this.add(i-t,"d")}ha("m",["mm",2],0,"minute");fv("minute","m");dv("minute",14);Nr("m",Ku);Nr("mm",Ku,vg);Gs(["m","mm"],K0);var uxe=AD("Minutes",!1);ha("s",["ss",2],0,"second");fv("second","s");dv("second",15);Nr("s",Ku);Nr("ss",Ku,vg);Gs(["s","ss"],Aw);var lxe=AD("Seconds",!1);ha("S",0,0,function(){return~~(this.millisecond()/100)});ha(0,["SS",2],0,function(){return~~(this.millisecond()/10)});ha(0,["SSS",3],0,"millisecond");ha(0,["SSSS",4],0,function(){return this.millisecond()*10});ha(0,["SSSSS",5],0,function(){return this.millisecond()*100});ha(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});ha(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});ha(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});ha(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});fv("millisecond","ms");dv("millisecond",16);Nr("S",M6,Bee);Nr("SS",M6,vg);Nr("SSS",M6,Lee);var ZC,hte;for(ZC="SSSS";ZC.length<=9;ZC+="S")Nr(ZC,OD);function cxe(i,t){t[Tk]=Gi(("0."+i)*1e3)}for(ZC="S";ZC.length<=9;ZC+="S")Gs(ZC,cxe);hte=AD("Milliseconds",!1);ha("z",0,0,"zoneAbbr");ha("zz",0,0,"zoneName");function fxe(){return this._isUTC?"UTC":""}function dxe(){return this._isUTC?"Coordinated Universal Time":""}var jn=vI.prototype;jn.add=awe;jn.calendar=fwe;jn.clone=dwe;jn.diff=ywe;jn.endOf=Owe;jn.format=Cwe;jn.from=Swe;jn.fromNow=Ewe;jn.to=kwe;jn.toNow=Twe;jn.get=hye;jn.invalidAt=Nwe;jn.isAfter=vwe;jn.isBefore=hwe;jn.isBetween=mwe;jn.isSame=gwe;jn.isSameOrAfter=pwe;jn.isSameOrBefore=bwe;jn.isValid=Lwe;jn.lang=ste;jn.locale=ote;jn.localeData=ute;jn.max=L_e;jn.min=B_e;jn.parsingFlags=Fwe;jn.set=mye;jn.startOf=Awe;jn.subtract=iwe;jn.toArray=Pwe;jn.toObject=Iwe;jn.toDate=Rwe;jn.toISOString=wwe;jn.inspect=xwe;typeof Symbol<"u"&&Symbol.for!=null&&(jn[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});jn.toJSON=Bwe;jn.toString=_we;jn.unix=Mwe;jn.valueOf=Dwe;jn.creationData=$we;jn.eraName=Uwe;jn.eraNarrow=Wwe;jn.eraAbbr=jwe;jn.eraYear=Ywe;jn.year=Wee;jn.isLeapYear=Iye;jn.weekYear=Qwe;jn.isoWeekYear=exe;jn.quarter=jn.quarters=oxe;jn.month=Vee;jn.daysInMonth=Mye;jn.week=jn.weeks=zye;jn.isoWeek=jn.isoWeeks=Hye;jn.weeksInYear=rxe;jn.weeksInWeekYear=axe;jn.isoWeeksInYear=txe;jn.isoWeeksInISOWeekYear=nxe;jn.date=vte;jn.day=jn.days=e_e;jn.weekday=t_e;jn.isoWeekday=n_e;jn.dayOfYear=sxe;jn.hour=jn.hours=l_e;jn.minute=jn.minutes=uxe;jn.second=jn.seconds=lxe;jn.millisecond=jn.milliseconds=hte;jn.utcOffset=j_e;jn.utc=q_e;jn.local=G_e;jn.parseZone=K_e;jn.hasAlignedHourOffset=X_e;jn.isDST=Z_e;jn.isLocal=Q_e;jn.isUtcOffset=ewe;jn.isUtc=nte;jn.isUTC=nte;jn.zoneAbbr=fxe;jn.zoneName=dxe;jn.dates=Bp("dates accessor is deprecated. Use date instead.",vte);jn.months=Bp("months accessor is deprecated. Use month instead",Vee);jn.years=Bp("years accessor is deprecated. Use year instead",Wee);jn.zone=Bp("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Y_e);jn.isDSTShifted=Bp("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",J_e);function vxe(i){return Gu(i*1e3)}function hxe(){return Gu.apply(null,arguments).parseZone()}function mte(i){return i}var Ho=sY.prototype;Ho.calendar=eye;Ho.longDateFormat=aye;Ho.invalidDate=oye;Ho.ordinal=lye;Ho.preparse=mte;Ho.postformat=mte;Ho.relativeTime=fye;Ho.pastFuture=dye;Ho.set=Jbe;Ho.eras=zwe;Ho.erasParse=Hwe;Ho.erasConvertYear=Vwe;Ho.erasAbbrRegex=Gwe;Ho.erasNameRegex=qwe;Ho.erasNarrowRegex=Kwe;Ho.months=Tye;Ho.monthsShort=Aye;Ho.monthsParse=Dye;Ho.monthsRegex=Pye;Ho.monthsShortRegex=Rye;Ho.week=Lye;Ho.firstDayOfYear=$ye;Ho.firstDayOfWeek=Nye;Ho.weekdays=Kye;Ho.weekdaysMin=Zye;Ho.weekdaysShort=Xye;Ho.weekdaysParse=Qye;Ho.weekdaysRegex=r_e;Ho.weekdaysShortRegex=a_e;Ho.weekdaysMinRegex=i_e;Ho.isPM=s_e;Ho.meridiem=c_e;function o6(i,t,a,u){var c=Nw(),m=ny().set(u,t);return c[a](m,i)}function gte(i,t,a){if(Iw(i)&&(t=i,i=void 0),i=i||"",t!=null)return o6(i,t,a,"month");var u,c=[];for(u=0;u<12;u++)c[u]=o6(i,u,a,"month");return c}function CY(i,t,a,u){typeof i=="boolean"?(Iw(t)&&(a=t,t=void 0),t=t||""):(t=i,a=t,i=!1,Iw(t)&&(a=t,t=void 0),t=t||"");var c=Nw(),m=i?c._week.dow:0,p,x=[];if(a!=null)return o6(t,(a+m)%7,u,"day");for(p=0;p<7;p++)x[p]=o6(t,(p+m)%7,u,"day");return x}function mxe(i,t){return gte(i,t,"months")}function gxe(i,t){return gte(i,t,"monthsShort")}function pxe(i,t,a){return CY(i,t,a,"weekdays")}function bxe(i,t,a){return CY(i,t,a,"weekdaysShort")}function yxe(i,t,a){return CY(i,t,a,"weekdaysMin")}QC("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(i){var t=i%10,a=Gi(i%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return i+a}});Sr.lang=Bp("moment.lang is deprecated. Use moment.locale instead.",QC);Sr.langData=Bp("moment.langData is deprecated. Use moment.localeData instead.",Nw);var mw=Math.abs;function _xe(){var i=this._data;return this._milliseconds=mw(this._milliseconds),this._days=mw(this._days),this._months=mw(this._months),i.milliseconds=mw(i.milliseconds),i.seconds=mw(i.seconds),i.minutes=mw(i.minutes),i.hours=mw(i.hours),i.months=mw(i.months),i.years=mw(i.years),this}function pte(i,t,a,u){var c=e1(t,a);return i._milliseconds+=u*c._milliseconds,i._days+=u*c._days,i._months+=u*c._months,i._bubble()}function wxe(i,t){return pte(this,i,t,1)}function xxe(i,t){return pte(this,i,t,-1)}function lZ(i){return i<0?Math.floor(i):Math.ceil(i)}function Cxe(){var i=this._milliseconds,t=this._days,a=this._months,u=this._data,c,m,p,x,k;return i>=0&&t>=0&&a>=0||i<=0&&t<=0&&a<=0||(i+=lZ(vj(a)+t)*864e5,t=0,a=0),u.milliseconds=i%1e3,c=Op(i/1e3),u.seconds=c%60,m=Op(c/60),u.minutes=m%60,p=Op(m/60),u.hours=p%24,t+=Op(p/24),k=Op(bte(t)),a+=k,t-=lZ(vj(k)),x=Op(a/12),a%=12,u.days=t,u.months=a,u.years=x,this}function bte(i){return i*4800/146097}function vj(i){return i*146097/4800}function Sxe(i){if(!this.isValid())return NaN;var t,a,u=this._milliseconds;if(i=Lp(i),i==="month"||i==="quarter"||i==="year")switch(t=this._days+u/864e5,a=this._months+bte(t),i){case"month":return a;case"quarter":return a/3;case"year":return a/12}else switch(t=this._days+Math.round(vj(this._months)),i){case"week":return t/7+u/6048e5;case"day":return t+u/864e5;case"hour":return t*24+u/36e5;case"minute":return t*1440+u/6e4;case"second":return t*86400+u/1e3;case"millisecond":return Math.floor(t*864e5)+u;default:throw new Error("Unknown unit "+i)}}function Exe(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Gi(this._months/12)*31536e6:NaN}function $w(i){return function(){return this.as(i)}}var kxe=$w("ms"),Txe=$w("s"),Axe=$w("m"),Oxe=$w("h"),Dxe=$w("d"),Mxe=$w("w"),Rxe=$w("M"),Pxe=$w("Q"),Ixe=$w("y");function Bxe(){return e1(this)}function Lxe(i){return i=Lp(i),this.isValid()?this[i+"s"]():NaN}function zk(i){return function(){return this.isValid()?this._data[i]:NaN}}var Fxe=zk("milliseconds"),Nxe=zk("seconds"),$xe=zk("minutes"),zxe=zk("hours"),Hxe=zk("days"),Vxe=zk("months"),Uxe=zk("years");function Wxe(){return Op(this.days()/7)}var yw=Math.round,iD={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function jxe(i,t,a,u,c){return c.relativeTime(t||1,!!a,i,u)}function Yxe(i,t,a,u){var c=e1(i).abs(),m=yw(c.as("s")),p=yw(c.as("m")),x=yw(c.as("h")),k=yw(c.as("d")),D=yw(c.as("M")),L=yw(c.as("w")),V=yw(c.as("y")),q=m<=a.ss&&["s",m]||m<a.s&&["ss",m]||p<=1&&["m"]||p<a.m&&["mm",p]||x<=1&&["h"]||x<a.h&&["hh",x]||k<=1&&["d"]||k<a.d&&["dd",k];return a.w!=null&&(q=q||L<=1&&["w"]||L<a.w&&["ww",L]),q=q||D<=1&&["M"]||D<a.M&&["MM",D]||V<=1&&["y"]||["yy",V],q[2]=t,q[3]=+i>0,q[4]=u,jxe.apply(null,q)}function qxe(i){return i===void 0?yw:typeof i=="function"?(yw=i,!0):!1}function Gxe(i,t){return iD[i]===void 0?!1:t===void 0?iD[i]:(iD[i]=t,i==="s"&&(iD.ss=t-1),!0)}function Kxe(i,t){if(!this.isValid())return this.localeData().invalidDate();var a=!1,u=iD,c,m;return typeof i=="object"&&(t=i,i=!1),typeof i=="boolean"&&(a=i),typeof t=="object"&&(u=Object.assign({},iD,t),t.s!=null&&t.ss==null&&(u.ss=t.s-1)),c=this.localeData(),m=Yxe(this,!a,u,c),a&&(m=c.pastFuture(+this,m)),c.postformat(m)}var wW=Math.abs;function JO(i){return(i>0)-(i<0)||+i}function $6(){if(!this.isValid())return this.localeData().invalidDate();var i=wW(this._milliseconds)/1e3,t=wW(this._days),a=wW(this._months),u,c,m,p,x=this.asSeconds(),k,D,L,V;return x?(u=Op(i/60),c=Op(u/60),i%=60,u%=60,m=Op(a/12),a%=12,p=i?i.toFixed(3).replace(/\.?0+$/,""):"",k=x<0?"-":"",D=JO(this._months)!==JO(x)?"-":"",L=JO(this._days)!==JO(x)?"-":"",V=JO(this._milliseconds)!==JO(x)?"-":"",k+"P"+(m?D+m+"Y":"")+(a?D+a+"M":"")+(t?L+t+"D":"")+(c||u||i?"T":"")+(c?V+c+"H":"")+(u?V+u+"M":"")+(i?V+p+"S":"")):"P0D"}var bo=F6.prototype;bo.isValid=H_e;bo.abs=_xe;bo.add=wxe;bo.subtract=xxe;bo.as=Sxe;bo.asMilliseconds=kxe;bo.asSeconds=Txe;bo.asMinutes=Axe;bo.asHours=Oxe;bo.asDays=Dxe;bo.asWeeks=Mxe;bo.asMonths=Rxe;bo.asQuarters=Pxe;bo.asYears=Ixe;bo.valueOf=Exe;bo._bubble=Cxe;bo.clone=Bxe;bo.get=Lxe;bo.milliseconds=Fxe;bo.seconds=Nxe;bo.minutes=$xe;bo.hours=zxe;bo.days=Hxe;bo.weeks=Wxe;bo.months=Vxe;bo.years=Uxe;bo.humanize=Kxe;bo.toISOString=$6;bo.toString=$6;bo.toJSON=$6;bo.locale=ote;bo.localeData=ute;bo.toIsoString=Bp("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",$6);bo.lang=ste;ha("X",0,0,"unix");ha("x",0,0,"valueOf");Nr("x",P6);Nr("X",pye);Gs("X",function(i,t,a){a._d=new Date(parseFloat(i)*1e3)});Gs("x",function(i,t,a){a._d=new Date(Gi(i))});//! moment.js
Sr.version="2.29.4";Xbe(Gu);Sr.fn=jn;Sr.min=F_e;Sr.max=N_e;Sr.now=$_e;Sr.utc=ny;Sr.unix=vxe;Sr.months=mxe;Sr.isDate=dI;Sr.locale=QC;Sr.invalid=A6;Sr.duration=e1;Sr.isMoment=J0;Sr.weekdays=pxe;Sr.parseZone=hxe;Sr.localeData=Nw;Sr.isDuration=R5;Sr.monthsShort=gxe;Sr.weekdaysMin=yxe;Sr.defineLocale=mY;Sr.updateLocale=h_e;Sr.locales=m_e;Sr.weekdaysShort=bxe;Sr.normalizeUnits=Lp;Sr.relativeTimeRounding=qxe;Sr.relativeTimeThreshold=Gxe;Sr.calendarFormat=cwe;Sr.prototype=jn;Sr.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var hj=function(i,t,a){moment.updateLocale("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Ene_Feb_Mar_Abr_May_Jun_Jul_Ago_Sept_Oct_Nov_Dic".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom_Lun_Mar_Mier_Jue_Vier_Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),this.parentEl=document.body,typeof i=="string"?this.element=document.getElementById(i):this.element=i,this.startDate=moment().startOf("day"),this.endDate=moment().endOf("day"),this.minDate=!1,this.maxDate=!1,this.maxSpan=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.minYear=moment().subtract(100,"year").format("YYYY"),this.maxYear=moment().add(100,"year").format("YYYY"),this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.classList.contains("pull-right")&&(this.opens="left"),this.drops="down",this.element.classList.contains("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyButtonClasses="btn-primary btn-tertiary",this.cancelButtonClasses="btn-default",this.locale={direction:"ltr",format:"DD/MM/YYYY",separator:" - ",applyLabel:"Aplicar",cancelLabel:"Cancelar",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:moment.weekdaysMin(),monthNames:moment.monthsShort(),firstDay:moment.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},(typeof t!="object"||t===null)&&(t={}),t=Object.assign(Object.assign({},this.element.dataset),t),typeof t.template!="string"&&(t.template='<div class="daterangepicker"><div class="ranges"></div><div class="drp-calendar left"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-calendar right"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-buttons"><span class="drp-selected"></span><button class="cancelBtn" type="button"></button><button class="applyBtn" disabled="disabled" type="button"></button> </div></div>'),this.parentEl=t.parentEl?t.parentEl:this.parentEl;var u=document.createElement("div");if(u.innerHTML=t.template.trim(),this.container=u.firstElementChild,this.parentEl.insertAdjacentElement("beforeEnd",this.container),typeof t.locale=="object"&&(typeof t.locale.direction=="string"&&(this.locale.direction=t.locale.direction),typeof t.locale.format=="string"&&(this.locale.format=t.locale.format),typeof t.locale.separator=="string"&&(this.locale.separator=t.locale.separator),typeof t.locale.daysOfWeek=="object"&&(this.locale.daysOfWeek=t.locale.daysOfWeek.slice()),typeof t.locale.monthNames=="object"&&(this.locale.monthNames=t.locale.monthNames.slice()),typeof t.locale.firstDay=="number"&&(this.locale.firstDay=t.locale.firstDay),typeof t.locale.applyLabel=="string"&&(this.locale.applyLabel=t.locale.applyLabel),typeof t.locale.cancelLabel=="string"&&(this.locale.cancelLabel=t.locale.cancelLabel),typeof t.locale.weekLabel=="string"&&(this.locale.weekLabel=t.locale.weekLabel),typeof t.locale.customRangeLabel=="string")){var c=document.createElement("textarea");c.innerHTML=t.locale.customRangeLabel;var m=c.value;this.locale.customRangeLabel=m}if(this.container.classList.add(this.locale.direction),typeof t.startDate=="string"&&(this.startDate=moment(t.startDate,this.locale.format)),typeof t.endDate=="string"&&(this.endDate=moment(t.endDate,this.locale.format)),typeof t.minDate=="string"&&(this.minDate=moment(t.minDate,this.locale.format)),typeof t.maxDate=="string"&&(this.maxDate=moment(t.maxDate,this.locale.format)),typeof t.startDate=="object"&&(this.startDate=moment(t.startDate)),typeof t.endDate=="object"&&(this.endDate=moment(t.endDate)),typeof t.minDate=="object"&&(this.minDate=moment(t.minDate)),typeof t.maxDate=="object"&&(this.maxDate=moment(t.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),typeof t.applyButtonClasses=="string"&&(this.applyButtonClasses=t.applyButtonClasses),typeof t.applyClass=="string"&&(this.applyButtonClasses=t.applyClass),typeof t.cancelButtonClasses=="string"&&(this.cancelButtonClasses=t.cancelButtonClasses),typeof t.cancelClass=="string"&&(this.cancelButtonClasses=t.cancelClass),typeof t.maxSpan=="object"&&(this.maxSpan=t.maxSpan),typeof t.dateLimit=="object"&&(this.maxSpan=t.dateLimit),typeof t.opens=="string"&&(this.opens=t.opens),typeof t.drops=="string"&&(this.drops=t.drops),typeof t.showWeekNumbers=="boolean"&&(this.showWeekNumbers=t.showWeekNumbers),typeof t.showISOWeekNumbers=="boolean"&&(this.showISOWeekNumbers=t.showISOWeekNumbers),typeof t.buttonClasses=="string"&&(this.buttonClasses=t.buttonClasses),typeof t.buttonClasses=="object"&&(this.buttonClasses=t.buttonClasses.join(" ")),typeof t.showDropdowns=="boolean"&&(this.showDropdowns=t.showDropdowns),typeof t.minYear=="number"&&(this.minYear=t.minYear),typeof t.maxYear=="number"&&(this.maxYear=t.maxYear),typeof t.showCustomRangeLabel=="boolean"&&(this.showCustomRangeLabel=t.showCustomRangeLabel),typeof t.singleDatePicker=="boolean"&&(this.singleDatePicker=t.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),typeof t.timePicker=="boolean"&&(this.timePicker=t.timePicker),typeof t.timePickerSeconds=="boolean"&&(this.timePickerSeconds=t.timePickerSeconds),typeof t.timePickerIncrement=="number"&&(this.timePickerIncrement=t.timePickerIncrement),typeof t.timePicker24Hour=="boolean"&&(this.timePicker24Hour=t.timePicker24Hour),typeof t.autoApply=="boolean"&&(this.autoApply=t.autoApply),typeof t.autoUpdateInput=="boolean"&&(this.autoUpdateInput=t.autoUpdateInput),typeof t.linkedCalendars=="boolean"&&(this.linkedCalendars=t.linkedCalendars),typeof t.isInvalidDate=="function"&&(this.isInvalidDate=t.isInvalidDate),typeof t.isCustomDate=="function"&&(this.isCustomDate=t.isCustomDate),typeof t.alwaysShowCalendars=="boolean"&&(this.alwaysShowCalendars=t.alwaysShowCalendars),this.locale.firstDay!=0)for(var p=this.locale.firstDay;p>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),p--;var x,k,D;if(typeof t.startDate>"u"&&typeof t.endDate>"u"&&this.element.tagName==="INPUT"&&this.element.type==="text"){var L=this.element.value,V=L.split(this.locale.separator);x=k=null,V.length==2?(x=moment(V[0],this.locale.format),k=moment(V[1],this.locale.format)):this.singleDatePicker&&L!==""&&(x=moment(L,this.locale.format),k=moment(L,this.locale.format)),x!==null&&k!==null&&(this.setStartDate(x),this.setEndDate(k))}if(typeof t.ranges=="object"){let _e=Object.keys(t.ranges);for(let be=0;be<_e.length;++be){let le=_e[be];typeof t.ranges[le][0]=="string"?x=moment(t.ranges[le][0],this.locale.format):x=moment(t.ranges[le][0]),typeof t.ranges[le][1]=="string"?k=moment(t.ranges[le][1],this.locale.format):k=moment(t.ranges[le][1]),this.minDate&&x.isBefore(this.minDate)&&(x=this.minDate.clone());var q=this.maxDate;if(this.maxSpan&&q&&x.clone().add(this.maxSpan).isAfter(q)&&(q=x.clone().add(this.maxSpan)),q&&k.isAfter(q)&&(k=q.clone()),!(this.minDate&&k.isBefore(this.minDate,this.timepicker?"minute":"day")||q&&x.isAfter(q,this.timepicker?"minute":"day"))){var c=document.createElement("textarea");c.innerHTML=le;var m=c.value;this.ranges[m]=[x,k]}}var ie="<ul>";for(D in this.ranges)ie+='<li data-range-key="'+D+'">'+D+"</li>";this.showCustomRangeLabel&&(ie+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),ie+="</ul>",this.container.querySelector(".ranges").insertAdjacentHTML("afterbegin",ie)}typeof a=="function"&&(this.callback=a),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.style.display="none",this.container.querySelector(".calendar-time").display),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&this.container.classList.add("auto-apply"),typeof t.ranges=="object"&&this.container.classList.add("show-ranges"),this.singleDatePicker&&(this.container.classList.add("single"),this.container.querySelector(".drp-calendar.left").classList.add("single"),this.container.querySelector(".drp-calendar.left").style.display="block",this.container.querySelector(".drp-calendar.right").style.display="none",!this.timePicker&&this.autoApply&&this.container.classList.add("auto-apply")),(typeof t.ranges>"u"&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.classList.add("show-calendar"),this.container.classList.add("opens"+this.opens);let ee=this.container.querySelector(".applyBtn"),se=this.container.querySelector(".cancelBtn");br.addClass(ee,this.buttonClasses),br.addClass(se,this.buttonClasses),this.applyButtonClasses.length&&br.addClass(ee,this.applyButtonClasses),this.cancelButtonClasses.length&&br.addClass(se,this.cancelButtonClasses),br.html(ee,this.locale.applyLabel),br.html(se,this.locale.cancelLabel),this.clickRangeProxy=(function(_e){this.clickRange(_e)}).bind(this),br.on(this.container.querySelector(".ranges"),"click","li",this.clickRangeProxy);let Te=this.container.querySelector(".drp-buttons");this.clickApplyProxy=(function(_e){this.clickApply(_e)}).bind(this),br.on(Te,"click","button.applyBtn",this.clickApplyProxy),this.clickCancelProxy=(function(_e){this.clickCancel(_e)}).bind(this),br.on(Te,"click","button.cancelBtn",this.clickCancelProxy),this.element.tagName==="INPUT"||this.element.tagName==="BUTTON"?(this.showProxy=(function(_e){this.show(_e)}).bind(this),br.on(this.element,"click",this.showProxy),br.on(this.element,"focus",this.showProxy),this.elementChangedProxy=(function(_e){this.elementChanged(_e)}).bind(this),br.on(this.element,"keyup",this.elementChangedProxy),this.keydownProxy=(function(_e){this.keydown(_e)}).bind(this),br.on(this.element,"keydown",this.keydownProxy)):(this.toggleProxy=(function(_e){this.toggle(_e)}).bind(this),br.on(this.element,"click",this.toggleProxy),br.on(this.element,"keydown",this.toggleProxy))};hj.prototype={constructor:hj,setStartDate:function(i){typeof i=="string"&&(this.startDate=moment(i,this.locale.format)),typeof i=="object"&&(this.startDate=moment(i)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(i){typeof i=="string"&&(this.endDate=moment(i,this.locale.format)),typeof i=="object"&&(this.endDate=moment(i)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.maxSpan&&this.startDate.clone().add(this.maxSpan).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.maxSpan)),this.previousRightTime=this.endDate.clone(),br.html(this.container.querySelector(".drp-selected"),this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){if(this.timePicker){this.renderTimePicker("left"),this.renderTimePicker("right");let i=this.container.querySelectorAll(".right .calendar-time select");if(this.endDate)for(let t=0;t<i.length;++t)i[t].disabled=!1,i[t].classList.remove("disabled");else for(let t=0;t<i.length;++t)i[t].disabled=!0,i[t].classList.add("disabled")}this.endDate&&br.html(this.container.querySelector(".drp-selected"),this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),!this.linkedCalendars&&(this.endDate.month()!=this.startDate.month()||this.endDate.year()!=this.startDate.year())?this.rightCalendar.month=this.endDate.clone().date(2):this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month")}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){this.clickPrevProxy||(this.clickPrevProxy=(function(p){this.clickPrev(p)}).bind(this)),this.clickNextProxy||(this.clickNextProxy=(function(p){this.clickNext(p)}).bind(this)),this.clickDateProxy||(this.clickDateProxy=(function(p){this.clickDate(p)}).bind(this)),this.hoverDateProxy||(this.hoverDateProxy=(function(p){this.hoverDate(p)}).bind(this)),this.monthOrYearChangedProxy||(this.monthOrYearChangedProxy=(function(p){this.monthOrYearChanged(p)}).bind(this)),this.timeChangedProxy||(this.timeChangedProxy=(function(p){this.timeChanged(p)}).bind(this));let i=this.container.querySelectorAll(".drp-calendar");if(br.off(i,"click",".prev",this.clickPrevProxy),br.off(i,"click",".next",this.clickNextProxy),br.off(i,"mousedown","td.available",this.clickDateProxy),br.off(i,"mouseenter","td.available",this.hoverDateProxy),br.off(i,"change","select.yearselect",this.monthOrYearChangedProxy),br.off(i,"change","select.monthselect",this.monthOrYearChangedProxy),br.off(i,"change","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",this.timeChangedProxy),this.timePicker){var t,a,u;if(this.endDate){if(t=parseInt(this.container.querySelector(".left .hourselect").value,10),a=parseInt(this.container.querySelector(".left .minuteselect").value,10),isNaN(a)&&(a=parseInt(br.findLast(this.container.querySelector(".left .minuteselect")).value,10)),u=this.timePickerSeconds?parseInt(this.container.querySelector(".left .secondselect").value,10):0,!this.timePicker24Hour){var c=this.container.querySelector(".left .ampmselect").value;c==="PM"&&t<12&&(t+=12),c==="AM"&&t===12&&(t=0)}}else if(t=parseInt(this.container.querySelector(".right .hourselect").value,10),a=parseInt(this.container.querySelector(".right .minuteselect").value,10),isNaN(a)&&(a=parseInt(br.findLast(this.container.querySelector(".right .minuteselect")).value,10)),u=this.timePickerSeconds?parseInt(this.container.querySelector(".right .secondselect").value,10):0,!this.timePicker24Hour){var c=this.container.querySelector(".right .ampmselect").value;c==="PM"&&t<12&&(t+=12),c==="AM"&&t===12&&(t=0)}this.leftCalendar.month.hour(t).minute(a).second(u),this.rightCalendar.month.hour(t).minute(a).second(u)}this.renderCalendar("left"),this.renderCalendar("right");var m=this.container.querySelectorAll(".ranges li");for(let p=0;p<m.length;++p)m[p].classList.remove("active");this.endDate!=null&&this.calculateChosenLabel(),br.on(i,"click",".prev",this.clickPrevProxy),br.on(i,"click",".next",this.clickNextProxy),br.on(i,"mousedown","td.available",this.clickDateProxy),br.on(i,"mouseenter","td.available",this.hoverDateProxy),br.on(i,"change","select.yearselect",this.monthOrYearChangedProxy),br.on(i,"change","select.monthselect",this.monthOrYearChangedProxy),br.on(i,"change","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",this.timeChangedProxy)},renderCalendar:function(i){var ie=i=="left"?this.leftCalendar:this.rightCalendar,t=ie.month.month(),a=ie.month.year(),u=ie.month.hour(),c=ie.month.minute(),m=ie.month.second(),p=moment([a,t]).daysInMonth(),x=moment([a,t,1]),k=moment([a,t,p]),D=moment(x).subtract(1,"month").month(),L=moment(x).subtract(1,"month").year(),V=moment([L,D]).daysInMonth(),q=x.day(),ie=[];ie.firstDay=x,ie.lastDay=k;for(var ee=0;ee<6;ee++)ie[ee]=[];var se=V-q+this.locale.firstDay+1;se>V&&(se-=7),q==this.locale.firstDay&&(se=V-6);for(var Te=moment([L,D,se,12,c,m]),_e,be,ee=0,_e=0,be=0;ee<42;ee++,_e++,Te=moment(Te).add(24,"hour"))ee>0&&_e%7===0&&(_e=0,be++),ie[be][_e]=Te.clone().hour(u).minute(c).second(m),Te.hour(12),this.minDate&&ie[be][_e].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&ie[be][_e].isBefore(this.minDate)&&i=="left"&&(ie[be][_e]=this.minDate.clone()),this.maxDate&&ie[be][_e].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&ie[be][_e].isAfter(this.maxDate)&&i=="right"&&(ie[be][_e]=this.maxDate.clone());i=="left"?this.leftCalendar.calendar=ie:this.rightCalendar.calendar=ie;var le=i=="left"?this.minDate:this.startDate,Pe=this.maxDate;i=="left"?this.startDate:this.endDate,this.locale.direction=="ltr";var Oe='<table class="table-condensed">';Oe+="<thead>",Oe+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(Oe+="<th></th>"),(!le||le.isBefore(ie.firstDay))&&(!this.linkedCalendars||i=="left")?Oe+='<th class="prev available"><span></span></th>':Oe+="<th></th>";var lt=this.locale.monthNames[ie[1][1].month()]+ie[1][1].format(" YYYY");if(this.showDropdowns){for(var at=ie[1][1].month(),K=ie[1][1].year(),de=Pe&&Pe.year()||this.maxYear,ve=le&&le.year()||this.minYear,Ue=K==ve,ue=K==de,Y='<select class="monthselect">',$e=0;$e<12;$e++)(!Ue||le&&$e>=le.month())&&(!ue||Pe&&$e<=Pe.month())?Y+="<option value='"+$e+"'"+($e===at?" selected='selected'":"")+">"+this.locale.monthNames[$e]+"</option>":Y+="<option value='"+$e+"'"+($e===at?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[$e]+"</option>";Y+="</select>";for(var He='<select class="yearselect">',Ce=ve;Ce<=de;Ce++)He+='<option value="'+Ce+'"'+(Ce===K?' selected="selected"':"")+">"+Ce+"</option>";He+="</select>",lt=Y+He}Oe+='<th colspan="5" class="month">'+lt+"</th>",(!Pe||Pe.isAfter(ie.lastDay))&&(!this.linkedCalendars||i=="right"||this.singleDatePicker)?Oe+='<th class="next available"><span></span></th>':Oe+="<th></th>",Oe+="</tr>",Oe+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(Oe+='<th class="week">'+this.locale.weekLabel+"</th>");for(let Dt=0;Dt<this.locale.daysOfWeek.length;++Dt)Oe+="<th>"+this.locale.daysOfWeek[Dt]+"</th>";if(Oe+="</tr>",Oe+="</thead>",Oe+="<tbody>",this.endDate==null&&this.maxSpan){var rt=this.startDate.clone().add(this.maxSpan).endOf("day");(!Pe||rt.isBefore(Pe))&&(Pe=rt)}for(var be=0;be<6;be++){Oe+="<tr>",this.showWeekNumbers?Oe+='<td class="week">'+ie[be][0].week()+"</td>":this.showISOWeekNumbers&&(Oe+='<td class="week">'+ie[be][0].isoWeek()+"</td>");for(var _e=0;_e<7;_e++){var We=[];ie[be][_e].isSame(new Date,"day")&&We.push("today"),ie[be][_e].isoWeekday()>5&&We.push("weekend"),ie[be][_e].month()!=ie[1][1].month()&&We.push("off","ends"),this.minDate&&ie[be][_e].isBefore(this.minDate,"day")&&We.push("off","disabled"),Pe&&ie[be][_e].isAfter(Pe,"day")&&We.push("off","disabled"),this.isInvalidDate(ie[be][_e])&&We.push("off","disabled"),ie[be][_e].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&We.push("active","start-date"),this.endDate!=null&&ie[be][_e].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&We.push("active","end-date"),this.endDate!=null&&ie[be][_e]>this.startDate&&ie[be][_e]<this.endDate&&We.push("in-range");var z=this.isCustomDate(ie[be][_e]);z!==!1&&(typeof z=="string"?We.push(z):Array.prototype.push.apply(We,z));for(var ln="",dt=!1,ee=0;ee<We.length;ee++)ln+=We[ee]+" ",We[ee]=="disabled"&&(dt=!0);dt||(ln+="available"),Oe+='<td class="'+ln.replace(/^\s+|\s+$/g,"")+'" data-title="r'+be+"c"+_e+'">'+ie[be][_e].date()+"</td>"}Oe+="</tr>"}Oe+="</tbody>",Oe+="</table>",br.html(this.container.querySelector(".drp-calendar."+i+" .calendar-table"),Oe)},renderTimePicker:function(i){if(!(i=="right"&&!this.endDate)){var t,a,u,c=this.maxDate;if(this.maxSpan&&(!this.maxDate||this.startDate.clone().add(this.maxSpan).isBefore(this.maxDate))&&(c=this.startDate.clone().add(this.maxSpan)),i=="left")a=this.startDate.clone(),u=this.minDate;else if(i=="right"){a=this.endDate.clone(),u=this.startDate;var m=this.container.querySelector(".drp-calendar.right .calendar-time");if(m.innerHTML!=""&&(a.hour(isNaN(a.hour())?br.findSelectedOption(m.querySelector(".hourselect")).value:a.hour()),a.minute(isNaN(a.minute())?br.findSelectedOption(m.querySelector(".minuteselect")).value:a.minute()),a.second(isNaN(a.second())?br.findSelectedOption(m.querySelector(".secondselect")).value:a.second()),!this.timePicker24Hour)){var p=br.findSelectedOption(m.querySelector(".ampmselect")).value;p==="PM"&&a.hour()<12&&a.hour(a.hour()+12),p==="AM"&&a.hour()===12&&a.hour(0)}a.isBefore(this.startDate)&&(a=this.startDate.clone()),c&&a.isAfter(c)&&(a=c.clone())}t='<select class="hourselect">';for(var x=this.timePicker24Hour?0:1,k=this.timePicker24Hour?23:12,D=x;D<=k;D++){var L=D;this.timePicker24Hour||(L=a.hour()>=12?D==12?12:D+12:D==12?0:D);var V=a.clone().hour(L),q=!1;u&&V.minute(59).isBefore(u)&&(q=!0),c&&V.minute(0).isAfter(c)&&(q=!0),L==a.hour()&&!q?t+='<option value="'+D+'" selected="selected">'+D+"</option>":q?t+='<option value="'+D+'" disabled="disabled" class="disabled">'+D+"</option>":t+='<option value="'+D+'">'+D+"</option>"}t+="</select> ",t+=': <select class="minuteselect">';for(var D=0;D<60;D+=this.timePickerIncrement){var ie=D<10?"0"+D:D,V=a.clone().minute(D),q=!1;u&&V.second(59).isBefore(u)&&(q=!0),c&&V.second(0).isAfter(c)&&(q=!0),a.minute()==D&&!q?t+='<option value="'+D+'" selected="selected">'+ie+"</option>":q?t+='<option value="'+D+'" disabled="disabled" class="disabled">'+ie+"</option>":t+='<option value="'+D+'">'+ie+"</option>"}if(t+="</select> ",this.timePickerSeconds){t+=': <select class="secondselect">';for(var D=0;D<60;D++){var ie=D<10?"0"+D:D,V=a.clone().second(D),q=!1;u&&V.isBefore(u)&&(q=!0),c&&V.isAfter(c)&&(q=!0),a.second()==D&&!q?t+='<option value="'+D+'" selected="selected">'+ie+"</option>":q?t+='<option value="'+D+'" disabled="disabled" class="disabled">'+ie+"</option>":t+='<option value="'+D+'">'+ie+"</option>"}t+="</select> "}if(!this.timePicker24Hour){t+='<select class="ampmselect">';var ee="",se="";u&&a.clone().hour(12).minute(0).second(0).isBefore(u)&&(ee=' disabled="disabled" class="disabled"'),c&&a.clone().hour(0).minute(0).second(0).isAfter(c)&&(se=' disabled="disabled" class="disabled"'),a.hour()>=12?t+='<option value="AM"'+ee+'>AM</option><option value="PM" selected="selected"'+se+">PM</option>":t+='<option value="AM" selected="selected"'+ee+'>AM</option><option value="PM"'+se+">PM</option>",t+="</select>"}br.html(this.container.querySelector(".drp-calendar."+i+" .calendar-time"),t)}},updateFormInputs:function(){this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.querySelector("button.applyBtn").disabled=!1:this.container.querySelector("button.applyBtn").disabled=!0},move:function(){var i={top:0,left:0},t,a=this.drops,u=window.innerWidth;if(this.parentEl.tagName!=="BODY"){let k=br.offset(this.parentEl);i={top:k.top-this.parentEl.scrollTop,left:k.left-this.parentEl.scrollLeft},u=this.parentEl.clientWidth+k.left}let c=br.offset(this.element);switch(a){case"auto":t=c.top+this.element.offsetHeight-i.top,t+this.container.offsetHeight>=this.parentEl.scrollHeight&&(t=c.top-this.container.offsetHeight-i.top,a="up");break;case"up":t=c.top-this.container.offsetHeight-i.top;break;default:t=c.top+this.element.offsetHeight-i.top;break}this.container.style.top="0",this.container.style.left="0",this.container.style.right="auto";var m=this.container.offsetWidth;if(a=="up"?this.container.classList.add("drop-up"):this.container.classList.remove("drop-up"),this.opens=="left"){var p=u-c.left-this.element.offsetWidth;m+p>window.innerWidth?(this.container.style.top=t+"px",this.container.style.right="auto",this.container.style.left="9px"):(this.container.style.top=t+"px",this.container.style.right=p+"px",this.container.style.left="auto")}else if(this.opens=="center"){var x=c.left-i.left+this.element.offsetWidth/2-m/2;x<0?(this.container.style.top=t+"px",this.container.style.right="auto",this.container.style.left="9px"):x+m>window.innerWidth?(this.container.style.top=t+"px",this.container.style.left="auto",this.container.style.right="0"):(this.container.style.top=t+"px",this.container.style.left=x+"px",this.container.style.right="auto")}else{var x=c.left-i.left;x+m>window.innerWidth?(this.container.style.top=t+"px",this.container.style.left="auto",this.container.style.right="0"):(this.container.style.top=t+"px",this.container.style.left=x+"px",this.container.style.right="auto")}},show:function(i){this.isShowing||(this._outsideClickProxy||(this._outsideClickProxy=(function(t){this.outsideClick(t)}).bind(this)),document.addEventListener("mousedown",this._outsideClickProxy),document.addEventListener("touchend",this._outsideClickProxy),br.on(document,"click","[data-toggle=dropdown]",this._outsideClickProxy),document.addEventListener("focusin",this._outsideClickProxy),this.moveProxy||(this.moveProxy=(function(t){this.move(t)}).bind(this)),window.addEventListener("resize",this.moveProxy),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.style.display="block",this.move(),this.element.dispatchEvent(new CustomEvent("show.daterangepicker",{bubbles:!0,detail:this})),this.isShowing=!0)},hide:function(i){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),(!this.startDate.isSame(this.oldStartDate)||!this.endDate.isSame(this.oldEndDate))&&this.callback(this.startDate.clone(),this.endDate.clone(),this.chosenLabel),this.updateElement(),this._outsideClickProxy&&(document.removeEventListener("mousedown",this._outsideClickProxy),document.removeEventListener("touchend",this._outsideClickProxy),br.off(document,"click","[data-toggle=dropdown]",this._outsideClickProxy),document.removeEventListener("focusin",this._outsideClickProxy)),this.moveProxy&&window.removeEventListener("resize",this.moveProxy),this.container.style.display="none",this.element.dispatchEvent(new CustomEvent("hide.daterangepicker",{bubbles:!0,detail:this})),this.isShowing=!1)},toggle:function(i){this.isShowing?this.hide():this.show()},outsideClick:function(i){var t=i.target;i.type=="focusin"||t.closest(br.getSelectorFromElement(this.element))||t.closest(br.getSelectorFromElement(this.container))||t.closest(".calendar-table")||(this.hide(),this.element.dispatchEvent(new CustomEvent("outsideClick.daterangepicker",{bubbles:!0,detail:this})))},showCalendars:function(){this.container.classList.add("show-calendar"),this.move(),this.element.dispatchEvent(new CustomEvent("showCalendar.daterangepicker",{bubbles:!0,detail:this}))},hideCalendars:function(){this.container.classList.remove("show-calendar"),this.element.dispatchEvent(new CustomEvent("hideCalendar.daterangepicker",{bubbles:!0,detail:this}))},clickRange:function(i){var t=i.target.dataset.rangeKey;if(this.chosenLabel=t,t==this.locale.customRangeLabel)this.showCalendars();else{var a=this.ranges[t];this.startDate=a[0],this.endDate=a[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply(i)}},clickPrev:function(i){var t=i.target.closest(".drp-calendar");t.classList.contains("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(i){var t=i.target.closest(".drp-calendar");t.classList.contains("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(i){if(i.target.classList.contains("available")){var t=i.target.dataset.title,a=t.substr(1,1),u=t.substr(3,1),c=i.target.closest(".drp-calendar"),m=c.classList.contains("left")?this.leftCalendar.calendar[a][u]:this.rightCalendar.calendar[a][u],p=this.leftCalendar,x=this.rightCalendar,k=this.startDate;if(!this.endDate){let L=this.container.querySelectorAll(".drp-calendar tbody td");for(let V=0;V<L.length;++V){if(L[V].classList.contains("week"))return;var t=L[V].dataset.title,a=t.substr(1,1),u=t.substr(3,1),c=L[V].closest(".drp-calendar"),D=c.classList.contains("left")?p.calendar[a][u]:x.calendar[a][u];D.isAfter(k)&&D.isBefore(m)||D.isSame(m,"day")?L[V].classList.add("in-range"):L[V].classList.remove("in-range")}}}},clickDate:function(i){if(i.target.classList.contains("available")){var t=i.target.dataset.title,a=t.substr(1,1),u=t.substr(3,1),c=i.target.closest(".drp-calendar"),m=c.classList.contains("left")?this.leftCalendar.calendar[a][u]:this.rightCalendar.calendar[a][u];if(this.endDate||m.isBefore(this.startDate,"day")){if(this.timePicker){var p=parseInt(this.container.querySelector(".left .hourselect").value,10);if(!this.timePicker24Hour){var x=this.container.querySelector(".left .ampmselect").value;x==="PM"&&p<12&&(p+=12),x==="AM"&&p===12&&(p=0)}var k=parseInt(this.container.querySelector(".left .minuteselect").value,10);isNaN(k)&&(k=parseInt(this.container.querySelector(".left .minuteselect option:last").value,10));var D=this.timePickerSeconds?parseInt(this.container.querySelector(".left .secondselect").value,10):0;m=m.clone().hour(p).minute(k).second(D)}this.endDate=null,this.setStartDate(m.clone())}else if(!this.endDate&&m.isBefore(this.startDate))this.setEndDate(this.startDate.clone());else{if(this.timePicker){var p=parseInt(this.container.querySelector(".right .hourselect").value,10);if(!this.timePicker24Hour){var x=this.container.querySelector(".right .ampmselect").value;x==="PM"&&p<12&&(p+=12),x==="AM"&&p===12&&(p=0)}var k=parseInt(this.container.querySelector(".right .minuteselect").value,10);isNaN(k)&&(k=parseInt(this.container.querySelector(".right .minuteselect option:last").value,10));var D=this.timePickerSeconds?parseInt(this.container.querySelector(".right .secondselect").value,10):0;m=m.clone().hour(p).minute(k).second(D)}this.setEndDate(m.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply(i))}this.singleDatePicker&&(this.setEndDate(this.startDate),!this.timePicker&&this.autoApply&&this.clickApply(i)),this.updateView(),i.stopPropagation()}},calculateChosenLabel:function(){var i=!0;let t=Object.keys(this.ranges);for(let u=0;u<t.length;++u){let c=this.ranges[t[u]];if(this.timePicker){var a=this.timePickerSeconds?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD HH:mm";if(this.startDate.format(a)==c[0].format(a)&&this.endDate.format(a)==c[1].format(a)){i=!1;let m=this.container.querySelectorAll(".ranges li");m[u].classList.add("active"),this.chosenLabel=m[u].dataset.rangeKey;break}}else if(this.startDate.format("YYYY-MM-DD")==c[0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==c[1].format("YYYY-MM-DD")){i=!1;let m=this.container.querySelectorAll(".ranges li");m[u].classList.add("active"),this.chosenLabel=m[u].dataset.rangeKey;break}}if(i){if(this.showCustomRangeLabel){let u=br.findLast(this.container.querySelectorAll(".ranges li"));u?(u.classList.add("active"),this.chosenLabel=u.dataset.rangeKey):this.chosenLabel=null}else this.chosenLabel=null;this.showCalendars()}},clickApply:function(i){this.hide(),i.target.dispatchEvent(new CustomEvent("apply.daterangepicker",{bubbles:!0,detail:this}));let t=new Event("change");this.element.dispatchEvent(t)},clickCancel:function(i){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.value="",i.target.dispatchEvent(new CustomEvent("cancel.daterangepicker",{bubbles:!0,detail:this}));let t=new Event("change");this.element.dispatchEvent(t)},monthOrYearChanged:function(i){var t=i.target.closest(".drp-calendar").classList.contains("left"),a=t?"left":"right",u=this.container.querySelector(".drp-calendar."+a),c=parseInt(u.querySelector(".monthselect").value,10),m=u.querySelector(".yearselect").value;t||(m<this.startDate.year()||m==this.startDate.year()&&c<this.startDate.month())&&(c=this.startDate.month(),m=this.startDate.year()),this.minDate&&(m<this.minDate.year()||m==this.minDate.year()&&c<this.minDate.month())&&(c=this.minDate.month(),m=this.minDate.year()),this.maxDate&&(m>this.maxDate.year()||m==this.maxDate.year()&&c>this.maxDate.month())&&(c=this.maxDate.month(),m=this.maxDate.year()),t?(this.leftCalendar.month.month(c).year(m),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(c).year(m),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(i){var t=i.target.closest(".drp-calendar"),a=t.classList.contains("left"),u=parseInt(t.querySelector(".hourselect").value,10),c=parseInt(t.querySelector(".minuteselect").value,10);isNaN(c)&&(c=parseInt(br.findLast(t.querySelectorAll(".minuteselect option")).value,10));var m=this.timePickerSeconds?parseInt(t.querySelector(".secondselect").value,10):0;if(!this.timePicker24Hour){var p=t.querySelector(".ampmselect").value;p==="PM"&&u<12&&(u+=12),p==="AM"&&u===12&&(u=0)}if(a){var x=this.startDate.clone();x.hour(u),x.minute(c),x.second(m),this.setStartDate(x),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==x.format("YYYY-MM-DD")&&this.endDate.isBefore(x)&&this.setEndDate(x.clone())}else if(this.endDate){var k=this.endDate.clone();k.hour(u),k.minute(c),k.second(m),this.setEndDate(k)}this.updateCalendars(),this.updateFormInputs();let D=this.container.querySelectorAll(".drp-calendar");br.off(D,"change","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",this.timeChangedProxy),this.renderTimePicker("left"),this.renderTimePicker("right"),br.on(D,"change","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",this.timeChangedProxy)},elementChanged:function(){if(this.element.tagName==="INPUT"&&!(!this.element.value||!this.element.value.length)){var i=this.element.value.split(this.locale.separator),t=null,a=null;i.length===2&&(t=moment(i[0],this.locale.format),a=moment(i[1],this.locale.format)),(this.singleDatePicker||t===null||a===null)&&(t=moment(this.element.value,this.locale.format),a=t),!(!t.isValid()||!a.isValid())&&(this.setStartDate(t),this.setEndDate(a),this.updateView())}},keydown:function(i){(i.keyCode===9||i.keyCode===13)&&this.hide(),i.keyCode===27&&(i.preventDefault(),i.stopPropagation(),this.hide())},updateElement:function(){if(this.element.tagName==="INPUT"&&this.autoUpdateInput){let i=this.startDate.format(this.locale.format);this.singleDatePicker||(i+=this.locale.separator+this.endDate.format(this.locale.format)),i!==this.element.value&&(this.element.value=i)}},remove:function(){this._outsideClickProxy&&(document.removeEventListener("mousedown",this._outsideClickProxy),document.removeEventListener("touchend",this._outsideClickProxy),br.off(document,"click","[data-toggle=dropdown]",this._outsideClickProxy),document.removeEventListener("focusin",this._outsideClickProxy),delete this._outsideClickProxy),this.moveProxy&&(window.addEventListener("resize",this.moveProxy),delete this.moveProxy),this.clickRangeProxy&&(br.off(this.container.querySelector(".ranges"),"click","li",this.clickRangeProxy),delete this.clickRangeProxy);let i=this.container.querySelector(".drp-buttons");this.clickApplyProxy&&(br.off(i,"click","button.applyBtn",this.clickApplyProxy),delete this.clickApplyProxy),this.clickCancelProxy&&(br.off(i,"click","button.cancelBtn",this.clickCancelProxy),delete this.clickCancelProxy),this.element.tagName==="INPUT"||this.element.tagName==="BUTTON"?(this.showProxy&&(br.off(this.element,"click",this.showProxy),br.off(this.element,"focus",this.showProxy),delete this.showProxy),this.elementChangedProxy&&(br.off(this.element,"keyup",this.elementChangedProxy),delete this.elementChangedProxy),this.keydownProxy&&(br.off(this.element,"keydown",this.keydownProxy),delete this.keydownProxy)):this.toggleProxy&&(br.off(this.element,"click",this.toggleProxy),br.off(this.element,"keydown",this.toggleProxy),delete this.toggleProxy);let t=this.container.querySelectorAll(".drp-calendar");this.clickPrevProxy&&(br.off(t,"click",".prev",this.clickPrevProxy),delete this.clickPrevProxy),this.clickNextProxy&&(br.off(t,"click",".next",this.clickNextProxy),delete this.clickNextProxy),this.clickDateProxy&&(br.off(t,"mousedown","td.available",this.clickDateProxy),delete this.clickDateProxy),this.hoverDateProxy&&(br.off(t,"mouseenter","td.available",this.hoverDateProxy),delete this.hoverDateProxy),this.monthOrYearChangedProxy&&(br.off(t,"change","select.yearselect",this.monthOrYearChangedProxy),br.off(t,"change","select.monthselect",this.monthOrYearChangedProxy),delete this.monthOrYearChangedProxy),this.timeChangedProxy&&(br.off(t,"change","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",this.timeChangedProxy),delete this.timeChangedProxy),delete this.container,delete this.element.dataset},updateRanges:function(i){if(typeof i=="object"){br.off(this.container.querySelector(".ranges"),"click","li",this.clickRangeProxy),this.ranges=[];let m=Object.keys(i);for(let x=0;x<m.length;++x){let k=m[x];typeof i[k][0]=="string"?start=moment(i[k][0],this.locale.format):start=moment(i[k][0]),typeof i[k][1]=="string"?end=moment(i[k][1],this.locale.format):end=moment(i[k][1]),this.minDate&&start.isBefore(this.minDate)&&(start=this.minDate.clone());var t=this.maxDate;if(this.maxSpan&&t&&start.clone().add(this.maxSpan).isAfter(t)&&(t=start.clone().add(this.maxSpan)),t&&end.isAfter(t)&&(end=t.clone()),!(this.minDate&&end.isBefore(this.minDate,this.timepicker?"minute":"day")||t&&start.isAfter(t,this.timepicker?"minute":"day"))){var a=document.createElement("textarea");a.innerHTML=k;var u=a.value;this.ranges[u]=[start,end]}}var c="<ul>";for(range in this.ranges)c+='<li data-range-key="'+range+'">'+range+"</li>";this.showCustomRangeLabel&&(c+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),c+="</ul>";let p=this.container.querySelector(".ranges");p.removeChild(p.firstChild),p.insertAdjacentHTML("afterbegin",c)}this.clickRangeProxy=(function(m){this.clickRange(m)}).bind(this),br.on(this.container.querySelector(".ranges"),"click","li",this.clickRangeProxy)}};var br={addClassSub:function(i,t){let a=t.split(" ");for(let u=0;u<a.length;++u)i.classList.add(a[u].trim())},addClass:function(i,t){if(i)if(typeof i.length=="number")for(let a=0;a<i.length;++a)br.addClassSub(i[a],t);else br.addClassSub(i,t)},findLast:function(i){return i?typeof i.length=="number"?i.length>0?i[i.length-1]:null:i:null},findSelectedOption:function(i){if(!i||!i.options||!i.options.length)return null;for(let t=0;t<i.options.length;++t)if(i.options[t].selected)return i.options[t];return null},getSelectorFromElement:function(i){if(!i||!(i instanceof Element))return null;let t=i.nodeName.toLowerCase();if(i.id)return t+"#"+i.id;for(let a=0;a<i.classList.length;++a)t+="."+i.classList[a];return t},html:function(i,t){i&&(i.innerHTML=t)},offset:function(i){if(!i)return{top:0,left:0};if(!i.getClientRects().length)return{top:0,left:0};let t=i.getBoundingClientRect(),a=i.ownerDocument.defaultView;return{top:t.top+a.pageYOffset,left:t.left+a.pageXOffset}},offSub:function(i,t,a){if(typeof i.length=="number")for(let u=0;u<i.length;++u)i[u].removeEventListener(t,a);else i.removeEventListener(t,a)},off:function(i,t,a,u){if(i)if(typeof a=="function")br.offSub(i,t,a);else if(typeof i.length=="number")for(let c=0;c<i.length;++c)br.offSub(i[c].querySelectorAll(a),t,u);else br.offSub(i.querySelectorAll(a),t,u)},onSub:function(i,t,a){if(typeof i.length=="number")for(let u=0;u<i.length;++u)i[u].addEventListener(t,a);else i.addEventListener(t,a)},on:function(i,t,a,u){if(i)if(typeof a=="function")br.onSub(i,t,a);else if(typeof i.length=="number")for(let c=0;c<i.length;++c)br.onSub(i[c].querySelectorAll(a),t,u);else br.onSub(i.querySelectorAll(a),t,u)}};window._=cue;window.Modal=z3;var Xxe=[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));Xxe.map(function(i){return new oI(i)});window.axios=khe;window.uuid=Mhe;window.imask=qi;window.Chart=ww;window.TomSelect=sh;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";window.tinyMCE=qbe;window.BigNumber=Kbe;window.moment=Sr;window.Utils=Sr;window.DateRangePicker=hj;var Zxe=document.querySelectorAll(".numeric");Array.prototype.slice.call(Zxe).forEach(function(i){i.addEventListener("keyup",function(t){this.value=this.value.replace(/[^0-9.]/g,"").replace(/(\..*?)\..*/g,"$1")}),i.addEventListener("change",function(t){this.value=this.value.replace(/[^0-9.]/g,"").replace(/(\..*?)\..*/g,"$1")})});var Jxe=document.querySelectorAll(".telefono"),Qxe={mask:"00000000"};Array.prototype.slice.call(Jxe).forEach(function(i){imask(i,Qxe)});var eCe=document.querySelectorAll(".identificacion"),tCe={mask:"0000000000000"};Array.prototype.slice.call(eCe).forEach(function(i){imask(i,tCe)});var nCe=document.querySelectorAll(".cp"),rCe={mask:"00000"};Array.prototype.slice.call(nCe).forEach(function(i){imask(i,rCe)});var aCe=document.querySelectorAll(".lempiras");Array.prototype.slice.call(aCe).forEach(function(i){i.addEventListener("keyup",function(t){let a=this.value;this.value=lempiras(a)})});window.validaCampos=function(i,t,a){let u=i.value,c="";const p=[{nombre:"alphanumerico",regla:"abcdefghijklmnñopqrstuvwxyzABCDEFGHIJKLMNÑOPQRSTUVWXYZ1234567890-."},{nombre:"numeros",regla:"1234567890"},{nombre:"letras",regla:"abcdefghijklmnñopqrstuvwxyzABCDEFGHIJKLMNÑOPQRSTUVWXYZ"},{nombre:"prorroga",regla:"12345"}].find(({nombre:k})=>k===t);for(var x=0;x<u.length;x++)p.regla.indexOf(u.charAt(x))!=-1&&(c+=u.charAt(x));document.getElementById(a).value=c};window.lempiras=function(i){i=i.replace(".","").replaceAll(",","").replace(/\D/g,"");const t=new BigNumber(i),a={minimumFractionDigits:2},u=new Intl.NumberFormat("es-HN",a).format(t.dividedBy(100));return i=u==="NaN"?"":u,i};window.tipoValidacion=function(i,t){if(i.validity.valueMissing)return t??"Dato obligatorio";if(i.validity.tooLong)return"El límite de caracteres debe ser menor o igual a "+i.maxlength;if(i.validity.tooShort)return"El mínimo de caracteres es de "+i.minLength;if(i.validity.rangeOverflow){if(i.type==="date")return"La fecha debe ser igual o anterior a la actual";if(i.type==="number")return t??"Este debe ser menor a "+i.max}return i.validity.rangeUnderflow&&i.type==="date"?i.min=="1970-01-01"?"La fecha debe ser posterior a 01/01/1970":"La fecha debe ser posterior a la actual":i.validity.typeMismatch?i.type==="email"?"Correo electrónico inválido":i.type==="date"?"Fecha inválida":i.type==="time"?"Hora inválida":"Tipo de dato incorrecto":(i.validity.pattern&&i.type==="text","Campo inválido")};window.validarFormulario=function(i){let t=document.getElementById("alert-error"),a=document.getElementById("textErrorAlert");t.style.display="none";let u=i.target;if(u.checkValidity()){let p=0;const x=new FormData(u);for(let D of x.entries())D[1]instanceof Blob?p+=D[1].size:p+=D[1].length;let k=iCe(post_size);if(p>k){t.style.display="block",a.innerHTML="<strong class='fw-semibold'>¡Error! </strong>Los archivos a cargar exceden en conjunto el tamaño máximo permitido por petición que es de "+post_size+"B.";var m=u.querySelectorAll('input[type="file"]');console.log(m),i.preventDefault(),i.stopPropagation()}}else{i.preventDefault(),i.stopPropagation();var c=u.querySelectorAll(":invalid");c.forEach(function(p){var x=p.closest(".form-group").querySelectorAll(".invalid-feedback");x.forEach(function(k){k.textContent=tipoValidacion(p,k.dataset.default),k.style.removeProperty("display")})})}u.classList.add("validado")};function iCe(i){i=i.trim();let t=i[i.length-1].toLowerCase();switch(i=parseFloat(i),t){case"g":i*=1024*1024*1024;break;case"m":i*=1024*1024;break;case"k":i*=1024;break}return i}var oCe=document.querySelectorAll(".necesita-validacion");Array.prototype.slice.call(oCe).forEach(function(i){i.addEventListener("submit",function(t){validarFormulario(t)},!1)});window.diasInhabiles=[];window.location.pathname!=="/login"&&axios.post("/getDiasInhabiles").then(function(i){i.data&&(window.diasInhabiles=i.data.inhabiles)});window.validaFechaInhabil=function(i){let t=i.value?i.value:null,a=i.closest(".form-group").querySelector(".invalid-feedback");if(t&&diasInhabiles.includes(t)){let u=moment(i.value);i.value="",a.innerHTML="La fecha "+u.format("DD/MM/YYYY")+" es inhábil.",a.style.display="block"}else a.style.display="none"};window.addEventListener("actualiza_bandeja_casos",i=>{document.getElementById("enlace_casos").setAttribute("href",i.detail.url)});let SY=new Date;SY.getFullYear();SY.getMonth();SY.getDate();let cZ=document.getElementById("form_busqueda_casos");if(cZ){let i=document.getElementById("btn_reset_busqueda");i&&i.addEventListener("click",function(){let t=document.getElementById("busqueda");t.value="",cZ.submit()})}let sCe=document.querySelectorAll(".filtro-fecha");Array.prototype.slice.call(sCe).forEach(function(i){i.addEventListener("focus",function(){this.type="date"}),i.addEventListener("blur",function(){this.value===""&&(this.type="text")})});window.btnLimpiarBusqueda=function(i,t){location.replace(base_url+t)};window.selectMunicipios=function(i,t){let a=document.getElementById(t);a&&i.value?axios.post(base_url+"/api/getMunicipiosByDepartamentoId",{departamento_id:i.value}).then(function(u){u.data&&(a.innerHTML=u.data.html)}).catch(function(u){console.log(u)}):(a.innerHTML='<option value="">Seleccione un departamento</option>',a.value="")};window.selectOficinaRegional=function(i,t){let a=document.getElementById(t);a&&i.value?axios.post(base_url+"/api/getOficinaRegionalByMunicipiosId",{municipio_id:i.value}).then(function(u){u.data&&(a.disabled=!1,a.innerHTML=u.data.html,uCe(u.data.region,u.data.auditor),a.disabled=!0)}).catch(function(u){console.log(u)}):(a.innerHTML='<option value="">Seleccione un departamento</option>',a.value="")};function uCe(i,t){const a=document.getElementById("auditor_responsable_id");a&&(a.value=t)}const fZ=document.getElementsByClassName("form-select-multiple");if(fZ.length>0){let i=function(t,a,u){const c=[];let m=!0;t.querySelectorAll(`input[name="${a}[]"]:checked`).forEach(function(p){const x=p.getAttribute("data-tag-name");x!=="Todos"?(c.push(x),m=!1):m=!0}),c.length?c.length<4?u.textContent=c.toString():u.textContent=`${c.length} seleccionados`:u.textContent=m?"Todos":"Seleccione"};var ICe=i;for(let t of fZ){const a=t.getAttribute("data-input-name"),u=t.closest(".dropdown"),c=u.querySelector(".dropdown-toggle");i(u,a,c),t.addEventListener("change",function(m){t.value==="Todos"?t.checked?u.querySelectorAll(`input[name="${a}[]"]`).forEach(function(p){p.value!=="Todos"&&(p.checked=!1)}):u.querySelectorAll(`input[name="${a}[]"]`).forEach(function(p){p.value}):u.querySelectorAll(`input[name="${a}[]"]`).forEach(function(p){p.value==="Todos"&&(p.checked=!1)}),i(u,a,c)})}}let Bw=!1;window.showTooltip=function(i){if(!Bw){const t=document.getElementById(i);t.style.opacity=1,Bw=!0}};window.showTooltipClick=function(i,t=null,a=null){if(!Bw&&document.getElementById(t).classList.contains(a)){const c=document.getElementById(i);c.style.opacity=1,Bw=!0}};window.showTooltipClickAnioMulta=function(i,t=null,a=null){if(!Bw){let m=document.getElementById(t).getElementsByTagName("tr"),p=0;for(var u=m.length-1;u>=0;u--)m[u].classList.contains(a)&&p++;if(p>0){const x=document.getElementById(i);x.style.opacity=1,Bw=!0}}};window.showTooltipMonto=function(i,t,a){if(!Bw){const u=document.getElementById(t);if(u.classList.contains(a)&&parseInt(u.value)>0){const c=document.getElementById(i);c.style.opacity=1,Bw=!0}}};window.hideTooltip=function(i){const t=document.getElementById(i);t.style.opacity=0,Bw=!1};const lCe=document.querySelectorAll(".abrir-modal"),cCe=document.querySelectorAll('.modal [data-dismiss="modal"]'),fCe=document.querySelectorAll(".modal"),xW=document.querySelectorAll(".modal-init");lCe.forEach(function(i){i.addEventListener("click",function(){const t=this.getAttribute("data-target");yte(t)})});xW&&xW.length&&xW.forEach(function(i){console.log(i);const t=`#${i.getAttribute("id")}`;yte(t)});cCe.forEach(function(i){i.addEventListener("click",function(){const t=this.closest(".modal"),a=document.querySelector(".modal-overlay");document.body.removeChild(a),t.style.display="none",t.classList.remove("show"),document.body.classList.remove("modal-open")})});fCe.forEach(function(i){i.addEventListener("click",function(t){if(t.target===i){const a=document.querySelector(".modal-overlay");document.body.removeChild(a),i.style.display="none",i.classList.remove("show"),document.body.classList.remove("modal-open")}})});function yte(i){const t=document.querySelector(i),a=document.createElement("div");a.classList.add("modal-overlay","fade","show"),document.body.appendChild(a),t.style.display="block",t.classList.add("show"),document.body.classList.add("modal-open")}let dZ=document.querySelectorAll("#btnSidebar,#btnNavbar");dZ&&Array.prototype.slice.call(dZ).forEach(function(i){i.addEventListener("click",function(t){document.querySelector(".sidebar").classList.toggle("toggled")})});const vZ=document.getElementById("btnSidebar");vZ&&vZ.addEventListener("click",function(){const i=document.getElementById("sidebar").classList.contains("toggled");document.getElementById("sidebar").classList.contains("toggled")?document.getElementById("sidebar").querySelectorAll(".collapse").forEach(function(t){t.classList.remove("show"),console.log(t.querySelectorAll(".collapse-item")),t.querySelectorAll(".collapse-item").forEach(function(a){a.classList.remove("px-5"),a.classList.add("px-3")})}):document.getElementById("sidebar").querySelectorAll(".collapse").forEach(function(t){t.classList.add("show"),t.querySelectorAll(".collapse-item").forEach(function(a){a.classList.remove("px-3"),a.classList.add("px-5")})}),axios.post("/sidebar-collapse",{nuevoEstado:i}).then(function(t){}).catch(function(t){console.error(t)})});window.submitJurisdiccion=function(i){i.closest("form").submit()};window.accionTipoInfraccion=function(i){let t=i.dataset,a,u;parseInt(t.activo)?parseInt(t.eliminable)?(a="Deshabilitar",u='<p class="fw-bold p-1 m-1">¿Desea deshabilitar esta opción?</p><p class="p-1 m-1">Si confirma se dejará de mostrar la opción en el catálogo al llenar los casos, de lo contrario no se realizará ninguna acción.</p>'):(a="Eliminar",u='<p class="fw-bold p-1 m-1">¿Desea eliminar esta opción?</p><p class="p-1 m-1">Si confirma se hará un borrado lógico, de lo contrario no se realizará ninguna acción.</p>'):(a="Habilitar",u='<p class="fw-bold p-1 m-1">¿Desea habilitar esta opción?</p><p class="p-1 m-1">Si confirma se mostrará la opción en el catálogo al llenar los casos, de lo contrario no se realizará ninguna acción.</p>'),document.getElementById("tituloModalTipoInfraccion").innerHTML=a,document.getElementById("idModalTipoInfraccion").value=t.id,document.getElementById("accionModalTipoInfraccion").value=a.toLowerCase(),document.getElementById("textoModalTipoInfraccion").innerHTML=u,document.getElementById("btnModalTipoInfraccion").innerHTML=a.toUpperCase()};let hZ=document.getElementById("formBusquedaTiposInfraccion");if(hZ){let i=document.getElementById("btn_reset_busqueda");i&&i.addEventListener("click",function(){let t=document.getElementById("busqueda");t.value="",hZ.submit()})}window.formularioCatalogos=function(i,t=null){let a=t.dataset;document.getElementById("formCatalogoElementos").reset();let c=new Modal(document.getElementById("modalCatalogoElementos")),m=document.getElementById("modalCatalogoElementosTitulo"),p=document.getElementById("btnFormCatalogoElementos");document.getElementById("catalogoElementoId").value=null,i!==""&&(i==="crear"?(m.innerHTML="Crear elemento",p.innerHTML="Crear"):i==="editar"&&(m.innerHTML="Editar elemento",p.innerHTML="Guardar",document.getElementById("catalogoElementoId").value=a.id,document.getElementById("nombre_elemento").value=a.nombre,document.getElementById("codigo_elemento").value=a.codigo,a.categoria&&(document.getElementById("categoria_elemento").value=a.categoria),a.descripcion&&(document.getElementById("descripcion_elemento").value=a.descripcion),a.parent_id&&(document.getElementById("padre_elemento").value=a.parent_id)),c.show())};window.openModalFormulario=function(i,t,a,u,c,m=null){let p=m.dataset;document.getElementById(a).reset();let k=new Modal(document.getElementById(i)),D=document.getElementById(t),L=document.getElementById(u);console.log(p),c!==""&&(c==="crear"&&(D.innerHTML="Crear día inhábil",L.innerHTML="Crear",document.getElementById("accion").value="crear"),c==="eliminar"&&(D.innerHTML="Eliminar día inhábil",L.innerHTML="Eliminar",Object.entries(p),document.getElementById("id_e").value=p.id,document.getElementById("accion_e").value=p.accion),c==="editar"&&(D.innerHTML="Editar día inhábil",L.innerHTML="Guardar",Object.entries(p).forEach((q,ie)=>{document.getElementById(q[0]).value=q[1]})),k.show())};window.formularioPregunta=function(i,t=null,a=null,u=null){if(document.getElementById("formAgregarPregunta").reset(),document.getElementById("tituloFormularioPregunta").innerHTML="Agregar pregunta",document.getElementById("pregunta_seccion_id").value=i,document.getElementById("pregunta_id").value="",t&&a){let m=tinymce.get("pregunta");document.getElementById("tituloFormularioPregunta").innerHTML="Editar pregunta",document.getElementById("pregunta_id").value=t,m.setContent(a),document.getElementById("descripcion_pregunta").value=u??""}document.getElementById("divFormularioPregunta").classList.remove("d-none")};window.cancelarAgregarPregunta=function(){document.getElementById("formAgregarPregunta").reset(),document.getElementById("divFormularioPregunta").classList.add("d-none")};window.formularioSeccion=function(i=null,t=null){document.getElementById("modalAgregarSeccionTitulo").innerHTML="Agregar sección",document.getElementById("idFormularioSeccion").value="";let a=new Modal(document.getElementById("modalAgregarSeccion"));document.getElementById("formAgregarFormularioSeccion").reset(),i&&t&&(document.getElementById("modalAgregarSeccionTitulo").innerHTML="Editar sección",document.getElementById("idFormularioSeccion").value=i,document.getElementById("nombreFormularioSeccion").value=t),a.show()};let mZ=document.getElementById("form_tablero");if(mZ){let i=document.getElementById("btn_reset_tablero");i&&i.addEventListener("click",function(){document.getElementById("filtro_periodo_tablero").value="",mZ.submit()})}let CW=document.getElementById("exportacion_pagos_anio"),SW=document.getElementById("exportacion_pagos_mes");CW&&CW.addEventListener("change",function(){let i=CW.value,t=SW.querySelector('option[value=""]');isNaN(i)||i===""?(SW.setAttribute("disabled",!0),t.textContent="Seleccione el año"):(SW.removeAttribute("disabled"),t.textContent="Seleccione el mes")});window.validacionFechasTablero=function(){let i=document.getElementById("periodo_desde"),t=document.getElementById("periodo_hasta"),a=document.getElementById("periodo_validacion"),u=document.getElementById("btn_filtrar_tablero");u.removeAttribute("disabled");let c="";if(i&&t){let m=i.value,p=t.value;!(m&&p)&&(m||p)&&(c="Seleccione ambas fechas para filtrar.",u.setAttribute("disabled")),m&&p&&m>p&&(c="La fecha final es menor a la inicial.",u.setAttribute("disabled")),a.innerHTML=c}};var I5=null,gZ=document.getElementById("numero_expediente"),dCe={mask:"ILN-*************",placeholder:"ILN-*************"};if(gZ)var PCe=imask(gZ,dCe);let yk=document.getElementById("form_registro_caso");yk&&(yk.addEventListener("keypress",function(i){var t=i.charCode||i.keyCode||0;t===13&&i.preventDefault()}),yk.addEventListener("submit",function(i){let t=document.getElementsByName("tipo_submit")[0].value,a=document.querySelectorAll(".monto_infraccion").length;i.preventDefault(),t==="borrador"?yk.submit():(yk.classList.add("necesita-validacion"),validarFormulario(event),yk.checkValidity()!==!1&&(a===0?(document.getElementById("alerta_sanciones").innerHTML=`<div class="alert alert-danger alert-dismissible">
                        <strong>¡Advertencia! </strong>
                        Debe agregar por lo menos una infracción en la tabla de sanciones.
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>`,document.getElementById("anio_infraccion").focus()):yk.submit()))}));window.anioInfraccion=function(i,t,a=null){let u=document.getElementById(t);u&&i.value?axios.post(base_url+"/api/getInfraccionesByAnio",{anio:i.value}).then(function(c){c.data&&(u.innerHTML=c.data.html,u.removeAttribute("disabled"),u.classList.remove("campo-dis"),parseInt(a)!=parseInt(i.value)&&vCe("idTableMulta","bg-multa"))}).catch(function(c){console.log(c)}):(u.innerHTML='<option value="">Seleccione el año</option>',u.value="",u.classList.add("campo-dis"),document.getElementById("monto_infraccion").classList.add("campo-dis"))};var EW=document.getElementById("monto_infraccion");if(EW){let i=document.getElementById("btn_agregar_multa");EW.addEventListener("keyup",function(t){let a=this.value;this.value=lempiras(a),this.value!==""?i.removeAttribute("disabled"):i.setAttribute("disabled",!0)}),EW.addEventListener("change",function(t){let a=this.value;this.value=lempiras(a),this.value!==""?i.removeAttribute("disabled"):i.setAttribute("disabled",!0)})}window.selectedInfraccion=function(i,t){let a=document.getElementById(t);if(a&&i.value){let u=document.querySelector(`#${i.id} option[value="${i.value}"]`).dataset;a.value=`${u.monto}`,I5=`${u.monto}`,parseInt(u.editable)?(a.setAttribute("placeholder","Escriba el monto"),a.removeAttribute("readonly"),a.classList.remove("campo-dis")):(a.setAttribute("readonly",!0),a.setAttribute("placeholder","Seleccione la infracción"),a.classList.add("campo-dis"))}else a.value="",a.setAttribute("readonly",!0),a.classList.add("campo-dis");a.dispatchEvent(new Event("change"))};window.calculoTotalMulta=function(){let i=document.getElementById("anio_infraccion"),t=new BigNumber(0),a=0;var u=document.querySelectorAll(".monto_infraccion");if(Array.prototype.slice.call(u).forEach(function(c){a++;let m=new BigNumber(c.value.replace("L ","").replaceAll(",",""));t=t.plus(m)}),document.getElementById("total_multa").innerHTML=`L ${lempiras(t.toFixed(2))}`,a===0){let c=document.getElementById("body_tabla_sanciones"),m=`<tr id="tr_info_sanciones">
                                            <td colspan="4">Sin infracciones</td>
                                        </tr>`;c.innerHTML=m+c.innerHTML,i.removeAttribute("disabled"),document.getElementById("anio_infraccion").setAttribute("required"),document.getElementById("infraccion_id").setAttribute("required"),document.getElementById("monto_infraccion").setAttribute("required")}else document.getElementById("anio_infraccion").removeAttribute("required"),document.getElementById("infraccion_id").removeAttribute("required"),document.getElementById("monto_infraccion").removeAttribute("required")};window.editarInfraccion=function(i,t){i.setAttribute("disabled","disabled");let a=document.getElementById(`monto-${t}`);a.removeAttribute("readonly"),a.value=a.value.replace("L ",""),a.addEventListener("keyup",function(){let u=a.value;a.value=lempiras(u)}),a.focus(),a.addEventListener("focusout",function(){a.value="L "+a.value.replace("L ",""),a.setAttribute("readonly","readonly"),i.removeAttribute("disabled"),a.removeEventListener("keyup",null),a.removeEventListener("focusout",null),calculoTotalMulta()})};window.eliminarInfraccion=function(i){i.parentElement.parentElement.remove(),calculoTotalMulta()};window.agregarInfraccion=function(){let i=uuid(),t=new Event("change"),a=document.getElementById("anio_infraccion"),u=document.getElementById("infraccion_id"),c=document.querySelector(`#infraccion_id option[value="${u.value}"]`).dataset,m=document.getElementById("monto_infraccion"),p=document.getElementById("body_tabla_sanciones"),x="",k=m.value;if(I5=I5.replace(/,/g,""),k=m.value.replace(/,/g,""),parseFloat(k)<parseFloat(I5))return wZ("El monto es inferior."),!1;if(m.value.length==0||m.value==""||m.value=="0.00")wZ("Debe agregar por lo menos un monto para la multa.");else{document.getElementById("alerta_sanciones").innerHTML="",document.getElementById("divlistMultas").classList.remove("d-none"),parseInt(c.editable)&&(x=`<button type="button" class="btn btn-sm btn-info my-1" title="Eliminar infracción" onclick="editarInfraccion(this,'${i}')">
                    <i class="fa fa-edit text-white p-0 m-0"></i>
                </button>`),document.getElementById("tr_info_sanciones")&&document.getElementById("tr_info_sanciones").remove();let D=`<tr class="bg-multa">
            <td style="max-width: 70px">
                <input type="hidden" name="sanciones['${i}']['infraccion_id']" value="${u.value}">
                <input name="sanciones['${i}']['anio']" type="text" class="w-100 p-0 m-0 text-center" readonly value="${a.value}">
            </td>
            <td><input name="sanciones['${i}']['concepto']" type="text" class="w-100 p-0 m-0 text-center" readonly value="${c.concepto}"></td>
            <td><input name="sanciones['${i}']['monto']" id="monto-${i}" type="text" class="w-100 p-0 m-0 text-center monto_infraccion" maxlength="29" readonly value="L ${m.value}"></td>
            <td>
                ${x}
                <button type="button" class="btn btn-sm btn-danger my-1" title="Eliminar infracción" onclick="eliminarInfraccion(this)">
                    <i class="fa fa-trash text-white p-0 m-0"></i>
                </button>
            </td>
        </tr>`;p.innerHTML=D+p.innerHTML,u.value="",u.dispatchEvent(t),m.value="",m.dispatchEvent(t),calculoTotalMulta()}};let pZ=document.getElementById("btn_borrador_caso");pZ&&pZ.addEventListener("click",function(){document.getElementsByName("tipo_submit")[0].value="borrador"});let bZ=document.getElementById("btn_envio_caso");bZ&&bZ.addEventListener("click",function(){document.getElementsByName("tipo_submit")[0].value="envio"});window.eliminarCaso=function(i){document.getElementById("eliminar_caso_id").value=i};window.addEventListener("load",function(){let i=document.getElementById("anio_infraccion");i&&i.dispatchEvent(new Event("change"))});let yZ=document.getElementById("btn_seguimiento_caso");yZ&&yZ.addEventListener("click",function(){document.getElementsByName("tipo_submit")[0].value="envio"});let _k=document.getElementById("form_seguimiento_pgr");_k&&(_k.addEventListener("keypress",function(i){var t=i.charCode||i.keyCode||0;t===13&&i.preventDefault()}),_k.addEventListener("submit",function(i){let t=document.getElementsByName("tipo_submit")[0].value;i.preventDefault(),t==="borrador"?_k.submit():(_k.classList.add("necesita-validacion"),validarFormulario(event),_k.checkValidity()===!1?i.preventDefault():_k.submit())}));if(screen.width<576){var _Z=document.getElementById("collapseFiltrosCasos");_Z&&(_Z.className+="collapse")}let s5=document.getElementById("form_otro_descargo");s5&&(s5.addEventListener("submit",function(i){i.preventDefault(),s5.checkValidity()!==!1&&new Modal(document.getElementById("modalOtroDescargo")).show()}),window.submitFormOtroDescargo=function(){s5.submit()});const vCe=(i,t)=>{let a=document.getElementById(i),u=a.getElementsByTagName("tr");for(var c=u.length-1;c>=0;c--)u[c].classList.contains(t)&&a.deleteRow(c);document.getElementById("monto_infraccion").value="",document.getElementById("monto_infraccion").classList.add("campo-dis"),document.getElementById("divlistMultas").classList.add("d-none")},wZ=i=>{document.getElementById("alerta_sanciones").innerHTML=`<div class="alert alert-danger alert-dismissible">
    <strong>¡Advertencia! </strong>
    `+i+`
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>`};window.getOpcionesEliminarUsuario=function(i){document.getElementById("footer_eliminar");var t=base_url+"/admin/usuarios/getElementosEliminar";document.querySelector("#reasignar_usuario").innerHTML="";let a=new FormData(document.querySelector("#formEliminarUsuario"));document.querySelector(".alert-modal")!==null&&(document.querySelector(".alert-modal").innerHTML=""),a.append("usuario_id",i.dataset.user_id),axios.post(t,a,{headers:{"Content-Type":"multipart/form-data"}}).then(u=>{u.data.mensaje=="200"&&(document.querySelector("#reasignar_usuario").innerHTML="",document.querySelector("#reasignar_usuario").innerHTML=u.data.html,document.querySelector(".error").innerHTML="",u.data.footer_modal!=""&&u.data.footer_modal!=null&&(document.querySelector("#footer_eliminar").innerHTML="",document.querySelector("#txt_reasignar").innerHTML="",document.querySelector("#footer_eliminar").innerHTML=u.data.footer_modal))}).catch(u=>{console.error(u)})};window.eliminarUsuarioReasignarExpediente=function(i){let t=document.querySelector("#"+i);if(document.querySelector(".alert-modal")!==null&&(document.querySelector(".alert-modal").innerHTML=""),t!==null)if(t.querySelector("#usuario_reasignar")!==null){var a=document.getElementById("usuario_reasignar"),u=a.value;if(a!==null||a=="")if(u==""){let m="  Dato obligatorio";document.querySelector(".error")!==null&&(document.querySelector(".error").innerHTML=m,a.classList.add("error-modal"))}else document.querySelector(".error").innerHTML="",a.classList.remove("error-modal"),document.querySelector("#"+i).submit()}else document.querySelector("#"+i).submit()};window.selectPerfiles=function(i,t){let a=document.getElementById(t);a&&i.value?axios.post(base_url+"/admin/usuarios/getPerfilesByAreaId",{area_id:i.value}).then(function(u){u.data&&(a.innerHTML=u.data.html)}).catch(function(u){console.log(u)}):(a.innerHTML='<option value="">Seleccione el perfil</option>',a.value="")};document.getElementById("inpfechaDesde")&&new DateRangePicker("inpfechaDesde",{maxDate:new Date});let u5=document.getElementById("form_1"),kW=document.getElementById("form_2"),xZ=document.getElementById("form_3");var _te=!1,wte=!1;let CZ=document.getElementById("home-tab"),SZ=document.getElementById("profile-tab"),EZ=document.getElementById("contact-tab");const kZ=document.getElementById("btnAnteriortab"),TZ=document.getElementById("btnAnteriortabDos"),s6=document.getElementById("btnDenunciaAceptada"),TW=document.getElementById("btnValidaActualizacion"),AZ=document.getElementById("btnEnviarActualizacion"),OZ=document.getElementById("btnEnviarSolicitudExpediente");let AW=document.getElementById("inpCorreo");document.getElementById("inpCorreoDgit");let hCe=document.getElementById("inpConfCorreo"),l5=document.getElementById("selOrigen"),OW=document.getElementById("checkCorreoDgti"),DZ=document.getElementById("cBoxRespuestaFisica");u5&&u5.addEventListener("submit",function(i){i.preventDefault(),validarFormulario(i);var t=/^\w+([.-_+]?\w+)*@\w+([.-]?\w+)*(\.\w{2,10})+$/;AW.value.length>0&&hCe.value.length>0&&(mCe("inpCorreo","inpConfCorreo")=="igual"?t.test(AW.value)?(jC(i,"inpCorreo",""),jC(i,"inpConfCorreo",""),u5.checkValidity()?(Hk(i,"profile-tab","home-tab","contact-tab","home-tab-pane"),_te=!0):(event.preventDefault(),event.stopPropagation())):(jC(i,"inpCorreo","Por favor ingrese un correo válido"),jC(i,"inpConfCorreo","")):t.test(AW.value)?(jC(i,"inpCorreo",""),jC(i,"inpConfCorreo","Por favor, confirma tu correo")):(jC(i,"inpCorreo","Por favor ingrese un correo válido"),jC(i,"inpConfCorreo",""))),u5.checkValidity()||(event.preventDefault(),event.stopPropagation())});kW&&kW.addEventListener("submit",function(i){i.preventDefault(),validarFormulario(i),kW.checkValidity()?(Hk(i,"contact-tab","profile-tab","home-tab","contact-tab-pane"),wte=!0):(event.preventDefault(),event.stopPropagation())});CZ&&CZ.addEventListener("click",function(i){i.preventDefault(),Hk(i,"home-tab","profile-tab","contact-tab","profile-tab-pane",!0)});SZ&&SZ.addEventListener("click",function(i){i.preventDefault(),_te&&Hk(i,"profile-tab","home-tab","contact-tab","home-tab-pane",!0)});EZ&&EZ.addEventListener("click",function(i){i.preventDefault(),wte&&Hk(i,"contact-tab","profile-tab","home-tab","profile-tab-pane",!1)});kZ&&kZ.addEventListener("click",function(i){Hk(i,"home-tab","contact-tab","profile-tab","profile-tab-pane")});TZ&&TZ.addEventListener("click",function(i){Hk(i,"profile-tab","contact-tab","home-tab","contact-tab-pane")});l5&&l5.addEventListener("change",function(i){let t=document.getElementById("divSindicato"),a=document.getElementById("divPersona"),u=document.getElementById("divTitulo"),c=document.getElementById("inpNomSindicato"),m=document.getElementById("inpNombreDenunciante"),p=document.getElementById("inpPrimerApellido");l5.options[l5.selectedIndex].text==="Sindicato"?(t.classList.remove("d-none"),a.classList.add("d-none"),u.innerHTML="Información general",m.removeAttribute("required"),p.removeAttribute("required"),c.setAttribute("required",!0),m.value="",p.value=""):(a.classList.remove("d-none"),t.classList.add("d-none"),u.innerHTML="Informacion personal",m.setAttribute("required",!0),p.setAttribute("required",!0),c.removeAttribute("required"),c.value="")});xZ&&xZ.addEventListener("submit",function(i){i.preventDefault(),validarFormulario(i);var t=document.getElementById("form_1"),a=document.getElementById("form_2"),u=document.getElementById("form_3"),c={},m=new FormData(t),p=new FormData(a),x=new FormData(u);document.getElementById("footer_eliminar");const k=document.getElementById("selOficinaDenuncia");p.append("oficina_regional_id",k.value);for(var D of m.keys())c[D]=m.get(D);for(var D of p.keys())c[D]=p.get(D);for(var D of x.keys())c[D]=x.get(D);const L=document.getElementById("oficio_denuncia");x.append("documento_archivo_oficio_denuncia",L.files[0]),x.append("accept_oficio_denuncia",document.getElementById("accept_oficio_denuncia").value),x.append("isValor",document.getElementById("isValor").textContent),x.append("formulario",JSON.stringify(c)),PZ("documentos_archivos_pruebas_denuncia_1")&&c.cuenta_con_pruebas=="true"?document.getElementById("btnEnviarDenuncia").removeAttribute("disabled"):!PZ("documentos_archivos_pruebas_denuncia_1")&&c.cuenta_con_pruebas=="true"?(document.getElementById("selOficinaDenuncia").removeAttribute("disabled"),document.getElementById("btnEnviarDenuncia").setAttribute("disabled","true"),MZ(`${base_url}/api/sendDataDenuncia`,x)):c.cuenta_con_pruebas=="false"&&(document.getElementById("selOficinaDenuncia").removeAttribute("disabled"),document.getElementById("btnEnviarDenuncia").setAttribute("disabled","true"),MZ(`${base_url}/api/sendDataDenuncia`,x))});s6&&s6.addEventListener("click",function(i){localStorage.getItem("permiso_registro")=="true",location.replace(base_url+"/denuncias/registrar-denuncia")});OW&&OW.addEventListener("click",function(i){let t=OW.checked;const a=document.getElementById("inpCorreoDgit"),u=document.getElementById("contCorreoDenuncia");t?(u.classList.remove("d-none"),a.removeAttribute("disabled")):(u.classList.add("d-none"),a.setAttribute("disabled",!0),a.value="")});DZ&&DZ.addEventListener("click",function(i){document.getElementById("divFechaReciboDenucnia").classList.toggle("d-none")});if(localStorage.getItem("permiso_registro")=="true"){const i=document.getElementById("selMedioRecepcion");if(i)for(let t=0;t<i.options.length;t++)i.options[t].dataset.codigo==="linea_recepcion"&&(i.options[t].style.display="none")}TW&&TW.addEventListener("click",function(i){i.preventDefault();let t=!0;const a=document.getElementById("inpDescripcionAdicional").value,u=document.getElementById("inpFechaRecepcion");let c=document.querySelector(".tox-edit-area__iframe");document.getElementById("cBoxRespuestaFisica")&&document.getElementById("cBoxRespuestaFisica").checked&&(u.value.length==0?(N3(".msj-validacion","inpFechaRecepcion","Dato obligatorio.",1e4),u.style.border="1px solid red",u.classList.add("invalido"),t=!1):(u.classList.remove("invalido"),u.style.border="1px solid #c7c9d9")),a.length==0||a==""?(N3(".msj-validacion","inpDescripcionAdicional","Dato obligatorio.",1e4),c.style.border="1px solid red",c.classList.add("invalido"),t=!1):(c.style.border="1px solid #c7c9d9",c.classList.remove("invalido")),t&&TW.dataset.modal=="NoSoyModal"&&EY("confirmaActualizarModal")});OZ&&OZ.addEventListener("click",function(i){i.preventDefault();let t=!0;const a=document.getElementById("usuario").value,u=document.getElementById("num_expediente_dgit").value,c=document.getElementById("oficio_solicitar_expediente");(a.length==0||a=="")&&(N3(".msj-validacion","usuario","Dato obligatorio.",1e4),t=!1),(u.length==0||u=="")&&(N3(".msj-validacion","num_expediente_dgit","Dato obligatorio.",1e4),t=!1),c.files[0]==null&&(N3(".msj-validacion","oficio_solicitar_expediente","Dato obligatorio.",1e4),t=!1),t&&document.getElementById("form_solicitar_expediente").submit()});AZ&&AZ.addEventListener("click",function(i){i.preventDefault(),document.getElementById("btnValidaActualizacion").setAttribute("disabled","true"),document.getElementById("formDatosAdicional").submit()});const Hk=(i,t,a,u,c,m=!1)=>{try{let p=document.getElementById(t),x=document.getElementById(a),k=document.getElementById(u),D=document.getElementById(c);D.classList.remove("show"),D.classList.remove("active"),p.removeAttribute("disabled"),m||p.dispatchEvent(new Event("click")),x.classList.remove("tag-activo"),k.classList.remove("tag-activo"),p.classList.add("tag-activo")}catch(p){console.log(p)}},mCe=(i,t)=>{let a=document.getElementById(i).value,u=document.getElementById(t).value;return a!=u?"diferente":"igual"},jC=(i,t,a)=>{i.preventDefault();let u=document.getElementById(t);var c=u.closest(".form-group").querySelector(".invalid-feedback");c&&(c.setAttribute("data-default",a),u.setCustomValidity(a),c.textContent=a)},MZ=async(i,t)=>{try{const{data:a,status:u}=await axios.post(i,t,{headers:{"Content-Type":"multipart/form-data"}});u==201?EY("exampleModal",a.folio):(RZ("divValidateBack","spanValidateBack",a.error,!0),document.getElementById("btnEnviarDenuncia").removeAttribute("disabled"))}catch(a){console.log("er"+a.response.status),document.getElementById("btnEnviarDenuncia").setAttribute("disabled","false"),document.getElementById("btnEnviarDenuncia").removeAttribute("disabled"),a.response.status!=413&&RZ("divValidateBack","spanValidateBack","Ocurrio un fallo de conexión, vuelva intentarlo.",!0)}},RZ=(i,t,a,u=null)=>{let c=document.getElementById(i),m=document.getElementById(t);m.innerHTML=a,c.classList.add("show"),u&&(c.classList.add("my-1"),c.classList.add("py-3")),setTimeout(()=>{c.classList.remove("show"),c.classList.remove("my-1"),c.classList.remove("py-3")},1e4)},EY=(i,t=null)=>{const a=document.getElementById(i),u=document.createElement("div");u.classList.add("modal-overlay","fade","show"),document.body.appendChild(u),t!=null&&(document.getElementById("valFolio").innerHTML=t),a.style.display="block",a.classList.add("show"),document.body.classList.add("modal-open")},PZ=i=>{const t=document.getElementById(i);if(t&&!t.files[0])return!0;var a=document.getElementById("lista_archivos_pruebas_denuncia");return a.getElementsByTagName("li").length==1},N3=(i,t,a,u)=>{document.querySelectorAll(i).forEach(m=>{if(t===m.dataset.campo){const p=m.querySelector("p");p.textContent=a,document.getElementById(t).focus(),setTimeout(()=>{p.textContent=""},u)}})};window.validaPruebasDenuncias=function(i){const t=document.getElementById("divCargaPruebaDenuncias");i.value==="true"?t.style.display="block":t.style.display="none"};window.formatoClose=function(i,t=null){s6?s6.dispatchEvent(new Event("click")):t?location.replace(base_url+t):window.open(base_url+"/denuncias/registrar-denuncia","_blank")};window.cerrarAlertGeneral=function(i,t=null){let a=document.getElementById(t);a.classList.remove("show"),a.classList.remove("my-1"),a.classList.remove("py-3")};window.abrirModalConfirm=function(i,t=null){EY(t)};document.addEventListener("DOMContentLoaded",function(){window.cargaSimple=function(p){const x=p.closest(".componente-carga-archivo"),k=p.dataset.type;x.querySelector("#"+k).click()},window.inputSimple=function(p){const x=p.closest(".componente-carga-archivo"),k=p.dataset.type,D=x.querySelector(`#mensaje_error_simple_${k}`);D.style.display="none";const L=p.files[0];var V=5*1024*1024;if(L){const q=p.accept.split(",").map(se=>se.trim()),ee=L.name.split(".").pop().toLowerCase();if(!q.includes("."+ee))D.innerHTML=`El tipo de archivo seleccionado es inválido, únicamente se aceptan archivos ${q}.`,D.style.display="block";else if(L.size>V)p.value="",D.innerHTML="El archivo seleccionado excede el tamaño máximo permitido.",D.style.display="block";else{let se=x.querySelector(`#${k}`).required;x.querySelector(`#simple_${k}_nombre`).textContent=L.name,x.querySelector(`#simple_${k}_peso`).textContent=u(L.size),x.querySelector(`#simple_${k}_check`).innerHTML=`
                            <svg xmlns="http://www.w3.org/2000/svg" class="text-success me-2" height="1em" viewBox="0 0 512 512">
                                <style>svg{fill:#05a660}</style>
                                <path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"/>
                            </svg>`,x.querySelector(`#simple_${k}_accion`).innerHTML=`
                            <a href="#!" class="accion-boton-limpiar text-decoration-none" data-type="${k}" data-required="${se}" onclick="limpiarSimple(this)">
                                <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512">
                                    <!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                                    <path d="M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"
                                          fill="currentColor" />
                                </svg>
                            </a>`}}else x.querySelector(`#simple_${k}_nombre`).textContent="Cargar archivo",x.querySelector(`#simple_${k}_peso`).textContent="(Máximo 5 MB)",x.querySelector(`#simple_${k}_check`).innerHTML="",x.querySelector(`#simple_${k}_accion`).innerHTML=`
                    <a href="#!" class="accion-boton-carga-simple text-decoration-none" data-type="${k}" onclick="cargaSimple(this)">
                        <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512">
                            <!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                            <path d="M288 109.3V352c0 17.7-14.3 32-32 32s-32-14.3-32-32V109.3l-73.4 73.4c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l128-128c12.5-12.5 32.8-12.5 45.3 0l128 128c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L288 109.3zM64 352H192c0 35.3 28.7 64 64 64s64-28.7 64-64H448c35.3 0 64 28.7 64 64v32c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V416c0-35.3 28.7-64 64-64zM432 456a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"
                                  fill="currentColor" />
                        </svg>
                    </a>`},window.limpiarSimple=function(p){const x=p.closest(".componente-carga-archivo"),k=p.dataset.type,D=x.querySelector("#"+k);D.value=null,D.required=p.dataset.required==="true",x.querySelector(`#simple_${k}_nombre`).textContent="Cargar archivo",x.querySelector(`#simple_${k}_peso`).textContent="(Máximo 5 MB)",x.querySelector(`#simple_${k}_check`).innerHTML="",x.querySelector(`#simple_${k}_accion`).innerHTML=`
                    <a href="#!" class="accion-boton-carga-simple text-decoration-none position-absolute w-100 h-100 start-0 top-0 mt-1" data-type="${k}" onclick="cargaSimple(this)">
                        <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512" class="position-absolute end-0 me-3 top-0 mt-3">
                            <!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                            <path d="M288 109.3V352c0 17.7-14.3 32-32 32s-32-14.3-32-32V109.3l-73.4 73.4c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l128-128c12.5-12.5 32.8-12.5 45.3 0l128 128c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L288 109.3zM64 352H192c0 35.3 28.7 64 64 64s64-28.7 64-64H448c35.3 0 64 28.7 64 64v32c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V416c0-35.3 28.7-64 64-64zM432 456a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"
                                  fill="currentColor" />
                        </svg>
                    </a>`},document.querySelectorAll(".accion-boton-carga").forEach(function(p){p.addEventListener("click",function(){const x=this.dataset.type;let k=document.getElementById(`conteo_archivos_${x}`),D=parseInt(k.value);document.getElementById(`documentos_archivos_${x}_${D}`).click()})}),t();function t(){document.querySelectorAll(".archivo-input").forEach(function(x){x.addEventListener("change",function(){const k=this.dataset.type,D=x.files[0],L=document.getElementById(`mensaje_error_multiple_${k}`);L.style.display="none",document.getElementById(`mensaje_seleccion_multiple_${k}`);var V=5*1024*1024;if(D){const q=x.accept.split(",").map(se=>se.trim()),ee=D.name.split(".").pop().toLowerCase();q.includes("."+ee)?D.size>V?(x.value="",L.innerHTML="El archivo seleccionado excede el tamaño máximo permitido.",L.style.display="block"):(document.getElementById(`boton_carga_${k}`).classList.remove("invalido"),document.getElementById(`multiple_${k}_nombre`).textContent=D.name,document.getElementById(`multiple_${k}_peso`).textContent=u(D.size),document.getElementById(`multiple_${k}_check`).innerHTML=`
                        <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512">
                            <!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                            <style>svg{fill:#05a660}</style>
                            <path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"/>
                        </svg>`,L.style.display="nome"):(L.innerHTML=`El tipo de archivo seleccionado es inválido, únicamente se aceptan archivos ${q}.`,L.style.display="block")}else document.getElementById(`multiple_${k}_nombre`).textContent="Cargar archivo",document.getElementById(`multiple_${k}_peso`).textContent="(Máximo 5 MB)",document.getElementById(`multiple_${k}_check`).innerHTML=""})})}function a(p){document.getElementById(`archivo_descripcion_${p}`).value="",document.getElementById(`multiple_${p}_nombre`).textContent="Seleccionar archivo",document.getElementById(`multiple_${p}_peso`).textContent="(Máximo 5 MB)",document.getElementById(`multiple_${p}_check`).innerHTML=""}function u(p){const x=["Bytes","KB","MB","GB","TB"];if(p==0)return"0 Byte";const k=parseInt(Math.floor(Math.log(p)/Math.log(1024)));return Math.round(p/Math.pow(1024,k),2)+" "+x[k]}document.querySelectorAll(".accion-boton-nuevo").forEach(function(p){p.addEventListener("click",function(){const x=this.dataset.type;let k=document.getElementById(`mensaje_contador_caracter_${x}`);k.innerHTML="";let D=document.getElementById(`conteo_archivos_${x}`),L=parseInt(D.value),V=document.getElementById(`accept_archivos_${x}`).value,q=document.getElementById(`mensaje_seleccion_multiple_${x}`),ie=document.getElementById(`boton_carga_${x}`),ee=document.getElementById(`archivo_descripcion_${x}`),se=document.getElementById(`mensaje_descripcion_archivo_${x}`);const Te=document.getElementById(`archivo_descripcion_${x}`).value,_e=document.getElementById(`documentos_archivos_${x}_${L}`);_e.classList.remove("archivo-input");const be=_e.files[0];if(q.style.display="none",ie.classList.remove("invalido"),se.style.display="none",ee.classList.remove("invalido"),be||(q.style.display="block",ie.classList.add("invalido")),Te.trim()===""&&(se.style.display="block",ee.classList.add("invalido")),Te.trim()===""||!be){ee.focus();const de=document.getElementById("seccion_carga_multiple");setTimeout(function(){de.scrollIntoView({behavior:"smooth",block:"start"})},10);return}const le=URL.createObjectURL(be);document.getElementById(`documentos_textos_${x}_${L}`).value=Te,document.getElementById(`documentos_textos_${x}_${L}`).value=Te;const Pe=document.createElement("li");Pe.classList.add("documento_item","d-flex","justify-content-between","align-items-center","px-3","py-2","lista-archivos"),Pe.setAttribute("id",`documento_item_${x}_${L}`),Pe.innerHTML=`
                <div>
                  <div class="fw-bold"><u>${Te}</u></div>
                  <div class="">
                    <small>${be.name}</small>
                    <small class="text-graylight">(${u(be.size)})</small>
                </div>
                </div>
                <div class="opciones py-1 d-flex flex-row">
                <div>
                  <a href="${le}" target="_blank" class="opcion documento-ver d-flex align-items-center text-gray d-inline pe-4" data-type="${x}" data-counter="${L}">
                    <img src="`+base_url+`/images/icons/icon-eye.svg" class="mx-1 mt-1">
                  </a>
                  </div
                <div>
                  <a href="#!" class="opcion documento-eliminar d-flex align-items-center text-danger d-inline" data-type="${x}" data-counter="${L}">
                    <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512">
                      <!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                      <path d="M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"
                      fill="currentColor" />
                    </svg>
                  </a>
                  </div>

                </div>
              `,document.getElementById(`minimo_${x}`).value=D.value,D.value=L+1,L=L+1;const Oe=document.createElement("div");Oe.setAttribute("id",`archivo_item_${x}_${L}`),Oe.classList.add("archivo-item"),Oe.innerHTML=`
                <input type="file" class="archivo-input" data-type="${x}"
                        name="documentos_archivos_${x}[${L}]"
                        id="documentos_archivos_${x}_${L}" accept="${V}"  />
                <input type="text" name="documentos_textos_${x}[${L}]" id="documentos_textos_${x}_${L}" />`,document.getElementById(`archivos_${x}`).appendChild(Oe),document.getElementById(`lista_archivos_${x}`).appendChild(Pe);const at=document.getElementById(`lista_archivos_vacio_${x}`);at.classList.remove("d-flex"),at.classList.add("d-none"),a(x),t(),m(),ee.focus();const K=document.getElementById("seccion_carga_multiple");setTimeout(function(){K.scrollIntoView({behavior:"smooth",block:"start"})},10)})});function m(){document.querySelectorAll(".documento-eliminar").forEach(function(x){x.addEventListener("click",function(){const k=this.dataset.type,D=this.dataset.counter;if(document.getElementById(`minimo_${k}`).value=D-1,document.getElementById(`archivo_item_${k}_${D}`).remove(),document.getElementById(`documento_item_${k}_${D}`).remove(),!document.querySelectorAll(".documento_item").length){const V=document.getElementById(`lista_archivos_vacio_${k}`);V.classList.remove("d-none"),V.classList.add("d-flex")}})})}});window.eliminarArchivo=function(i,t){if(t&&parseInt(t)){var a=base_url+"/archivos/eliminar",u=document.head.querySelector('meta[name="csrf-token"]');axios.post(a,{_token:u.content,archivo_id:t}).catch(c=>{console.error(c)})}limpiarSimple(i)};window.contadorCaracteres=function(i){const t=i.dataset.type;var a=200;setTimeout(function(){const u=document.getElementById(`archivo_descripcion_${t}`).value;let c=document.getElementById(`mensaje_contador_caracter_${t}`);var m=u.length;c.innerHTML="<small>"+m+" caracter(es) de "+a+"</small>",m>a?c.style.color="red":c.style.color="black"},10)};window.activarCargaArchivos=function(i){var t=i.closest("tr"),a=t.querySelector(".componente-carga-archivo"),u=a.querySelector('input[type="file"]'),c=a.querySelector(".num-expediente");i.checked?(a.style.opacity="50%",limpiarSimple(u),u.value=null,c.value="",u.setAttribute("disabled","true"),c.setAttribute("disabled","true")):(a.style.opacity="100%",u.removeAttribute("disabled"),c.removeAttribute("disabled"),u.setAttribute("required","true"))};window.obtenerInformacionResolucion=function(i){var t=base_url+"/resoluciones/obtenerDetalleResolucion";const a=i.dataset.resolucion_id,u=i.dataset.resolucion_codigo;var c=document.head.querySelector('meta[name="csrf-token"]');axios.post(t,{_token:c.content,resolucion_id:a}).then(m=>{m.data.mensaje=="200"&&document.querySelector("#nav-"+u+"_"+a)!==null&&(document.querySelector("#nav-"+u+"_"+a).innerHTML=m.data.html)}).catch(m=>{console.error(m)})};window.addEventListener("DOMContentLoaded",i=>{document.querySelector("#fecha_demanda")!==null&&(document.querySelector("#fecha_demanda").max=new Date().toISOString().split("T")[0]),document.querySelector("#fecha_pago_total")!==null&&(document.querySelector("#fecha_pago_total").max=new Date().toISOString().split("T")[0])});window.getModalResolucion=function(i){var t=i.dataset.tipo_resolucion,a=i.dataset.caso_id,u="",c="",m="",p="",x="";switch(t){case"demanda":u="Iniciar proceso de Demanda",c="Se iniciará el proceso de demanda de este caso",m="Iniciar proceso",p="modal-header bg-estatus-demanda text-white";var x=base_url+"/resoluciones/registro_demanda/"+a;break;case"convenio":u="Iniciar proceso Convenio de pago",c="Se iniciará el proceso de convenio de pago de este caso",m="Iniciar proceso",p="modal-header bg-estatus-convenio_pago text-white";var x=base_url+"/resoluciones/convenio_pago/"+a;break;case"pagoTotal":u="Iniciar proceso de Pago total",c="Se iniciará el proceso de pago total de este caso",m="Iniciar proceso",p="modal-header bg-estatus-pago_total text-white";var x=base_url+"/resoluciones/pago_total/"+a;break;default:console.log(`Sorry, we are out of ${expr}.`)}document.querySelector("#tituloModalResoluciones")!==null&&(document.querySelector("#tituloModalResoluciones").textContent=u),document.querySelector("#parrafoModalResoluciones")!==null&&(document.querySelector("#parrafoModalResoluciones").textContent=c),document.querySelector("#botonModalResoluciones")!==null&&(document.querySelector("#botonModalResoluciones").textContent=m,document.querySelector("#botonModalResoluciones").setAttribute("href",""),document.querySelector("#botonModalResoluciones").setAttribute("href",x)),document.querySelector("#bgTituloModal")!==null&&(document.querySelector("#bgTituloModal").className="",document.querySelector("#bgTituloModal").className=p),console.log(t)};window.numPagos=function(i){var t=document.getElementById("numero_pagos").value,a="";if(!isNaN(t)&&t>0){for(var u=1;u<=t;u++)a+=`<div class="col-12 mt-3 bg-white">
                <p class="fw-semibold mb-2 font-regular-size">Pago ${u}</p>
                <div class="card border border-gray">
                    <div class="card-body">
                        <div class="row">
                            <div class="form-group col-md-4 mb-2">
                                <label for="monto">Monto *</label>
                                <div class="input-group mb-3 bg-white">
                                    <span class="input-group-text">L</span><input type="text" class="form-control bg-white monto_pago input-regular-height" name="monto[]" id="num_convenio" placeholder="Escriba el monto" maxlength="29"  required>
                                    <div class="invalid-feedback fw-regular" data-default="Dato obligatorio">Dato obligatorio</div>
                                </div>
                            </div>
                            <div class="form-group col-md-4 mb-2">
                                <label for="fecha_pago">Fecha *</label>
                                <input type="date" class="form-control bg-white fecha-convenio-demandas input-regular-height" name="fecha_pago[]" id="fecha_pago" min="${new Date().toISOString().split("T")[0]}" max="9999-12-31" onchange="validaFechaInhabil(this)" required>
                                <div class="invalid-feedback fw-regular" data-default="Dato obligatorio o fecha inválida">Dato obligatorio o fecha inválida</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>`;a+=`<div class="col-12 mt-3 bg-white text-end">
                    <span class="fw-bold">Total por pagar: </span> <span id="total_por_pagar"></span>
                </div>`}document.getElementById("div_numero_pagos").innerHTML=a;var c=document.querySelectorAll(".monto_pago");Array.prototype.slice.call(c).forEach(function(m){m.addEventListener("keyup",function(p){let x=m.value;m.value=lempiras(x)}),m.addEventListener("keyup",function(){calculoTotalPagos()})})};window.sumatoria_pagos=null;window.calculoTotalPagos=function(){let i=new BigNumber(0),t=document.querySelectorAll(".monto_pago");Array.prototype.slice.call(t).forEach(function(c){if(c.value!==""){let m=new BigNumber(c.value.replace("L ","").replaceAll(",",""));i=i.plus(m)}});let a=i;window.sumatoria_pagos=a;let u=new BigNumber(document.getElementById("total_multa").value.replaceAll(",",""));a.isEqualTo(u)||(document.getElementById("parrafoTotalPago").innerHTML=`La suma total de los pagos a realizar
                <strong>(L ${lempiras(a.toFixed(2))})</strong>
                es ${a.isGreaterThan(u)?"mayor":"menor"} al total de la multa
                <strong>(L ${lempiras(u.toFixed(2))})</strong>.`),document.getElementById("total_por_pagar").innerHTML=`L ${lempiras(i.toFixed(2))}`};let IZ=document.getElementById("monto_pago_total");IZ&&IZ.addEventListener("keyup",function(i){let t=this.value;this.value=lempiras(t)});let BZ=document.getElementById("interes_pago_total");BZ&&BZ.addEventListener("keyup",function(i){let t=this.value;this.value=lempiras(t)});var LZ=document.querySelector(".montosPagoTotal");LZ&&LZ.addEventListener("blur",function(i){let t=document.getElementById("monto_pago_total").value,a=document.getElementById("interes_pago_total").value,u=new BigNumber(0);t!=null&&t!=""&&(t=new BigNumber(t.replaceAll(",","")),a!=null&&a!=""?(a=new BigNumber(a.replaceAll(",","")),u=t.plus(a)):u=t),u=lempiras(u.toFixed(2)),document.getElementById("monto_total_pago_total").value=u},!0);var FZ=document.querySelector(".interesPagoTotal");FZ&&FZ.addEventListener("blur",function(i){let t=document.getElementById("monto_pago_total").value,a=document.getElementById("interes_pago_total").value,u=new BigNumber(0);t!=null&&t!=""&&(t=new BigNumber(t.replaceAll(",","")),a!=null&&a!=""?(a=new BigNumber(a.replaceAll(",","")),u=t.plus(a)):u=t),u=lempiras(u.toFixed(2)),document.getElementById("monto_total_pago_total").value=u},!0);document.getElementById("usuario")&&new TomSelect("#usuario",{create:!1,render:{no_results:function(i,t){return'<div class="no-results">Sin resultados</div>'}},sortField:{field:"text",direction:"asc"}});document.getElementById("motivo")&&new TomSelect("#motivo",{create:!1,render:{no_results:function(i,t){return'<div class="no-results">Sin resultados</div>'}},sortField:{field:"text",direction:"asc"}});var gCe=document.querySelectorAll(".editor");gCe&&(tinyMCE.baseURL=`${base_url}/js/tinymce`,tinyMCE.init({selector:".editor",menubar:!1,setup:function(i){i.on("change",function(){i.save();let t=parseInt(i.maxlength),a=tinymce.activeEditor.plugins.wordcount.body.getCharacterCount(),u=document.getElementById(i.id+"_maxchar"),c=document.getElementsByName(i.getElement().name+"_longitud")[0];a>t&&(u.style.display="block",u.innerHTML=`El límite permitido debe ser menor o igual a ${t}.`),a<=t&&(u.style.display="none",u.innerHTML=""),c.value=a})},theme_url:`${base_url}/js/tinymce/themes/silver/theme.min.js`,language_url:`${base_url}/js/tinymce/langs/es.js`,language:"es",plugins:["lists","link","searchreplace","autolink","charmap","code","table","paste","wordcount","insertdatetime","visualblocks","advlist"],toolbar:"undo redo | styles | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | print media | forecolor backcolor | table",init_instance_callback:function(i){let t=i.getElement(),a=t.dataset.maxlength??"1700",u=document.createElement("input"),c=document.createElement("div"),m=document.createElement("div"),p=tinymce.activeEditor.plugins.wordcount.body.getCharacterCount();c.classList.add("invalid-feedback"),c.id=i.id+"_maxchar",u.type="number",u.classList.add("d-none"),u.name=t.name+"_longitud",u.value=p??"0",u.max=a,i.maxlength=a,t.required?c.setAttribute("data-default",`Este campo es obligatorio y permite máximo ${a} caracteres.`):c.setAttribute("data-default",`Este campo permite máximo ${a} caracteres.`),i.getContainer().parentElement.append(m),m.append(u),m.append(c),t.parentElement.querySelector("button.tox-statusbar__wordcount").click()}}));var pCe=document.querySelectorAll(".editor-sin-limite");pCe&&(tinyMCE.baseURL=`${base_url}/js/tinymce`,tinyMCE.init({height:"40vh",selector:".editor-sin-limite",menubar:!1,setup:function(i){i.on("change",function(){i.save()})},theme_url:`${base_url}/js/tinymce/themes/silver/theme.min.js`,language_url:`${base_url}/js/tinymce/langs/es.js`,language:"es",plugins:["lists","link","searchreplace","autolink","charmap","code","table","paste","wordcount","insertdatetime","visualblocks","advlist"],toolbar:"undo redo | styles | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | print media | forecolor backcolor | table",init_instance_callback:function(i){i.getElement().parentElement.querySelector("button.tox-statusbar__wordcount").click()}}));var bCe=document.querySelectorAll(".monto_pago");Array.prototype.slice.call(bCe).forEach(function(i){i.addEventListener("keyup",function(t){let a=i.value;i.value=lempiras(a)})});function yCe(){const i=document.querySelectorAll(".cancelar-pago");i&&i.forEach(function(t){t.addEventListener("click",function(){const a=this.dataset.pago,u=document.getElementById(`pago_convenio_${a}`),c=document.getElementById(`input_pagado_${a}`);u.style.display="none",c.checked=!1})})}function _Ce(){const i=document.querySelectorAll(".convenio_monto_intereses");i&&i.forEach(function(t){t.addEventListener("keyup",function(){const a=this.dataset.pago,u=new BigNumber(t.value.replace(/,/g,"")),c=document.getElementById(`pago_convenio_${a}`),m=c.querySelector(".convenio_monto_pagado"),p=c.querySelector(".convenio_monto_total");let x=u.plus(new BigNumber(m.value.replace(/,/g,"")));p.value=lempiras(x.toFixed(2))})})}function wCe(){const i=document.querySelectorAll(".convenio_monto_pagado");i&&i.forEach(function(t){t.addEventListener("keyup",function(){const a=this.dataset.pago,u=t.value,c=document.getElementById(`pago_convenio_${a}`),m=c.querySelector(".convenio_monto_intereses"),p=c.querySelector(".convenio_monto_total");let x=u;m.value!==""&&(x=parseFloat(u.replace(/,/g,""))+parseFloat(m.value.replace(/,/g,"")),isNaN(x)&&(x=0),x=x.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})),p.value=x})})}window.mostrarPago=function(i){const t=i.dataset.pago,a=document.getElementById(`pago_convenio_${t}`);i.checked?(a.style.display="block",wCe(),_Ce(),yCe(),xte()):a.style.display="none"};const NZ=document.getElementById("convenio_concluir");NZ&&NZ.addEventListener("click",function(){const i=document.getElementById("total_multa").value,t=document.getElementById("total_cobrado").value;parseFloat(t)>=parseFloat(i)?document.getElementById("convenio_concluir_form").submit():alert("No es posible concluir el convenio hasta que se cubra el monto total de la multa")});function xte(){const i=document.querySelectorAll(".convenio-incompleto"),t=document.getElementById("concluir_incompleto_submit");i&&i.forEach(function(a){a.addEventListener("click",function(){const u=this.dataset.pago,c=document.getElementById(`pago_convenio_form_${u}`);document.getElementById("concluir_incompleto_submit");let m=document.getElementById(`monto_pagado_${u}`).value,p=document.getElementById("total_cobrado").value,x=document.getElementById("total_multa").value;if(m=parseFloat(m.replace(/,/g,"")),p=parseFloat(p.replace(/,/g,"")),x=parseFloat(x.replace(/,/g,"")),t.setAttribute("form",`pago_convenio_form_${u}`),c.checkValidity())m+p<x?new Modal(document.getElementById("concluirIncompletoModal")).show():c.submit();else{var k=c.querySelectorAll(":invalid");k.forEach(function(D){var L=D.closest(".form-group").querySelector(".invalid-feedback"),V=L.dataset.default,q=tipoValidacion(D,V);L&&(L.textContent=q,L.style.removeProperty("display"))}),c.classList.add("validado")}})})}xte();let _3=document.getElementById("form_convenio_pago");_3&&(_3.addEventListener("submit",function(i){let t=new BigNumber(document.getElementById("total_multa").value.replaceAll(",","")),a=document.getElementById("btnModalTotalPago"),u=document.getElementById("btnCancelarModalTotalPago"),c=document.getElementById("parrafoContinuarConvenio");if(i.preventDefault(),_3.checkValidity()!==!1)if(sumatoria_pagos!==null&&!sumatoria_pagos.isEqualTo(t)){const m=new Modal(document.getElementById("modalTotalPago"));sumatoria_pagos.isLessThan(t)?(a.classList.add("d-none"),u.innerHTML="Aceptar",c.innerHTML="Los montos deben coincidir para poder continuar."):(a.classList.remove("d-none"),u.innerHTML="Cancelar",c.innerHTML='<strong class="text-gray">¿Desea continuar?</strong>'),m.show()}else _3.submit()}),window.submitFormConvenioPago=function(){_3.submit()});let w3=document.getElementById("form_pago_total");w3&&(w3.addEventListener("submit",function(i){let t=new BigNumber(document.getElementById("total_multa").value.replaceAll(",","")),a=new BigNumber(document.getElementById("monto_pago_total").value.replaceAll(",","")),u=document.getElementById("btnModalTotalPagoTotal"),c=document.getElementById("btnCancelarModalTotalPagoTotal"),m=document.getElementById("parrafoContinuarPagoTotal");if(i.preventDefault(),w3.checkValidity()!==!1)if(a.isEqualTo(t))w3.submit();else{const p=new Modal(document.getElementById("modalTotalPagoTotal"));a.isLessThan(t)?(u.classList.add("d-none"),c.innerHTML="Aceptar",m.innerHTML=`El capital del pago a realizar
                    <strong>(L ${lempiras(a.toFixed(2))})</strong>
                    es ${a.isGreaterThan(t)?"mayor":"menor"} al total de la multa
                    <strong>(L ${lempiras(t.toFixed(2))})</strong>.`):(u.classList.remove("d-none"),c.innerHTML="Cancelar",m.innerHTML=`El capital del pago a realizar
                    <strong>(L ${lempiras(a.toFixed(2))})</strong>
                    es ${a.isGreaterThan(t)?"mayor":"menor"} al total de la multa
                    <strong>(L ${lempiras(t.toFixed(2))})</strong>
                    <br>
                    <strong class="text-gray">¿Desea continuar?</strong>`),p.show()}}),window.submitFormPagoTotal=function(){w3.submit()});function xCe(){const i=document.querySelectorAll(".auditorias-mensuales");if(i){let a=function(){const u=document.getElementById("total_auditorias"),c=document.getElementById("total_auditorias_input");let m=0;i.forEach(p=>{p.value<0&&(p.value=0),p.value>100&&(p.value=100),p.value!==""&&p.value>0&&(m+=parseInt(p.value))}),u.textContent=`${m}`,c.value=`${m}`};var t=a;i.forEach(function(u){u.addEventListener("click",()=>{u.select()}),u.addEventListener("keyup",a),u.addEventListener("change",a),u.addEventListener("focusout",function(){this.value===""&&(this.value=0)})})}}xCe();function CCe(){const i=document.getElementById("departamento_id");i&&i.addEventListener("click",function(){})}CCe();function SCe(){const i=document.querySelectorAll(".eliminar-registro"),t=document.getElementById("confirmar_eliminar");i&&i.forEach(function(a){a.addEventListener("click",()=>{const u=a.dataset.item;t.setAttribute("form",`form_delete_registro_${u}`)})})}SCe();function ECe(){const i=document.getElementById("plan_mensual_auditorias_form");i&&i.addEventListener("submit",function(t){let a=document.getElementById("total_auditorias_input");a=a.value,console.log(a,"totalAuditorias"),a=="0"&&(t.preventDefault(),new Modal(document.getElementById("vacioModal")).show())})}ECe();function kCe(){const i=document.getElementById("anio");i&&i.addEventListener("change",function(t){const a=this.value;let u=document.getElementById("existentes");u=u?u.value:!1;const c=u?u.split(","):!1;c&&c.includes(a)?(document.getElementById("anio_invalido").style.display="block",i.setCustomValidity("Selección inválida. ")):(document.getElementById("anio_invalido").style.display="none",i.setCustomValidity(""))})}kCe();const x3=document.getElementById("form_grupo_auditorias");if(x3){x3.addEventListener("submit",function(t){if(!document.getElementById("auditoria")&&x3.checkValidity()){t.preventDefault();const u={planeacion:document.getElementById("planeacion").value,departamento:document.getElementById("dom_departamento_id").value,municipio:document.getElementById("dom_municipio_caso").value,inspeccion:document.getElementById("tipo_inspeccion_id").value,cafta:document.getElementById("cafta").value,actividad:document.getElementById("actividad_economica_id").value,auditor:document.getElementById("auditor_responsable_id").value};axios.post("/planeaciones/planeacion/auditoria/validate",u).then(function(c){console.log(c),c.data.data===!0?(document.getElementById("duplicateModalMessage").textContent=c.data.message,new Modal(document.getElementById("duplicatedModal")).show()):x3.submit()}).catch(function(c){console.error(c)})}});const i=document.getElementById("launch_form_grupo_auditorias");i&&i.addEventListener("click",function(t){x3.submit()})}window.obtenerJefeRegional=function(i,t,a,u){document.getElementById(t)&&i.value&&axios.post(base_url+"/api/obtenerJefeRegional",{regional_id:i.value}).then(function(m){m.data&&(document.getElementById("inpNombre").value=m.data.datos.inp_nombre,document.getElementById("inpEmail").value=m.data.datos.inp_email,document.getElementById("inpJefeRegional").value=m.data.datos.inp_id,parseInt(m.data.datos.inp_id)>0?(document.getElementById(a).classList.remove("d-none"),document.getElementById(u).classList.add("d-none")):(document.getElementById(a).classList.add("d-none"),document.getElementById(u).classList.remove("d-none")),document.getElementById("tabla_solicitud").classList.add("d-none"),document.getElementById("mes_filtro").value=0)}).catch(function(m){console.log(m)})};window.obtenerSolicitudMesRegional=function(i,t,a,u,c,m,p,x,k,D){let L=document.getElementById(t),V=document.getElementById(a).value,q=document.getElementById(u).textContent,ie=document.getElementById(c).value;L&&i.value&&axios.post(base_url+"/api/obtenerSolicitudRegionMes",{mes:i.value,regional:V,valor:q,estatus:ie}).then(function(ee){ee.data&&(ee.data.is_solicitud?(document.getElementById(p).classList.remove("d-none"),document.getElementById(m).innerHTML=ee.data.html,parseInt(document.getElementById(D).value)>0?(document.getElementById(x).classList.remove("d-none"),document.getElementById(k).classList.add("d-none")):(document.getElementById(x).classList.add("d-none"),document.getElementById(k).classList.remove("d-none"))):(document.getElementById(p).classList.remove("d-none"),document.getElementById(x).classList.add("d-none"),document.getElementById(k).classList.remove("d-none"),document.getElementById(m).innerHTML=ee.data.html))}).catch(function(ee){console.log(ee)})};const $Z=document.getElementById("btnSolicitarExpediente"),zZ=document.getElementById("btnGuardarSolicitud"),HZ=document.getElementById("btnFinalizarCargaDocSeguiModal"),VZ=document.getElementById("btnGuardarCargaDocAuditoria"),UZ=document.getElementById("btnProrrogaModal"),WZ=document.getElementById("btnGuardarProrroga");$Z&&$Z.addEventListener("click",function(i){const t=document.getElementById("form_solicitar_Expedientes"),a=document.getElementById("mes_filtro"),u=a.options[a.selectedIndex].text,c=document.getElementById("inpAnio").value,m=document.getElementById("regional"),p=m.options[m.selectedIndex].text,x=document.getElementById("spanTotalExpdiente")?document.getElementById("spanTotalExpdiente").textContent:null;validarFormulario(i),t.checkValidity()&&(i.preventDefault(),new Modal(document.getElementById("modal-confirm-solicitud")).show(),document.getElementById("msjConfirm").innerHTML="Se solicitarán <b>"+x+" expediente(s)</b>  correspondientes a las auditorías del  mes de <b> "+u+" de "+c+" a la regional "+p+"</b>")});zZ&&zZ.addEventListener("click",function(i){const t=document.getElementById("form_solicitar_Expedientes");t.checkValidity()&&(i.preventDefault(),t.submit())});HZ&&HZ.addEventListener("click",function(i){document.getElementById("form_carga_documentos_seguimiento").checkValidity()&&(i.preventDefault(),new Modal(document.getElementById("modal-confirm-solicitud")).show(),document.getElementById("msjConfirm").innerHTML="Al finalizar el seguimiento a la auditoría ya no podrán realizarse cambios.")});VZ&&VZ.addEventListener("click",function(i){const t=document.getElementById("form_carga_documentos_seguimiento");t.checkValidity()&&(i.preventDefault(),t.submit())});UZ&&UZ.addEventListener("click",function(i){if(document.getElementById("form_prorroga_solicitud_expedientes").checkValidity()){i.preventDefault(),new Modal(document.getElementById("modal-confirm-solicitud")).show();const u=document.getElementById("inpDiasPlazo").value,c=document.getElementById("inpNumOficio").value,m=document.getElementById("inpJefeRegional").value;document.getElementById("msjConfirm").innerHTML=`Se ampliarán <b>${u}</b> días el plazo para que el jefe de la regional <b>${m}</b> pueda responder la solicitud de información con número de oficio <b>${c}</b>.`}});WZ&&WZ.addEventListener("click",function(i){const t=document.getElementById("form_prorroga_solicitud_expedientes");t.checkValidity()&&(i.preventDefault(),t.submit())});window.activarFecha=function(i){var t=document.getElementById("fecha_entrega_expediente"),a=document.getElementById("fecha-recepcion_expediente");t.querySelector(".input-fecha"),t.closest(".form-group").querySelector(".invalid-feedback"),i.checked?(t.setAttribute("required","true"),a.style.display="block"):(t.removeAttribute("required"),a.style.display="none")};window.cargarPlantilla=function(i){const t=i.value,a=i.dataset.ejecucion,u=i.dataset.seccion;window.location.href=`/auditorias/ejecucion/${a}/proceso/${u}?plantilla=${t}`};window.cargarPlantillaResultados=function(i){const t=i.value,a=i.dataset.ejecucion,u=i.dataset.seccion;window.location.href=`/auditorias/ejecucion/${a}/proceso/${u}?plantilla=${t}`};window.eliminarPlantilla=function(i){document.getElementById("delete_plantilla_id").value=i.dataset.plantilla,document.getElementById("delete_plantilla_nombre").textContent=i.dataset.nombre};window.eliminarPlantillaFirmada=function(i){document.getElementById("delete_plantilla_firma_id").value=i.dataset.plantilla,document.getElementById("delete_plantilla_firma_nombre").textContent=i.dataset.nombre};window.cargarPlantillaFirmada=function(i){document.getElementById("file_plantilla_id").value=i.dataset.plantilla};window.reasignacionEjecucion=function(i){document.getElementById("reasignacion_auditor_asignado_id").value=i.dataset.auditor,document.getElementById("reasignacion_ejecucion_id").value=i.dataset.ejecucion};window.activarAuditoriaNoEjecutada=function(i){var t=document.getElementById("seccion_acta_incumplimiento"),a=document.getElementById("acta_incumplimiento_auditoria"),u=document.getElementById("seccion_seguimiento"),c=document.getElementById("input-fecha-seguimiento");i.checked?(t.style.display="block",a.setAttribute("required","true"),u.style.display="none",c.removeAttribute("required")):(t.style.display="none",a.removeAttribute("required"),u.style.display="block")};window.activarFechaSeguimiento=function(i){var t=document.getElementById("fecha_seguimiento"),a=document.getElementById("input-fecha-seguimiento");i.checked?(t.style.display="block",a.setAttribute("required","true")):(t.style.display="none",a.removeAttribute("required"))};const jZ=document.getElementById("btnGenerarInformeAuditoria"),YZ=document.getElementById("btnGuardarInformeAuditoria");jZ&&jZ.addEventListener("click",function(i){document.getElementById("fomGuardarInformeAuditoria").checkValidity()&&(i.preventDefault(),new Modal(document.getElementById("modal-confirm-informe-auditoria")).show(),document.getElementById("msjConfirm").innerHTML="Al finalizar la auditoría ya no podrán realizarse cambios.")});YZ&&YZ.addEventListener("click",function(i){const t=document.getElementById("fomGuardarInformeAuditoria");t.checkValidity()&&(i.preventDefault(),t.submit())});(function(){var i=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(U){var re=typeof U;return U===null?"null":re==="object"&&(Array.prototype.isPrototypeOf(U)||U.constructor&&U.constructor.name==="Array")?"array":re==="object"&&(String.prototype.isPrototypeOf(U)||U.constructor&&U.constructor.name==="String")?"string":re},a=function(U){return function(re){return t(re)===U}},u=function(U){return function(re){return typeof re===U}},c=a("string"),m=a("object"),p=a("array"),x=u("boolean"),k=u("function"),D=u("number"),L=function(){},V=function(U){return function(){return U}},q=function(U){return U},ie=function(U,re){return U===re},ee=function(U){return function(re){return!U(re)}},se=V(!1),Te=V(!0),_e=function(){return be},be=function(){var U=function(Ie){return Ie()},re=q,he={fold:function(Ie,ut){return Ie()},isSome:se,isNone:Te,getOr:re,getOrThunk:U,getOrDie:function(Ie){throw new Error(Ie||"error: getOrDie called on none.")},getOrNull:V(null),getOrUndefined:V(void 0),or:re,orThunk:U,map:_e,each:L,bind:_e,exists:se,forall:Te,filter:function(){return _e()},toArray:function(){return[]},toString:V("none()")};return he}(),le=function(U){var re=V(U),he=function(){return ut},Ie=function(Et){return Et(U)},ut={fold:function(Et,Wn){return Wn(U)},isSome:Te,isNone:se,getOr:re,getOrThunk:re,getOrDie:re,getOrNull:re,getOrUndefined:re,or:he,orThunk:he,map:function(Et){return le(Et(U))},each:function(Et){Et(U)},bind:Ie,exists:Ie,forall:Ie,filter:function(Et){return Et(U)?ut:be},toArray:function(){return[U]},toString:function(){return"some("+U+")"}};return ut},Pe=function(U){return U==null?be:le(U)},Oe={some:le,none:_e,from:Pe},lt=Array.prototype.slice,at=Array.prototype.push,K=function(U,re){for(var he=U.length,Ie=new Array(he),ut=0;ut<he;ut++){var Et=U[ut];Ie[ut]=re(Et,ut)}return Ie},de=function(U,re){for(var he=0,Ie=U.length;he<Ie;he++){var ut=U[he];re(ut,he)}},ve=function(U,re){for(var he=[],Ie=0,ut=U.length;Ie<ut;Ie++){var Et=U[Ie];re(Et,Ie)&&he.push(Et)}return he},Ue=function(U,re){if(U.length===0)return[];for(var he=re(U[0]),Ie=[],ut=[],Et=0,Wn=U.length;Et<Wn;Et++){var wr=U[Et],ra=re(wr);ra!==he&&(Ie.push(ut),ut=[]),he=ra,ut.push(wr)}return ut.length!==0&&Ie.push(ut),Ie},ue=function(U,re,he){return de(U,function(Ie,ut){he=re(he,Ie,ut)}),he},Y=function(U,re,he){for(var Ie=0,ut=U.length;Ie<ut;Ie++){var Et=U[Ie];if(re(Et,Ie))return Oe.some(Et);if(he(Et,Ie))break}return Oe.none()},$e=function(U,re){return Y(U,re,se)},He=function(U){for(var re=[],he=0,Ie=U.length;he<Ie;++he){if(!p(U[he]))throw new Error("Arr.flatten item "+he+" was not an array, input: "+U);at.apply(re,U[he])}return re},Ce=function(U,re){return He(K(U,re))},rt=function(U){var re=lt.call(U,0);return re.reverse(),re},We=function(U,re){return re>=0&&re<U.length?Oe.some(U[re]):Oe.none()},z=function(U){return We(U,0)},ln=function(U){return We(U,U.length-1)},dt=function(U,re){for(var he=0;he<U.length;he++){var Ie=re(U[he],he);if(Ie.isSome())return Ie}return Oe.none()},Dt=function(){return Dt=Object.assign||function(re){for(var he,Ie=1,ut=arguments.length;Ie<ut;Ie++){he=arguments[Ie];for(var Et in he)Object.prototype.hasOwnProperty.call(he,Et)&&(re[Et]=he[Et])}return re},Dt.apply(this,arguments)};function mr(U,re,he){if(he||arguments.length===2)for(var Ie=0,ut=re.length,Et;Ie<ut;Ie++)(Et||!(Ie in re))&&(Et||(Et=Array.prototype.slice.call(re,0,Ie)),Et[Ie]=re[Ie]);return U.concat(Et||Array.prototype.slice.call(re))}var Kr=function(U){var re=!1,he;return function(){for(var Ie=[],ut=0;ut<arguments.length;ut++)Ie[ut]=arguments[ut];return re||(re=!0,he=U.apply(null,Ie)),he}},_n=function(U,re,he,Ie){var ut=U.isiOS()&&/ipad/i.test(he)===!0,Et=U.isiOS()&&!ut,Wn=U.isiOS()||U.isAndroid(),wr=Wn||Ie("(pointer:coarse)"),ra=ut||!Et&&Wn&&Ie("(min-device-width:768px)"),zr=Et||Wn&&!ra,di=re.isSafari()&&U.isiOS()&&/safari/i.test(he)===!1,qo=!zr&&!ra&&!di;return{isiPad:V(ut),isiPhone:V(Et),isTablet:V(ra),isPhone:V(zr),isTouch:V(wr),isAndroid:U.isAndroid,isiOS:U.isiOS,isWebView:V(di),isDesktop:V(qo)}},Gn=function(U,re){for(var he=0;he<U.length;he++){var Ie=U[he];if(Ie.test(re))return Ie}},Ee=function(U,re){var he=Gn(U,re);if(!he)return{major:0,minor:0};var Ie=function(ut){return Number(re.replace(he,"$"+ut))};return xn(Ie(1),Ie(2))},qa=function(U,re){var he=String(re).toLowerCase();return U.length===0?Vt():Ee(U,he)},Vt=function(){return xn(0,0)},xn=function(U,re){return{major:U,minor:re}},Ga={nu:xn,detect:qa,unknown:Vt},jt=function(U,re){return dt(re.brands,function(he){var Ie=he.brand.toLowerCase();return $e(U,function(ut){var Et;return Ie===((Et=ut.brand)===null||Et===void 0?void 0:Et.toLowerCase())}).map(function(ut){return{current:ut.name,version:Ga.nu(parseInt(he.version,10),0)}})})},kt=function(U,re){var he=String(re).toLowerCase();return $e(U,function(Ie){return Ie.search(he)})},Qe=function(U,re){return kt(U,re).map(function(he){var Ie=Ga.detect(he.versionRegexes,re);return{current:he.name,version:Ie}})},st=function(U,re){return kt(U,re).map(function(he){var Ie=Ga.detect(he.versionRegexes,re);return{current:he.name,version:Ie}})},vt=function(U,re){return U.indexOf(re)!==-1},Jt=function(U){return function(re){return re.replace(U,"")}},zn=Jt(/^\s+|\s+$/g),pn=function(U){return U.length>0},Er=function(U){return!pn(U)},xr=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Un=function(U){return function(re){return vt(re,U)}},ba=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(U){return vt(U,"edge/")&&vt(U,"chrome")&&vt(U,"safari")&&vt(U,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,xr],search:function(U){return vt(U,"chrome")&&!vt(U,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(U){return vt(U,"msie")||vt(U,"trident")}},{name:"Opera",versionRegexes:[xr,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Un("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Un("firefox")},{name:"Safari",versionRegexes:[xr,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(U){return(vt(U,"safari")||vt(U,"mobile/"))&&vt(U,"applewebkit")}}],ho=[{name:"Windows",search:Un("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(U){return vt(U,"iphone")||vt(U,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Un("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Un("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Un("linux"),versionRegexes:[]},{name:"Solaris",search:Un("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Un("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Un("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ts={browsers:V(ba),oses:V(ho)},ns="Edge",yo="Chrome",Oa="IE",Ki="Opera",_o="Firefox",mi="Safari",ii=function(){return Xi({current:void 0,version:Ga.unknown()})},Xi=function(U){var re=U.current,he=U.version,Ie=function(ut){return function(){return re===ut}};return{current:re,version:he,isEdge:Ie(ns),isChrome:Ie(yo),isIE:Ie(Oa),isOpera:Ie(Ki),isFirefox:Ie(_o),isSafari:Ie(mi)}},oi={unknown:ii,nu:Xi,edge:V(ns),chrome:V(yo),ie:V(Oa),opera:V(Ki),firefox:V(_o),safari:V(mi)},ya="Windows",Vo="iOS",Os="Android",wo="Linux",ia="OSX",Ds="Solaris",Ms="FreeBSD",rs="ChromeOS",Zn=function(){return ma({current:void 0,version:Ga.unknown()})},ma=function(U){var re=U.current,he=U.version,Ie=function(ut){return function(){return re===ut}};return{current:re,version:he,isWindows:Ie(ya),isiOS:Ie(Vo),isAndroid:Ie(Os),isOSX:Ie(ia),isLinux:Ie(wo),isSolaris:Ie(Ds),isFreeBSD:Ie(Ms),isChromeOS:Ie(rs)}},Pi={unknown:Zn,nu:ma,windows:V(ya),ios:V(Vo),android:V(Os),linux:V(wo),osx:V(ia),solaris:V(Ds),freebsd:V(Ms),chromeos:V(rs)},ou=function(U,re,he){var Ie=ts.browsers(),ut=ts.oses(),Et=re.bind(function(ra){return jt(Ie,ra)}).orThunk(function(){return Qe(Ie,U)}).fold(oi.unknown,oi.nu),Wn=st(ut,U).fold(Pi.unknown,Pi.nu),wr=_n(Wn,Et,U,he);return{browser:Et,os:Wn,deviceType:wr}},Mc={detect:ou},_a=function(U){return window.matchMedia(U).matches},Ur=Kr(function(){return Mc.detect(navigator.userAgent,Oe.from(navigator.userAgentData),_a)}),Uo=function(){return Ur()},_l=function(U,re,he){return(U.compareDocumentPosition(re)&he)!==0},wl=function(U,re){return _l(U,re,Node.DOCUMENT_POSITION_CONTAINED_BY)},Mo=1,Ks=function(U,re){var he=re||document,Ie=he.createElement("div");if(Ie.innerHTML=U,!Ie.hasChildNodes()||Ie.childNodes.length>1)throw console.error("HTML does not have a single root node",U),new Error("HTML must have a single root node");return Rs(Ie.childNodes[0])},zl=function(U,re){var he=re||document,Ie=he.createElement(U);return Rs(Ie)},Xs=function(U,re){var he=re||document,Ie=he.createTextNode(U);return Rs(Ie)},Rs=function(U){if(U==null)throw new Error("Node cannot be null or undefined");return{dom:U}},Hl=function(U,re,he){return Oe.from(U.dom.elementFromPoint(re,he)).map(Rs)},Da={fromHtml:Ks,fromTag:zl,fromText:Xs,fromDom:Rs,fromPoint:Hl},su=function(U,re){var he=U.dom;if(he.nodeType!==Mo)return!1;var Ie=he;if(Ie.matches!==void 0)return Ie.matches(re);if(Ie.msMatchesSelector!==void 0)return Ie.msMatchesSelector(re);if(Ie.webkitMatchesSelector!==void 0)return Ie.webkitMatchesSelector(re);if(Ie.mozMatchesSelector!==void 0)return Ie.mozMatchesSelector(re);throw new Error("Browser lacks native selectors")},Kn=function(U,re){return U.dom===re.dom},ac=function(U,re){var he=U.dom,Ie=re.dom;return he===Ie?!1:he.contains(Ie)},Ps=function(U,re){return wl(U.dom,re.dom)},uu=function(U,re){return Uo().browser.isIE()?Ps(U,re):ac(U,re)},Wo=su,Xu=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),rf=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Eu=tinymce.util.Tools.resolve("tinymce.util.VK"),Vl=Object.keys,as=function(U,re){for(var he=Vl(U),Ie=0,ut=he.length;Ie<ut;Ie++){var Et=he[Ie],Wn=U[Et];re(Wn,Et)}},jo=function(U){return function(re,he){U[he]=re}},vn=function(U,re,he,Ie){var ut={};return as(U,function(Et,Wn){(re(Et,Wn)?he:Ie)(Et,Wn)}),ut},ic=function(U,re){var he={};return vn(U,re,jo(he),L),he};typeof window<"u"||Function("return this;")();var Rc=function(U){var re=U.dom.nodeName;return re.toLowerCase()},oc=function(U){return U.dom.nodeType},ze=function(U){return function(re){return oc(re)===U}},Ye=ze(Mo),Lt=function(U){return function(re){return Ye(re)&&Rc(re)===U}},Kt=function(U,re,he){if(c(he)||x(he)||D(he))U.setAttribute(re,he+"");else throw console.error("Invalid call to Attribute.set. Key ",re,":: Value ",he,":: Element ",U),new Error("Attribute value was not simple")},tn=function(U,re){var he=U.dom;as(re,function(Ie,ut){Kt(he,ut,Ie)})},An=function(U){return ue(U.dom.attributes,function(re,he){return re[he.name]=he.value,re},{})},Bn=function(U){return Oe.from(U.dom.parentNode).map(Da.fromDom)},kr=function(U){return K(U.dom.childNodes,Da.fromDom)},Pr=function(U,re){var he=U.dom.childNodes;return Oe.from(he[re]).map(Da.fromDom)},Zr=function(U){return Pr(U,0)},Ka=function(U){return Pr(U,U.dom.childNodes.length-1)},wi=function(U,re){var he=Bn(U);he.each(function(Ie){Ie.dom.insertBefore(re.dom,U.dom)})},mo=function(U,re){U.dom.appendChild(re.dom)},Qt=function(U,re){de(re,function(he){wi(U,he)})},Dr=function(U,re){de(re,function(he){mo(U,he)})},Ba=function(U){var re=U.dom;re.parentNode!==null&&re.parentNode.removeChild(re)},Yo=function(U,re){return Da.fromDom(U.dom.cloneNode(re))},lu=function(U){return Yo(U,!0)},sa=function(U,re){var he=Da.fromTag(re),Ie=An(U);return tn(he,Ie),he},af=function(U,re){var he=sa(U,re);wi(U,he);var Ie=kr(U);return Dr(he,Ie),Ba(U),he},Zu=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ii=tinymce.util.Tools.resolve("tinymce.util.Tools"),Ju=function(U){return function(re){return re&&re.nodeName.toLowerCase()===U}},Is=function(U){return function(re){return re&&U.test(re.nodeName)}},Zs=function(U){return U&&U.nodeType===3},fi=Is(/^(OL|UL|DL)$/),Pc=Is(/^(OL|UL)$/),sc=Ju("ol"),uc=Is(/^(LI|DT|DD)$/),of=Is(/^(DT|DD)$/),Qu=Is(/^(TH|TD)$/),xl=Ju("br"),kf=function(U){return U.parentNode.firstChild===U},ku=function(U,re){return re&&!!U.schema.getTextBlockElements()[re.nodeName]},cu=function(U,re){return U&&U.nodeName in re},me=function(U,re){return xl(re)?U.isBlock(re.nextSibling)&&!xl(re.previousSibling):!1},qe=function(U,re,he){var Ie=U.isEmpty(re);return he&&U.select("span[data-mce-type=bookmark]",re).length>0?!1:Ie},ct=function(U,re){return U.isChildOf(re,U.getRoot())},Mt=function(U){return U.getParam("lists_indent_on_tab",!0)},sn=function(U){var re=U.getParam("forced_root_block","p");return re===!1?"":re===!0?"p":re},qn=function(U){return U.getParam("forced_root_block_attrs",{})},Ma=function(U,re){var he=U.dom,Ie=U.schema.getBlockElements(),ut=he.createFragment(),Et=sn(U),Wn,wr,ra;if(Et&&(wr=he.create(Et),wr.tagName===Et.toUpperCase()&&he.setAttribs(wr,qn(U)),cu(re.firstChild,Ie)||ut.appendChild(wr)),re)for(;Wn=re.firstChild;){var zr=Wn.nodeName;!ra&&(zr!=="SPAN"||Wn.getAttribute("data-mce-type")!=="bookmark")&&(ra=!0),cu(Wn,Ie)?(ut.appendChild(Wn),wr=null):Et?(wr||(wr=he.create(Et),ut.appendChild(wr)),wr.appendChild(Wn)):ut.appendChild(Wn)}return Et?ra||wr.appendChild(he.create("br",{"data-mce-bogus":"1"})):ut.appendChild(he.create("br")),ut},Xa=Zu.DOM,Wr=function(U,re,he){var Ie=function(zr){Ii.each(ut,function(di){zr.parentNode.insertBefore(di,he.parentNode)}),Xa.remove(zr)},ut=Xa.select('span[data-mce-type="bookmark"]',re),Et=Ma(U,he),Wn=Xa.createRng();Wn.setStartAfter(he),Wn.setEndAfter(re);for(var wr=Wn.extractContents(),ra=wr.firstChild;ra;ra=ra.firstChild)if(ra.nodeName==="LI"&&U.dom.isEmpty(ra)){Xa.remove(ra);break}U.dom.isEmpty(wr)||Xa.insertAfter(wr,re),Xa.insertAfter(Et,re),qe(U.dom,he.parentNode)&&Ie(he.parentNode),Xa.remove(he),qe(U.dom,re)&&Xa.remove(re)},Vr=Lt("dd"),jr=Lt("dt"),lc=function(U,re){Vr(re)?af(re,"dt"):jr(re)&&Bn(re).each(function(he){return Wr(U,he.dom,re.dom)})},is=function(U){jr(U)&&af(U,"dd")},Ul=function(U,re,he){re==="Indent"?de(he,is):de(he,function(Ie){return lc(U,Ie)})},rr=function(U,re){if(Zs(U))return{container:U,offset:re};var he=Xu.getNode(U,re);return Zs(he)?{container:he,offset:re>=U.childNodes.length?he.data.length:0}:he.previousSibling&&Zs(he.previousSibling)?{container:he.previousSibling,offset:he.previousSibling.data.length}:he.nextSibling&&Zs(he.nextSibling)?{container:he.nextSibling,offset:0}:{container:U,offset:re}},Qf=function(U){var re=U.cloneRange(),he=rr(U.startContainer,U.startOffset);re.setStart(he.container,he.offset);var Ie=rr(U.endContainer,U.endOffset);return re.setEnd(Ie.container,Ie.offset),re},vv=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),wa=function(U,re){var he=re||U.selection.getStart(!0);return U.dom.getParent(he,"OL,UL,DL",xo(U,he))},hv=function(U,re){return U&&re.length===1&&re[0]===U},Ro=function(U){return ve(U.querySelectorAll("ol,ul,dl"),fi)},Td=function(U){var re=wa(U),he=U.selection.getSelectedBlocks();return hv(re,he)?Ro(re):ve(he,function(Ie){return fi(Ie)&&re!==Ie})},Ra=function(U,re){var he=Ii.map(re,function(Ie){var ut=U.dom.getParent(Ie,"li,dd,dt",xo(U,Ie));return ut||Ie});return vv.unique(he)},Tu=function(U){var re=U.selection.getSelectedBlocks();return ve(Ra(U,re),uc)},mv=function(U){return ve(Tu(U),of)},xo=function(U,re){var he=U.dom.getParents(re,"TD,TH");return he.length>0?he[0]:U.getBody()},Qi=function(U,re){var he=U.dom.getParents(re,"ol,ul",xo(U,re));return ln(he)},Ic=function(U){var re=Qi(U,U.selection.getStart()),he=ve(U.selection.getSelectedBlocks(),Pc);return re.toArray().concat(he)},Tt=function(U){var re=Ic(U);return Tf(U,re)},Tf=function(U,re){var he=K(re,function(Ie){return Qi(U,Ie).getOr(Ie)});return vv.unique(he)},eo=function(U,re,he){return he===void 0&&(he=ie),U.exists(function(Ie){return he(Ie,re)})},gv=function(U,re,he){return U.isSome()&&re.isSome()?Oe.some(he(U.getOrDie(),re.getOrDie())):Oe.none()},Po=function(U,re){var he=re||document,Ie=he.createDocumentFragment();return de(U,function(ut){Ie.appendChild(ut.dom)}),Da.fromDom(Ie)},J=function(U,re,he){return U.fire("ListMutation",{action:re,element:he})},Z=function(U){return U.style!==void 0&&k(U.style.getPropertyValue)},N=function(U,re,he){if(!c(he))throw console.error("Invalid call to CSS.set. Property ",re,":: Value ",he,":: Element ",U),new Error("CSS value must be a string: "+he);Z(U)&&U.style.setProperty(re,he)},oe=function(U,re,he){var Ie=U.dom;N(Ie,re,he)},Le=function(U,re){mo(U.item,re.list)},Ge=function(U){for(var re=1;re<U.length;re++)Le(U[re-1],U[re])},wt=function(U,re){gv(ln(U),z(re),Le)},Ut=function(U,re){var he={list:Da.fromTag(re,U),item:Da.fromTag("li",U)};return mo(he.list,he.item),he},ar=function(U,re,he){for(var Ie=[],ut=0;ut<he;ut++)Ie.push(Ut(U,re.listType));return Ie},Cr=function(U,re){for(var he=0;he<U.length-1;he++)oe(U[he].item,"list-style-type","none");ln(U).each(function(Ie){tn(Ie.list,re.listAttributes),tn(Ie.item,re.itemAttributes),Dr(Ie.item,re.content)})},On=function(U,re){Rc(U.list)!==re.listType&&(U.list=af(U.list,re.listType)),tn(U.list,re.listAttributes)},sr=function(U,re,he){var Ie=Da.fromTag("li",U);return tn(Ie,re),Dr(Ie,he),Ie},Xr=function(U,re){mo(U.list,re),U.item=re},Qr=function(U,re,he){var Ie=re.slice(0,he.depth);return ln(Ie).each(function(ut){var Et=sr(U,he.itemAttributes,he.content);Xr(ut,Et),On(ut,he)}),Ie},yr=function(U,re,he){var Ie=ar(U,he,he.depth-re.length);return Ge(Ie),Cr(Ie,he),wt(re,Ie),re.concat(Ie)},Bi=function(U,re){var he=ue(re,function(Ie,ut){return ut.depth>Ie.length?yr(U,Ie,ut):Qr(U,Ie,ut)},[]);return z(he).map(function(Ie){return Ie.list})},lr=function(U){return Wo(U,"OL,UL")},La=function(U){return Zr(U).exists(lr)},Di=function(U){return Ka(U).exists(lr)},Au=function(U){return U.depth>0},$r=function(U){return U.isSelected},Cl=function(U){var re=kr(U),he=Di(U)?re.slice(0,-1):re;return K(he,lu)},Li=function(U,re,he){return Bn(U).filter(Ye).map(function(Ie){return{depth:re,dirty:!1,isSelected:he,content:Cl(U),itemAttributes:An(U),listAttributes:An(Ie),listType:Rc(Ie)}})},to=function(U,re){switch(U){case"Indent":re.depth++;break;case"Outdent":re.depth--;break;case"Flatten":re.depth=0}re.dirty=!0},t1=function(U,re){U.listType=re.listType,U.listAttributes=Dt({},re.listAttributes)},gs=function(U){U.listAttributes=ic(U.listAttributes,function(re,he){return he!=="start"})},lm=function(U,re){var he=U[re].depth,Ie=function(Et){return Et.depth===he&&!Et.dirty},ut=function(Et){return Et.depth<he};return Y(rt(U.slice(0,re)),Ie,ut).orThunk(function(){return Y(U.slice(re+1),Ie,ut)})},Af=function(U){return de(U,function(re,he){lm(U,he).fold(function(){re.dirty&&gs(re)},function(Ie){return t1(re,Ie)})}),U},_r=function(U){var re=U,he=function(){return re},Ie=function(ut){re=ut};return{get:he,set:Ie}},Co=function(U,re,he,Ie){return Zr(Ie).filter(lr).fold(function(){re.each(function(Wn){Kn(Wn.start,Ie)&&he.set(!0)});var ut=Li(Ie,U,he.get());re.each(function(Wn){Kn(Wn.end,Ie)&&he.set(!1)});var Et=Ka(Ie).filter(lr).map(function(Wn){return no(U,re,he,Wn)}).getOr([]);return ut.toArray().concat(Et)},function(ut){return no(U,re,he,ut)})},no=function(U,re,he,Ie){return Ce(kr(Ie),function(ut){var Et=lr(ut)?no:Co,Wn=U+1;return Et(Wn,re,he,ut)})},Vi=function(U,re){var he=_r(!1),Ie=0;return K(U,function(ut){return{sourceList:ut,entries:no(Ie,re,he,ut)}})},os=function(U,re){var he=Af(re);return K(he,function(Ie){var ut=Po(Ie.content);return Da.fromDom(Ma(U,ut.dom))})},Io=function(U,re){var he=Af(re);return Bi(U.contentDocument,he).toArray()},pv=function(U,re){return Ce(Ue(re,Au),function(he){var Ie=z(he).exists(Au);return Ie?Io(U,he):os(U,he)})},Bc=function(U,re){de(ve(U,$r),function(he){return to(re,he)})},Na=function(U){var re=K(Tu(U),Da.fromDom);return gv($e(re,ee(La)),$e(rt(re),ee(La)),function(he,Ie){return{start:he,end:Ie}})},Fi=function(U,re,he){var Ie=Vi(re,Na(U));de(Ie,function(ut){Bc(ut.entries,he);var Et=pv(U,ut.entries);de(Et,function(Wn){J(U,he==="Indent"?"IndentList":"OutdentList",Wn.dom)}),Qt(ut.sourceList,Et),Ba(ut.sourceList)})},el=function(U,re){var he=K(Tt(U),Da.fromDom),Ie=K(mv(U),Da.fromDom),ut=!1;if(he.length||Ie.length){var Et=U.selection.getBookmark();Fi(U,he,re),Ul(U,re,Ie),U.selection.moveToBookmark(Et),U.selection.setRng(Qf(U.selection.getRng())),U.nodeChanged(),ut=!0}return ut},Wl=function(U){return el(U,"Indent")},ss=function(U){return el(U,"Outdent")},cc=function(U){return el(U,"Flatten")},hg=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),Ad=Zu.DOM,$a=function(U){var re={},he=function(Ie){var ut=U[Ie?"startContainer":"endContainer"],Et=U[Ie?"startOffset":"endOffset"];if(ut.nodeType===1){var Wn=Ad.create("span",{"data-mce-type":"bookmark"});ut.hasChildNodes()?(Et=Math.min(Et,ut.childNodes.length-1),Ie?ut.insertBefore(Wn,ut.childNodes[Et]):Ad.insertAfter(Wn,ut.childNodes[Et])):ut.appendChild(Wn),ut=Wn,Et=0}re[Ie?"startContainer":"endContainer"]=ut,re[Ie?"startOffset":"endOffset"]=Et};return he(!0),U.collapsed||he(),re},jl=function(U){var re=function(Ie){var ut,Et=function(ra){for(var zr=ra.parentNode.firstChild,di=0;zr;){if(zr===ra)return di;(zr.nodeType!==1||zr.getAttribute("data-mce-type")!=="bookmark")&&di++,zr=zr.nextSibling}return-1},Wn=ut=U[Ie?"startContainer":"endContainer"],wr=U[Ie?"startOffset":"endOffset"];Wn&&(Wn.nodeType===1&&(wr=Et(Wn),Wn=Wn.parentNode,Ad.remove(ut),!Wn.hasChildNodes()&&Ad.isBlock(Wn)&&Wn.appendChild(Ad.create("br"))),U[Ie?"startContainer":"endContainer"]=Wn,U[Ie?"startOffset":"endOffset"]=wr)};re(!0),re();var he=Ad.createRng();return he.setStart(U.startContainer,U.startOffset),U.endContainer&&he.setEnd(U.endContainer,U.endOffset),Qf(he)},Od=function(U){switch(U){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Sl=function(U){return/\btox\-/.test(U.className)},So=function(U,re,he){var Ie=function(Et){var Wn=Y(Et.parents,fi,Qu).filter(function(wr){return wr.nodeName===re&&!Sl(wr)}).isSome();he(Wn)},ut=U.dom.getParents(U.selection.getNode());return Ie({parents:ut}),U.on("NodeChange",Ie),function(){return U.off("NodeChange",Ie)}},fc=function(U,re,he){var Ie=he["list-style-type"]?he["list-style-type"]:null;U.setStyle(re,"list-style-type",Ie)},Js=function(U,re){Ii.each(re,function(he,Ie){U.setAttribute(Ie,he)})},fu=function(U,re,he){Js(re,he["list-attributes"]),Ii.each(U.select("li",re),function(Ie){Js(Ie,he["list-item-attributes"])})},El=function(U,re,he){fc(U,re,he),fu(U,re,he)},du=function(U,re,he){Ii.each(he,function(Ie){var ut;return U.setStyle(re,(ut={},ut[Ie]="",ut))})},uh=function(U,re,he,Ie){var ut=re[he?"startContainer":"endContainer"],Et=re[he?"startOffset":"endOffset"];for(ut.nodeType===1&&(ut=ut.childNodes[Math.min(Et,ut.childNodes.length-1)]||ut),!he&&xl(ut.nextSibling)&&(ut=ut.nextSibling);ut.parentNode!==Ie;){if(ku(U,ut)||/^(TD|TH)$/.test(ut.parentNode.nodeName))return ut;ut=ut.parentNode}return ut},sf=function(U,re,he){for(var Ie=[],ut=U.dom,Et=uh(U,re,!0,he),Wn=uh(U,re,!1,he),wr,ra=[],zr=Et;zr&&(ra.push(zr),zr!==Wn);zr=zr.nextSibling);return Ii.each(ra,function(di){if(ku(U,di)){Ie.push(di),wr=null;return}if(ut.isBlock(di)||xl(di)){xl(di)&&ut.remove(di),wr=null;return}var qo=di.nextSibling;if(hg.isBookmarkNode(di)&&(fi(qo)||ku(U,qo)||!qo&&di.parentNode===he)){wr=null;return}wr||(wr=ut.create("p"),di.parentNode.insertBefore(wr,di),Ie.push(wr)),wr.appendChild(di)}),Ie},ps=function(U,re,he){var Ie=U.getStyle(re,"list-style-type"),ut=he?he["list-style-type"]:"";return ut=ut===null?"":ut,Ie===ut},Of=function(U,re,he){var Ie=U.selection.getRng(),ut="LI",Et=xo(U,U.selection.getStart(!0)),Wn=U.dom;if(Wn.getContentEditable(U.selection.getNode())!=="false"){re=re.toUpperCase(),re==="DL"&&(ut="DT");var wr=$a(Ie),ra=sf(U,Ie,Et);Ii.each(ra,function(zr){var di,qo=zr.previousSibling,po=zr.parentNode;uc(po)||(qo&&fi(qo)&&qo.nodeName===re&&ps(Wn,qo,he)?(di=qo,zr=Wn.rename(zr,ut),qo.appendChild(zr)):(di=Wn.create(re),zr.parentNode.insertBefore(di,zr),di.appendChild(zr),zr=Wn.rename(zr,ut)),du(Wn,zr,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),El(Wn,di,he),oa(U.dom,di))}),U.selection.setRng(jl(wr))}},pt=function(U,re){return U&&re&&fi(U)&&U.nodeName===re.nodeName},rn=function(U,re,he){var Ie=U.getStyle(re,"list-style-type",!0),ut=U.getStyle(he,"list-style-type",!0);return Ie===ut},Ft=function(U,re){return U.className===re.className},Nn=function(U,re,he){return pt(re,he)&&rn(U,re,he)&&Ft(re,he)},oa=function(U,re){var he,Ie;if(he=re.nextSibling,Nn(U,re,he)){for(;Ie=he.firstChild;)re.appendChild(Ie);U.remove(he)}if(he=re.previousSibling,Nn(U,re,he)){for(;Ie=he.lastChild;)re.insertBefore(Ie,re.firstChild);U.remove(he)}},si=function(U,re,he,Ie){if(re.nodeName!==he){var ut=U.dom.rename(re,he);El(U.dom,ut,Ie),J(U,Od(he),ut)}else El(U.dom,re,Ie),J(U,Od(he),re)},gi=function(U,re,he,Ie,ut){var Et=fi(re);if(Et&&re.nodeName===Ie&&!pi(ut))cc(U);else{Of(U,Ie,ut);var Wn=$a(U.selection.getRng()),wr=Et?mr([re],he,!0):he;Ii.each(wr,function(ra){si(U,ra,Ie,ut)}),U.selection.setRng(jl(Wn))}},pi=function(U){return"list-style-type"in U},ed=function(U,re,he,Ie){if(re!==U.getBody())if(re)if(re.nodeName===he&&!pi(Ie)&&!Sl(re))cc(U);else{var ut=$a(U.selection.getRng());El(U.dom,re,Ie);var Et=U.dom.rename(re,he);oa(U.dom,Et),U.selection.setRng(jl(ut)),Of(U,he,Ie),J(U,Od(he),Et)}else Of(U,he,Ie),J(U,Od(he),re)},td=function(U,re,he){var Ie=wa(U),ut=Td(U),Et=m(he)?he:{};ut.length>0?gi(U,Ie,ut,re,Et):ed(U,Ie,re,Et)},Za=Zu.DOM,Ou=function(U,re){var he=re.parentNode;if(he.nodeName==="LI"&&he.firstChild===re){var Ie=he.previousSibling;Ie&&Ie.nodeName==="LI"?(Ie.appendChild(re),qe(U,he)&&Za.remove(he)):Za.setStyle(he,"listStyleType","none")}if(fi(he)){var Ie=he.previousSibling;Ie&&Ie.nodeName==="LI"&&Ie.appendChild(re)}},mg=function(U,re){var he=Ii.grep(U.select("ol,ul",re));Ii.each(he,function(Ie){Ou(U,Ie)})},vu=function(U,re,he,Ie){var ut=re.startContainer,Et=re.startOffset;if(Zs(ut)&&(he?Et<ut.data.length:Et>0))return ut;var Wn=U.schema.getNonEmptyElements();ut.nodeType===1&&(ut=Xu.getNode(ut,Et));var wr=new rf(ut,Ie);for(he&&me(U.dom,ut)&&wr.next();ut=wr[he?"next":"prev2"]();)if(ut.nodeName==="LI"&&!ut.hasChildNodes()||Wn[ut.nodeName]||Zs(ut)&&ut.data.length>0)return ut},bv=function(U,re){var he=re.childNodes;return he.length===1&&!fi(he[0])&&U.isBlock(he[0])},cm=function(U,re){bv(U,re)&&U.remove(re.firstChild,!0)},Ni=function(U,re,he){var Ie,ut=bv(U,he)?he.firstChild:he;if(cm(U,re),!qe(U,re,!0))for(;Ie=re.firstChild;)ut.appendChild(Ie)},yv=function(U,re,he){var Ie,ut=re.parentNode;if(!(!ct(U,re)||!ct(U,he))){fi(he.lastChild)&&(Ie=he.lastChild),ut===he.lastChild&&xl(ut.previousSibling)&&U.remove(ut.previousSibling);var Et=he.lastChild;Et&&xl(Et)&&re.hasChildNodes()&&U.remove(Et),qe(U,he,!0)&&U.$(he).empty(),Ni(U,re,he),Ie&&he.appendChild(Ie);var Wn=uu(Da.fromDom(he),Da.fromDom(re)),wr=Wn?U.getParents(re,fi,he):[];U.remove(re),de(wr,function(ra){qe(U,ra)&&ra!==U.getRoot()&&U.remove(ra)})}},Dd=function(U,re,he){U.dom.$(he).empty(),yv(U.dom,re,he),U.selection.setCursorLocation(he,0)},uf=function(U,re,he,Ie){var ut=U.dom;if(ut.isEmpty(Ie))Dd(U,he,Ie);else{var Et=$a(re);yv(ut,he,Ie),U.selection.setRng(jl(Et))}},Tr=function(U,re,he,Ie){var ut=$a(re);yv(U.dom,he,Ie);var Et=jl(ut);U.selection.setRng(Et)},Lc=function(U,re){var he=U.dom,Ie=U.selection,ut=Ie.getStart(),Et=xo(U,ut),Wn=he.getParent(Ie.getStart(),"LI",Et);if(Wn){var wr=Wn.parentNode;if(wr===U.getBody()&&qe(he,wr))return!0;var ra=Qf(Ie.getRng()),zr=he.getParent(vu(U,ra,re,Et),"LI",Et);if(zr&&zr!==Wn)return U.undoManager.transact(function(){re?uf(U,ra,zr,Wn):kf(Wn)?ss(U):Tr(U,ra,Wn,zr)}),!0;if(!zr&&!re&&ra.startOffset===0&&ra.endOffset===0)return U.undoManager.transact(function(){cc(U)}),!0}return!1},kl=function(U,re,he){var Ie=U.getParent(re.parentNode,U.isBlock,he);U.remove(re),Ie&&U.isEmpty(Ie)&&U.remove(Ie)},Bs=function(U,re){var he=U.dom,Ie=U.selection.getStart(),ut=xo(U,Ie),Et=he.getParent(Ie,he.isBlock,ut);if(Et&&he.isEmpty(Et)){var Wn=Qf(U.selection.getRng()),wr=he.getParent(vu(U,Wn,re,ut),"LI",ut);if(wr)return U.undoManager.transact(function(){kl(he,Et,ut),oa(he,wr.parentNode),U.selection.select(wr,!0),U.selection.collapse(re)}),!0}return!1},Qs=function(U,re){return Lc(U,re)||Bs(U,re)},uo=function(U){var re=U.selection.getStart(),he=xo(U,re),Ie=U.dom.getParent(re,"LI,DT,DD",he);return Ie||Tu(U).length>0?(U.undoManager.transact(function(){U.execCommand("Delete"),mg(U.dom,U.getBody())}),!0):!1},us=function(U,re){return U.selection.isCollapsed()?Qs(U,re):uo(U)},go=function(U){U.on("keydown",function(re){re.keyCode===Eu.BACKSPACE?us(U,!1)&&re.preventDefault():re.keyCode===Eu.DELETE&&us(U,!0)&&re.preventDefault()})},nd=function(U){return{backspaceDelete:function(re){us(U,re)}}},eu=function(U,re){var he=wa(U);U.undoManager.transact(function(){m(re.styles)&&U.dom.setStyles(he,re.styles),m(re.attrs)&&as(re.attrs,function(Ie,ut){return U.dom.setAttrib(he,ut,Ie)})})},Rn=function(U){var re=rt(zn(U).split("")),he=K(re,function(Ie,ut){var Et=Ie.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,ut)*Et});return ue(he,function(Ie,ut){return Ie+ut},0)},Md=function(U){if(U--,U<0)return"";var re=U%26,he=Math.floor(U/26),Ie=Md(he),ut=String.fromCharCode("A".charCodeAt(0)+re);return Ie+ut},_v=function(U){return/^[A-Z]+$/.test(U)},Mr=function(U){return/^[a-z]+$/.test(U)},ui=function(U){return/^[0-9]+$/.test(U)},gg=function(U){return ui(U)?2:_v(U)?0:Mr(U)?1:Er(U)?3:4},Df=function(U){switch(gg(U)){case 2:return Oe.some({listStyleType:Oe.none(),start:U});case 0:return Oe.some({listStyleType:Oe.some("upper-alpha"),start:Rn(U).toString()});case 1:return Oe.some({listStyleType:Oe.some("lower-alpha"),start:Rn(U).toString()});case 3:return Oe.some({listStyleType:Oe.none(),start:""});case 4:return Oe.none()}},Zi=function(U){var re=parseInt(U.start,10);return eo(U.listStyleType,"upper-alpha")?Md(re):eo(U.listStyleType,"lower-alpha")?Md(re).toLowerCase():U.start},wv=function(U){var re=wa(U);sc(re)&&U.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Zi({start:U.dom.getAttrib(re,"start","1"),listStyleType:Oe.some(U.dom.getStyle(re,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(he){var Ie=he.getData();Df(Ie.start).each(function(ut){U.execCommand("mceListUpdate",!1,{attrs:{start:ut.start==="1"?"":ut.start},styles:{"list-style-type":ut.listStyleType.getOr("")}})}),he.close()}})},Du=function(U,re){return function(){var he=wa(U);return he&&he.nodeName===re}},xv=function(U){U.addCommand("mceListProps",function(){wv(U)})},Jr=function(U){U.on("BeforeExecCommand",function(re){var he=re.command.toLowerCase();he==="indent"?Wl(U):he==="outdent"&&ss(U)}),U.addCommand("InsertUnorderedList",function(re,he){td(U,"UL",he)}),U.addCommand("InsertOrderedList",function(re,he){td(U,"OL",he)}),U.addCommand("InsertDefinitionList",function(re,he){td(U,"DL",he)}),U.addCommand("RemoveList",function(){cc(U)}),xv(U),U.addCommand("mceListUpdate",function(re,he){m(he)&&eu(U,he)}),U.addQueryStateHandler("InsertUnorderedList",Du(U,"UL")),U.addQueryStateHandler("InsertOrderedList",Du(U,"OL")),U.addQueryStateHandler("InsertDefinitionList",Du(U,"DL"))},Mu=function(U){U.on("keydown",function(re){re.keyCode!==Eu.TAB||Eu.metaKeyPressed(re)||U.undoManager.transact(function(){(re.shiftKey?ss(U):Wl(U))&&re.preventDefault()})})},ay=function(U){Mt(U)&&Mu(U),go(U)},iy=function(U){var re=function(he){return function(){return U.execCommand(he)}};U.hasPlugin("advlist")||(U.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:re("InsertOrderedList"),onSetup:function(he){return So(U,"OL",he.setActive)}}),U.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:re("InsertUnorderedList"),onSetup:function(he){return So(U,"UL",he.setActive)}}))},ga=function(U){var re={text:"List properties...",icon:"ordered-list",onAction:function(){return U.execCommand("mceListProps")},onSetup:function(he){return So(U,"OL",function(Ie){return he.setDisabled(!Ie)})}};U.ui.registry.addMenuItem("listprops",re),U.ui.registry.addContextMenu("lists",{update:function(he){var Ie=wa(U,he);return sc(Ie)?["listprops"]:[]}})};function tu(){i.add("lists",function(U){return U.hasPlugin("rtc",!0)===!1?(ay(U),Jr(U)):xv(U),iy(U),ga(U),nd(U)})}tu()})();(function(){var i=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.util.VK"),a=function(me){var qe=typeof me;return me===null?"null":qe==="object"&&(Array.prototype.isPrototypeOf(me)||me.constructor&&me.constructor.name==="Array")?"array":qe==="object"&&(String.prototype.isPrototypeOf(me)||me.constructor&&me.constructor.name==="String")?"string":qe},u=function(me){return function(qe){return a(qe)===me}},c=function(me){return function(qe){return typeof qe===me}},m=function(me){return function(qe){return me===qe}},p=u("string"),x=u("array"),k=m(null),D=c("boolean"),L=c("function"),V=function(){},q=function(me){return function(){return me}},ie=function(me){return me},ee=function(me,qe){return me===qe},se=q(!1),Te=q(!0),_e=function(){return be},be=function(){var me=function(Mt){return Mt()},qe=ie,ct={fold:function(Mt,sn){return Mt()},isSome:se,isNone:Te,getOr:qe,getOrThunk:me,getOrDie:function(Mt){throw new Error(Mt||"error: getOrDie called on none.")},getOrNull:q(null),getOrUndefined:q(void 0),or:qe,orThunk:me,map:_e,each:V,bind:_e,exists:se,forall:Te,filter:function(){return _e()},toArray:function(){return[]},toString:q("none()")};return ct}(),le=function(me){var qe=q(me),ct=function(){return sn},Mt=function(qn){return qn(me)},sn={fold:function(qn,Ma){return Ma(me)},isSome:Te,isNone:se,getOr:qe,getOrThunk:qe,getOrDie:qe,getOrNull:qe,getOrUndefined:qe,or:ct,orThunk:ct,map:function(qn){return le(qn(me))},each:function(qn){qn(me)},bind:Mt,exists:Mt,forall:Mt,filter:function(qn){return qn(me)?sn:be},toArray:function(){return[me]},toString:function(){return"some("+me+")"}};return sn},Pe=function(me){return me==null?be:le(me)},Oe={some:le,none:_e,from:Pe},lt=Array.prototype.indexOf,at=Array.prototype.push,K=function(me,qe){return lt.call(me,qe)},de=function(me,qe){return K(me,qe)>-1},ve=function(me,qe){for(var ct=me.length,Mt=new Array(ct),sn=0;sn<ct;sn++){var qn=me[sn];Mt[sn]=qe(qn,sn)}return Mt},Ue=function(me,qe){for(var ct=0,Mt=me.length;ct<Mt;ct++){var sn=me[ct];qe(sn,ct)}},ue=function(me,qe,ct){return Ue(me,function(Mt,sn){ct=qe(ct,Mt,sn)}),ct},Y=function(me){for(var qe=[],ct=0,Mt=me.length;ct<Mt;++ct){if(!x(me[ct]))throw new Error("Arr.flatten item "+ct+" was not an array, input: "+me);at.apply(qe,me[ct])}return qe},$e=function(me,qe){return Y(ve(me,qe))},He=function(me,qe){for(var ct=0;ct<me.length;ct++){var Mt=qe(me[ct],ct);if(Mt.isSome())return Mt}return Oe.none()},Ce=function(me,qe,ct){return ct===void 0&&(ct=ee),me.exists(function(Mt){return ct(Mt,qe)})},rt=function(me){for(var qe=[],ct=function(sn){qe.push(sn)},Mt=0;Mt<me.length;Mt++)me[Mt].each(ct);return qe},We=function(me,qe){return me?Oe.some(qe):Oe.none()},z=function(me){var qe=me.getParam("link_assume_external_targets",!1);return D(qe)&&qe?1:p(qe)&&(qe==="http"||qe==="https")?qe:0},ln=function(me){return me.getParam("link_context_toolbar",!1,"boolean")},dt=function(me){return me.getParam("link_list")},Dt=function(me){return me.getParam("default_link_target")},mr=function(me){return me.getParam("target_list",!0)},Kr=function(me){return me.getParam("rel_list",[],"array")},_n=function(me){return me.getParam("link_class_list",[],"array")},Gn=function(me){return me.getParam("link_title",!0,"boolean")},Ee=function(me){return me.getParam("allow_unsafe_link_target",!1,"boolean")},qa=function(me){return me.getParam("link_quicklink",!1,"boolean")},Vt=function(me){return me.getParam("link_default_protocol","http","string")},xn=tinymce.util.Tools.resolve("tinymce.util.Tools"),Ga=function(me){return p(me.value)?me.value:""},jt=function(me){return p(me.text)?me.text:p(me.title)?me.title:""},kt=function(me,qe){var ct=[];return xn.each(me,function(Mt){var sn=jt(Mt);if(Mt.menu!==void 0){var qn=kt(Mt.menu,qe);ct.push({text:sn,items:qn})}else{var Ma=qe(Mt);ct.push({text:sn,value:Ma})}}),ct},Qe=function(me){return me===void 0&&(me=Ga),function(qe){return Oe.from(qe).map(function(ct){return kt(ct,me)})}},st=function(me){return Qe(Ga)(me)},vt=function(me,qe){return function(ct){return{name:me,type:"listbox",label:qe,items:ct}}},Jt={sanitize:st,sanitizeWith:Qe,createUi:vt,getValue:Ga},zn=function(){return zn=Object.assign||function(qe){for(var ct,Mt=1,sn=arguments.length;Mt<sn;Mt++){ct=arguments[Mt];for(var qn in ct)Object.prototype.hasOwnProperty.call(ct,qn)&&(qe[qn]=ct[qn])}return qe},zn.apply(this,arguments)},pn=Object.keys,Er=Object.hasOwnProperty,xr=function(me,qe){for(var ct=pn(me),Mt=0,sn=ct.length;Mt<sn;Mt++){var qn=ct[Mt],Ma=me[qn];qe(Ma,qn)}},Un=function(me){return function(qe,ct){me[ct]=qe}},ba=function(me,qe,ct,Mt){var sn={};return xr(me,function(qn,Ma){(qe(qn,Ma)?ct:Mt)(qn,Ma)}),sn},ho=function(me,qe){var ct={};return ba(me,qe,Un(ct),V),ct},ts=function(me,qe){return Er.call(me,qe)},ns=function(me,qe){return ts(me,qe)&&me[qe]!==void 0&&me[qe]!==null},yo=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Oa=tinymce.util.Tools.resolve("tinymce.util.URI"),Ki=function(me){return me&&me.nodeName.toLowerCase()==="a"},_o=function(me){return Ki(me)&&!!Xi(me)},mi=function(me,qe){if(me.collapsed)return[];var ct=me.cloneContents(),Mt=new yo(ct.firstChild,ct),sn=[],qn=ct.firstChild;do qe(qn)&&sn.push(qn);while(qn=Mt.next());return sn},ii=function(me){return/^\w+:/i.test(me)},Xi=function(me){var qe=me.getAttribute("data-mce-href");return qe||me.getAttribute("href")},oi=function(me,qe){var ct=["noopener"],Mt=me?me.split(/\s+/):[],sn=function(Wr){return xn.trim(Wr.sort().join(" "))},qn=function(Wr){return Wr=Ma(Wr),Wr.length>0?Wr.concat(ct):ct},Ma=function(Wr){return Wr.filter(function(Vr){return xn.inArray(ct,Vr)===-1})},Xa=qe?qn(Mt):Ma(Mt);return Xa.length>0?sn(Xa):""},ya=function(me){return me.replace(/\uFEFF/g,"")},Vo=function(me,qe){return qe=qe||me.selection.getNode(),Ms(qe)?me.dom.select("a[href]",qe)[0]:me.dom.getParent(qe,"a[href]")},Os=function(me,qe){var ct=qe?qe.innerText||qe.textContent:me.getContent({format:"text"});return ya(ct)},wo=function(me){return xn.grep(me,_o).length>0},ia=function(me){return mi(me,_o).length>0},Ds=function(me){var qe=me.schema.getTextInlineElements(),ct=function(sn){return sn.nodeType===1&&!Ki(sn)&&!ts(qe,sn.nodeName.toLowerCase())},Mt=mi(me.selection.getRng(),ct);return Mt.length===0},Ms=function(me){return me&&me.nodeName==="FIGURE"&&/\bimage\b/i.test(me.className)},rs=function(me){var qe=["title","rel","class","target"];return ue(qe,function(ct,Mt){return me[Mt].each(function(sn){ct[Mt]=sn.length>0?sn:null}),ct},{href:me.href})},Zn=function(me,qe){return(qe==="http"||qe==="https")&&!ii(me)?qe+"://"+me:me},ma=function(me,qe){var ct=zn({},qe);if(!(Kr(me).length>0)&&Ee(me)===!1){var Mt=oi(ct.rel,ct.target==="_blank");ct.rel=Mt||null}return Oe.from(ct.target).isNone()&&mr(me)===!1&&(ct.target=Dt(me)),ct.href=Zn(ct.href,z(me)),ct},Pi=function(me,qe,ct,Mt){ct.each(function(sn){ts(qe,"innerText")?qe.innerText=sn:qe.textContent=sn}),me.dom.setAttribs(qe,Mt),me.selection.select(qe)},ou=function(me,qe,ct,Mt){Ms(qe)?zl(me,qe,Mt):ct.fold(function(){me.execCommand("mceInsertLink",!1,Mt)},function(sn){me.insertContent(me.dom.createHTML("a",Mt,me.dom.encode(sn)))})},Mc=function(me,qe,ct){var Mt=me.selection.getNode(),sn=Vo(me,Mt),qn=ma(me,rs(ct));me.undoManager.transact(function(){ct.href===qe.href&&qe.attach(),sn?(me.focus(),Pi(me,sn,ct.text,qn)):ou(me,Mt,ct.text,qn)})},_a=function(me){var qe=me.dom,ct=me.selection,Mt=ct.getBookmark(),sn=ct.getRng().cloneRange(),qn=qe.getParent(sn.startContainer,"a[href]",me.getBody()),Ma=qe.getParent(sn.endContainer,"a[href]",me.getBody());qn&&sn.setStartBefore(qn),Ma&&sn.setEndAfter(Ma),ct.setRng(sn),me.execCommand("unlink"),ct.moveToBookmark(Mt)},Ur=function(me){me.undoManager.transact(function(){var qe=me.selection.getNode();Ms(qe)?Ks(me,qe):_a(me),me.focus()})},Uo=function(me){var qe=me.class,ct=me.href,Mt=me.rel,sn=me.target,qn=me.text,Ma=me.title;return ho({class:qe.getOrNull(),href:ct,rel:Mt.getOrNull(),target:sn.getOrNull(),text:qn.getOrNull(),title:Ma.getOrNull()},function(Xa,Wr){return k(Xa)===!1})},_l=function(me,qe){var ct=qe.href;return zn(zn({},qe),{href:Oa.isDomSafe(ct,"a",me.settings)?ct:""})},wl=function(me,qe,ct){var Mt=_l(me,ct);me.hasPlugin("rtc",!0)?me.execCommand("createlink",!1,Uo(Mt)):Mc(me,qe,Mt)},Mo=function(me){me.hasPlugin("rtc",!0)?me.execCommand("unlink"):Ur(me)},Ks=function(me,qe){var ct=me.dom.select("img",qe)[0];if(ct){var Mt=me.dom.getParents(ct,"a[href]",qe)[0];Mt&&(Mt.parentNode.insertBefore(ct,Mt),me.dom.remove(Mt))}},zl=function(me,qe,ct){var Mt=me.dom.select("img",qe)[0];if(Mt){var sn=me.dom.create("a",ct);Mt.parentNode.insertBefore(sn,Mt),sn.appendChild(Mt)}},Xs=function(me){return ns(me,"items")},Rs=function(me,qe){return He(qe,function(ct){return Xs(ct)?Rs(me,ct.items):We(ct.value===me,ct)})},Hl=function(me,qe,ct,Mt){var sn=Mt[qe],qn=me.length>0;return sn!==void 0?Rs(sn,ct).map(function(Ma){return{url:{value:Ma.value,meta:{text:qn?me:Ma.text,attach:V}},text:qn?me:Ma.text}}):Oe.none()},Da=function(me,qe){return qe==="link"?me.link:qe==="anchor"?me.anchor:Oe.none()},su=function(me,qe){var ct={text:me.text,title:me.title},Mt=function(Wr){return We(ct.title.length<=0,Oe.from(Wr.meta.title).getOr(""))},sn=function(Wr){return We(ct.text.length<=0,Oe.from(Wr.meta.text).getOr(Wr.value))},qn=function(Wr){var Vr=sn(Wr.url),jr=Mt(Wr.url);return Vr.isSome()||jr.isSome()?Oe.some(zn(zn({},Vr.map(function(lc){return{text:lc}}).getOr({})),jr.map(function(lc){return{title:lc}}).getOr({}))):Oe.none()},Ma=function(Wr,Vr){var jr=Da(qe,Vr.name).getOr([]);return Hl(ct.text,Vr.name,jr,Wr)},Xa=function(Wr,Vr){var jr=Vr.name;return jr==="url"?qn(Wr()):de(["anchor","link"],jr)?Ma(Wr(),Vr):((jr==="text"||jr==="title")&&(ct[jr]=Wr()[jr]),Oe.none())};return{onChange:Xa}},Kn={init:su,getDelta:Hl},ac=tinymce.util.Tools.resolve("tinymce.util.Delay"),Ps=tinymce.util.Tools.resolve("tinymce.util.Promise"),uu=function(me,qe,ct){var Mt=me.selection.getRng();ac.setEditorTimeout(me,function(){me.windowManager.confirm(qe,function(sn){me.selection.setRng(Mt),ct(sn)})})},Wo=function(me){var qe=me.href,ct=qe.indexOf("@")>0&&qe.indexOf("/")===-1&&qe.indexOf("mailto:")===-1;return ct?Oe.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(Mt){return zn(zn({},Mt),{href:"mailto:"+qe})}}):Oe.none()},Xu=function(me,qe){return function(ct){var Mt=ct.href,sn=me===1&&!ii(Mt)||me===0&&/^\s*www(\.|\d\.)/i.test(Mt);return sn?Oe.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+qe+":// prefix?",preprocess:function(qn){return zn(zn({},qn),{href:qe+"://"+Mt})}}):Oe.none()}},rf=function(me,qe){return He([Wo,Xu(z(me),Vt(me))],function(ct){return ct(qe)}).fold(function(){return Ps.resolve(qe)},function(ct){return new Ps(function(Mt){uu(me,ct.message,function(sn){Mt(sn?ct.preprocess(qe):qe)})})})},Eu={preprocess:rf},Vl=function(me){var qe=me.dom.select("a:not([href])"),ct=$e(qe,function(Mt){var sn=Mt.name||Mt.id;return sn?[{text:sn,value:"#"+sn}]:[]});return ct.length>0?Oe.some([{text:"None",value:""}].concat(ct)):Oe.none()},as={getAnchors:Vl},jo=function(me){var qe=_n(me);return qe.length>0?Jt.sanitize(qe):Oe.none()},vn={getClasses:jo},ic=tinymce.util.Tools.resolve("tinymce.util.XHR"),Rc=function(me){try{return Oe.some(JSON.parse(me))}catch{return Oe.none()}},oc=function(me){var qe=function(Mt){return me.convertURL(Mt.value||Mt.url,"href")},ct=dt(me);return new Ps(function(Mt){p(ct)?ic.send({url:ct,success:function(sn){return Mt(Rc(sn))},error:function(sn){return Mt(Oe.none())}}):L(ct)?ct(function(sn){return Mt(Oe.some(sn))}):Mt(Oe.from(ct))}).then(function(Mt){return Mt.bind(Jt.sanitizeWith(qe)).map(function(sn){if(sn.length>0){var qn=[{text:"None",value:""}];return qn.concat(sn)}else return sn})})},ze={getLinks:oc},Ye=function(me,qe){var ct=Kr(me);if(ct.length>0){var Mt=Ce(qe,"_blank"),sn=Ee(me)===!1,qn=function(Xa){return oi(Jt.getValue(Xa),Mt)},Ma=sn?Jt.sanitizeWith(qn):Jt.sanitize;return Ma(ct)}return Oe.none()},Lt={getRels:Ye},Kt=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],tn=function(me){var qe=mr(me);return x(qe)?Jt.sanitize(qe).orThunk(function(){return Oe.some(Kt)}):qe===!1?Oe.none():Oe.some(Kt)},An={getTargets:tn},Bn=function(me,qe,ct){var Mt=me.getAttrib(qe,ct);return Mt!==null&&Mt.length>0?Oe.some(Mt):Oe.none()},kr=function(me,qe){var ct=me.dom,Mt=Ds(me),sn=Mt?Oe.some(Os(me.selection,qe)):Oe.none(),qn=qe?Oe.some(ct.getAttrib(qe,"href")):Oe.none(),Ma=qe?Oe.from(ct.getAttrib(qe,"target")):Oe.none(),Xa=Bn(ct,qe,"rel"),Wr=Bn(ct,qe,"class"),Vr=Bn(ct,qe,"title");return{url:qn,text:sn,title:Vr,target:Ma,rel:Xa,linkClass:Wr}},Pr=function(me,qe){return ze.getLinks(me).then(function(ct){var Mt=kr(me,qe);return{anchor:Mt,catalogs:{targets:An.getTargets(me),rels:Lt.getRels(me,Mt.target),classes:vn.getClasses(me),anchor:as.getAnchors(me),link:ct},optNode:Oe.from(qe),flags:{titleEnabled:Gn(me)}}})},Zr={collect:Pr},Ka=function(me,qe){return function(ct){var Mt=ct.getData();if(!Mt.url.value){Mo(me),ct.close();return}var sn=function(Xa){return Oe.from(Mt[Xa]).filter(function(Wr){return!Ce(qe.anchor[Xa],Wr)})},qn={href:Mt.url.value,text:sn("text"),target:sn("target"),rel:sn("rel"),class:sn("linkClass"),title:sn("title")},Ma={href:Mt.url.value,attach:Mt.url.meta!==void 0&&Mt.url.meta.attach?Mt.url.meta.attach:V};Eu.preprocess(me,qn).then(function(Xa){wl(me,Ma,Xa)}),ct.close()}},wi=function(me){var qe=Vo(me);return Zr.collect(me,qe)},mo=function(me,qe){var ct=me.anchor,Mt=ct.url.getOr("");return{url:{value:Mt,meta:{original:{value:Mt}}},text:ct.text.getOr(""),title:ct.title.getOr(""),anchor:Mt,link:Mt,rel:ct.rel.getOr(""),target:ct.target.or(qe).getOr(""),linkClass:ct.linkClass.getOr("")}},Qt=function(me,qe,ct){var Mt=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],sn=me.anchor.text.map(function(){return{name:"text",type:"input",label:"Text to display"}}).toArray(),qn=me.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],Ma=Oe.from(Dt(ct)),Xa=mo(me,Ma),Wr=me.catalogs,Vr=Kn.init(Xa,Wr),jr={type:"panel",items:Y([Mt,sn,qn,rt([Wr.anchor.map(Jt.createUi("anchor","Anchors")),Wr.rels.map(Jt.createUi("rel","Rel")),Wr.targets.map(Jt.createUi("target","Open link in...")),Wr.link.map(Jt.createUi("link","Link list")),Wr.classes.map(Jt.createUi("linkClass","Class"))])])};return{title:"Insert/Edit Link",size:"normal",body:jr,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Xa,onChange:function(lc,is){var Ul=is.name;Vr.onChange(lc.getData,{name:Ul}).each(function(rr){lc.setData(rr)})},onSubmit:qe}},Dr=function(me){var qe=wi(me);qe.then(function(ct){var Mt=Ka(me,ct);return Qt(ct,Mt,me)}).then(function(ct){me.windowManager.open(ct)})},Ba=function(me,qe){document.body.appendChild(me),me.dispatchEvent(qe),document.body.removeChild(me)},Yo=function(me){var qe=document.createElement("a");qe.target="_blank",qe.href=me,qe.rel="noreferrer noopener";var ct=document.createEvent("MouseEvents");ct.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),Ba(qe,ct)},lu=function(me,qe){return me.dom.getParent(qe,"a[href]")},sa=function(me){return lu(me,me.selection.getStart())},af=function(me){return me.altKey===!0&&me.shiftKey===!1&&me.ctrlKey===!1&&me.metaKey===!1},Zu=function(me,qe){if(qe){var ct=Xi(qe);if(/^#/.test(ct)){var Mt=me.$(ct);Mt.length&&me.selection.scrollIntoView(Mt[0],!0)}else Yo(qe.href)}},Ii=function(me){return function(){Dr(me)}},Ju=function(me){return function(){Zu(me,sa(me))}},Is=function(me){me.on("click",function(qe){var ct=lu(me,qe.target);ct&&t.metaKeyPressed(qe)&&(qe.preventDefault(),Zu(me,ct))}),me.on("keydown",function(qe){var ct=sa(me);ct&&qe.keyCode===13&&af(qe)&&(qe.preventDefault(),Zu(me,ct))})},Zs=function(me,qe){return me.on("NodeChange",qe),function(){return me.off("NodeChange",qe)}},fi=function(me){return function(qe){var ct=function(){return qe.setActive(!me.mode.isReadOnly()&&Vo(me,me.selection.getNode())!==null)};return ct(),Zs(me,ct)}},Pc=function(me){return function(qe){var ct=function(){return qe.setDisabled(Vo(me,me.selection.getNode())===null)};return ct(),Zs(me,ct)}},sc=function(me){return function(qe){var ct=function(sn){return wo(sn)||ia(me.selection.getRng())},Mt=me.dom.getParents(me.selection.getStart());return qe.setDisabled(!ct(Mt)),Zs(me,function(sn){return qe.setDisabled(!ct(sn.parents))})}},uc=function(me){me.addCommand("mceLink",function(){qa(me)?me.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):Ii(me)()})},of=function(me){me.addShortcut("Meta+K","",function(){me.execCommand("mceLink")})},Qu=function(me){me.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:Ii(me),onSetup:fi(me)}),me.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Ju(me),onSetup:Pc(me)}),me.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return Mo(me)},onSetup:sc(me)})},xl=function(me){me.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Ju(me),onSetup:Pc(me)}),me.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:Ii(me)}),me.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return Mo(me)},onSetup:sc(me)})},kf=function(me){var qe="link unlink openlink",ct="link";me.ui.registry.addContextMenu("link",{update:function(Mt){return wo(me.dom.getParents(Mt,"a"))?qe:ct}})},ku=function(me){var qe=function(sn){sn.selection.collapse(!1)},ct=function(sn){var qn=me.selection.getNode();return sn.setDisabled(!Vo(me,qn)),V},Mt=function(sn){var qn=Vo(me),Ma=Ds(me);if(!qn&&Ma){var Xa=Os(me.selection,qn);return Oe.some(Xa.length>0?Xa:sn)}else return Oe.none()};me.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:fi(me)},label:"Link",predicate:function(sn){return!!Vo(me,sn)&&ln(me)},initValue:function(){var sn=Vo(me);return sn?Xi(sn):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(sn){var qn=me.selection.getNode();return sn.setActive(!!Vo(me,qn)),fi(me)(sn)},onAction:function(sn){var qn=sn.getValue(),Ma=Mt(qn),Xa={href:qn,attach:V};wl(me,Xa,{href:qn,text:Ma,title:Oe.none(),rel:Oe.none(),target:Oe.none(),class:Oe.none()}),qe(me),sn.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:ct,onAction:function(sn){Mo(me),sn.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:ct,onAction:function(sn){Ju(me)(),sn.hide()}}]})};function cu(){i.add("link",function(me){Qu(me),xl(me),kf(me),ku(me),Is(me),uc(me),of(me)})}cu()})();(function(){var i=function(ze){var Ye=ze,Lt=function(){return Ye},Kt=function(tn){Ye=tn};return{get:Lt,set:Kt}},t=tinymce.util.Tools.resolve("tinymce.PluginManager"),a=function(){return a=Object.assign||function(Ye){for(var Lt,Kt=1,tn=arguments.length;Kt<tn;Kt++){Lt=arguments[Kt];for(var An in Lt)Object.prototype.hasOwnProperty.call(Lt,An)&&(Ye[An]=Lt[An])}return Ye},a.apply(this,arguments)},u=function(ze){var Ye=typeof ze;return ze===null?"null":Ye==="object"&&(Array.prototype.isPrototypeOf(ze)||ze.constructor&&ze.constructor.name==="Array")?"array":Ye==="object"&&(String.prototype.isPrototypeOf(ze)||ze.constructor&&ze.constructor.name==="String")?"string":Ye},c=function(ze){return function(Ye){return u(Ye)===ze}},m=function(ze){return function(Ye){return typeof Ye===ze}},p=c("string"),x=c("array"),k=m("boolean"),D=m("number"),L=function(){},V=function(ze){return function(){return ze}},q=function(ze){return ze},ie=V(!1),ee=V(!0),se="[!-#%-*,-\\/:;?@\\[-\\]_{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]",Te=V(se),_e=function(){return be},be=function(){var ze=function(Kt){return Kt()},Ye=q,Lt={fold:function(Kt,tn){return Kt()},isSome:ie,isNone:ee,getOr:Ye,getOrThunk:ze,getOrDie:function(Kt){throw new Error(Kt||"error: getOrDie called on none.")},getOrNull:V(null),getOrUndefined:V(void 0),or:Ye,orThunk:ze,map:_e,each:L,bind:_e,exists:ie,forall:ee,filter:function(){return _e()},toArray:function(){return[]},toString:V("none()")};return Lt}(),le=function(ze){var Ye=V(ze),Lt=function(){return tn},Kt=function(An){return An(ze)},tn={fold:function(An,Bn){return Bn(ze)},isSome:ee,isNone:ie,getOr:Ye,getOrThunk:Ye,getOrDie:Ye,getOrNull:Ye,getOrUndefined:Ye,or:Lt,orThunk:Lt,map:function(An){return le(An(ze))},each:function(An){An(ze)},bind:Kt,exists:Kt,forall:Kt,filter:function(An){return An(ze)?tn:be},toArray:function(){return[ze]},toString:function(){return"some("+ze+")"}};return tn},Pe=function(ze){return ze==null?be:le(ze)},Oe={some:le,none:_e,from:Pe},lt=Te,at=tinymce.util.Tools.resolve("tinymce.Env"),K=tinymce.util.Tools.resolve("tinymce.util.Tools"),de=Array.prototype.slice,ve=Array.prototype.push,Ue=function(ze,Ye){for(var Lt=ze.length,Kt=new Array(Lt),tn=0;tn<Lt;tn++){var An=ze[tn];Kt[tn]=Ye(An,tn)}return Kt},ue=function(ze,Ye){for(var Lt=0,Kt=ze.length;Lt<Kt;Lt++){var tn=ze[Lt];Ye(tn,Lt)}},Y=function(ze,Ye){for(var Lt=ze.length-1;Lt>=0;Lt--){var Kt=ze[Lt];Ye(Kt,Lt)}},$e=function(ze,Ye){if(ze.length===0)return[];for(var Lt=Ye(ze[0]),Kt=[],tn=[],An=0,Bn=ze.length;An<Bn;An++){var kr=ze[An],Pr=Ye(kr);Pr!==Lt&&(Kt.push(tn),tn=[]),Lt=Pr,tn.push(kr)}return tn.length!==0&&Kt.push(tn),Kt},He=function(ze,Ye,Lt){return ue(ze,function(Kt,tn){Lt=Ye(Lt,Kt,tn)}),Lt},Ce=function(ze){for(var Ye=[],Lt=0,Kt=ze.length;Lt<Kt;++Lt){if(!x(ze[Lt]))throw new Error("Arr.flatten item "+Lt+" was not an array, input: "+ze);ve.apply(Ye,ze[Lt])}return Ye},rt=function(ze,Ye){return Ce(Ue(ze,Ye))},We=function(ze,Ye){var Lt=de.call(ze,0);return Lt.sort(Ye),Lt},z=Object.hasOwnProperty,ln=function(ze,Ye){return z.call(ze,Ye)};typeof window<"u"||Function("return this;")();var dt=9,Dt=11,mr=1,Kr=3,_n=function(ze){return ze.dom.nodeType},Gn=function(ze){return function(Ye){return _n(Ye)===ze}},Ee=Gn(Kr),qa=function(ze,Ye,Lt){if(p(Lt)||k(Lt)||D(Lt))ze.setAttribute(Ye,Lt+"");else throw console.error("Invalid call to Attribute.set. Key ",Ye,":: Value ",Lt,":: Element ",ze),new Error("Attribute value was not simple")},Vt=function(ze,Ye,Lt){qa(ze.dom,Ye,Lt)},xn=function(ze,Ye,Lt){return(ze.compareDocumentPosition(Ye)&Lt)!==0},Ga=function(ze,Ye){return xn(ze,Ye,Node.DOCUMENT_POSITION_PRECEDING)},jt=function(ze,Ye){var Lt=Ye||document,Kt=Lt.createElement("div");if(Kt.innerHTML=ze,!Kt.hasChildNodes()||Kt.childNodes.length>1)throw console.error("HTML does not have a single root node",ze),new Error("HTML must have a single root node");return st(Kt.childNodes[0])},kt=function(ze,Ye){var Lt=Ye||document,Kt=Lt.createElement(ze);return st(Kt)},Qe=function(ze,Ye){var Lt=Ye||document,Kt=Lt.createTextNode(ze);return st(Kt)},st=function(ze){if(ze==null)throw new Error("Node cannot be null or undefined");return{dom:ze}},vt=function(ze,Ye,Lt){return Oe.from(ze.dom.elementFromPoint(Ye,Lt)).map(st)},Jt={fromHtml:jt,fromTag:kt,fromText:Qe,fromDom:st,fromPoint:vt},zn=function(ze){return ze.nodeType!==mr&&ze.nodeType!==dt&&ze.nodeType!==Dt||ze.childElementCount===0},pn=function(ze,Ye){var Lt=Ye===void 0?document:Ye.dom;return zn(Lt)?[]:Ue(Lt.querySelectorAll(ze),Jt.fromDom)},Er=function(ze){return Oe.from(ze.dom.parentNode).map(Jt.fromDom)},xr=function(ze){return Ue(ze.dom.childNodes,Jt.fromDom)},Un=function(ze,Ye){return{element:ze,offset:Ye}},ba=function(ze,Ye){var Lt=xr(ze);return Lt.length>0&&Ye<Lt.length?Un(Lt[Ye],0):Un(ze,Ye)},ho=function(ze,Ye){var Lt=Er(ze);Lt.each(function(Kt){Kt.dom.insertBefore(Ye.dom,ze.dom)})},ts=function(ze,Ye){ze.dom.appendChild(Ye.dom)},ns=function(ze,Ye){ho(ze,Ye),ts(Ye,ze)},yo=function(ze,Ye){var Lt=function(An){if(!ze(An))throw new Error("Can only get "+Ye+" value of a "+Ye+" node");return Kt(An).getOr("")},Kt=function(An){return ze(An)?Oe.from(An.dom.nodeValue):Oe.none()},tn=function(An,Bn){if(!ze(An))throw new Error("Can only set raw "+Ye+" value of a "+Ye+" node");An.dom.nodeValue=Bn};return{get:Lt,getOption:Kt,set:tn}},Oa=yo(Ee,"text"),Ki=function(ze){return Oa.get(ze)},_o=function(ze,Ye){return pn(Ye,ze)},mi=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),ii=function(ze,Ye){return ze.isBlock(Ye)||ln(ze.schema.getShortEndedElements(),Ye.nodeName)},Xi=function(ze,Ye){return ze.getContentEditable(Ye)==="false"},oi=function(ze,Ye){return ze.getContentEditable(Ye)==="true"&&ze.getContentEditableParent(Ye.parentNode)==="false"},ya=function(ze,Ye){return!ze.isBlock(Ye)&&ln(ze.schema.getWhiteSpaceElements(),Ye.nodeName)},Vo=function(ze,Ye){return ii(ze,Ye)||Xi(ze,Ye)||ya(ze,Ye)||oi(ze,Ye)},Os=function(ze){return ze.nodeType===3},wo=function(){return{sOffset:0,fOffset:0,elements:[]}},ia=function(ze,Ye){return ba(Jt.fromDom(ze),Ye)},Ds=function(ze,Ye,Lt,Kt,tn,An){An===void 0&&(An=!0);for(var Bn=An?Ye(!1):Lt;Bn;){var kr=Xi(ze,Bn);if(kr||ya(ze,Bn)){var Pr=kr?Kt.cef(Bn):Kt.boundary(Bn);if(Pr)break;Bn=Ye(!0);continue}else if(ii(ze,Bn)){if(Kt.boundary(Bn))break}else Os(Bn)&&Kt.text(Bn);if(Bn===tn)break;Bn=Ye(!1)}},Ms=function(ze,Ye,Lt,Kt,tn){if(!Vo(ze,Lt)){var An=ze.getParent(Kt,ze.isBlock),Bn=new mi(Lt,An),kr=tn?Bn.next.bind(Bn):Bn.prev.bind(Bn);Ds(ze,kr,Lt,{boundary:ee,cef:ee,text:function(Pr){tn?Ye.fOffset+=Pr.length:Ye.sOffset+=Pr.length,Ye.elements.push(Jt.fromDom(Pr))}})}},rs=function(ze,Ye,Lt,Kt,tn,An){An===void 0&&(An=!0);var Bn=new mi(Lt,Ye),kr=[],Pr=wo();Ms(ze,Pr,Lt,Ye,!1);var Zr=function(){return Pr.elements.length>0&&(kr.push(Pr),Pr=wo()),!1};return Ds(ze,Bn.next.bind(Bn),Lt,{boundary:Zr,cef:function(Ka){return Zr(),tn&&kr.push.apply(kr,tn.cef(Ka)),!1},text:function(Ka){Pr.elements.push(Jt.fromDom(Ka)),tn&&tn.text(Ka,Pr)}},Kt,An),Kt&&Ms(ze,Pr,Kt,Ye,!0),Zr(),kr},Zn=function(ze,Ye){var Lt=ia(Ye.startContainer,Ye.startOffset),Kt=Lt.element.dom,tn=ia(Ye.endContainer,Ye.endOffset),An=tn.element.dom;return rs(ze,Ye.commonAncestorContainer,Kt,An,{text:function(Bn,kr){Bn===An?kr.fOffset+=Bn.length-tn.offset:Bn===Kt&&(kr.sOffset+=Lt.offset)},cef:function(Bn){var kr=rt(_o(Jt.fromDom(Bn),"*[contenteditable=true]"),function(Pr){var Zr=Pr.dom;return rs(ze,Zr,Zr)});return We(kr,function(Pr,Zr){return Ga(Pr.elements[0].dom,Zr.elements[0].dom)?1:-1})}},!1)},ma=function(ze,Ye){return Ye.collapsed?[]:Zn(ze,Ye)},Pi=function(ze,Ye){var Lt=ze.createRng();return Lt.selectNode(Ye),ma(ze,Lt)},ou=function(ze,Ye){return rt(Ye,function(Lt){return Pi(ze,Lt)})},Mc=function(ze,Ye,Lt,Kt){Lt===void 0&&(Lt=0),Kt===void 0&&(Kt=ze.length);var tn=Ye.regex;tn.lastIndex=Lt;for(var An=[],Bn;Bn=tn.exec(ze);){var kr=Bn[Ye.matchIndex],Pr=Bn.index+Bn[0].indexOf(kr),Zr=Pr+kr.length;if(Zr>Kt)break;An.push({start:Pr,finish:Zr}),tn.lastIndex=Zr}return An},_a=function(ze,Ye){var Lt=He(ze,function(Kt,tn){var An=Ki(tn),Bn=Kt.last,kr=Bn+An.length,Pr=rt(Ye,function(Zr,Ka){return Zr.start<kr&&Zr.finish>Bn?[{element:tn,start:Math.max(Bn,Zr.start)-Bn,finish:Math.min(kr,Zr.finish)-Bn,matchId:Ka}]:[]});return{results:Kt.results.concat(Pr),last:kr}},{results:[],last:0}).results;return $e(Lt,function(Kt){return Kt.matchId})},Ur=function(ze,Ye){return rt(Ye,function(Lt){var Kt=Lt.elements,tn=Ue(Kt,Ki).join(""),An=Mc(tn,ze,Lt.sOffset,tn.length-Lt.fOffset);return _a(Kt,An)})},Uo=function(ze,Ye){Y(ze,function(Lt,Kt){Y(Lt,function(tn){var An=Jt.fromDom(Ye.cloneNode(!1));Vt(An,"data-mce-index",Kt);var Bn=tn.element.dom;if(Bn.length===tn.finish&&tn.start===0)ns(tn.element,An);else{Bn.length!==tn.finish&&Bn.splitText(tn.finish);var kr=Bn.splitText(tn.start);ns(Jt.fromDom(kr),An)}})})},_l=function(ze,Ye,Lt,Kt){var tn=Pi(ze,Lt),An=Ur(Ye,tn);return Uo(An,Kt),An.length},wl=function(ze,Ye,Lt,Kt){var tn=Lt.getBookmark(),An=ze.select("td[data-mce-selected],th[data-mce-selected]"),Bn=An.length>0?ou(ze,An):ma(ze,Lt.getRng()),kr=Ur(Ye,Bn);return Uo(kr,Kt),Lt.moveToBookmark(tn),kr.length},Mo=function(ze){var Ye=ze.getAttribute("data-mce-index");return typeof Ye=="number"?""+Ye:Ye},Ks=function(ze,Ye,Lt,Kt){var tn=ze.dom.create("span",{"data-mce-bogus":1});tn.className="mce-match-marker";var An=ze.getBody();return Wo(ze,Ye,!1),Kt?wl(ze.dom,Lt,ze.selection,tn):_l(ze.dom,Lt,An,tn)},zl=function(ze){var Ye=ze.parentNode;ze.firstChild&&Ye.insertBefore(ze.firstChild,ze),ze.parentNode.removeChild(ze)},Xs=function(ze,Ye){var Lt=[],Kt=K.toArray(ze.getBody().getElementsByTagName("span"));if(Kt.length)for(var tn=0;tn<Kt.length;tn++){var An=Mo(Kt[tn]);An===null||!An.length||An===Ye.toString()&&Lt.push(Kt[tn])}return Lt},Rs=function(ze,Ye,Lt){var Kt=Ye.get(),tn=Kt.index,An=ze.dom;Lt=Lt!==!1,Lt?tn+1===Kt.count?tn=0:tn++:tn-1===-1?tn=Kt.count-1:tn--,An.removeClass(Xs(ze,Kt.index),"mce-match-marker-selected");var Bn=Xs(ze,tn);return Bn.length?(An.addClass(Xs(ze,tn),"mce-match-marker-selected"),ze.selection.scrollIntoView(Bn[0]),tn):-1},Hl=function(ze,Ye){var Lt=Ye.parentNode;ze.remove(Ye),ze.isEmpty(Lt)&&ze.remove(Lt)},Da=function(ze,Ye){var Lt=ze.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]"),Kt="("+Lt+")";return Ye?"(?:^|\\s|"+lt()+")"+Kt+("(?=$|\\s|"+lt()+")"):Kt},su=function(ze,Ye,Lt,Kt,tn,An){var Bn=ze.selection,kr=Da(Lt,tn),Pr=Bn.isForward(),Zr={regex:new RegExp(kr,Kt?"g":"gi"),matchIndex:1},Ka=Ks(ze,Ye,Zr,An);if(at.browser.isSafari()&&Bn.setRng(Bn.getRng(),Pr),Ka){var wi=Rs(ze,Ye,!0);Ye.set({index:wi,count:Ka,text:Lt,matchCase:Kt,wholeWord:tn,inSelection:An})}return Ka},Kn=function(ze,Ye){var Lt=Rs(ze,Ye,!0);Ye.set(a(a({},Ye.get()),{index:Lt}))},ac=function(ze,Ye){var Lt=Rs(ze,Ye,!1);Ye.set(a(a({},Ye.get()),{index:Lt}))},Ps=function(ze){var Ye=Mo(ze);return Ye!==null&&Ye.length>0},uu=function(ze,Ye,Lt,Kt,tn){var An=Ye.get(),Bn=An.index,kr,Pr=Bn;Kt=Kt!==!1;for(var Zr=ze.getBody(),Ka=K.grep(K.toArray(Zr.getElementsByTagName("span")),Ps),wi=0;wi<Ka.length;wi++){var mo=Mo(Ka[wi]),Qt=kr=parseInt(mo,10);if(tn||Qt===An.index){for(Lt.length?(Ka[wi].firstChild.nodeValue=Lt,zl(Ka[wi])):Hl(ze.dom,Ka[wi]);Ka[++wi];)if(Qt=parseInt(Mo(Ka[wi]),10),Qt===kr)Hl(ze.dom,Ka[wi]);else{wi--;break}Kt&&Pr--}else kr>Bn&&Ka[wi].setAttribute("data-mce-index",String(kr-1))}return Ye.set(a(a({},An),{count:tn?0:An.count-1,index:Pr})),Kt?Kn(ze,Ye):ac(ze,Ye),!tn&&Ye.get().count>0},Wo=function(ze,Ye,Lt){for(var Kt,tn,An=Ye.get(),Bn=K.toArray(ze.getBody().getElementsByTagName("span")),kr=0;kr<Bn.length;kr++){var Pr=Mo(Bn[kr]);Pr!==null&&Pr.length&&(Pr===An.index.toString()&&(Kt||(Kt=Bn[kr].firstChild),tn=Bn[kr].firstChild),zl(Bn[kr]))}if(Ye.set(a(a({},An),{index:-1,count:0,text:""})),Kt&&tn){var Zr=ze.dom.createRng();return Zr.setStart(Kt,0),Zr.setEnd(tn,tn.data.length),Lt!==!1&&ze.selection.setRng(Zr),Zr}},Xu=function(ze,Ye){return Ye.get().count>1},rf=function(ze,Ye){return Ye.get().count>1},Eu=function(ze,Ye){var Lt=function(kr){return Wo(ze,Ye,kr)},Kt=function(kr,Pr,Zr,Ka){return Ka===void 0&&(Ka=!1),su(ze,Ye,kr,Pr,Zr,Ka)},tn=function(){return Kn(ze,Ye)},An=function(){return ac(ze,Ye)},Bn=function(kr,Pr,Zr){return uu(ze,Ye,kr,Pr,Zr)};return{done:Lt,find:Kt,next:tn,prev:An,replace:Bn}},Vl=function(ze){var Ye=i(Oe.none()),Lt=function(){return Ye.get().each(ze)},Kt=function(){Lt(),Ye.set(Oe.none())},tn=function(){return Ye.get().isSome()},An=function(){return Ye.get()},Bn=function(kr){Lt(),Ye.set(Oe.some(kr))};return{clear:Kt,isSet:tn,get:An,set:Bn}},as=function(){var ze=Vl(L),Ye=function(Lt){return ze.get().each(Lt)};return a(a({},ze),{on:Ye})},jo=function(ze,Ye){var Lt=as();ze.undoManager.add();var Kt=K.trim(ze.selection.getContent({format:"text"})),tn=function(Dr){var Ba=Xu(ze,Ye)?Dr.enable:Dr.disable;Ba("next");var Yo=rf(ze,Ye)?Dr.enable:Dr.disable;Yo("prev")},An=function(Dr){var Ba=Dr.getData(),Yo=Ye.get();Ye.set(a(a({},Yo),{matchCase:Ba.matchcase,wholeWord:Ba.wholewords,inSelection:Ba.inselection}))},Bn=function(Dr,Ba){var Yo=["replace","replaceall","prev","next"],lu=Ba?Dr.disable:Dr.enable;ue(Yo,lu)},kr=function(Dr){ze.windowManager.alert("Could not find the specified string.",function(){Dr.focus("findtext")})},Pr=function(Dr,Ba){at.browser.isSafari()&&at.deviceType.isTouch()&&(Ba==="find"||Ba==="replace"||Ba==="replaceall")&&Dr.focus(Ba)},Zr=function(Dr){Wo(ze,Ye,!1),Bn(Dr,!0),tn(Dr)},Ka=function(Dr){var Ba=Dr.getData(),Yo=Ye.get();if(!Ba.findtext.length){Zr(Dr);return}if(Yo.text===Ba.findtext&&Yo.matchCase===Ba.matchcase&&Yo.wholeWord===Ba.wholewords)Kn(ze,Ye);else{var lu=su(ze,Ye,Ba.findtext,Ba.matchcase,Ba.wholewords,Ba.inselection);lu<=0&&kr(Dr),Bn(Dr,lu===0)}tn(Dr)},wi=Ye.get(),mo={findtext:Kt,replacetext:"",wholewords:wi.wholeWord,matchcase:wi.matchCase,inselection:wi.inSelection},Qt={title:"Find and Replace",size:"normal",body:{type:"panel",items:[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",disabled:!0,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",disabled:!0,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}]},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",disabled:!0},{type:"custom",name:"replaceall",text:"Replace all",disabled:!0}],initialData:mo,onChange:function(Dr,Ba){Ba.name==="findtext"&&Ye.get().count>0&&Zr(Dr)},onAction:function(Dr,Ba){var Yo=Dr.getData();switch(Ba.name){case"find":Ka(Dr);break;case"replace":uu(ze,Ye,Yo.replacetext)?tn(Dr):Zr(Dr);break;case"replaceall":uu(ze,Ye,Yo.replacetext,!0,!0),Zr(Dr);break;case"prev":ac(ze,Ye),tn(Dr);break;case"next":Kn(ze,Ye),tn(Dr);break;case"matchcase":case"wholewords":case"inselection":An(Dr),Zr(Dr);break}Pr(Dr,Ba.name)},onSubmit:function(Dr){Ka(Dr),Pr(Dr,"find")},onClose:function(){ze.focus(),Wo(ze,Ye),ze.undoManager.add()}};Lt.set(ze.windowManager.open(Qt,{inline:"toolbar"}))},vn=function(ze,Ye){ze.addCommand("SearchReplace",function(){jo(ze,Ye)})},ic=function(ze,Ye){return function(){jo(ze,Ye)}},Rc=function(ze,Ye){ze.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:ic(ze,Ye),icon:"search"}),ze.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:ic(ze,Ye),icon:"search"}),ze.shortcuts.add("Meta+F","",ic(ze,Ye))};function oc(){t.add("searchreplace",function(ze){var Ye=i({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return vn(ze,Ye),Rc(ze,Ye),Eu(ze,Ye)})}oc()})();(function(){var i=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(Qe,st){return Qe.fire("insertCustomChar",{chr:st})},a=function(Qe,st){var vt=t(Qe,st).chr;Qe.execCommand("mceInsertContent",!1,vt)},u=function(Qe){var st=typeof Qe;return Qe===null?"null":st==="object"&&(Array.prototype.isPrototypeOf(Qe)||Qe.constructor&&Qe.constructor.name==="Array")?"array":st==="object"&&(String.prototype.isPrototypeOf(Qe)||Qe.constructor&&Qe.constructor.name==="String")?"string":st},c=function(Qe){return function(st){return u(st)===Qe}},m=function(Qe){return function(st){return Qe===st}},p=c("array"),x=m(null),k=function(){},D=function(Qe){return function(){return Qe}},L=function(Qe){return Qe},V=D(!1),q=D(!0),ie=function(){return ee},ee=function(){var Qe=function(Jt){return Jt()},st=L,vt={fold:function(Jt,zn){return Jt()},isSome:V,isNone:q,getOr:st,getOrThunk:Qe,getOrDie:function(Jt){throw new Error(Jt||"error: getOrDie called on none.")},getOrNull:D(null),getOrUndefined:D(void 0),or:st,orThunk:Qe,map:ie,each:k,bind:ie,exists:V,forall:q,filter:function(){return ie()},toArray:function(){return[]},toString:D("none()")};return vt}(),se=function(Qe){var st=D(Qe),vt=function(){return zn},Jt=function(pn){return pn(Qe)},zn={fold:function(pn,Er){return Er(Qe)},isSome:q,isNone:V,getOr:st,getOrThunk:st,getOrDie:st,getOrNull:st,getOrUndefined:st,or:vt,orThunk:vt,map:function(pn){return se(pn(Qe))},each:function(pn){pn(Qe)},bind:Jt,exists:Jt,forall:Jt,filter:function(pn){return pn(Qe)?zn:ee},toArray:function(){return[Qe]},toString:function(){return"some("+Qe+")"}};return zn},Te=function(Qe){return Qe==null?ee:se(Qe)},_e={some:se,none:ie,from:Te},be=Array.prototype.push,le=function(Qe,st){for(var vt=Qe.length,Jt=new Array(vt),zn=0;zn<vt;zn++){var pn=Qe[zn];Jt[zn]=st(pn,zn)}return Jt},Pe=function(Qe,st){for(var vt=0,Jt=Qe.length;vt<Jt;vt++){var zn=Qe[vt];st(zn,vt)}},Oe=function(Qe,st,vt){for(var Jt=0,zn=Qe.length;Jt<zn;Jt++){var pn=Qe[Jt];if(st(pn,Jt))return _e.some(pn);if(vt(pn,Jt))break}return _e.none()},lt=function(Qe,st){return Oe(Qe,st,V)},at=function(Qe){for(var st=[],vt=0,Jt=Qe.length;vt<Jt;++vt){if(!p(Qe[vt]))throw new Error("Arr.flatten item "+vt+" was not an array, input: "+Qe);be.apply(st,Qe[vt])}return st},K=function(Qe,st){return at(le(Qe,st))},de=tinymce.util.Tools.resolve("tinymce.util.Tools"),ve=function(Qe){return Qe.getParam("charmap")},Ue=function(Qe){return Qe.getParam("charmap_append")},ue=de.isArray,Y="User Defined",$e=function(){return[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}]},He=function(Qe){return de.grep(Qe,function(st){return ue(st)&&st.length===2})},Ce=function(Qe){return ue(Qe)?He(Qe):typeof Qe=="function"?Qe():[]},rt=function(Qe,st){var vt=ve(Qe);vt&&(st=[{name:Y,characters:Ce(vt)}]);var Jt=Ue(Qe);if(Jt){var zn=de.grep(st,function(pn){return pn.name===Y});return zn.length?(zn[0].characters=[].concat(zn[0].characters).concat(Ce(Jt)),st):st.concat({name:Y,characters:Ce(Jt)})}return st},We=function(Qe){var st=rt(Qe,$e());return st.length>1?[{name:"All",characters:K(st,function(vt){return vt.characters})}].concat(st):st},z=function(Qe){var st=function(){return We(Qe)},vt=function(Jt){a(Qe,Jt)};return{getCharMap:st,insertChar:vt}},ln=function(Qe){var st=Qe,vt=function(){return st},Jt=function(zn){st=zn};return{get:vt,set:Jt}},dt=function(Qe,st){var vt=null,Jt=function(){x(vt)||(clearTimeout(vt),vt=null)},zn=function(){for(var pn=[],Er=0;Er<arguments.length;Er++)pn[Er]=arguments[Er];Jt(),vt=setTimeout(function(){vt=null,Qe.apply(null,pn)},st)};return{cancel:Jt,throttle:zn}},Dt=String.fromCodePoint,mr=function(Qe,st){return Qe.indexOf(st)!==-1},Kr=function(){for(var Qe=[],st=0;st<arguments.length;st++)Qe[st]=arguments[st];if(Dt)return Dt.apply(void 0,Qe);for(var vt=[],Jt=0,zn="",pn=0,Er=Qe.length;pn!==Er;++pn){var xr=+Qe[pn];if(!(xr<1114111&&xr>>>0===xr))throw RangeError("Invalid code point: "+xr);xr<=65535?Jt=vt.push(xr):(xr-=65536,Jt=vt.push((xr>>10)+55296,xr%1024+56320)),Jt>=16383&&(zn+=String.fromCharCode.apply(null,vt),vt.length=0)}return zn+String.fromCharCode.apply(null,vt)},_n=function(Qe,st,vt){return mr(Kr(Qe).toLowerCase(),vt)?!0:mr(st.toLowerCase(),vt)||mr(st.toLowerCase().replace(/\s+/g,""),vt)},Gn=function(Qe,st){var vt=[],Jt=st.toLowerCase();return Pe(Qe.characters,function(zn){_n(zn[0],zn[1],Jt)&&vt.push(zn)}),le(vt,function(zn){return{text:zn[1],value:Kr(zn[0]),icon:Kr(zn[0])}})},Ee="pattern",qa=function(Qe,st){var vt=function(){return[{label:"Search",type:"input",name:Ee},{type:"collection",name:"results"}]},Jt=function(){return le(st,function(Oa){return{title:Oa.name,name:Oa.name,items:vt()}})},zn=function(){return{type:"panel",items:vt()}},pn=function(){return{type:"tabpanel",tabs:Jt()}},Er=st.length===1?ln(Y):ln("All"),xr=function(Oa,Ki){lt(st,function(_o){return _o.name===Er.get()}).each(function(_o){var mi=Gn(_o,Ki);Oa.setData({results:mi})})},Un=40,ba=dt(function(Oa){var Ki=Oa.getData().pattern;xr(Oa,Ki)},Un),ho=st.length===1?zn():pn(),ts={pattern:"",results:Gn(st[0],"")},ns={title:"Special Character",size:"normal",body:ho,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:ts,onAction:function(Oa,Ki){Ki.name==="results"&&(a(Qe,Ki.value),Oa.close())},onTabChange:function(Oa,Ki){Er.set(Ki.newTabName),ba.throttle(Oa)},onChange:function(Oa,Ki){Ki.name===Ee&&ba.throttle(Oa)}},yo=Qe.windowManager.open(ns);yo.focus(Ee)},Vt=function(Qe,st){Qe.addCommand("mceShowCharmap",function(){qa(Qe,st)})},xn=tinymce.util.Tools.resolve("tinymce.util.Promise"),Ga=function(Qe,st){Qe.ui.registry.addAutocompleter("charmap",{ch:":",columns:"auto",minChars:2,fetch:function(vt,Jt){return new xn(function(zn,pn){zn(Gn(st,vt))})},onAction:function(vt,Jt,zn){Qe.selection.setRng(Jt),Qe.insertContent(zn),vt.hide()}})},jt=function(Qe){Qe.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:function(){return Qe.execCommand("mceShowCharmap")}}),Qe.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:function(){return Qe.execCommand("mceShowCharmap")}})};function kt(){i.add("charmap",function(Qe){var st=We(Qe);return Vt(Qe,st),jt(Qe),Ga(Qe,st[0]),z(Qe)})}kt()})();(function(){var i=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(K,de,ve){return de===""||K.length>=de.length&&K.substr(ve,ve+de.length)===de},a=function(K,de){return K.indexOf(de)!==-1},u=function(K,de){return t(K,de,0)},c=tinymce.util.Tools.resolve("tinymce.Env"),m=function(){return/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g},p=new RegExp("^"+m().source+"$","i"),x=function(K){return K.getParam("autolink_pattern",p)},k=function(K){return K.getParam("default_link_target",!1)},D=function(K){return K.getParam("link_default_protocol","http","string")},L=function(K){return/^[(\[{ \u00a0]$/.test(K)},V=function(K){return K.nodeType===3},q=function(K){return K.nodeType===1},ie=function(K){return Oe(K,-1)},ee=function(K){return Oe(K,0)},se=function(K){return Oe(K,-1)},Te=function(K,de){if(de<0&&(de=0),V(K)){var ve=K.data.length;de>ve&&(de=ve)}return de},_e=function(K,de,ve){!q(de)||de.hasChildNodes()?K.setStart(de,Te(de,ve)):K.setStartBefore(de)},be=function(K,de,ve){!q(de)||de.hasChildNodes()?K.setEnd(de,Te(de,ve)):K.setEndAfter(de)},le=function(K){return/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(K)},Pe=function(K){return/[?!,.;:]/.test(K)},Oe=function(K,de){var ve,Ue,ue,Y,$e,He,Ce,rt=x(K),We=k(K);if(K.dom.getParent(K.selection.getNode(),"a[href]")===null){var z=K.selection.getRng().cloneRange();if(z.startOffset<5){if($e=z.endContainer.previousSibling,!$e){if(!z.endContainer.firstChild||!z.endContainer.firstChild.nextSibling)return;$e=z.endContainer.firstChild.nextSibling}if(He=$e.length,_e(z,$e,He),be(z,$e,He),z.endOffset<5)return;ve=z.endOffset,Ue=$e}else{if(Ue=z.endContainer,!V(Ue)&&Ue.firstChild){for(;!V(Ue)&&Ue.firstChild;)Ue=Ue.firstChild;V(Ue)&&(_e(z,Ue,0),be(z,Ue,Ue.nodeValue.length))}z.endOffset===1?ve=2:ve=z.endOffset-1-de}var ln=ve;do _e(z,Ue,ve>=2?ve-2:0),be(z,Ue,ve>=1?ve-1:0),ve-=1,Ce=z.toString();while(!L(Ce)&&ve-2>=0);L(z.toString())?(_e(z,Ue,ve),be(z,Ue,ln),ve+=1):z.startOffset===0?(_e(z,Ue,0),be(z,Ue,ln)):(_e(z,Ue,ve),be(z,Ue,ln)),Y=z.toString(),Pe(Y.charAt(Y.length-1))&&be(z,Ue,ln-1),Y=z.toString().trim();var dt=Y.match(rt),Dt=D(K);if(dt){var mr=dt[0];u(mr,"www.")?mr=Dt+"://"+mr:a(mr,"@")&&!le(mr)&&(mr="mailto:"+mr),ue=K.selection.getBookmark(),K.selection.setRng(z),K.execCommand("createlink",!1,mr),We!==!1&&K.dom.setAttrib(K.selection.getNode(),"target",We),K.selection.moveToBookmark(ue),K.nodeChanged()}}},lt=function(K){var de;if(K.on("keydown",function(ve){if(ve.keyCode===13)return se(K)}),c.browser.isIE()){K.on("focus",function(){if(!de){de=!0;try{K.execCommand("AutoUrlDetect",!1,!0)}catch{}}});return}K.on("keypress",function(ve){if(ve.keyCode===41||ve.keyCode===93||ve.keyCode===125)return ie(K)}),K.on("keyup",function(ve){if(ve.keyCode===32)return ee(K)})};function at(){i.add("autolink",function(K){lt(K)})}at()})();(function(){var i=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(x,k){x.focus(),x.undoManager.transact(function(){x.setContent(k)}),x.selection.setCursorLocation(),x.nodeChanged()},a=function(x){return x.getContent({source_view:!0})},u=function(x){var k=a(x);x.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:k},onSubmit:function(D){t(x,D.getData().code),D.close()}})},c=function(x){x.addCommand("mceCodeEditor",function(){u(x)})},m=function(x){var k=function(){return x.execCommand("mceCodeEditor")};x.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:k}),x.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:k})};function p(){i.add("code",function(x){return c(x),m(x),{}})}p()})();(function(){var i=function(d){var g=typeof d;return d===null?"null":g==="object"&&(Array.prototype.isPrototypeOf(d)||d.constructor&&d.constructor.name==="Array")?"array":g==="object"&&(String.prototype.isPrototypeOf(d)||d.constructor&&d.constructor.name==="String")?"string":g},t=function(d){return function(g){return i(g)===d}},a=function(d){return function(g){return typeof g===d}},u=function(d){return function(g){return d===g}},c=t("string"),m=t("object"),p=t("array"),x=u(null),k=a("boolean"),D=u(void 0),L=function(d){return d==null},V=function(d){return!L(d)},q=a("function"),ie=a("number"),ee=function(){},se=function(d,g){return function(){for(var w=[],T=0;T<arguments.length;T++)w[T]=arguments[T];return d(g.apply(null,w))}},Te=function(d,g){return function(w){return d(g(w))}},_e=function(d){return function(){return d}},be=function(d){return d},le=function(d,g){return d===g};function Pe(d){for(var g=[],w=1;w<arguments.length;w++)g[w-1]=arguments[w];return function(){for(var T=[],M=0;M<arguments.length;M++)T[M]=arguments[M];var F=g.concat(T);return d.apply(null,F)}}var Oe=function(d){return function(g){return!d(g)}},lt=function(d){return function(){throw new Error(d)}},at=_e(!1),K=_e(!0),de=function(){return ve},ve=function(){var d=function(T){return T()},g=be,w={fold:function(T,M){return T()},isSome:at,isNone:K,getOr:g,getOrThunk:d,getOrDie:function(T){throw new Error(T||"error: getOrDie called on none.")},getOrNull:_e(null),getOrUndefined:_e(void 0),or:g,orThunk:d,map:de,each:ee,bind:de,exists:at,forall:K,filter:function(){return de()},toArray:function(){return[]},toString:_e("none()")};return w}(),Ue=function(d){var g=_e(d),w=function(){return M},T=function(F){return F(d)},M={fold:function(F,j){return j(d)},isSome:K,isNone:at,getOr:g,getOrThunk:g,getOrDie:g,getOrNull:g,getOrUndefined:g,or:w,orThunk:w,map:function(F){return Ue(F(d))},each:function(F){F(d)},bind:T,exists:T,forall:T,filter:function(F){return F(d)?M:ve},toArray:function(){return[d]},toString:function(){return"some("+d+")"}};return M},ue=function(d){return d==null?ve:Ue(d)},Y={some:Ue,none:de,from:ue},$e=Array.prototype.slice,He=Array.prototype.indexOf,Ce=Array.prototype.push,rt=function(d,g){return He.call(d,g)},We=function(d,g){return rt(d,g)>-1},z=function(d,g){for(var w=0,T=d.length;w<T;w++){var M=d[w];if(g(M,w))return!0}return!1},ln=function(d,g){for(var w=[],T=0;T<d;T++)w.push(g(T));return w},dt=function(d,g){for(var w=d.length,T=new Array(w),M=0;M<w;M++){var F=d[M];T[M]=g(F,M)}return T},Dt=function(d,g){for(var w=0,T=d.length;w<T;w++){var M=d[w];g(M,w)}},mr=function(d,g){for(var w=d.length-1;w>=0;w--){var T=d[w];g(T,w)}},Kr=function(d,g){for(var w=[],T=[],M=0,F=d.length;M<F;M++){var j=d[M],te=g(j,M)?w:T;te.push(j)}return{pass:w,fail:T}},_n=function(d,g){for(var w=[],T=0,M=d.length;T<M;T++){var F=d[T];g(F,T)&&w.push(F)}return w},Gn=function(d,g,w){return mr(d,function(T,M){w=g(w,T,M)}),w},Ee=function(d,g,w){return Dt(d,function(T,M){w=g(w,T,M)}),w},qa=function(d,g,w){for(var T=0,M=d.length;T<M;T++){var F=d[T];if(g(F,T))return Y.some(F);if(w(F,T))break}return Y.none()},Vt=function(d,g){return qa(d,g,at)},xn=function(d,g){for(var w=0,T=d.length;w<T;w++){var M=d[w];if(g(M,w))return Y.some(w)}return Y.none()},Ga=function(d){for(var g=[],w=0,T=d.length;w<T;++w){if(!p(d[w]))throw new Error("Arr.flatten item "+w+" was not an array, input: "+d);Ce.apply(g,d[w])}return g},jt=function(d,g){return Ga(dt(d,g))},kt=function(d,g){for(var w=0,T=d.length;w<T;++w){var M=d[w];if(g(M,w)!==!0)return!1}return!0},Qe=function(d){var g=$e.call(d,0);return g.reverse(),g},st=function(d,g){for(var w={},T=0,M=d.length;T<M;T++){var F=d[T];w[String(F)]=g(F,T)}return w},vt=function(d){return[d]},Jt=function(d,g){var w=$e.call(d,0);return w.sort(g),w},zn=function(d,g){return g>=0&&g<d.length?Y.some(d[g]):Y.none()},pn=function(d){return zn(d,0)},Er=function(d){return zn(d,d.length-1)},xr=function(d,g){for(var w=0;w<d.length;w++){var T=g(d[w],w);if(T.isSome())return T}return Y.none()},Un=function(){return Un=Object.assign||function(g){for(var w,T=1,M=arguments.length;T<M;T++){w=arguments[T];for(var F in w)Object.prototype.hasOwnProperty.call(w,F)&&(g[F]=w[F])}return g},Un.apply(this,arguments)};function ba(d,g,w){if(w||arguments.length===2)for(var T=0,M=g.length,F;T<M;T++)(F||!(T in g))&&(F||(F=Array.prototype.slice.call(g,0,T)),F[T]=g[T]);return d.concat(F||Array.prototype.slice.call(g))}var ho=function(d){var g=!1,w;return function(){for(var T=[],M=0;M<arguments.length;M++)T[M]=arguments[M];return g||(g=!0,w=d.apply(null,T)),w}},ts=function(d,g,w,T){var M=d.isiOS()&&/ipad/i.test(w)===!0,F=d.isiOS()&&!M,j=d.isiOS()||d.isAndroid(),te=j||T("(pointer:coarse)"),ye=M||!F&&j&&T("(min-device-width:768px)"),Me=F||j&&!ye,Xe=g.isSafari()&&d.isiOS()&&/safari/i.test(w)===!1,At=!Me&&!ye&&!Xe;return{isiPad:_e(M),isiPhone:_e(F),isTablet:_e(ye),isPhone:_e(Me),isTouch:_e(te),isAndroid:d.isAndroid,isiOS:d.isiOS,isWebView:_e(Xe),isDesktop:_e(At)}},ns=function(d,g){for(var w=0;w<d.length;w++){var T=d[w];if(T.test(g))return T}},yo=function(d,g){var w=ns(d,g);if(!w)return{major:0,minor:0};var T=function(M){return Number(g.replace(w,"$"+M))};return _o(T(1),T(2))},Oa=function(d,g){var w=String(g).toLowerCase();return d.length===0?Ki():yo(d,w)},Ki=function(){return _o(0,0)},_o=function(d,g){return{major:d,minor:g}},mi={nu:_o,detect:Oa,unknown:Ki},ii=function(d,g){return xr(g.brands,function(w){var T=w.brand.toLowerCase();return Vt(d,function(M){var F;return T===((F=M.brand)===null||F===void 0?void 0:F.toLowerCase())}).map(function(M){return{current:M.name,version:mi.nu(parseInt(w.version,10),0)}})})},Xi=function(d,g){var w=String(g).toLowerCase();return Vt(d,function(T){return T.search(w)})},oi=function(d,g){return Xi(d,g).map(function(w){var T=mi.detect(w.versionRegexes,g);return{current:w.name,version:T}})},ya=function(d,g){return Xi(d,g).map(function(w){var T=mi.detect(w.versionRegexes,g);return{current:w.name,version:T}})},Vo=function(d,g){return d.substring(g)},Os=function(d,g,w){return g===""||d.length>=g.length&&d.substr(w,w+g.length)===g},wo=function(d,g){return Ds(d,g)?Vo(d,g.length):d},ia=function(d,g){return d.indexOf(g)!==-1},Ds=function(d,g){return Os(d,g,0)},Ms=function(d,g){return Os(d,g,d.length-g.length)},rs=function(d){return function(g){return g.replace(d,"")}},Zn=rs(/^\s+|\s+$/g),ma=function(d){return d.length>0},Pi=function(d){return!ma(d)},ou=function(d){var g=parseFloat(d);return isNaN(g)?Y.none():Y.some(g)},Mc=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,_a=function(d){return function(g){return ia(g,d)}},Ur=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(d){return ia(d,"edge/")&&ia(d,"chrome")&&ia(d,"safari")&&ia(d,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Mc],search:function(d){return ia(d,"chrome")&&!ia(d,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(d){return ia(d,"msie")||ia(d,"trident")}},{name:"Opera",versionRegexes:[Mc,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:_a("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:_a("firefox")},{name:"Safari",versionRegexes:[Mc,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(d){return(ia(d,"safari")||ia(d,"mobile/"))&&ia(d,"applewebkit")}}],Uo=[{name:"Windows",search:_a("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(d){return ia(d,"iphone")||ia(d,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:_a("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:_a("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:_a("linux"),versionRegexes:[]},{name:"Solaris",search:_a("sunos"),versionRegexes:[]},{name:"FreeBSD",search:_a("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:_a("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],_l={browsers:_e(Ur),oses:_e(Uo)},wl="Edge",Mo="Chrome",Ks="IE",zl="Opera",Xs="Firefox",Rs="Safari",Hl=function(){return Da({current:void 0,version:mi.unknown()})},Da=function(d){var g=d.current,w=d.version,T=function(M){return function(){return g===M}};return{current:g,version:w,isEdge:T(wl),isChrome:T(Mo),isIE:T(Ks),isOpera:T(zl),isFirefox:T(Xs),isSafari:T(Rs)}},su={unknown:Hl,nu:Da,edge:_e(wl),chrome:_e(Mo),ie:_e(Ks),opera:_e(zl),firefox:_e(Xs),safari:_e(Rs)},Kn="Windows",ac="iOS",Ps="Android",uu="Linux",Wo="OSX",Xu="Solaris",rf="FreeBSD",Eu="ChromeOS",Vl=function(){return as({current:void 0,version:mi.unknown()})},as=function(d){var g=d.current,w=d.version,T=function(M){return function(){return g===M}};return{current:g,version:w,isWindows:T(Kn),isiOS:T(ac),isAndroid:T(Ps),isOSX:T(Wo),isLinux:T(uu),isSolaris:T(Xu),isFreeBSD:T(rf),isChromeOS:T(Eu)}},jo={unknown:Vl,nu:as,windows:_e(Kn),ios:_e(ac),android:_e(Ps),linux:_e(uu),osx:_e(Wo),solaris:_e(Xu),freebsd:_e(rf),chromeos:_e(Eu)},vn=function(d,g,w){var T=_l.browsers(),M=_l.oses(),F=g.bind(function(ye){return ii(T,ye)}).orThunk(function(){return oi(T,d)}).fold(su.unknown,su.nu),j=ya(M,d).fold(jo.unknown,jo.nu),te=ts(j,F,d,w);return{browser:F,os:j,deviceType:te}},ic={detect:vn},Rc=function(d){return window.matchMedia(d).matches},oc=ho(function(){return ic.detect(navigator.userAgent,Y.from(navigator.userAgentData),Rc)}),ze=function(){return oc()},Ye=function(d,g,w){return(d.compareDocumentPosition(g)&w)!==0},Lt=function(d,g){return Ye(d,g,Node.DOCUMENT_POSITION_CONTAINED_BY)},Kt=8,tn=9,An=11,Bn=1,kr=3,Pr=function(d,g){var w=g||document,T=w.createElement("div");if(T.innerHTML=d,!T.hasChildNodes()||T.childNodes.length>1)throw console.error("HTML does not have a single root node",d),new Error("HTML must have a single root node");return wi(T.childNodes[0])},Zr=function(d,g){var w=g||document,T=w.createElement(d);return wi(T)},Ka=function(d,g){var w=g||document,T=w.createTextNode(d);return wi(T)},wi=function(d){if(d==null)throw new Error("Node cannot be null or undefined");return{dom:d}},mo=function(d,g,w){return Y.from(d.dom.elementFromPoint(g,w)).map(wi)},Qt={fromHtml:Pr,fromTag:Zr,fromText:Ka,fromDom:wi,fromPoint:mo},Dr=function(d,g){var w=d.dom;if(w.nodeType!==Bn)return!1;var T=w;if(T.matches!==void 0)return T.matches(g);if(T.msMatchesSelector!==void 0)return T.msMatchesSelector(g);if(T.webkitMatchesSelector!==void 0)return T.webkitMatchesSelector(g);if(T.mozMatchesSelector!==void 0)return T.mozMatchesSelector(g);throw new Error("Browser lacks native selectors")},Ba=function(d){return d.nodeType!==Bn&&d.nodeType!==tn&&d.nodeType!==An||d.childElementCount===0},Yo=function(d,g){var w=g===void 0?document:g.dom;return Ba(w)?[]:dt(w.querySelectorAll(d),Qt.fromDom)},lu=function(d,g){var w=g===void 0?document:g.dom;return Ba(w)?Y.none():Y.from(w.querySelector(d)).map(Qt.fromDom)},sa=function(d,g){return d.dom===g.dom},af=function(d,g){var w=d.dom,T=g.dom;return w===T?!1:w.contains(T)},Zu=function(d,g){return Lt(d.dom,g.dom)},Ii=function(d,g){return ze().browser.isIE()?Zu(d,g):af(d,g)},Ju=Dr,Is=Object.keys,Zs=Object.hasOwnProperty,fi=function(d,g){for(var w=Is(d),T=0,M=w.length;T<M;T++){var F=w[T],j=d[F];g(j,F)}},Pc=function(d,g){return sc(d,function(w,T){return{k:T,v:g(w,T)}})},sc=function(d,g){var w={};return fi(d,function(T,M){var F=g(T,M);w[F.k]=F.v}),w},uc=function(d){return function(g,w){d[w]=g}},of=function(d,g,w,T){var M={};return fi(d,function(F,j){(g(F,j)?w:T)(F,j)}),M},Qu=function(d,g){var w={};return of(d,g,uc(w),ee),w},xl=function(d,g){var w=[];return fi(d,function(T,M){w.push(g(T,M))}),w},kf=function(d){return xl(d,be)},ku=function(d){return Is(d).length},cu=function(d,g){return me(d,g)?Y.from(d[g]):Y.none()},me=function(d,g){return Zs.call(d,g)},qe=function(d,g){return me(d,g)&&d[g]!==void 0&&d[g]!==null},ct=function(d){for(var g in d)if(Zs.call(d,g))return!1;return!0},Mt=["tfoot","thead","tbody","colgroup"],sn=function(d){return We(Mt,d)},qn=function(d,g){return{rows:d,columns:g}},Ma=function(d,g){return{row:d,column:g}},Xa=function(d,g,w){return{element:d,rowspan:g,colspan:w}},Wr=function(d,g,w,T){return{element:d,rowspan:g,colspan:w,isNew:T}},Vr=function(d,g,w,T,M,F){return{element:d,rowspan:g,colspan:w,row:T,column:M,isLocked:F}},jr=function(d,g,w){return{element:d,cells:g,section:w}},lc=function(d,g,w,T){return{element:d,cells:g,section:w,isNew:T}},is=function(d,g,w){return{element:d,isNew:g,isLocked:w}},Ul=function(d,g,w,T){return{element:d,cells:g,section:w,isNew:T}},rr=function(d,g,w,T){return{startRow:d,startCol:g,finishRow:w,finishCol:T}},Qf=function(d,g,w){return{element:d,colspan:g,column:w}},vv=function(d,g){return{element:d,columns:g}};typeof window<"u"||Function("return this;")();var wa=function(d){var g=d.dom.nodeName;return g.toLowerCase()},hv=function(d){return d.dom.nodeType},Ro=function(d){return function(g){return hv(g)===d}},Td=function(d){return hv(d)===Kt||wa(d)==="#comment"},Ra=Ro(Bn),Tu=Ro(kr),mv=Ro(tn),xo=Ro(An),Qi=function(d){return function(g){return Ra(g)&&wa(g)===d}},Ic=function(d){return Qt.fromDom(d.dom.ownerDocument)},Tt=function(d){return mv(d)?d:Ic(d)},Tf=function(d){return Qt.fromDom(Tt(d).dom.defaultView)},eo=function(d){return Y.from(d.dom.parentNode).map(Qt.fromDom)},gv=function(d){return Y.from(d.dom.parentElement).map(Qt.fromDom)},Po=function(d,g){for(var w=q(g)?g:at,T=d.dom,M=[];T.parentNode!==null&&T.parentNode!==void 0;){var F=T.parentNode,j=Qt.fromDom(F);if(M.push(j),w(j)===!0)break;T=F}return M},J=function(d){return Y.from(d.dom.previousSibling).map(Qt.fromDom)},Z=function(d){return Y.from(d.dom.nextSibling).map(Qt.fromDom)},N=function(d){return dt(d.dom.childNodes,Qt.fromDom)},oe=function(d,g){var w=d.dom.childNodes;return Y.from(w[g]).map(Qt.fromDom)},Le=function(d){return oe(d,0)},Ge=function(d){return xo(d)&&V(d.dom.host)},wt=q(Element.prototype.attachShadow)&&q(Node.prototype.getRootNode),Ut=_e(wt),ar=wt?function(d){return Qt.fromDom(d.dom.getRootNode())}:Tt,Cr=function(d){var g=ar(d);return Ge(g)?Y.some(g):Y.none()},On=function(d){return Qt.fromDom(d.dom.host)},sr=function(d){if(Ut()&&V(d.target)){var g=Qt.fromDom(d.target);if(Ra(g)&&Xr(g)&&d.composed&&d.composedPath){var w=d.composedPath();if(w)return pn(w)}}return Y.from(d.target)},Xr=function(d){return V(d.dom.shadowRoot)},Qr=function(d){var g=Tu(d)?d.dom.parentNode:d.dom;if(g==null||g.ownerDocument===null)return!1;var w=g.ownerDocument;return Cr(Qt.fromDom(g)).fold(function(){return w.body.contains(g)},Te(Qr,On))},yr=function(){return Bi(Qt.fromDom(document))},Bi=function(d){var g=d.dom.body;if(g==null)throw new Error("Body is not available yet");return Qt.fromDom(g)},lr=function(d,g,w){return _n(Po(d,w),g)},La=function(d,g){return _n(N(d),g)},Di=function(d,g){var w=[];return Dt(N(d),function(T){g(T)&&(w=w.concat([T])),w=w.concat(Di(T,g))}),w},Au=function(d,g,w){return lr(d,function(T){return Dr(T,g)},w)},$r=function(d,g){return La(d,function(w){return Dr(w,g)})},Cl=function(d,g){return Yo(g,d)};function Li(d,g,w,T,M){return d(w,T)?Y.some(w):q(M)&&M(w)?Y.none():g(w,T,M)}var to=function(d,g,w){for(var T=d.dom,M=q(w)?w:at;T.parentNode;){T=T.parentNode;var F=Qt.fromDom(T);if(g(F))return Y.some(F);if(M(F))break}return Y.none()},t1=function(d,g,w){var T=function(M,F){return F(M)};return Li(T,to,d,g,w)},gs=function(d,g){var w=function(M){return g(Qt.fromDom(M))},T=Vt(d.dom.childNodes,w);return T.map(Qt.fromDom)},lm=function(d,g){var w=function(T){for(var M=0;M<T.childNodes.length;M++){var F=Qt.fromDom(T.childNodes[M]);if(g(F))return Y.some(F);var j=w(T.childNodes[M]);if(j.isSome())return j}return Y.none()};return w(d.dom)},Af=function(d,g,w){return to(d,function(T){return Dr(T,g)},w)},_r=function(d,g){return gs(d,function(w){return Dr(w,g)})},Co=function(d,g){return lu(g,d)},no=function(d,g,w){var T=function(M,F){return Dr(M,F)};return Li(T,Af,d,g,w)},Vi=function(d,g,w){if(c(w)||k(w)||ie(w))d.setAttribute(g,w+"");else throw console.error("Invalid call to Attribute.set. Key ",g,":: Value ",w,":: Element ",d),new Error("Attribute value was not simple")},os=function(d,g,w){Vi(d.dom,g,w)},Io=function(d,g){var w=d.dom;fi(g,function(T,M){Vi(w,M,T)})},pv=function(d,g){fi(g,function(w,T){w.fold(function(){Fi(d,T)},function(M){Vi(d.dom,T,M)})})},Bc=function(d,g){var w=d.dom.getAttribute(g);return w===null?void 0:w},Na=function(d,g){return Y.from(Bc(d,g))},Fi=function(d,g){d.dom.removeAttribute(g)},el=function(d){return Ee(d.dom.attributes,function(g,w){return g[w.name]=w.value,g},{})},Wl=function(d,g,w){return w===void 0&&(w=le),d.exists(function(T){return w(T,g)})},ss=function(d){for(var g=[],w=function(M){g.push(M)},T=0;T<d.length;T++)d[T].each(w);return g},cc=function(d,g,w){return d.isSome()&&g.isSome()?Y.some(w(d.getOrDie(),g.getOrDie())):Y.none()},hg=function(d,g){return d!=null?g(d):Y.none()},Ad=function(d){return d.bind(be)},$a=function(d,g){return d?Y.some(g):Y.none()},jl=function(d){return d.style!==void 0&&q(d.style.getPropertyValue)},Od=function(d,g,w){if(!c(w))throw console.error("Invalid call to CSS.set. Property ",g,":: Value ",w,":: Element ",d),new Error("CSS value must be a string: "+w);jl(d)&&d.style.setProperty(g,w)},Sl=function(d,g){jl(d)&&d.style.removeProperty(g)},So=function(d,g,w){var T=d.dom;Od(T,g,w)},fc=function(d,g){var w=d.dom;fi(g,function(T,M){Od(w,M,T)})},Js=function(d,g){var w=d.dom,T=window.getComputedStyle(w),M=T.getPropertyValue(g);return M===""&&!Qr(d)?fu(w,g):M},fu=function(d,g){return jl(d)?d.style.getPropertyValue(g):""},El=function(d,g){var w=d.dom,T=fu(w,g);return Y.from(T).filter(function(M){return M.length>0})},du=function(d,g){var w=d.dom;Sl(w,g),Wl(Na(d,"style").map(Zn),"")&&Fi(d,"style")},uh=function(d,g){var w=d.dom,T=g.dom;jl(w)&&jl(T)&&(T.style.cssText=w.style.cssText)},sf=function(d,g,w){return w===void 0&&(w=0),Na(d,g).map(function(T){return parseInt(T,10)}).getOr(w)},ps=function(d,g){return sf(d,g,1)},Of=function(d){return Qi("col")(d)?sf(d,"span",1)>1:ps(d,"colspan")>1},pt=function(d){return ps(d,"rowspan")>1},rn=function(d,g){return parseInt(Js(d,g),10)},Ft=_e(10),Nn=_e(10),oa=function(d,g){return si(d,g,K)},si=function(d,g,w){return jt(N(d),function(T){return Dr(T,g)?w(T)?[T]:[]:si(T,g,w)})},gi=function(d,g,w){if(w===void 0&&(w=at),w(g))return Y.none();if(We(d,wa(g)))return Y.some(g);var T=function(M){return Dr(M,"table")||w(M)};return Af(g,d.join(","),T)},pi=function(d,g){return gi(["td","th"],d,g)},ed=function(d){return oa(d,"th,td")},td=function(d){return Dr(d,"colgroup")?$r(d,"col"):jt(mg(d),function(g){return $r(g,"col")})},Za=function(d,g){return no(d,"table",g)},Ou=function(d){return oa(d,"tr")},mg=function(d){return Za(d).fold(_e([]),function(g){return $r(g,"colgroup")})},vu=function(d,g){return dt(d,function(w){if(wa(w)==="colgroup"){var T=dt(td(w),function(M){var F=sf(M,"span",1);return Xa(M,1,F)});return jr(w,T,"colgroup")}else{var T=dt(ed(w),function(F){var j=sf(F,"rowspan",1),te=sf(F,"colspan",1);return Xa(F,j,te)});return jr(w,T,g(w))}})},bv=function(d){return eo(d).map(function(g){var w=wa(g);return sn(w)?w:"tbody"}).getOr("tbody")},cm=function(d){var g=Ou(d),w=mg(d),T=ba(ba([],w,!0),g,!0);return vu(T,bv)},Ni=function(d,g){return vu(d,function(){return g})},yv=function(d,g,w){var T=d.cells,M=T.slice(0,g),F=T.slice(g),j=M.concat(w).concat(F);return Tr(d,j)},Dd=function(d,g,w){return yv(d,g,[w])},uf=function(d,g,w){var T=d.cells;T[g]=w},Tr=function(d,g){return Ul(d.element,g,d.section,d.isNew)},Lc=function(d,g){var w=d.cells,T=dt(w,g);return Ul(d.element,T,d.section,d.isNew)},kl=function(d,g){return d.cells[g]},Bs=function(d,g){return kl(d,g).element},Qs=function(d){return d.cells.length},uo=function(d){var g=Kr(d,function(w){return w.section==="colgroup"});return{rows:g.fail,cols:g.pass}},us=function(d,g,w){var T=dt(d.cells,w);return Ul(g(d.element),T,d.section,!0)},go="data-snooker-locked-cols",nd=function(d){return Na(d,go).bind(function(g){return Y.from(g.match(/\d+/g))}).map(function(g){return st(g,K)})},eu=function(d){var g=Ee(uo(d).rows,function(T,M){return Dt(M.cells,function(F,j){F.isLocked&&(T[j]=!0)}),T},{}),w=xl(g,function(T,M){return parseInt(M,10)});return Jt(w)},Rn=function(d,g){return d+","+g},Md=function(d,g,w){return Y.from(d.access[Rn(g,w)])},_v=function(d,g,w){var T=Mr(d,function(M){return w(g,M.element)});return T.length>0?Y.some(T[0]):Y.none()},Mr=function(d,g){var w=jt(d.all,function(T){return T.cells});return _n(w,g)},ui=function(d){var g={},w=0;return Dt(d.cells,function(T){var M=T.colspan;ln(M,function(F){var j=w+F;g[j]=Qf(T.element,M,j)}),w+=M}),g},gg=function(d){var g={},w=[],T=pn(d).map(function(hn){return hn.element}).bind(Za),M=T.bind(nd).getOr({}),F=0,j=0,te=0,ye=Kr(d,function(hn){return hn.section==="colgroup"}),Me=ye.pass,Xe=ye.fail;Dt(Xe,function(hn){var wn=[];Dt(hn.cells,function(tr){for(var ja=0;g[Rn(te,ja)]!==void 0;)ja++;for(var er=qe(M,ja.toString()),Ir=Vr(tr.element,tr.rowspan,tr.colspan,te,ja,er),da=0;da<tr.colspan;da++)for(var la=0;la<tr.rowspan;la++){var hs=te+la,Fu=ja+da,Nu=Rn(hs,Fu);g[Nu]=Ir,j=Math.max(j,Fu+1)}wn.push(Ir)}),F++,w.push(jr(hn.element,wn,hn.section)),te++});var At=Er(Me).map(function(hn){var wn=ui(hn),tr=vv(hn.element,kf(wn));return{colgroups:[tr],columns:wn}}).getOrThunk(function(){return{colgroups:[],columns:{}}}),nn=At.columns,$t=At.colgroups,Ot=qn(F,j);return{grid:Ot,access:g,all:w,columns:nn,colgroups:$t}},Df=function(d){var g=cm(d);return gg(g)},Zi=function(d){return jt(d.all,function(g){return g.cells})},wv=function(d){return kf(d.columns)},Du=function(d){return Is(d.columns).length>0},xv=function(d,g){return Y.from(d.columns[g])},Jr={fromTable:Df,generate:gg,getAt:Md,findItem:_v,filterItems:Mr,justCells:Zi,justColumns:wv,hasColumns:Du,getColumnAt:xv},Mu=function(d,g){var w=g.column,T=g.column+g.colspan-1,M=g.row,F=g.row+g.rowspan-1;return w<=d.finishCol&&T>=d.startCol&&M<=d.finishRow&&F>=d.startRow},ay=function(d,g){return g.column>=d.startCol&&g.column+g.colspan-1<=d.finishCol&&g.row>=d.startRow&&g.row+g.rowspan-1<=d.finishRow},iy=function(d,g){for(var w=!0,T=Pe(ay,g),M=g.startRow;M<=g.finishRow;M++)for(var F=g.startCol;F<=g.finishCol;F++)w=w&&Jr.getAt(d,M,F).exists(T);return w?Y.some(g):Y.none()},ga=function(d,g){return rr(Math.min(d.row,g.row),Math.min(d.column,g.column),Math.max(d.row+d.rowspan-1,g.row+g.rowspan-1),Math.max(d.column+d.colspan-1,g.column+g.colspan-1))},tu=function(d,g,w){var T=Jr.findItem(d,g,sa),M=Jr.findItem(d,w,sa);return T.bind(function(F){return M.map(function(j){return ga(F,j)})})},U=function(d,g,w){return tu(d,g,w).bind(function(T){return iy(d,T)})},re=function(d,g,w,T){return Jr.findItem(d,g,sa).bind(function(M){var F=w>0?M.row+M.rowspan-1:M.row,j=T>0?M.column+M.colspan-1:M.column,te=Jr.getAt(d,F+w,j+T);return te.map(function(ye){return ye.element})})},he=function(d,g,w){return tu(d,g,w).map(function(T){var M=Jr.filterItems(d,Pe(Mu,T));return dt(M,function(F){return F.element})})},Ie=function(d,g){var w=function(T,M){return Ii(M,T)};return Jr.findItem(d,g,w).map(function(T){return T.element})},ut=function(d,g,w){return Za(d).bind(function(T){var M=ra(T);return re(M,d,g,w)})},Et=function(d,g,w){var T=ra(d);return he(T,g,w)},Wn=function(d,g,w,T,M){var F=ra(d),j=sa(d,w)?Y.some(g):Ie(F,g),te=sa(d,M)?Y.some(T):Ie(F,T);return j.bind(function(ye){return te.bind(function(Me){return he(F,ye,Me)})})},wr=function(d,g,w){var T=ra(d);return U(T,g,w)},ra=Jr.fromTable,zr=function(d,g){var w=eo(d);w.each(function(T){T.dom.insertBefore(g.dom,d.dom)})},di=function(d,g){var w=Z(d);w.fold(function(){var T=eo(d);T.each(function(M){po(M,g)})},function(T){zr(T,g)})},qo=function(d,g){var w=Le(d);w.fold(function(){po(d,g)},function(T){d.dom.insertBefore(g.dom,T.dom)})},po=function(d,g){d.dom.appendChild(g.dom)},lS=function(d,g,w){oe(d,w).fold(function(){po(d,g)},function(T){zr(T,g)})},zw=function(d,g){zr(d,g),po(g,d)},Hw=function(d,g){Dt(g,function(w){zr(d,w)})},cS=function(d,g){Dt(g,function(w,T){var M=T===0?d:g[T-1];di(M,w)})},Fc=function(d,g){Dt(g,function(w){po(d,w)})},Cv=function(d){d.dom.textContent="",Dt(N(d),function(g){Tl(g)})},Tl=function(d){var g=d.dom;g.parentNode!==null&&g.parentNode.removeChild(g)},ke=function(d){var g=N(d);g.length>0&&Hw(d,g),Tl(d)},lh=function(d,g){var w=function(F){if(!d(F))throw new Error("Can only get "+g+" value of a "+g+" node");return T(F).getOr("")},T=function(F){return d(F)?Y.from(F.dom.nodeValue):Y.none()},M=function(F,j){if(!d(F))throw new Error("Can only set raw "+g+" value of a "+g+" node");F.dom.nodeValue=j};return{get:w,getOption:T,set:M}},ch=lh(Tu,"text"),dc=function(d){return ch.get(d)},bi=function(d){return ch.getOption(d)},fS=function(d,g){return ch.set(d,g)},rd=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function Fp(){var d=function(Me){return Qt.fromDom(Me.dom.cloneNode(!1))},g=function(Me){return Tt(Me).dom},w=function(Me){return Ra(Me)?wa(Me)==="body"?!0:We(rd,wa(Me)):!1},T=function(Me){return Ra(Me)?We(["br","img","hr","input"],wa(Me)):!1},M=function(Me){return Ra(Me)&&Bc(Me,"contenteditable")==="false"},F=function(Me,Xe){return Me.dom.compareDocumentPosition(Xe.dom)},j=function(Me,Xe){var At=el(Me);Io(Xe,At)},te=function(Me){var Xe=wa(Me);return We(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Xe)},ye=function(Me){return Ra(Me)?Na(Me,"lang"):Y.none()};return{up:_e({selector:Af,closest:no,predicate:to,all:Po}),down:_e({selector:Cl,predicate:Di}),styles:_e({get:Js,getRaw:El,set:So,remove:du}),attrs:_e({get:Bc,set:os,remove:Fi,copyTo:j}),insert:_e({before:zr,after:di,afterAll:cS,append:po,appendAll:Fc,prepend:qo,wrap:zw}),remove:_e({unwrap:ke,remove:Tl}),create:_e({nu:Qt.fromTag,clone:d,text:Qt.fromText}),query:_e({comparePosition:F,prevSibling:J,nextSibling:Z}),property:_e({children:N,name:wa,parent:eo,document:g,isText:Tu,isComment:Td,isElement:Ra,isSpecial:te,getLanguage:ye,getText:dc,setText:fS,isBoundary:w,isEmptyTag:T,isNonEditable:M}),eq:sa,is:Ju}}var fm=function(d,g,w,T){var M=w[0],F=w.slice(1);return T(d,g,M,F)},oy=function(d,g,w){return w.length>0?fm(d,g,w,dS):Y.none()},dS=function(d,g,w,T){var M=g(d,w);return Gn(T,function(F,j){var te=g(d,j);return vS(d,F,te)},M)},vS=function(d,g,w){return g.bind(function(T){return w.filter(Pe(d.eq,T))})},pg=function(d,g){return Pe(d.eq,g)},Np=function(d,g,w,T){T===void 0&&(T=at);var M=[g].concat(d.up().all(g)),F=[w].concat(d.up().all(w)),j=function(Xe){var At=xn(Xe,T);return At.fold(function(){return Xe},function(nn){return Xe.slice(0,nn+1)})},te=j(M),ye=j(F),Me=Vt(te,function(Xe){return z(ye,pg(d,Xe))});return{firstpath:te,secondpath:ye,shared:Me}},Rd=oy,Vw=Np,vc=Fp(),Jn=function(d,g){return Rd(vc,function(w,T){return d(T)},g)},Sv=function(d,g,w){return Vw(vc,d,g,w)},$p=function(d){return Af(d,"table")},Yl=function(d,g,w){var T=function(M){return function(F){return w!==void 0&&w(F)||sa(F,M)}};return sa(d,g)?Y.some({boxes:Y.some([d]),start:d,finish:g}):$p(d).bind(function(M){return $p(g).bind(function(F){if(sa(M,F))return Y.some({boxes:Et(M,d,g),start:d,finish:g});if(Ii(M,F)){var j=Au(g,"td,th",T(M)),te=j.length>0?j[j.length-1]:g;return Y.some({boxes:Wn(M,d,M,g,F),start:d,finish:te})}else if(Ii(F,M)){var j=Au(d,"td,th",T(F)),ye=j.length>0?j[j.length-1]:d;return Y.some({boxes:Wn(F,d,M,g,F),start:d,finish:ye})}else return Sv(d,g).shared.bind(function(Me){return no(Me,"table",w).bind(function(Xe){var At=Au(g,"td,th",T(Xe)),nn=At.length>0?At[At.length-1]:g,$t=Au(d,"td,th",T(Xe)),Ot=$t.length>0?$t[$t.length-1]:d;return Y.some({boxes:Wn(Xe,d,M,g,F),start:Ot,finish:nn})})})})})},bg=function(d,g){var w=Cl(d,g);return w.length>0?Y.some(w):Y.none()},sy=function(d,g){return Vt(d,function(w){return Dr(w,g)})},Mf=function(d,g,w){return Co(d,g).bind(function(T){return Co(d,w).bind(function(M){return Jn($p,[T,M]).map(function(F){return{first:T,last:M,table:F}})})})},dm=function(d,g){return Af(d,"table").bind(function(w){return Co(w,g).bind(function(T){return Yl(T,d).bind(function(M){return M.boxes.map(function(F){return{boxes:F,start:M.start,finish:M.finish}})})})})},yg=function(d,g,w,T,M){return sy(d,M).bind(function(F){return ut(F,g,w).bind(function(j){return dm(j,T)})})},Ui=function(d,g){return bg(d,g)},nu=function(d,g,w){return Mf(d,g,w).bind(function(T){var M=function(ye){return sa(d,ye)},F="thead,tfoot,tbody,table",j=Af(T.first,F,M),te=Af(T.last,F,M);return j.bind(function(ye){return te.bind(function(Me){return sa(ye,Me)?wr(T.table,T.first,T.last):Y.none()})})})},zp=function(d){if(!p(d))throw new Error("cases must be an array");if(d.length===0)throw new Error("there must be at least one case");var g=[],w={};return Dt(d,function(T,M){var F=Is(T);if(F.length!==1)throw new Error("one and only one name per case");var j=F[0],te=T[j];if(w[j]!==void 0)throw new Error("duplicate key detected:"+j);if(j==="cata")throw new Error("cannot have a case named cata (sorry)");if(!p(te))throw new Error("case arguments must be an array");g.push(j),w[j]=function(){for(var ye=[],Me=0;Me<arguments.length;Me++)ye[Me]=arguments[Me];var Xe=ye.length;if(Xe!==te.length)throw new Error("Wrong number of arguments to case "+j+". Expected "+te.length+" ("+te+"), got "+Xe);var At=function(nn){var $t=Is(nn);if(g.length!==$t.length)throw new Error("Wrong number of arguments to match. Expected: "+g.join(",")+`
Actual: `+$t.join(","));var Ot=kt(g,function(hn){return We($t,hn)});if(!Ot)throw new Error("Not all branches were specified when using match. Specified: "+$t.join(", ")+`
Required: `+g.join(", "));return nn[j].apply(null,ye)};return{fold:function(){for(var nn=[],$t=0;$t<arguments.length;$t++)nn[$t]=arguments[$t];if(nn.length!==d.length)throw new Error("Wrong number of arguments to fold. Expected "+d.length+", got "+nn.length);var Ot=nn[M];return Ot.apply(null,ye)},match:At,log:function(nn){console.log(nn,{constructors:g,constructor:j,params:ye})}}}}),w},hu={generate:zp},Hp=hu.generate([{none:[]},{multiple:["elements"]},{single:["element"]}]),n1=function(d,g,w,T){return d.fold(g,w,T)},r1=Hp.none,hS=Hp.multiple,_g=Hp.single,mu=function(d,g,w){var T=function(){return Ui(d(),w).fold(function(){return g().fold(r1,_g)},function(M){return hS(M)})};return{get:T}},uy=tinymce.util.Tools.resolve("tinymce.PluginManager"),lo=function(d,g){return Qt.fromDom(d.dom.cloneNode(g))},Rf=function(d){return lo(d,!1)},Wa=function(d){return lo(d,!0)},Pf=function(d,g){var w=Qt.fromTag(g),T=el(d);return Io(w,T),w},ql=function(d,g){var w=Pf(d,g),T=N(Wa(d));return Fc(w,T),w},mS=function(d,g){var w=Pf(d,g);zr(d,w);var T=N(d);return Fc(w,T),Tl(d),w},ls=function(d,g){var w=function(te,ye){if(!ie(ye)&&!ye.match(/^[0-9]+$/))throw new Error(d+".set accepts only positive integer values. Value was "+ye);var Me=te.dom;jl(Me)&&(Me.style[d]=ye+"px")},T=function(te){var ye=g(te);if(ye<=0||ye===null){var Me=Js(te,d);return parseFloat(Me)||0}return ye},M=T,F=function(te,ye){return Ee(ye,function(Me,Xe){var At=Js(te,Xe),nn=At===void 0?0:parseInt(At,10);return isNaN(nn)?Me:Me+nn},0)},j=function(te,ye,Me){var Xe=F(te,Me),At=ye>Xe?ye-Xe:0;return At};return{set:w,get:T,getOuter:M,aggregate:F,max:j}},Al=function(){var d=ze().browser;return d.isIE()||d.isEdge()},Pd=function(d,g){return ou(d).getOr(g)},It=function(d,g,w){return Pd(Js(d,g),w)},Ls=function(d){return Js(d,"box-sizing")},gu=function(d,g,w,T){var M=It(d,"padding-"+w,0),F=It(d,"padding-"+T,0),j=It(d,"border-"+w+"-width",0),te=It(d,"border-"+T+"-width",0);return g-M-F-j-te},Ar=function(d,g){var w=d.dom,T=w.getBoundingClientRect().height||w.offsetHeight;return g==="border-box"?T:gu(d,T,"top","bottom")},hc=function(d,g){var w=d.dom,T=w.getBoundingClientRect().width||w.offsetWidth;return g==="border-box"?T:gu(d,T,"left","right")},Uw=function(d){return Al()?Ar(d,Ls(d)):It(d,"height",d.dom.offsetHeight)},Fs=function(d){return Al()?hc(d,Ls(d)):It(d,"width",d.dom.offsetWidth)},lf=function(d){return hc(d,"content-box")},ad=ls("width",function(d){return d.dom.offsetWidth}),If=function(d){return ad.get(d)},Ns=function(d){return ad.getOuter(d)},za=lf,Bf=Fs,bs=function(d,g){g===void 0&&(g=K);var w=d.grid,T=ln(w.columns,be),M=ln(w.rows,be);return dt(T,function(F){var j=function(){return jt(M,function(Me){return Jr.getAt(d,Me,F).filter(function(Xe){return Xe.column===F}).toArray()})},te=function(Me){return Me.colspan===1&&g(Me.element)},ye=function(){return Jr.getAt(d,0,F)};return xi(j,te,ye)})},xi=function(d,g,w){var T=d(),M=Vt(T,g),F=M.orThunk(function(){return Y.from(T[0]).orThunk(w)});return F.map(function(j){return j.element})},Ev=function(d){var g=d.grid,w=ln(g.rows,be),T=ln(g.columns,be);return dt(w,function(M){var F=function(){return jt(T,function(ye){return Jr.getAt(d,M,ye).filter(function(Me){return Me.row===M}).fold(_e([]),function(Me){return[Me]})})},j=function(ye){return ye.rowspan===1},te=function(){return Jr.getAt(d,M,0)};return xi(F,j,te)})},cs=function(d,g){if(g<0||g>=d.length-1)return Y.none();var w=d[g].fold(function(){var M=Qe(d.slice(0,g));return xr(M,function(F,j){return F.map(function(te){return{value:te,delta:j+1}})})},function(M){return Y.some({value:M,delta:0})}),T=d[g+1].fold(function(){var M=d.slice(g+1);return xr(M,function(F,j){return F.map(function(te){return{value:te,delta:j+1}})})},function(M){return Y.some({value:M,delta:1})});return w.bind(function(M){return T.map(function(F){var j=F.delta+M.delta;return Math.abs(F.value-M.value)/j})})},Ol=function(d,g){return function(w){return a1(w)==="rtl"?g:d}},a1=function(d){return Js(d,"direction")==="rtl"?"rtl":"ltr"},Je=ls("height",function(d){var g=d.dom;return Qr(d)?g.getBoundingClientRect().height:g.offsetHeight}),tl=function(d){return Je.get(d)},Go=function(d){return Je.getOuter(d)},fh=Uw,Nc=function(d,g){var w=function(T,M){return Nc(d+T,g+M)};return{left:d,top:g,translate:w}},Ci=Nc,Mi=function(d){var g=d.getBoundingClientRect();return Ci(g.left,g.top)},nl=function(d,g){return d!==void 0?d:g!==void 0?g:0},kv=function(d){var g=d.dom.ownerDocument,w=g.body,T=g.defaultView,M=g.documentElement;if(w===d.dom)return Ci(w.offsetLeft,w.offsetTop);var F=nl(T==null?void 0:T.pageYOffset,M.scrollTop),j=nl(T==null?void 0:T.pageXOffset,M.scrollLeft),te=nl(M.clientTop,w.clientTop),ye=nl(M.clientLeft,w.clientLeft);return vm(d).translate(j-ye,F-te)},vm=function(d){var g=d.dom,w=g.ownerDocument,T=w.body;return T===g?Ci(T.offsetLeft,T.offsetTop):Qr(d)?Mi(g):Ci(0,0)},ur=function(d,g){return{row:d,y:g}},i1=function(d,g){return{col:d,x:g}},$c=function(d){var g=kv(d);return g.left+Ns(d)},wg=function(d){return kv(d).left},Vp=function(d,g){return i1(d,wg(g))},Up=function(d,g){return i1(d,$c(g))},Wp=function(d){return kv(d).top},o1=function(d,g){return ur(d,Wp(g))},Id=function(d,g){return ur(d,Wp(g)+Go(g))},Tv=function(d,g,w){if(w.length===0)return[];var T=dt(w.slice(1),function(F,j){return F.map(function(te){return d(j,te)})}),M=w[w.length-1].map(function(F){return g(w.length-1,F)});return T.concat([M])},gS=function(d){return-d},s1={delta:be,positions:function(d){return Tv(o1,Id,d)},edge:Wp},ly={delta:be,edge:wg,positions:function(d){return Tv(Vp,Up,d)}},Ww={delta:gS,edge:$c,positions:function(d){return Tv(Up,Vp,d)}},hm=Ol(ly,Ww),mm={delta:function(d,g){return hm(g).delta(d,g)},positions:function(d,g){return hm(g).positions(d,g)},edge:function(d){return hm(d).edge(d)}},cy={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},id=function(){var d="[0-9]+",g="[+-]?"+d,w="[eE]"+g,T="\\.",M=function(te){return"(?:"+te+")?"},F=["Infinity",d+T+M(d)+M(w),T+d+M(w),d+M(w)].join("|"),j="[+-]?(?:"+F+")";return new RegExp("^("+j+")(.*)$")}(),Av=function(d,g){return z(g,function(w){return z(cy[w],function(T){return d===T})})},fy=function(d,g){var w=Y.from(id.exec(d));return w.bind(function(T){var M=Number(T[1]),F=T[2];return Av(F,g)?Y.some({value:M,unit:F}):Y.none()})},dy=/(\d+(\.\d+)?)%/,jw=/(\d+(\.\d+)?)px|em/,pS=Qi("col"),Ko=function(d,g,w){var T=gv(d).getOrThunk(function(){return Bi(Ic(d))});return g(d)/w(T)*100},Bd=function(d,g){So(d,"width",g+"px")},zc=function(d,g){So(d,"width",g+"%")},Ov=function(d,g){So(d,"height",g+"px")},u1=function(d){return fh(d)+"px"},Lf=function(d,g,w,T){var M=Za(d).map(function(F){var j=w(F);return Math.floor(g/100*j)}).getOr(g);return T(d,M),M},Dv=function(d,g,w,T){var M=parseFloat(d);return Ms(d,"%")&&wa(g)!=="table"?Lf(g,M,w,T):M},Ja=function(d){var g=u1(d);return g?Dv(g,d,tl,Ov):tl(d)},vy=function(d,g,w){var T=w(d),M=ps(d,g);return T/M},Mv=function(d,g){return El(d,g).orThunk(function(){return Na(d,g).map(function(w){return w+"px"})})},Dl=function(d){return Mv(d,"width")},ru=function(d){return Mv(d,"height")},l1=function(d){return Ko(d,If,za)},hy=function(d){return pS(d)?If(d):Bf(d)},rl=function(d){return vy(d,"rowspan",Ja)},xg=function(d){var g=Dl(d);return g.bind(function(w){return fy(w,["fixed","relative","empty"])})},Rv=function(d,g,w){So(d,"width",g+w)},my=function(d){return If(d)+"px"},gm=function(d){return Ko(d,If,za)+"%"},c1=function(d){return Dl(d).exists(function(g){return dy.test(g)})},cf=function(d){return Dl(d).exists(function(g){return jw.test(g)})},ki=function(d){return Dl(d).isNone()},Cg=_e(dy),Pv=Qi("col"),Sg=function(d){return Dl(d).getOrThunk(function(){return hy(d)+"px"})},f1=function(d){return ru(d).getOrThunk(function(){return rl(d)+"px"})},mc=function(d){return dt(Jr.justColumns(d),function(g){return Y.from(g.element)})},gc=function(d){var g=ze().browser,w=g.isChrome()||g.isFirefox();return Pv(d)?w:!0},Iv=function(d,g,w,T,M,F){return d.filter(T).fold(function(){return F(cs(w,g))},function(j){return M(j)})},Ld=function(d,g,w,T){var M=bs(d),F=Jr.hasColumns(d)?mc(d):M,j=[Y.some(mm.edge(g))].concat(dt(mm.positions(M,g),function(ye){return ye.map(function(Me){return Me.x})})),te=Oe(Of);return dt(F,function(ye,Me){return Iv(ye,Me,j,te,function(Xe){if(gc(Xe))return w(Xe);var At=hg(M[Me],be);return Iv(At,Me,j,te,function(nn){return T(Y.some(If(nn)))},T)},T)})},od=function(d){return d.map(function(g){return g+"px"}).getOr("")},jp=function(d,g){return Ld(d,g,Sg,od)},Fd=function(d,g,w){return Ld(d,g,l1,function(T){return T.fold(function(){return w.minCellWidth()},function(M){return M/w.pixelWidth()*100})})},dh=function(d,g,w){return Ld(d,g,hy,function(T){return T.getOrThunk(w.minCellWidth)})},Yp=function(d,g,w,T,M){var F=Ev(d),j=[Y.some(w.edge(g))].concat(dt(w.positions(F,g),function(te){return te.map(function(ye){return ye.y})}));return dt(F,function(te,ye){return Iv(te,ye,j,Oe(pt),T,M)})},gy=function(d,g,w){return Yp(d,g,w,rl,function(T){return T.getOrThunk(Nn)})},py=function(d,g,w){return Yp(d,g,w,f1,od)},Hc=function(d,g){return function(){return Qr(d)?g(d):parseFloat(El(d,"width").getOr("0"))}},pc=function(d){var g=Hc(d,If),w=_e(0),T=function(M,F){return dh(M,d,F)};return{width:g,pixelWidth:g,getWidths:T,getCellDelta:w,singleColumnWidth:_e([0]),minCellWidth:w,setElementWidth:ee,adjustTableWidth:ee,isRelative:!0,label:"none"}},pm=function(d){var g=Hc(d,function(ye){return parseFloat(gm(ye))}),w=Hc(d,If),T=function(ye){return ye/w()*100},M=function(ye,Me){return[100-ye]},F=function(){return Ft()/w()*100},j=function(ye){var Me=g(),Xe=ye/100*Me,At=Me+Xe;zc(d,At)},te=function(ye,Me){return Fd(ye,d,Me)};return{width:g,pixelWidth:w,getWidths:te,getCellDelta:T,singleColumnWidth:M,minCellWidth:F,setElementWidth:zc,adjustTableWidth:j,isRelative:!0,label:"percent"}},ff=function(d){var g=Hc(d,If),w=be,T=function(j,te){var ye=Math.max(Ft(),j+te);return[ye-j]},M=function(j){var te=g()+j;Bd(d,te)},F=function(j,te){return dh(j,d,te)};return{width:g,pixelWidth:g,getWidths:F,getCellDelta:w,singleColumnWidth:T,minCellWidth:Ft,setElementWidth:Bd,adjustTableWidth:M,isRelative:!1,label:"pixel"}},Ru=function(d,g){var w=Cg().exec(g);return w!==null?pm(d):ff(d)},qp=function(d){var g=Dl(d);return g.fold(function(){return pc(d)},function(w){return Ru(d,w)})},Nd={getTableSize:qp,pixelSize:ff,percentageSize:pm,noneSize:pc},bc=function(d,g,w,T,M,F){return{minRow:d,minCol:g,maxRow:w,maxCol:T,allCells:M,selectedCells:F}},co=function(d,g){var w=d.grid.columns,T=d.grid.rows,M=T,F=w,j=0,te=0,ye=[],Me=[];return fi(d.access,function(Xe){if(ye.push(Xe),g(Xe)){Me.push(Xe);var At=Xe.row,nn=At+Xe.rowspan-1,$t=Xe.column,Ot=$t+Xe.colspan-1;At<M?M=At:nn>j&&(j=nn),$t<F?F=$t:Ot>te&&(te=Ot)}}),bc(M,F,j,te,ye,Me)},by=function(d,g,w){var T=d[w].element,M=Qt.fromTag("td");po(M,Qt.fromTag("br"));var F=g?po:qo;F(T,M)},d1=function(d,g,w,T){for(var M=g.grid.columns,F=g.grid.rows,j=0;j<F;j++)for(var te=!1,ye=0;ye<M;ye++)if(!(j<w.minRow||j>w.maxRow||ye<w.minCol||ye>w.maxCol)){var Me=Jr.getAt(g,j,ye).filter(T).isNone();Me?by(d,te,j):te=!0}},xa=function(d,g,w,T){fi(w.columns,function(j){(j.column<g.minCol||j.column>g.maxCol)&&Tl(j.element)});var M=_n(oa(d,"tr"),function(j){return j.dom.childElementCount===0});Dt(M,Tl),(g.minCol===g.maxCol||g.minRow===g.maxRow)&&Dt(oa(d,"th,td"),function(j){Fi(j,"rowspan"),Fi(j,"colspan")}),Fi(d,go),Fi(d,"data-snooker-col-series");var F=Nd.getTableSize(d);F.adjustTableWidth(T)},Qn=function(d,g,w,T){if(T.minCol===0&&g.grid.columns===T.maxCol+1)return 0;var M=dh(g,d,w),F=Ee(M,function(Me,Xe){return Me+Xe},0),j=Ee(M.slice(T.minCol,T.maxCol+1),function(Me,Xe){return Me+Xe},0),te=j/F*w.pixelWidth(),ye=te-w.pixelWidth();return w.getCellDelta(ye)},yc=function(d,g){var w=function(nn){return Dr(nn.element,g)},T=Wa(d),M=cm(T),F=Nd.getTableSize(d),j=Jr.generate(M),te=co(j,w),ye="th:not("+g+"),td:not("+g+")",Me=si(T,"th,td",function(nn){return Dr(nn,ye)});Dt(Me,Tl),d1(M,j,te,w);var Xe=Jr.fromTable(d),At=Qn(d,Xe,F,te);return xa(T,te,j,At),T},Gp=" ",Ff=function(d){return wa(d)==="img"?1:bi(d).fold(function(){return N(d).length},function(g){return g.length})},yy=function(d){return bi(d).filter(function(g){return g.trim().length!==0||g.indexOf(Gp)>-1}).isSome()},Qa=["img","br"],bm=function(d){var g=yy(d);return g||We(Qa,wa(d))},v1=function(d){return lm(d,bm)},Kp=function(d){return Nt(d,bm)},Nt=function(d,g){var w=function(T){for(var M=N(T),F=M.length-1;F>=0;F--){var j=M[F];if(g(j))return Y.some(j);var te=w(j);if(te.isSome())return te}return Y.none()};return w(d)},Eg={scope:["row","col"]},h1=function(d){return function(){var g=Qt.fromTag("td",d.dom);return po(g,Qt.fromTag("br",d.dom)),g}},sd=function(d){return function(){return Qt.fromTag("col",d.dom)}},ym=function(d){return function(){return Qt.fromTag("colgroup",d.dom)}},$d=function(d){return function(){return Qt.fromTag("tr",d.dom)}},vh=function(d,g,w){var T=ql(d,g);return fi(w,function(M,F){M===null?Fi(T,F):os(T,F,M)}),T},hh=function(d){return d},Bv=function(d,g,w){var T=v1(d);return T.map(function(M){var F=w.join(","),j=Au(M,F,function(te){return sa(te,d)});return Gn(j,function(te,ye){var Me=Rf(ye);return Fi(Me,"contenteditable"),po(te,Me),Me},g)}).getOr(g)},Bo=function(d,g){fi(Eg,function(w,T){return Na(d,T).filter(function(M){return We(w,M)}).each(function(M){return os(g,T,M)})})},Br=function(d,g,w){var T=function(j,te){uh(j.element,te),du(te,"height"),j.colspan!==1&&du(te,"width")},M=function(j){var te=Qt.fromTag(wa(j.element),g.dom),ye=w.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),Me=ye.length>0?Bv(j.element,te,ye):te;return po(Me,Qt.fromTag("br")),T(j,te),Bo(j.element,te),d(j.element,te),te},F=function(j){var te=Qt.fromTag(wa(j.element),g.dom);return T(j,te),d(j.element,te),te};return{col:F,colgroup:ym(g),row:$d(g),cell:M,replace:vh,colGap:sd(g),gap:h1(g)}},Vc=function(d){return{col:sd(d),colgroup:ym(d),row:$d(d),cell:h1(d),replace:hh,colGap:sd(d),gap:h1(d)}},_y=function(d,g){var w=g||document,T=w.createElement("div");return T.innerHTML=d,N(Qt.fromDom(T))},ys=function(d){return dt(d,Qt.fromDom)},m1=function(d){return d.nodeName.toLowerCase()},ud=function(d){return Qt.fromDom(d.getBody())},Lv=function(d){return d.getBoundingClientRect().width},zd=function(d){return d.getBoundingClientRect().height},Uc=function(d){return function(g){return sa(g,ud(d))}},mh=function(d){return d?d.replace(/px$/,""):""},ro=function(d){return/^\d+(\.\d+)?$/.test(d)?d+"px":d},Pu=function(d){Fi(d,"data-mce-style");var g=function(w){return Fi(w,"data-mce-style")};Dt(ed(d),g),Dt(td(d),g),Dt(Ou(d),g)},Nf=function(d,g){var w=d.dom.getStyle(g,"width")||d.dom.getAttrib(g,"width");return Y.from(w).filter(ma)},Hd=function(d){return/^(\d+(\.\d+)?)%$/.test(d)},Fv=function(d){return/^(\d+(\.\d+)?)px$/.test(d)},$f=function(d){return Qt.fromDom(d.selection.getStart())},qt=function(d){return Qt.fromDom(d.selection.getEnd())},fs=function(d){return n1(d.get(),_e([]),be,vt)},df=function(d){var g=function(M,F){return Na(M,F).exists(function(j){return parseInt(j,10)>1})},w=function(M){return g(M,"rowspan")||g(M,"colspan")},T=fs(d);return T.length>0&&kt(T,w)?Y.some(T):Y.none()},Gl=function(d,g,w){return n1(g.get(),Y.none,function(T){return T.length<=1?Y.none():nu(d,w.firstSelectedSelector,w.lastSelectedSelector).map(function(M){return{bounds:M,cells:T}})},Y.none)},Xp="data-mce-selected",g1="td["+Xp+"],th["+Xp+"]",Zp="["+Xp+"]",_s="data-mce-first-selected",gh="td["+_s+"],th["+_s+"]",kg="data-mce-last-selected",Tg="td["+kg+"],th["+kg+"]",bS=Zp,_c={selected:Xp,selectedSelector:g1,firstSelected:_s,firstSelectedSelector:gh,lastSelected:kg,lastSelectedSelector:Tg},wy=function(d){return{element:d,mergable:Y.none(),unmergable:Y.none(),selection:[d]}},_m=function(d,g,w){return{element:w,mergable:Gl(g,d,_c),unmergable:df(d),selection:fs(d)}},ph=function(d,g,w){return{element:d,clipboard:g,generators:w}},ld=function(d,g,w,T){return{selection:fs(d),clipboard:w,generators:T}},$s=function(d){return Za(d).bind(function(g){return Ui(g,_c.firstSelectedSelector)}).fold(_e(d),function(g){return g[0]})},p1=function(d){return function(g,w){var T=wa(g),M=T==="col"||T==="colgroup"?$s(g):g;return no(M,d,w)}},fo=p1("th,td,caption"),zs=p1("th,td"),Iu=function(d){return fs(d)},Yw=function(d,g){var w=zs(d),T=w.bind(function(M){return Za(M)}).map(function(M){return Ou(M)});return cc(w,T,function(M,F){return _n(F,function(j){return z(ys(j.dom.cells),function(te){return Bc(te,g)==="1"||sa(te,M)})})}).getOr([])},bh=function(d){return Za(d[0]).map(function(g){var w=yc(g,bS);return Pu(w),[w]})},qw=function(d,g){return dt(g,function(w){return d.selection.serializer.serialize(w.dom,{})}).join("")},xy=function(d){return dt(d,function(g){return g.dom.innerText}).join("")},zf=function(d,g,w){d.on("BeforeGetContent",function(T){var M=function(F){T.preventDefault(),bh(F).each(function(j){T.content=T.format==="text"?xy(j):qw(d,j)})};T.selection===!0&&n1(g.get(),ee,M,ee)}),d.on("BeforeSetContent",function(T){if(T.selection===!0&&T.paste===!0){var M=Iu(g);pn(M).each(function(F){Za(F).each(function(j){var te=_n(_y(T.content),function(nn){return wa(nn)!=="meta"}),ye=Qi("table");if(te.length===1&&ye(te[0])){T.preventDefault();var Me=Qt.fromDom(d.getDoc()),Xe=Vc(Me),At=ph(F,te[0],Xe);w.pasteCells(j,At).each(function(){d.focus()})}})})}})},yS=hu.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),Ag=Un({},yS),b1=function(d,g){return d.length===0?Ag.none():d.length===1?Ag.only(0):g===0?Ag.left(0,1):g===d.length-1?Ag.right(g-1,g):g>0&&g<d.length-1?Ag.middle(g-1,g,g+1):Ag.none()},Gw=function(d,g,w,T,M){var F=d.slice(0),j=b1(d,g),te=_e(dt(F,_e(0))),ye=function(nn){return T.singleColumnWidth(F[nn],w)},Me=function(nn,$t){return M.calcLeftEdgeDeltas(F,nn,$t,w,T.minCellWidth(),T.isRelative)},Xe=function(nn,$t,Ot){return M.calcMiddleDeltas(F,nn,$t,Ot,w,T.minCellWidth(),T.isRelative)},At=function(nn,$t){return M.calcRightEdgeDeltas(F,nn,$t,w,T.minCellWidth(),T.isRelative)};return j.fold(te,ye,Me,Xe,At)},Cy=function(d,g,w){for(var T=0,M=d;M<g;M++)T+=w[M]!==void 0?w[M]:0;return T},Sy=function(d,g){var w=Jr.justCells(d);return dt(w,function(T){var M=Cy(T.column,T.column+T.colspan,g);return{element:T.element,width:M,colspan:T.colspan}})},Jp=function(d,g){var w=Jr.justColumns(d);return dt(w,function(T,M){return{element:T.element,width:g[M],colspan:T.colspan}})},y1=function(d,g){var w=Jr.justCells(d);return dt(w,function(T){var M=Cy(T.row,T.row+T.rowspan,g);return{element:T.element,height:M,rowspan:T.rowspan}})},Qp=function(d,g){return dt(d.all,function(w,T){return{element:w.element,height:g[T]}})},Vd=function(d){return Gn(d,function(g,w){return g+w},0)},Nv=function(d,g){return Jr.hasColumns(d)?Jp(d,g):Sy(d,g)},vi=function(d,g,w){var T=Nv(d,g);Dt(T,function(M){w.setElementWidth(M.element,M.width)})},wm=function(d,g,w,T,M){var F=Jr.fromTable(d),j=M.getCellDelta(g),te=M.getWidths(F,M),ye=w===F.grid.columns-1,Me=T.clampTableDelta(te,w,j,M.minCellWidth(),ye),Xe=Gw(te,w,Me,M,T),At=dt(Xe,function(nn,$t){return nn+te[$t]});vi(F,At,M),T.resizeTable(M.adjustTableWidth,Me,ye)},Hf=function(d,g,w,T){var M=Jr.fromTable(d),F=gy(M,d,T),j=dt(F,function(Xe,At){return w===At?Math.max(g+Xe,Nn()):Xe}),te=y1(M,j),ye=Qp(M,j);Dt(ye,function(Xe){Ov(Xe.element,Xe.height)}),Dt(te,function(Xe){Ov(Xe.element,Xe.height)});var Me=Vd(j);Ov(d,Me)},cd=function(d,g,w,T,M){var F=Jr.generate(g),j=T.getWidths(F,T),te=T.pixelWidth(),ye=M.calcRedestributedWidths(j,te,w.pixelDelta,T.isRelative),Me=ye.newSizes,Xe=ye.delta;vi(F,Me,T),T.adjustTableWidth(Xe)},Ml=function(d,g,w,T){var M=Jr.generate(g),F=T.getWidths(M,T);vi(M,F,T)},Ud=function(d){return dt(d,_e(0))},$v=function(d,g,w,T,M){return M(d.slice(0,g)).concat(T).concat(M(d.slice(w)))},_1=function(d){return function(g,w,T,M){if(d(T)){var F=Math.max(M,g[w]-Math.abs(T)),j=Math.abs(F-g[w]);return T>=0?j:-j}else return T}},e0=_1(function(d){return d<0}),w1=_1(K),x1=function(){var d=function(te,ye,Me,Xe,At){var nn=e0(te,ye,Xe,At);return $v(te,ye,Me+1,[nn,0],Ud)},g=function(te,ye,Me,Xe){var At=(100+Me)/100,nn=Math.max(Xe,(te[ye]+Me)/At);return dt(te,function($t,Ot){var hn=Ot===ye?nn:$t/At;return hn-$t})},w=function(te,ye,Me,Xe,At,nn){return nn?g(te,ye,Xe,At):d(te,ye,Me,Xe,At)},T=function(te,ye,Me,Xe,At,nn,$t){return w(te,Me,Xe,At,nn,$t)},M=function(te,ye){return te(ye)},F=function(te,ye,Me,Xe,At,nn){if(nn)return g(te,Me,Xe,At);var $t=e0(te,Me,Xe,At);return Ud(te.slice(0,Me)).concat([$t])},j=function(te,ye,Me,Xe){if(Xe){var At=ye+Me,nn=At/ye,$t=dt(te,function(Ot){return Ot/nn});return{delta:nn*100-100,newSizes:$t}}else return{delta:Me,newSizes:te}};return{resizeTable:M,clampTableDelta:e0,calcLeftEdgeDeltas:w,calcMiddleDeltas:T,calcRightEdgeDeltas:F,calcRedestributedWidths:j}},xm=function(){var d=function(j,te,ye,Me,Xe){var At=Me>=0?ye:te,nn=w1(j,At,Me,Xe);return $v(j,te,ye+1,[nn,-nn],Ud)},g=function(j,te,ye,Me,Xe,At){return d(j,ye,Me,Xe,At)},w=function(j,te,ye){ye&&j(te)},T=function(j,te,ye,Me,Xe,At){if(At)return Ud(j);var nn=Me/j.length;return dt(j,_e(nn))},M=function(j,te,ye,Me,Xe){if(Xe){if(ye>=0)return ye;var At=Ee(j,function(nn,$t){return nn+$t-Me},0);return Math.max(-At,ye)}else return e0(j,te,ye,Me)},F=function(j,te,ye,Me){return{delta:0,newSizes:j}};return{resizeTable:w,clampTableDelta:M,calcLeftEdgeDeltas:d,calcMiddleDeltas:g,calcRightEdgeDeltas:T,calcRedestributedWidths:F}},_S=function(d,g){var w=Y.from(d.dom.documentElement).map(Qt.fromDom).getOr(d);return{parent:_e(w),view:_e(d),origin:_e(Ci(0,0)),isResizable:g}},C1=function(d,g,w){var T=function(){return kv(g)};return{parent:_e(g),view:_e(d),origin:T,isResizable:w}},Og=function(d,g,w){return{parent:_e(g),view:_e(d),origin:_e(Ci(0,0)),isResizable:w}},t0={only:_S,detached:C1,body:Og},n0=hu.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),Ey=function(d,g,w){var T=w.substring(0,w.length-d.length),M=parseFloat(T);return T===M.toString()?g(M):n0.invalid(w)},ds=function(d){return Ms(d,"%")?Ey("%",n0.percent,d):Ms(d,"px")?Ey("px",n0.pixels,d):n0.invalid(d)},yh=Un(Un({},n0),{from:ds}),Xo=function(d,g){return dt(d,function(w){var T=yh.from(w);return T.fold(function(){return w},function(M){var F=M/g*100;return F+"%"},function(M){return M+"%"})})},Rl=function(d,g,w){var T=w/g;return dt(d,function(M){var F=yh.from(M);return F.fold(function(){return M},function(j){return j*T+"px"},function(j){return j/100*w+"px"})})},Cm=function(d,g){var w=d.fold(function(){return _e("")},function(T){var M=T/g;return _e(M+"px")},function(){var T=100/g;return _e(T+"%")});return ln(g,w)},Wc=function(d,g,w){return d.fold(function(){return g},function(T){return Rl(g,w,T)},function(T){return Xo(g,w)})},r0=function(d,g,w){var T=yh.from(w),M=kt(d,function(F){return F==="0px"})?Cm(T,d.length):Wc(T,d,g);return Kw(M)},Wd=function(d,g){return d.length===0?g:Gn(d,function(w,T){return yh.from(T).fold(_e(0),be,be)+w},0)},Dg=function(d,g){var w=Math.floor(d);return{value:w+g,remainder:d-w}},Mg=function(d,g){return yh.from(d).fold(_e(d),function(w){return w+g+"px"},function(w){return w+g+"%"})},Kw=function(d){if(d.length===0)return d;var g=Gn(d,function(T,M){var F=yh.from(M).fold(function(){return{value:M,remainder:0}},function(j){return Dg(j,"px")},function(j){return{value:j+"%",remainder:0}});return{output:[F.value].concat(T.output),remainder:T.remainder+F.remainder}},{output:[],remainder:0}),w=g.output;return w.slice(0,w.length-1).concat([Mg(w[w.length-1],Math.round(g.remainder))])},Xw=yh.from,wS=function(d,g,w){Dt(g,function(T){var M=d.slice(T.column,T.colspan+T.column),F=Wd(M,Ft());So(T.element,"width",F+w)})},Vf=function(d,g,w){Dt(g,function(T,M){var F=Wd([d[M]],Ft());So(T.element,"width",F+w)})},xS=function(d,g,w,T){Dt(w,function(M){var F=d.slice(M.row,M.rowspan+M.row),j=Wd(F,Nn());So(M.element,"height",j+T)}),Dt(g,function(M,F){So(M.element,"height",d[F])})},Zw=function(d){return Xw(d).fold(_e("px"),_e("px"),_e("%"))},S1=function(d,g,w){var T=Jr.fromTable(d),M=T.all,F=Jr.justCells(T),j=Jr.justColumns(T);g.each(function(te){var ye=Zw(te),Me=If(d),Xe=jp(T,d),At=r0(Xe,Me,te);Jr.hasColumns(T)?Vf(At,j,ye):wS(At,F,ye),So(d,"width",te)}),w.each(function(te){var ye=Zw(te),Me=tl(d),Xe=py(T,d,s1),At=r0(Xe,Me,te);xS(At,M,F,ye),So(d,"height",te)})},a0=c1,pu=cf,E1=ki,ky=function(d){var g=Jr.fromTable(d);return g.grid},vf=function(d){var g=[],w=function(F){if(F===void 0)throw new Error("Event bind error: undefined handler");g.push(F)},T=function(F){g=_n(g,function(j){return j!==F})},M=function(){for(var F=[],j=0;j<arguments.length;j++)F[j]=arguments[j];var te={};Dt(d,function(ye,Me){te[ye]=F[Me]}),Dt(g,function(ye){ye(te)})};return{bind:w,unbind:T,trigger:M}},$i=function(d){var g=Pc(d,function(T){return{bind:T.bind,unbind:T.unbind}}),w=Pc(d,function(T){return T.trigger});return{registry:g,trigger:w}},jc=function(d,g){var w=null,T=function(){x(w)||(clearTimeout(w),w=null)},M=function(){for(var F=[],j=0;j<arguments.length;j++)F[j]=arguments[j];T(),w=setTimeout(function(){w=null,d.apply(null,F)},g)};return{cancel:T,throttle:M}},_h=function(d){return d.slice(0).sort()},Ty=function(d,g){throw new Error("All required keys ("+_h(d).join(", ")+") were not specified. Specified keys were: "+_h(g).join(", ")+".")},k1=function(d){throw new Error("Unsupported keys for object: "+_h(d).join(", "))},Jw=function(d,g){if(!p(g))throw new Error("The "+d+" fields must be an array. Was: "+g+".");Dt(g,function(w){if(!c(w))throw new Error("The value "+w+" in the "+d+" fields was not a string.")})},Yr=function(d,g){throw new Error("All values need to be of type: "+g+". Keys ("+_h(d).join(", ")+") were not.")},Rg=function(d){var g=_h(d),w=Vt(g,function(T,M){return M<g.length-1&&T===g[M+1]});w.each(function(T){throw new Error("The field: "+T+" occurs more than once in the combined fields: ["+g.join(", ")+"].")})},T1=function(d,g){return Ay(d,g,{validate:q,label:"function"})},Ay=function(d,g,w){if(g.length===0)throw new Error("You must specify at least one required field.");return Jw("required",g),Rg(g),function(T){var M=Is(T),F=kt(g,function(te){return We(M,te)});F||Ty(g,M),d(g,M);var j=_n(g,function(te){return!w.validate(T[te],te)});return j.length>0&&Yr(j,w.label),T}},ws=function(d,g){var w=_n(g,function(T){return!We(d,T)});w.length>0&&k1(w)},hf=function(d){return T1(ws,d)},Qw=hf(["compare","extract","mutate","sink"]),Sm=hf(["element","start","stop","destroy"]),Wi=hf(["forceDrop","drop","move","delayDrop"]),Em=function(){var d=Y.none(),g=function(){d=Y.none()},w=function(F,j){var te=d.map(function(ye){return F.compare(ye,j)});return d=Y.some(j),te},T=function(F,j){var te=j.extract(F);te.each(function(ye){var Me=w(j,ye);Me.each(function(Xe){M.trigger.move(Xe)})})},M=$i({move:vf(["info"])});return{onEvent:T,reset:g,events:M.registry}},A1=function(){var d=$i({move:vf(["info"])});return{onEvent:ee,reset:ee,events:d.registry}},Pg=function(){var d=A1(),g=Em(),w=d,T=function(){w.reset(),w=g},M=function(){w.reset(),w=d},F=function(te,ye){w.onEvent(te,ye)},j=function(){return w===g};return{on:T,off:M,isOn:j,onEvent:F,events:g.events}},Oy=function(d,g,w){var T=!1,M=$i({start:vf([]),stop:vf([])}),F=Pg(),j=function(){$t.stop(),F.isOn()&&(F.off(),M.trigger.stop())},te=jc(j,200),ye=function(hn){$t.start(hn),F.on(),M.trigger.start()},Me=function(hn){te.cancel(),F.onEvent(hn,g)};F.events.move.bind(function(hn){g.mutate(d,hn.info)});var Xe=function(){T=!0},At=function(){T=!1},nn=function(hn){return function(){for(var wn=[],tr=0;tr<arguments.length;tr++)wn[tr]=arguments[tr];T&&hn.apply(null,wn)}},$t=g.sink(Wi({forceDrop:j,drop:nn(j),move:nn(Me),delayDrop:nn(te.throttle)}),w),Ot=function(){$t.destroy()};return{element:$t.element,go:ye,on:Xe,off:At,destroy:Ot,events:M.registry}},ex=function(d,g,w,T,M,F,j){return{target:d,x:g,y:w,stop:T,prevent:M,kill:F,raw:j}},i0=function(d){var g=Qt.fromDom(sr(d).getOr(d.target)),w=function(){return d.stopPropagation()},T=function(){return d.preventDefault()},M=se(T,w);return ex(g,d.clientX,d.clientY,w,T,M,d)},O1=function(d,g){return function(w){d(w)&&g(i0(w))}},jd=function(d,g,w,T,M){var F=O1(w,T);return d.dom.addEventListener(g,F,M),{unbind:Pe(Dy,d,g,F,M)}},Pl=function(d,g,w,T){return jd(d,g,w,T,!1)},Dy=function(d,g,w,T){d.dom.removeEventListener(g,w,T)},CS=K,fd=function(d,g,w){return Pl(d,g,CS,w)},zv=i0,D1=function(d,g){var w=Bc(d,g);return w===void 0||w===""?[]:w.split(" ")},SS=function(d,g,w){var T=D1(d,g),M=T.concat([w]);return os(d,g,M.join(" ")),!0},ES=function(d,g,w){var T=_n(D1(d,g),function(M){return M!==w});return T.length>0?os(d,g,T.join(" ")):Fi(d,g),!1},wh=function(d){return d.dom.classList!==void 0},km=function(d){return D1(d,"class")},Tm=function(d,g){return SS(d,"class",g)},Ha=function(d,g){return ES(d,"class",g)},xs=function(d,g){wh(d)?d.dom.classList.add(g):Tm(d,g)},Il=function(d){var g=wh(d)?d.dom.classList:km(d);g.length===0&&Fi(d,"class")},Kl=function(d,g){if(wh(d)){var w=d.dom.classList;w.remove(g)}else Ha(d,g);Il(d)},Ti=function(d,g){return wh(d)&&d.dom.classList.contains(g)},xh=function(d){var g=d.replace(/\./g,"-"),w=function(T){return g+"-"+T};return{resolve:w}},M1=xh("ephox-dragster"),Hs=M1.resolve,Yd=function(d){var g=Un({layerClass:Hs("blocker")},d),w=Qt.fromTag("div");os(w,"role","presentation"),fc(w,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),xs(w,Hs("blocker")),xs(w,g.layerClass);var T=_e(w),M=function(){Tl(w)};return{element:T,destroy:M}},kS=function(d,g){return Ci(g.left-d.left,g.top-d.top)},TS=function(d){return Y.some(Ci(d.x,d.y))},R1=function(d,g){d.mutate(g.left,g.top)},P1=function(d,g){var w=Yd(g),T=fd(w.element(),"mousedown",d.forceDrop),M=fd(w.element(),"mouseup",d.drop),F=fd(w.element(),"mousemove",d.move),j=fd(w.element(),"mouseout",d.delayDrop),te=function(){w.destroy(),M.unbind(),F.unbind(),j.unbind(),T.unbind()},ye=function(Xe){po(Xe,w.element())},Me=function(){Tl(w.element())};return Sm({element:w.element,start:ye,stop:Me,destroy:te})},My=Qw({compare:kS,extract:TS,sink:P1,mutate:R1}),Ry=function(d,g){g===void 0&&(g={});var w=g.mode!==void 0?g.mode:My;return Oy(d,w,g)},Am=function(d){return no(d,"[contenteditable]")},Ig=function(d,g){return g===void 0&&(g=!1),!ze().browser.isIE()&&Qr(d)?d.dom.isContentEditable:Am(d).fold(_e(g),function(w){return I1(w)==="true"})},I1=function(d){return d.dom.contentEditable},Py=xh("ephox-snooker"),Bg=Py.resolve,bu=function(){var d=$i({drag:vf(["xDelta","yDelta"])}),g=function(w,T){d.trigger.drag(w,T)};return{mutate:g,events:d.registry}},wc=function(){var d=$i({drag:vf(["xDelta","yDelta","target"])}),g=Y.none(),w=bu();w.events.drag.bind(function(F){g.each(function(j){d.trigger.drag(F.xDelta,F.yDelta,j)})});var T=function(F){g=Y.some(F)},M=function(){return g};return{assign:T,get:M,mutate:w.mutate,events:d.registry}},Ch=function(d,g,w,T,M){var F=Qt.fromTag("div");return fc(F,{position:"absolute",left:g-T/2+"px",top:w+"px",height:M+"px",width:T+"px"}),Io(F,{"data-column":d,role:"presentation"}),F},Cs=function(d,g,w,T,M){var F=Qt.fromTag("div");return fc(F,{position:"absolute",left:g+"px",top:w-M/2+"px",height:M+"px",width:T+"px"}),Io(F,{"data-row":d,role:"presentation"}),F},B1=Bg("resizer-bar"),Hv=Bg("resizer-rows"),Iy=Bg("resizer-cols"),By=7,tx=function(d,g){return jt(d.all,function(w,T){return g(w.element)?[T]:[]})},Ly=function(d,g){var w=[];return ln(d.grid.columns,function(T){var M=Jr.getColumnAt(d,T).map(function(F){return F.element});M.forall(g)&&w.push(T)}),_n(w,function(T){var M=Jr.filterItems(d,function(F){return F.column===T});return kt(M,function(F){return g(F.element)})})},o0=function(d){var g=Cl(d.parent(),"."+B1);Dt(g,Tl)},L1=function(d,g,w){var T=d.origin();Dt(g,function(M){M.each(function(F){var j=w(T,F);xs(j,B1),po(d.parent(),j)})})},nx=function(d,g,w,T){L1(d,g,function(M,F){var j=Ch(F.col,F.x-M.left,w.top-M.top,By,T);return xs(j,Iy),j})},AS=function(d,g,w,T){L1(d,g,function(M,F){var j=Cs(F.row,w.left-M.left,F.y-M.top,T,By);return xs(j,Hv),j})},Vs=function(d,g,w,T,M){var F=kv(w),j=g.isResizable,te=T.length>0?s1.positions(T,w):[],ye=te.length>0?tx(d,j):[],Me=_n(te,function($t,Ot){return z(ye,function(hn){return Ot===hn})});AS(g,Me,F,Ns(w));var Xe=M.length>0?mm.positions(M,w):[],At=Xe.length>0?Ly(d,j):[],nn=_n(Xe,function($t,Ot){return z(At,function(hn){return Ot===hn})});nx(g,nn,F,Go(w))},Us=function(d,g){if(o0(d),d.isResizable(g)){var w=Jr.fromTable(g),T=Ev(w),M=bs(w);Vs(w,d,g,T,M)}},al=function(d,g){var w=Cl(d.parent(),"."+B1);Dt(w,g)},il=function(d){al(d,function(g){So(g,"display","none")})},ol=function(d){al(d,function(g){So(g,"display","block")})},Zo=function(d){return Ti(d,Hv)},s0=function(d){return Ti(d,Iy)},u0=Bg("resizer-bar-dragging"),F1=function(d){var g=wc(),w=Ry(g,{}),T=Y.none(),M=function(Ot,hn){return Y.from(Bc(Ot,hn))};g.events.drag.bind(function(Ot){M(Ot.target,"data-row").each(function(hn){var wn=rn(Ot.target,"top");So(Ot.target,"top",wn+Ot.yDelta+"px")}),M(Ot.target,"data-column").each(function(hn){var wn=rn(Ot.target,"left");So(Ot.target,"left",wn+Ot.xDelta+"px")})});var F=function(Ot,hn){var wn=rn(Ot,hn),tr=sf(Ot,"data-initial-"+hn,0);return wn-tr};w.events.stop.bind(function(){g.get().each(function(Ot){T.each(function(hn){M(Ot,"data-row").each(function(wn){var tr=F(Ot,"top");Fi(Ot,"data-initial-top"),$t.trigger.adjustHeight(hn,tr,parseInt(wn,10))}),M(Ot,"data-column").each(function(wn){var tr=F(Ot,"left");Fi(Ot,"data-initial-left"),$t.trigger.adjustWidth(hn,tr,parseInt(wn,10))}),Us(d,hn)})})});var j=function(Ot,hn){$t.trigger.startAdjust(),g.assign(Ot),os(Ot,"data-initial-"+hn,rn(Ot,hn)),xs(Ot,u0),So(Ot,"opacity","0.2"),w.go(d.parent())},te=fd(d.parent(),"mousedown",function(Ot){Zo(Ot.target)&&j(Ot.target,"top"),s0(Ot.target)&&j(Ot.target,"left")}),ye=function(Ot){return sa(Ot,d.view())},Me=function(Ot){return no(Ot,"table",ye).filter(Ig)},Xe=fd(d.view(),"mouseover",function(Ot){Me(Ot.target).fold(function(){Qr(Ot.target)&&o0(d)},function(hn){T=Y.some(hn),Us(d,hn)})}),At=function(){te.unbind(),Xe.unbind(),w.destroy(),o0(d)},nn=function(Ot){Us(d,Ot)},$t=$i({adjustHeight:vf(["table","delta","row"]),adjustWidth:vf(["table","delta","column"]),startAdjust:vf([])});return{destroy:At,refresh:nn,on:w.on,off:w.off,hideBars:Pe(il,d),showBars:Pe(ol,d),events:$t.registry}},Om=function(d,g,w){var T=s1,M=mm,F=F1(d),j=$i({beforeResize:vf(["table","type"]),afterResize:vf(["table","type"]),startDrag:vf([])});return F.events.adjustHeight.bind(function(te){var ye=te.table;j.trigger.beforeResize(ye,"row");var Me=T.delta(te.delta,ye);Hf(ye,Me,te.row,T),j.trigger.afterResize(ye,"row")}),F.events.startAdjust.bind(function(te){j.trigger.startDrag()}),F.events.adjustWidth.bind(function(te){var ye=te.table;j.trigger.beforeResize(ye,"col");var Me=M.delta(te.delta,ye),Xe=w(ye);wm(ye,Me,te.column,g,Xe),j.trigger.afterResize(ye,"col")}),{on:F.on,off:F.off,hideBars:F.hideBars,showBars:F.showBars,destroy:F.destroy,events:j.registry}},Sh={create:Om},N1=function(d,g){return d.fire("newrow",{node:g})},Dm=function(d,g){return d.fire("newcell",{node:g})},Mm=function(d,g,w,T,M){d.fire("ObjectResizeStart",{target:g,width:w,height:T,origin:M})},Lg=function(d,g,w,T,M){d.fire("ObjectResized",{target:g,width:w,height:T,origin:M})},Fg=function(d,g,w,T,M){d.fire("TableSelectionChange",{cells:g,start:w,finish:T,otherCells:M})},$1=function(d){d.fire("TableSelectionClear")},dd=function(d,g,w){d.fire("TableModified",Un(Un({},w),{table:g}))},Rm={structure:!1,style:!0},ao={structure:!0,style:!1},OS={structure:!0,style:!0},DS="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",z1={"border-collapse":"collapse",width:"100%"},MS=ln(5,function(d){var g=d+1+"px";return{title:g,value:g}}),rx=dt(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],function(d){return{title:d,value:d.toLowerCase()}}),mn=function(d){var g;if(Vv(d)){var w=d.dom,T=(g=w.getParent(d.selection.getStart(),w.isBlock))!==null&&g!==void 0?g:d.getBody(),M=za(Qt.fromDom(T));return Un(Un({},z1),{width:M+"px"})}else return Yc(d)?Qu(z1,function(F,j){return j!=="width"}):z1},RS={border:"1"},Ss="preservetable",Fy=function(d){return d.getParam("table_sizing_mode","auto")},Pm=function(d){return d.getParam("table_responsive_width")},Uf=function(d){return d.getParam("table_border_widths",MS,"array")},sl=function(d){return d.getParam("table_border_styles",rx,"array")},l0=function(d){return d.getParam("table_default_attributes",RS,"object")},qd=function(d){return d.getParam("table_default_styles",mn(d),"object")},Ca=function(d){return d.getParam("table_resize_bars",!0,"boolean")},vd=function(d){return d.getParam("table_tab_navigation",!0,"boolean")},ul=function(d){return d.getParam("table_cell_advtab",!0,"boolean")},Jo=function(d){return d.getParam("table_row_advtab",!0,"boolean")},Bl=function(d){return d.getParam("table_advtab",!0,"boolean")},ll=function(d){return d.getParam("table_appearance_options",!0,"boolean")},ax=function(d){return d.getParam("table_grid",!0,"boolean")},cl=function(d){return d.getParam("table_style_by_css",!1,"boolean")},Gd=function(d){return d.getParam("table_cell_class_list",[],"array")},Eh=function(d){return d.getParam("table_row_class_list",[],"array")},c0=function(d){return d.getParam("table_class_list",[],"array")},yt=function(d){return Fy(d)==="relative"||Pm(d)===!0},Vv=function(d){return Fy(d)==="fixed"||Pm(d)===!1},Yc=function(d){return Fy(d)==="responsive"},ix=function(d){return d.getParam("table_toolbar",DS)},Im=function(d){return d.getParam("table_use_colgroups",!1,"boolean")},Ri=function(d){var g="section",w=d.getParam("table_header_type",g,"string"),T=["section","cells","sectionCells","auto"];return We(T,w)?w:g},Qo=function(d){var g=["preservetable","resizetable"],w=d.getParam("table_column_resizing",Ss,"string");return Vt(g,function(T){return T===w}).getOr(Ss)},H1=function(d){return Qo(d)==="preservetable"},Ny=function(d){return Qo(d)==="resizetable"},V1=function(d){var g=d.getParam("table_clone_elements");return c(g)?Y.some(g.split(/[ ,]/)):Array.isArray(g)?Y.some(g):Y.none()},$y=function(d){var g=d.getParam("object_resizing",!0);return c(g)?g==="table":g},zy=function(d){return d.getParam("table_background_color_map",[],"array")},Hy=function(d){return d.getParam("table_border_color_map",[],"array")},Vy=function(d,g){return yt(d)?Nd.percentageSize(g):Vv(d)?Nd.pixelSize(g):Nd.getTableSize(g)},kh=function(d){Fi(d,"width")},Ng=function(d){var g=gm(d);S1(d,Y.some(g),Y.none()),kh(d)},Uy=function(d){var g=my(d);S1(d,Y.some(g),Y.none()),kh(d)},PS=function(d){du(d,"width");var g=td(d),w=g.length>0?g:ed(d);Dt(w,function(T){du(T,"width"),kh(T)}),kh(d)},Bm=Ng,Uv=Uy,Xl=PS,Th=function(d){var g=Jr.fromTable(d);Jr.hasColumns(g)||Dt(ed(d),function(w){var T=Js(w,"width");So(w,"width",T),Fi(w,"width")})},$g=function(){var d=Qt.fromTag("div");return fc(d,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),po(yr(),d),d},Wy=function(d,g){return d.inline?t0.body(ud(d),$g(),g):t0.only(Qt.fromDom(d.getDoc()),g)},Eo=function(d,g){d.inline&&Tl(g.parent())},f0="bar-",Lo=function(d){return Bc(d,"data-mce-resize")!=="false"},d0=function(d){var g=Y.none(),w=Y.none(),T=Y.none(),M,F,j=function(Ot){return Ot.nodeName==="TABLE"},te=function(){return w},ye=function(){return T.getOr(t0.only(Qt.fromDom(d.getBody()),Lo))},Me=function(Ot){return Vy(d,Ot)},Xe=function(){return H1(d)?xm():x1()},At=function(Ot){return ky(Ot).columns},nn=function(Ot,hn,wn){var tr=Ms(hn,"e");if(F===""&&Bm(Ot),wn!==M&&F!==""){So(Ot,"width",F);var ja=Xe(),er=Me(Ot),Ir=H1(d)||tr?At(Ot)-1:0;wm(Ot,wn-M,Ir,ja,er)}else if(Hd(F)){var da=parseFloat(F.replace("%","")),la=wn*da/M;So(Ot,"width",la+"%")}Fv(F)&&Th(Ot)},$t=function(){w.each(function(Ot){Ot.destroy()}),T.each(function(Ot){Eo(d,Ot)})};return d.on("init",function(){var Ot=Wy(d,Lo);if(T=Y.some(Ot),$y(d)&&Ca(d)){var hn=Xe(),wn=Sh.create(Ot,hn,Me);wn.on(),wn.events.startDrag.bind(function(tr){g=Y.some(d.selection.getRng())}),wn.events.beforeResize.bind(function(tr){var ja=tr.table.dom;Mm(d,ja,Lv(ja),zd(ja),f0+tr.type)}),wn.events.afterResize.bind(function(tr){var ja=tr.table,er=ja.dom;Pu(ja),g.each(function(Ir){d.selection.setRng(Ir),d.focus()}),Lg(d,er,Lv(er),zd(er),f0+tr.type),d.undoManager.add()}),w=Y.some(wn)}}),d.on("ObjectResizeStart",function(Ot){var hn=Ot.target;if(j(hn)){var wn=Qt.fromDom(hn);Dt(d.dom.select(".mce-clonedresizable"),function(tr){d.dom.addClass(tr,"mce-"+Qo(d)+"-columns")}),!pu(wn)&&Vv(d)?Uv(wn):!a0(wn)&&yt(d)&&Bm(wn),E1(wn)&&Ds(Ot.origin,f0)&&Bm(wn),M=Ot.width,F=Yc(d)?"":Nf(d,hn).getOr("")}}),d.on("ObjectResized",function(Ot){var hn=Ot.target;if(j(hn)){var wn=Qt.fromDom(hn),tr=Ot.origin;Ds(tr,"corner-")&&nn(wn,tr,Ot.width),Pu(wn),dd(d,wn.dom,Rm)}}),d.on("SwitchMode",function(){te().each(function(Ot){d.mode.isReadOnly()?Ot.hideBars():Ot.showBars()})}),{lazyResize:te,lazyWire:ye,destroy:$t}},xc=function(d,g){return{element:d,offset:g}},Va=function(d,g,w){return d.property().isText(g)&&d.property().getText(g).trim().length===0||d.property().isComment(g)?w(g).bind(function(T){return Va(d,T,w).orThunk(function(){return Y.some(T)})}):Y.none()},zg=function(d,g){if(d.property().isText(g))return d.property().getText(g).length;var w=d.property().children(g);return w.length},qc=function(d,g){var w=Va(d,g,d.query().prevSibling).getOr(g);if(d.property().isText(w))return xc(w,zg(d,w));var T=d.property().children(w);return T.length>0?qc(d,T[T.length-1]):xc(w,zg(d,w))},jy=qc,IS=Fp(),Ji=function(d){return jy(IS,d)},BS=function(d,g){var w=ps(d,"colspan");if(w===1){var T=xg(d);T.each(function(M){var F=M.value/2;Rv(d,F,M.unit),Rv(g,F,M.unit)})}},v0=Qi("th"),Ah=function(d){return kt(d,function(g){return v0(g.element)})},LS=function(d,g){return d&&g?"sectionCells":d?"section":"cells"},ox=function(d){var g=d.section==="thead",w=Wl(Yy(d.cells),"th");return g||w?{type:"header",subType:LS(g,w)}:d.section==="tfoot"?{type:"footer"}:{type:"body"}},Yy=function(d){var g=_n(d,function(w){return v0(w.element)});return g.length===0?Y.some("td"):g.length===d.length?Y.some("th"):Y.none()},FS=function(d){var g=dt(d,function(F){return ox(F).type}),w=We(g,"header"),T=We(g,"footer");if(!w&&!T)return Y.some("body");var M=We(g,"body");return w&&!M&&!T?Y.some("header"):!w&&!M&&T?Y.some("footer"):Y.none()},NS=function(d){return xr(d.all,function(g){var w=ox(g);return w.type==="header"?Y.from(w.subType):Y.none()})},U1=function(d,g,w){return is(w(d.element,g),!0,d.isLocked)},qy=function(d,g){return d.section!==g?Ul(d.element,d.cells,g,d.isNew):d},yu=function(){return{transformRow:qy,transformCell:function(d,g,w){var T=w(d.element,g),M=wa(T)!=="td"?mS(T,"td"):T;return is(M,d.isNew,d.isLocked)}}},Hg=function(){return{transformRow:qy,transformCell:U1}},Vg=function(){return{transformRow:function(d,g){var w=g==="thead"?"tbody":g;return qy(d,w)},transformCell:U1}},sx=function(){return{transformRow:be,transformCell:U1}},$S=function(d,g){var w=Jr.fromTable(d),T=NS(w).getOr(g);switch(T){case"section":return yu();case"sectionCells":return Hg();case"cells":return Vg()}},h0={getTableSectionType:$S,section:yu,sectionCells:Hg,cells:Vg,fallback:sx},Lm=function(d,g,w,T){w===T?Fi(d,g):os(d,g,w)},Fm=function(d,g,w){Er($r(d,g)).fold(function(){return qo(d,w)},function(T){return di(T,w)})},Ug=function(d,g){var w=_r(d,g).getOrThunk(function(){var T=Qt.fromTag(g,Ic(d).dom);return g==="thead"?Fm(d,"caption,colgroup",T):g==="colgroup"?Fm(d,"caption",T):po(d,T),T});return Cv(w),w},m0=function(d,g){var w=[],T=[],M=function($t){return dt($t,function(Ot){Ot.isNew&&w.push(Ot.element);var hn=Ot.element;return Cv(hn),Dt(Ot.cells,function(wn){wn.isNew&&T.push(wn.element),Lm(wn.element,"colspan",wn.colspan,1),Lm(wn.element,"rowspan",wn.rowspan,1),po(hn,wn.element)}),hn})},F=function($t){return jt($t,function(Ot){return dt(Ot.cells,function(hn){return Lm(hn.element,"span",hn.colspan,1),hn.element})})},j=function($t,Ot){var hn=Ug(d,Ot),wn=Ot==="colgroup"?F:M,tr=wn($t);Fc(hn,tr)},te=function($t){_r(d,$t).each(Tl)},ye=function($t,Ot){$t.length>0?j($t,Ot):te(Ot)},Me=[],Xe=[],At=[],nn=[];return Dt(g,function($t){switch($t.section){case"thead":Me.push($t);break;case"tbody":Xe.push($t);break;case"tfoot":At.push($t);break;case"colgroup":nn.push($t);break}}),ye(nn,"colgroup"),ye(Me,"thead"),ye(Xe,"tbody"),ye(At,"tfoot"),{newRows:w,newCells:T}},Gy=function(d){return dt(d,function(g){var w=Rf(g.element);return Dt(g.cells,function(T){var M=Wa(T.element);Lm(M,"colspan",T.colspan,1),Lm(M,"rowspan",T.rowspan,1),po(w,M)}),w})},zS=function(d,g){return dt(d,function(w){return kl(w,g)})},ko=function(d,g){return d[g]},Ll=function(d,g){if(d.length===0)return 0;var w=d[0],T=xn(d,function(M){return!g(w.element,M.element)});return T.getOr(d.length)},HS=function(d,g,w,T){var M=ko(d,g),F=M.section==="colgroup",j=Ll(M.cells.slice(w),T),te=F?1:Ll(zS(d.slice(g),w),T);return{colspan:j,rowspan:te}},Oh=function(d,g){var w=dt(d,function(M){return dt(M.cells,at)}),T=function(M,F,j,te){for(var ye=M;ye<M+j;ye++)for(var Me=F;Me<F+te;Me++)w[ye][Me]=!0};return dt(d,function(M,F){var j=jt(M.cells,function(te,ye){if(w[F][ye]===!1){var Me=HS(d,F,ye,g);return T(F,ye,Me.rowspan,Me.colspan),[Wr(te.element,Me.rowspan,Me.colspan,te.isNew)]}else return[]});return lc(M.element,j,M.section,M.isNew)})},Dh=function(d,g,w){var T=[];Dt(d.colgroups,function(Xe){for(var At=[],nn=0;nn<d.grid.columns;nn++){var $t=Jr.getColumnAt(d,nn).map(function(Ot){return is(Ot.element,w,!1)}).getOrThunk(function(){return is(g.colGap(),!0,!1)});At.push($t)}T.push(Ul(Xe.element,At,"colgroup",w))});for(var M=0;M<d.grid.rows;M++){for(var F=[],j=0;j<d.grid.columns;j++){var te=Jr.getAt(d,M,j).map(function(Xe){return is(Xe.element,w,Xe.isLocked)}).getOrThunk(function(){return is(g.gap(),!0,!1)});F.push(te)}var ye=d.all[M],Me=Ul(ye.element,F,ye.section,w);T.push(Me)}return T},ux=function(d,g){return Dh(d,g,!1)},W1=function(d){return Oh(d,sa)},j1=function(d,g){return xr(d.all,function(w){return Vt(w.cells,function(T){return sa(g,T.element)})})},Y1=function(d,g,w){var T=dt(g.selection,function(F){return pi(F).bind(function(j){return j1(d,j)}).filter(w)}),M=ss(T);return $a(M.length>0,M)},Ws=function(d,g,w,T,M){return function(F,j,te,ye,Me){var Xe=Jr.fromTable(j),At=Y.from(Me==null?void 0:Me.section).getOrThunk(h0.fallback),nn=g(Xe,te).map(function($t){var Ot=ux(Xe,ye),hn=d(Ot,$t,sa,M(ye),At),wn=eu(hn.grid),tr=W1(hn.grid);return{info:$t,grid:tr,cursor:hn.cursor,lockedColumns:wn}});return nn.bind(function($t){var Ot=m0(j,$t.grid),hn=Y.from(Me==null?void 0:Me.sizing).getOrThunk(function(){return Nd.getTableSize(j)}),wn=Y.from(Me==null?void 0:Me.resize).getOrThunk(xm);return w(j,$t.grid,$t.info,{sizing:hn,resize:wn,section:At}),T(j),Us(F,j),Fi(j,go),$t.lockedColumns.length>0&&os(j,go,$t.lockedColumns.join(",")),Y.some({cursor:$t.cursor,newRows:Ot.newRows,newCells:Ot.newCells})})}},lx=function(d,g){return pi(g.element).bind(function(w){return j1(d,w).map(function(T){var M=Un(Un({},T),{generators:g.generators,clipboard:g.clipboard});return M})})},Ky=function(d,g){return Y1(d,g,K).map(function(w){return{cells:w,generators:g.generators,clipboard:g.clipboard}})},cx=function(d,g){return g.mergable},Xy=function(d,g){return g.unmergable},Wf=function(d,g){return Y1(d,g,K)},Wv=function(d,g){return Y1(d,g,function(w){return!w.isLocked})},fx=function(d,g){return j1(d,g).exists(function(w){return!w.isLocked})},dx=function(d,g){return kt(g,function(w){return fx(d,w)})},Zy=function(d,g){return cx(d,g).filter(function(w){return dx(d,w.cells)})},jv=function(d,g){return Xy(d,g).filter(function(w){return dx(d,w)})},vx=function(d,g,w,T){var M=uo(d).rows;if(M.length===0)return d;for(var F=g.startRow;F<=g.finishRow;F++)for(var j=g.startCol;j<=g.finishCol;j++){var te=M[F],ye=kl(te,j).isLocked;uf(te,j,is(T(),!1,ye))}return d},Wg=function(d,g,w,T){for(var M=uo(d).rows,F=!0,j=0;j<M.length;j++)for(var te=0;te<Qs(M[0]);te++){var ye=M[j],Me=kl(ye,te),Xe=Me.element,At=w(Xe,g);At===!0&&F===!1?uf(ye,te,is(T(),!0,Me.isLocked)):At===!0&&(F=!1)}return d},VS=function(d,g){return Ee(d,function(w,T){return z(w,function(M){return g(M.element,T.element)})?w:w.concat([T])},[])},g0=function(d,g,w,T){return g>0&&g<d[0].cells.length&&Dt(d,function(M){var F=M.cells[g-1],j=M.cells[g],te=w(j.element,F.element);te&&uf(M,g,is(T(),!0,j.isLocked))}),d},US=function(d,g,w,T){var M=uo(d).rows;if(g>0&&g<M.length){var F=M[g-1].cells,j=VS(F,w);Dt(j,function(te){for(var ye=Y.none(),Me=g;Me<M.length;Me++)for(var Xe=function(nn){var $t=M[Me],Ot=kl($t,nn),hn=w(Ot.element,te.element);hn&&(ye.isNone()&&(ye=Y.some(T())),ye.each(function(wn){uf($t,nn,is(wn,!0,Ot.isLocked))}))},At=0;At<Qs(M[0]);At++)Xe(At)})}return d},Nm=function(d){var g=function(At){return Nm(d)},w=function(At){return Nm(d)},T=function(At){return Nm(At(d))},M=function(At){return Nm(d)},F=function(At){At(d)},j=function(At){return At(d)},te=function(At,nn){return nn(d)},ye=function(At){return At(d)},Me=function(At){return At(d)},Xe=function(){return Y.some(d)};return{isValue:K,isError:at,getOr:_e(d),getOrThunk:_e(d),getOrDie:_e(d),or:g,orThunk:w,fold:te,map:T,mapError:M,each:F,bind:j,exists:ye,forall:Me,toOptional:Xe}},Mh=function(d){var g=function(Me){return Me()},w=function(){return lt(String(d))()},T=be,M=function(Me){return Me()},F=function(Me){return Mh(d)},j=function(Me){return Mh(Me(d))},te=function(Me){return Mh(d)},ye=function(Me,Xe){return Me(d)};return{isValue:at,isError:K,getOr:be,getOrThunk:g,getOrDie:w,or:T,orThunk:M,fold:ye,map:F,mapError:j,each:ee,bind:te,exists:at,forall:K,toOptional:Y.none}},Jy=function(d,g){return d.fold(function(){return Mh(g)},Nm)},hx={value:Nm,error:Mh,fromOption:Jy},WS=function(d,g,w){if(d.row>=g.length||d.column>Qs(g[0]))return hx.error("invalid start address out of table bounds, row: "+d.row+", column: "+d.column);var T=g.slice(d.row),M=T[0].cells.slice(d.column),F=Qs(w[0]),j=w.length;return hx.value({rowDelta:T.length-j,colDelta:M.length-F})},mx=function(d,g){var w=Qs(d[0]),T=Qs(g[0]);return{rowDelta:0,colDelta:w-T}},gx=function(d,g){var w=d.length,T=g.length;return{rowDelta:w-T,colDelta:0}},Qy=function(d,g,w,T){var M=g.section==="colgroup"?w.col:w.cell;return ln(d,function(F){return is(M(),!0,T(F))})},jS=function(d,g,w,T){var M=d[d.length-1];return d.concat(ln(g,function(){var F=M.section==="colgroup"?w.colgroup:w.row,j=us(M,F,be),te=Qy(j.cells.length,j,w,function(ye){return me(T,ye.toString())});return Tr(j,te)}))},q1=function(d,g,w,T){return dt(d,function(M){var F=Qy(g,M,w,at);return yv(M,T,F)})},YS=function(d,g,w){return dt(d,function(T){return Ee(w,function(M,F){var j=Qy(1,T,g,K)[0];return Dd(M,F,j)},T)})},p0=function(d,g,w){var T=g.colDelta<0?q1:be,M=g.rowDelta<0?jS:be,F=eu(d),j=Qs(d[0]),te=z(F,function(Xe){return Xe===j-1}),ye=T(d,Math.abs(g.colDelta),w,te?j-1:j),Me=eu(ye);return M(ye,Math.abs(g.rowDelta),w,st(Me,K))},qS=function(d,g,w,T){var M=kl(d[g],w),F=Pe(T,M.element),j=d[g];return d.length>1&&Qs(j)>1&&(w>0&&F(Bs(j,w-1))||w<j.cells.length-1&&F(Bs(j,w+1))||g>0&&F(Bs(d[g-1],w))||g<d.length-1&&F(Bs(d[g+1],w)))},GS=function(d,g,w,T,M,F){for(var j=d.row,te=d.column,ye=w.length,Me=Qs(w[0]),Xe=j+ye,At=te+Me+F.length,nn=st(F,K),$t=j;$t<Xe;$t++)for(var Ot=0,hn=te;hn<At;hn++){if(nn[hn]){Ot++;continue}qS(g,$t,hn,M)&&Wg(g,Bs(g[$t],hn),M,T.cell);var wn=hn-te-Ot,tr=kl(w[$t-j],wn),ja=tr.element,er=T.replace(ja);uf(g[$t],hn,is(er,!0,tr.isLocked))}return g},KS=function(d,g,w){var T=Qs(g[0]),M=uo(g).cols.length+d.row,F=ln(T-d.column,function(te){return te+d.column}),j=Vt(F,function(te){return kt(w,function(ye){return ye!==te})}).getOr(T-1);return{row:M,column:j}},G1=function(d,g,w){return _n(w,function(T){return T>=d.column&&T<=Qs(g[0])+d.column})},XS=function(d,g,w,T,M){var F=eu(g),j=KS(d,g,F),te=uo(w).rows,ye=G1(j,te,F),Me=WS(j,g,te);return Me.map(function(Xe){var At=Un(Un({},Xe),{colDelta:Xe.colDelta-ye.length}),nn=p0(g,At,T),$t=eu(nn),Ot=G1(j,te,$t);return GS(j,nn,te,T,M,Ot)})},jg=function(d,g,w,T,M){g0(g,d,M,T.cell);var F=gx(w,g),j=p0(w,F,T),te=gx(g,j),ye=p0(g,te,T);return dt(ye,function(Me,Xe){return yv(Me,d,j[Xe].cells)})},px=function(d,g,w,T,M){US(g,d,M,T.cell);var F=eu(g),j=mx(g,w),te=Un(Un({},j),{colDelta:j.colDelta-F.length}),ye=p0(g,te,T),Me=uo(ye),Xe=Me.cols,At=Me.rows,nn=eu(ye),$t=mx(w,g),Ot=Un(Un({},$t),{colDelta:$t.colDelta+nn.length}),hn=YS(w,T,nn),wn=p0(hn,Ot,T);return Xe.concat(At.slice(0,d)).concat(wn).concat(At.slice(d,At.length))},ZS=function(d,g,w,T){return us(d,function(M){return T(M,w)},g)},e_=function(d,g,w,T,M){var F=uo(d),j=F.rows,te=F.cols,ye=j.slice(0,g),Me=j.slice(g),Xe=ZS(j[w],function(At,nn){var $t=g>0&&g<j.length&&T(Bs(j[g-1],nn),Bs(j[g],nn)),Ot=$t?kl(j[g],nn):is(M(At.element,T),!0,At.isLocked);return Ot},T,M);return te.concat(ye).concat([Xe]).concat(Me)},bx=function(d,g,w,T,M,F,j){if(w==="colgroup"||!T){var te=kl(d,M);return is(j(te.element,F),!0,!1)}else return kl(d,g)},t_=function(d,g,w,T,M){return dt(d,function(F){var j=g>0&&g<Qs(F)&&T(Bs(F,g-1),Bs(F,g)),te=bx(F,g,F.section,j,w,T,M);return Dd(F,g,te)})},yx=function(d,g){return jt(d,function(w){var T=w.cells,M=Gn(g,function(F,j){return j>=0&&j<F.length?F.slice(0,j).concat(F.slice(j+1)):F},T);return M.length>0?[Ul(w.element,M,w.section,w.isNew)]:[]})},_x=function(d,g,w){var T=uo(d),M=T.rows,F=T.cols;return F.concat(M.slice(0,g)).concat(M.slice(w+1))},Yg=function(d,g,w,T){return Bs(d[g],w)!==void 0&&g>0&&T(Bs(d[g-1],w),Bs(d[g],w))},n_=function(d,g,w){return g>0&&w(Bs(d,g-1),Bs(d,g))},b0=function(d,g,w,T){return Yg(d,g,w,T)||n_(d[g],w,T)},wx=function(d,g){var w=kt(g,be)&&Ah(d.cells);return w?K:function(T,M,F){var j=wa(T.element);return!(j==="th"&&g[F])}},xx=function(d,g){var w=kt(g,be)&&Ah(d);return w?K:function(T,M,F){var j=wa(T.element);return!(j==="th"&&g[M])}},r_=function(d,g,w,T){var M=function(te){return te==="row"?pt(g):Of(g)},F=function(te){return M(te)?te+"group":te};if(d)return v0(g)?F(w):null;if(T&&v0(g)){var j=w==="row"?"col":"row";return F(j)}else return null},JS=function(d,g){return function(w,T,M){return Y.some(r_(d,w.element,"col",g[M]))}},Cx=function(d,g){return function(w,T){return Y.some(r_(d,w.element,"row",g[T]))}},Kd=function(d,g,w){return is(w(d.element,g),!0,d.isLocked)},qg=function(d,g,w,T,M,F,j){var te=function(ye){return z(g,function(Me){return w(ye.element,Me.element)})};return dt(d,function(ye,Me){return Lc(ye,function(Xe,At){if(te(Xe)){var nn=j(Xe,Me,At)?M(Xe,w,T):Xe;return F(nn,Me,At).each(function($t){pv(nn.element,{scope:Y.from($t)})}),nn}else return Xe})})},Sx=function(d,g,w){return jt(d,function(T,M){return b0(d,M,g,w)?[]:[kl(T,g)]})},QS=function(d,g,w){var T=d[g];return jt(T.cells,function(M,F){return b0(d,g,F,w)?[]:[M]})},Cc=function(d,g,w,T,M){var F=uo(d).rows,j=jt(g,function(Xe){return Sx(F,Xe,T)}),te=dt(d,function(Xe){return Ah(Xe.cells)}),ye=xx(j,te),Me=Cx(w,te);return qg(d,j,T,M,Kd,Me,ye)},a_=function(d,g,w,T,M,F,j){var te=uo(d),ye=te.cols,Me=te.rows,Xe=Me[g[0]],At=jt(g,function(tr){return QS(Me,tr,M)}),nn=dt(Xe.cells,function(tr,ja){return Ah(Sx(Me,ja,M))}),$t=ba([],Me,!0);Dt(g,function(tr){$t[tr]=j.transformRow(Me[tr],w)});var Ot=ye.concat($t),hn=wx(Xe,nn),wn=JS(T,nn);return qg(Ot,At,M,F,j.transformCell,wn,hn)},i_=function(d,g,w,T){var M=uo(d).rows,F=dt(g,function(j){return kl(M[j.row],j.column)});return qg(d,F,w,T,Kd,Y.none,K)},Gg=function(d){var g=function(w,T){var M=z(w,function(F){return F.column===T.column});return M?w:w.concat([T])};return Ee(d,g,[]).sort(function(w,T){return w.column-T.column})},fl=Qi("col"),o_=Qi("colgroup"),Rh=function(d){return wa(d)==="tr"||o_(d)},$m=function(d){var g=sf(d,"colspan",1),w=sf(d,"rowspan",1);return{element:d,colspan:g,rowspan:w}},Kg=function(d,g){g===void 0&&(g=$m);var w=function(te){return fl(te.element)?d.col(te):d.cell(te)},T=function(te){return o_(te.element)?d.colgroup(te):d.row(te)},M=function(te){if(Rh(te))return T({element:te});var ye=w(g(te));return F=Y.some({item:te,replacement:ye}),ye},F=Y.none(),j=function(te,ye){return F.fold(function(){return M(te)},function(Me){return ye(te,Me.item)?Me.replacement:M(te)})};return{getOrInit:j}},e2=function(d){return function(g){var w=[],T=function(j,te){return Vt(w,function(ye){return te(ye.item,j)})},M=function(j){var te=d==="td"?{scope:null}:{},ye=g.replace(j,d,te);return w.push({item:j,sub:ye}),ye},F=function(j,te){return Rh(j)||fl(j)?j:T(j,te).fold(function(){return M(j)},function(ye){return te(j,ye.item)?ye.sub:M(j)})};return{replaceOrInit:F}}},Ex=function(d){return Na(d,"scope").map(function(g){return g.substr(0,3)})},s_=function(d){var g=function(T){var M=Ex(T);return M.each(function(F){return os(T,"scope",F)}),function(){var F=d.cell({element:T,colspan:1,rowspan:1});return du(F,"width"),du(T,"width"),M.each(function(j){return os(F,"scope",j)}),F}},w=function(T){var M=function(){var F=ss(dt(T,Ex));if(F.length===0)return Y.none();var j=F[0],te=["row","col"],ye=z(F,function(Me){return Me!==j&&We(te,Me)});return ye?Y.none():Y.from(j)};return du(T[0],"width"),M().fold(function(){return Fi(T[0],"scope")},function(F){return os(T[0],"scope",F+"group")}),_e(T[0])};return{unmerge:g,merge:w}},Zl={modification:Kg,transform:e2,merging:s_},Xg=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],t2=function(d,g){var w=d.property().name(g);return We(["ol","ul"],w)},zm=function(d,g){var w=d.property().name(g);return We(Xg,w)},Ph=function(d,g){return We(["br","img","hr","input"],d.property().name(g))},Ih=Fp(),Xd=function(d){return zm(Ih,d)},hd=function(d){return t2(Ih,d)},md=function(d){return Ph(Ih,d)},K1=function(d){var g=function(ye){return wa(ye)==="br"},w=function(ye){return kt(ye,function(Me){return g(Me)||Tu(Me)&&dc(Me).trim().length===0})},T=function(ye){return wa(ye)==="li"||to(ye,hd).isSome()},M=function(ye){return Z(ye).map(function(Me){return Xd(Me)?!0:md(Me)?wa(Me)!=="img":!1}).getOr(!1)},F=function(ye){return Kp(ye).bind(function(Me){var Xe=M(Me);return eo(Me).map(function(At){return Xe===!0||T(At)||g(Me)||Xd(At)&&!sa(ye,At)?[]:[Qt.fromTag("br")]})}).getOr([])},j=function(){var ye=jt(d,function(Me){var Xe=N(Me);return w(Xe)?[]:Xe.concat(F(Me))});return ye.length===0?[Qt.fromTag("br")]:ye},te=j();Cv(d[0]),Fc(d[0],te)},X1=function(d){return Ig(d,!0)},u_=function(d){var g=ed(d);g.length===0&&Tl(d)},Zg=function(d,g){return{grid:d,cursor:g}},Jg=function(d){return xr(d,function(g){return xr(g.cells,function(w){var T=w.element;return $a(X1(T),T)})})},Qg=function(d,g,w){var T,M,F=uo(d).rows;return Y.from((M=(T=F[g])===null||T===void 0?void 0:T.cells[w])===null||M===void 0?void 0:M.element).filter(X1).orThunk(function(){return Jg(F)})},Bu=function(d,g,w){var T=Qg(d,g,w);return Zg(d,T)},ep=function(d){var g=function(w,T){var M=z(w,function(F){return F.row===T.row});return M?w:w.concat([T])};return Ee(d,g,[]).sort(function(w,T){return w.row-T.row})},tp=function(d,g,w,T){var M=g[0].row,F=ep(g),j=Gn(F,function(te,ye){var Me=e_(te.grid,M,ye.row+te.delta,w,T.getOrInit);return{grid:Me,delta:te.delta+1}},{grid:d,delta:0}).grid;return Bu(j,M,g[0].column)},Z1=function(d,g,w,T){var M=ep(g),F=M[M.length-1],j=F.row+F.rowspan,te=Gn(M,function(ye,Me){return e_(ye,j,Me.row,w,T.getOrInit)},d);return Bu(te,j,g[0].column)},n2=function(d,g,w,T){var M=g.details,F=Gg(M),j=F[0].column,te=Gn(F,function(ye,Me){var Xe=t_(ye.grid,j,Me.column+ye.delta,w,T.getOrInit);return{grid:Xe,delta:ye.delta+1}},{grid:d,delta:0}).grid;return Bu(te,M[0].row,j)},l_=function(d,g,w,T){var M=g.details,F=M[M.length-1],j=F.column+F.colspan,te=Gg(M),ye=Gn(te,function(Me,Xe){return t_(Me,j,Xe.column,w,T.getOrInit)},d);return Bu(ye,M[0].row,j)},J1=function(d,g,w,T){var M=Gg(g),F=dt(M,function(te){return te.column}),j=Cc(d,F,!0,w,T.replaceOrInit);return Bu(j,g[0].row,g[0].column)},_u=function(d,g,w,T){var M=i_(d,g,w,T.replaceOrInit);return Bu(M,g[0].row,g[0].column)},r2=function(d,g,w,T){var M=Gg(g),F=dt(M,function(te){return te.column}),j=Cc(d,F,!1,w,T.replaceOrInit);return Bu(j,g[0].row,g[0].column)},Zd=function(d,g,w,T){var M=i_(d,g,w,T.replaceOrInit);return Bu(M,g[0].row,g[0].column)},Q1=function(d,g){return function(w,T,M,F,j){var te=ep(T),ye=dt(te,function(Xe){return Xe.row}),Me=a_(w,ye,d,g,M,F.replaceOrInit,j);return Bu(Me,T[0].row,T[0].column)}},c_=Q1("thead",!0),np=Q1("tbody",!1),_=Q1("tfoot",!1),S=function(d,g,w,T){var M=Gg(g.details),F=yx(d,dt(M,function(te){return te.column})),j=F.length>0?F[0].cells.length-1:0;return Bu(F,M[0].row,Math.min(M[0].column,j))},B=function(d,g,w,T){var M=ep(g),F=_x(d,M[0].row,M[M.length-1].row),j=F.length>0?F.length-1:0;return Bu(F,Math.min(g[0].row,j),g[0].column)},X=function(d,g,w,T){var M=g.cells;K1(M);var F=vx(d,g.bounds,w,T.merge(M));return Zg(F,Y.from(M[0]))},pe=function(d,g,w,T){var M=function(j,te){return Wg(j,te,w,T.unmerge(te))},F=Gn(g,M,d);return Zg(F,Y.from(g[0]))},Be=function(d,g,w,T){var M=function(ye,Me){var Xe=Jr.fromTable(ye);return Dh(Xe,Me,!0)},F=M(g.clipboard,g.generators),j=Ma(g.row,g.column),te=XS(j,d,F,g.generators,w);return te.fold(function(){return Zg(d,Y.some(g.element))},function(ye){return Bu(ye,g.row,g.column)})},Ke=function(d,g,w){var T=Ni(d,w.section),M=Jr.generate(T);return Dh(M,g,!0)},it=function(d,g,w,T){var M=uo(d).rows,F=g.cells[0].column,j=M[g.cells[0].row],te=Ke(g.clipboard,g.generators,j),ye=jg(F,d,te,g.generators,w);return Bu(ye,g.cells[0].row,g.cells[0].column)},bt=function(d,g,w,T){var M=uo(d).rows,F=g.cells[g.cells.length-1].column+g.cells[g.cells.length-1].colspan,j=M[g.cells[0].row],te=Ke(g.clipboard,g.generators,j),ye=jg(F,d,te,g.generators,w);return Bu(ye,g.cells[0].row,g.cells[0].column)},gn=function(d,g,w,T){var M=uo(d).rows,F=g.cells[0].row,j=M[F],te=Ke(g.clipboard,g.generators,j),ye=px(F,d,te,g.generators,w);return Bu(ye,g.cells[0].row,g.cells[0].column)},bn=function(d,g,w,T){var M=uo(d).rows,F=g.cells[g.cells.length-1].row+g.cells[g.cells.length-1].rowspan,j=M[g.cells[0].row],te=Ke(g.clipboard,g.generators,j),ye=px(F,d,te,g.generators,w);return Bu(ye,g.cells[0].row,g.cells[0].column)},Dn=function(d,g){var w=Jr.fromTable(d),T=Wf(w,g);return T.bind(function(M){var F=M[M.length-1],j=M[0].column,te=F.column+F.colspan,ye=Ga(dt(w.all,function(Me){return _n(Me.cells,function(Xe){return Xe.column>=j&&Xe.column<te})}));return Yy(ye)}).getOr("")},ir=function(d,g){var w=Jr.fromTable(d),T=Wf(w,g);return T.bind(Yy).getOr("")},Or=function(d,g){var w=Jr.fromTable(d),T=Wf(w,g);return T.bind(function(M){var F=M[M.length-1],j=M[0].row,te=F.row+F.rowspan,ye=w.all.slice(j,te);return FS(ye)}).getOr("")},aa=function(d,g,w,T){return Ml(d,g,w,T.sizing)},ea=function(d,g,w,T){return cd(d,g,w,T.sizing,T.resize)},Hr=function(d,g){return z(g,function(w){return w.column===0&&w.isLocked})},ni=function(d,g){return z(g,function(w){return w.column+w.colspan>=d.grid.columns&&w.isLocked})},Ua=function(d,g){var w=bs(d),T=Gg(g);return Ee(T,function(M,F){var j=w[F.column],te=j.map(Ns).getOr(0);return M+te},0)},vs=function(d){return function(g,w){return Wf(g,w).filter(function(T){var M=d?Hr:ni;return!M(g,T)}).map(function(T){return{details:T,pixelDelta:Ua(g,T)}})}},es=function(d,g){return Wv(d,g).map(function(w){return{details:w,pixelDelta:-Ua(d,w)}})},io=function(d){return function(g,w){return Ky(g,w).filter(function(T){var M=d?Hr:ni;return!M(g,T.cells)})}},zi=Zl.transform("th"),Jl=Zl.transform("td"),dl=Ws(tp,Wf,ee,ee,Zl.modification),Bh=Ws(Z1,Wf,ee,ee,Zl.modification),Vk=Ws(n2,vs(!0),ea,ee,Zl.modification),Uk=Ws(l_,vs(!1),ea,ee,Zl.modification),DD=Ws(S,es,ea,u_,Zl.modification),MD=Ws(B,Wf,ee,u_,Zl.modification),Wk=Ws(J1,Wv,ee,ee,zi),jk=Ws(r2,Wv,ee,ee,Jl),Yk=Ws(c_,Wv,ee,ee,zi),RD=Ws(np,Wv,ee,ee,Jl),qk=Ws(_,Wv,ee,ee,Jl),PD=Ws(_u,Wv,ee,ee,zi),Gk=Ws(Zd,Wv,ee,ee,Jl),Kk=Ws(X,Zy,aa,ee,Zl.merging),a2=Ws(pe,jv,aa,ee,Zl.merging),Xk=Ws(Be,lx,aa,ee,Zl.modification),ID=Ws(it,io(!0),ee,ee,Zl.modification),Ta=Ws(bt,io(!1),ee,ee,Zl.modification),y0=Ws(gn,Ky,ee,ee,Zl.modification),eb=Ws(bn,Ky,ee,ee,Zl.modification),i2=Dn,BD=ir,Gc=Or,LD=function(d,g,w){var T=function($u){return wa(ud($u))==="table"},M=function($u){return T(d)===!1||ky($u).rows>1},F=function($u){return T(d)===!1||ky($u).columns>1},j=V1(d),te=Ny(d)?ee:BS,ye=function($u){switch(Ri(d)){case"section":return h0.section();case"sectionCells":return h0.sectionCells();case"cells":return h0.cells();default:return h0.getTableSectionType($u,"section")}},Me=function($u,R_){return R_.cursor.fold(function(){var qm=ed($u);return pn(qm).filter(Qr).map(function(qv){g.clear($u);var qf=d.dom.createRng();return qf.selectNode(qv.dom),d.selection.setRng(qf),os(qv,"data-mce-selected","1"),qf})},function(qm){var qv=Ji(qm),qf=d.dom.createRng();return qf.setStart(qv.element.dom,qv.offset),qf.setEnd(qv.element.dom,qv.offset),d.selection.setRng(qf),g.clear($u),Y.some(qf)})},Xe=function($u,R_,qm,qv,qf){return function(jh,dC,wb){wb===void 0&&(wb=!1),Pu(jh);var xb=qv(),Cb=Qt.fromDom(d.getDoc()),Gv=Br(qm,Cb,j),Sb={sizing:Vy(d,jh),resize:Ny(d)?x1():xm(),section:ye(jh)};return R_(jh)?$u(xb,jh,dC,Gv,Sb).bind(function(Eb){Dt(Eb.newRows,function(kb){N1(d,kb.dom)}),Dt(Eb.newCells,function(kb){Dm(d,kb.dom)});var uE=Me(jh,Eb);return Qr(jh)&&(Pu(jh),wb||dd(d,jh.dom,qf)),uE.map(function(kb){return{rng:kb,effect:qf}})}):Y.none()}},At=Xe(MD,M,ee,w,ao),nn=Xe(DD,F,ee,w,ao),$t=Xe(dl,K,ee,w,ao),Ot=Xe(Bh,K,ee,w,ao),hn=Xe(Vk,K,te,w,ao),wn=Xe(Uk,K,te,w,ao),tr=Xe(Kk,K,ee,w,ao),ja=Xe(a2,K,ee,w,ao),er=Xe(ID,K,ee,w,ao),Ir=Xe(Ta,K,ee,w,ao),da=Xe(y0,K,ee,w,ao),la=Xe(eb,K,ee,w,ao),hs=Xe(Xk,K,ee,w,OS),Fu=Xe(PD,K,ee,w,ao),Nu=Xe(Gk,K,ee,w,ao),Ia=Xe(Wk,K,ee,w,ao),Fr=Xe(jk,K,ee,w,ao),Sa=Xe(Yk,K,ee,w,ao),Si=Xe(RD,K,ee,w,ao),Fo=Xe(qk,K,ee,w,ao),Ym=BD,yi=i2,gf=Gc;return{deleteRow:At,deleteColumn:nn,insertRowsBefore:$t,insertRowsAfter:Ot,insertColumnsBefore:hn,insertColumnsAfter:wn,mergeCells:tr,unmergeCells:ja,pasteColsBefore:er,pasteColsAfter:Ir,pasteRowsBefore:da,pasteRowsAfter:la,pasteCells:hs,makeCellsHeader:Fu,unmakeCellsHeader:Nu,makeColumnsHeader:Ia,unmakeColumnsHeader:Fr,makeRowsHeader:Sa,makeRowsBody:Si,makeRowsFooter:Fo,getTableRowType:gf,getTableCellType:Ym,getTableColType:yi}},_0={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},rp=function(){return Qt.fromTag("th")},kx=function(){return Qt.fromTag("td")},Tx=function(){return Qt.fromTag("col")},FD=function(d,g,w,T){for(var M=Qt.fromTag("tr"),F=0;F<d;F++){var j=T<g||F<w?rp():kx();F<w&&os(j,"scope","row"),T<g&&os(j,"scope","col"),po(j,Qt.fromTag("br")),po(M,j)}return M},Zk=function(d){var g=Qt.fromTag("colgroup");return ln(d,function(){return po(g,Tx())}),g},Ax=function(d,g,w,T){return ln(d,function(M){return FD(g,w,T,M)})},o2=function(d,g,w,T,M,F){F===void 0&&(F=_0);var j=Qt.fromTag("table"),te=M!=="cells";fc(j,F.styles),Io(j,F.attributes),F.colGroups&&po(j,Zk(g));var ye=Math.min(d,w);if(te&&w>0){var Me=Qt.fromTag("thead");po(j,Me);var Xe=M==="sectionCells"?ye:0,At=Ax(w,g,Xe,T);Fc(Me,At)}var nn=Qt.fromTag("tbody");po(j,nn);var $t=te?d-ye:d,Ot=te?0:w,hn=Ax($t,g,Ot,T);return Fc(nn,hn),j},tb=function(d){return d.dom.innerHTML},Ox=function(d){var g=Qt.fromTag("div"),w=Qt.fromDom(d.dom.cloneNode(!0));return po(g,w),tb(g)},ND=function(d,g){d.selection.select(g.dom,!0),d.selection.collapse(!0)},Lh=function(d,g){Co(g,"td,th").each(Pe(ND,d))},s2=function(d,g){Dt(Cl(g,"tr"),function(w){N1(d,w.dom),Dt(Cl(w,"th,td"),function(T){Dm(d,T.dom)})})},u2=function(d){return c(d)&&d.indexOf("%")!==-1},nb=function(d,g,w,T,M){var F=qd(d),j={styles:F,attributes:l0(d),colGroups:Im(d)};return d.undoManager.ignore(function(){var te=o2(w,g,M,T,Ri(d),j);os(te,"data-mce-id","__mce");var ye=Ox(te);d.insertContent(ye),d.addVisual()}),Co(ud(d),'table[data-mce-id="__mce"]').map(function(te){return Vv(d)?Uv(te):Yc(d)?Xl(te):(yt(d)||u2(F.width))&&Bm(te),Pu(te),Fi(te,"data-mce-id"),s2(d,te),Lh(d,te),te.dom}).getOr(null)},l2=function(d,g,w,T,M){T===void 0&&(T={});var F=function(ye){return ie(ye)&&ye>0};if(F(g)&&F(w)){var j=T.headerRows||0,te=T.headerColumns||0;return nb(d,w,g,te,j)}else return console.error(M),null},f_=function(d){return function(){return d().fold(function(){return[]},function(g){return dt(g,function(w){return w.dom})})}},Jk=function(d){return function(g){var w=g.length>0?Y.some(ys(g)):Y.none();d(w)}},$D=function(d){return function(g,w,T){T===void 0&&(T={});var M=l2(d,w,g,T,"Invalid values for insertTable - rows and columns values are required to insert a table.");return d.undoManager.add(),M}},Fh=function(d,g,w,T){return{insertTable:$D(d),setClipboardRows:Jk(g.setRows),getClipboardRows:f_(g.getRows),setClipboardCols:Jk(g.setColumns),getClipboardCols:f_(g.getColumns),resizeHandler:w,selectionTargets:T}},mf=function(d,g,w){var T=sf(d,g,1);w===1||T<=1?Fi(d,g):os(d,g,Math.min(w,T))},vl=function(d,g,w){if(Jr.hasColumns(d)){var T=_n(Jr.justColumns(d),function(j){return j.column>=g&&j.column<w}),M=dt(T,function(j){var te=Wa(j.element);return mf(te,"span",w-g),te}),F=Qt.fromTag("colgroup");return Fc(F,M),[F]}else return[]},zD=function(d,g,w){return dt(d.all,function(T){var M=_n(T.cells,function(te){return te.column>=g&&te.column<w}),F=dt(M,function(te){var ye=Wa(te.element);return mf(ye,"colspan",w-g),ye}),j=Qt.fromTag("tr");return Fc(j,F),j})},c2=function(d,g){var w=Jr.fromTable(d),T=Wv(w,g);return T.map(function(M){var F=M[M.length-1],j=M[0].column,te=F.column+F.colspan,ye=vl(w,j,te),Me=zD(w,j,te);return ba(ba([],ye,!0),Me,!0)})},rb=function(d,g,w){var T=Jr.fromTable(d),M=Wf(T,g);return M.bind(function(F){var j=Dh(T,w,!1),te=uo(j).rows,ye=te.slice(F[0].row,F[F.length-1].row+F[F.length-1].rowspan),Me=jt(ye,function(At){var nn=_n(At.cells,function($t){return!$t.isLocked});return nn.length>0?[Un(Un({},At),{cells:nn})]:[]}),Xe=W1(Me);return $a(Xe.length>0,Xe)}).map(function(F){return Gy(F)})},f2=tinymce.util.Tools.resolve("tinymce.util.Tools"),d_=function(d,g,w){var T=d.select("td,th",g),M,F=function(j,te){for(var ye=0;ye<te.length;ye++){var Me=d.getStyle(te[ye],w);if(typeof j>"u"&&(j=Me),j!==Me)return""}return j};return F(M,T)},d2=function(d,g,w){w&&d.formatter.apply("align"+w,{},g)},HD=function(d,g,w){w&&d.formatter.apply("valign"+w,{},g)},Sn=function(d,g){f2.each("left center right".split(" "),function(w){d.formatter.remove("align"+w,{},g)})},au=function(d,g){f2.each("top middle bottom".split(" "),function(w){d.formatter.remove("valign"+w,{},g)})},ab=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],Lu=function(d){return{value:d}},gd=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,v2=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,v_=function(d){return gd.test(d)||v2.test(d)},Dx=function(d){return wo(d,"#").toUpperCase()},Mx=function(d){return v_(d)?Y.some({value:Dx(d)}):Y.none()},Rx=function(d){var g=d.toString(16);return(g.length===1?"0"+g:g).toUpperCase()},ap=function(d){var g=Rx(d.red)+Rx(d.green)+Rx(d.blue);return Lu(g)},h_=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,h2=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,m2=function(d,g,w,T){return{red:d,green:g,blue:w,alpha:T}},g2=function(d,g,w,T){var M=parseInt(d,10),F=parseInt(g,10),j=parseInt(w,10),te=parseFloat(T);return m2(M,F,j,te)},VD=function(d){if(d==="transparent")return Y.some(m2(0,0,0,0));var g=h_.exec(d);if(g!==null)return Y.some(g2(g[1],g[2],g[3],"1"));var w=h2.exec(d);return w!==null?Y.some(g2(w[1],w[2],w[3],w[4])):Y.none()},Qk=function(d){return Mx(d).orThunk(function(){return VD(d).map(ap)}).getOrThunk(function(){var g=document.createElement("canvas");g.height=1,g.width=1;var w=g.getContext("2d");w.clearRect(0,0,g.width,g.height),w.fillStyle="#FFFFFF",w.fillStyle=d,w.fillRect(0,0,1,1);var T=w.getImageData(0,0,1,1).data,M=T[0],F=T[1],j=T[2],te=T[3];return ap(m2(M,F,j,te))})},Hm=function(d){var g=d,w=function(){return g},T=function(M){g=M};return{get:w,set:T}},Nh=function(d){var g=Hm(Y.none()),w=function(){return g.get().each(d)},T=function(){w(),g.set(Y.none())},M=function(){return g.get().isSome()},F=function(){return g.get()},j=function(te){w(),g.set(Y.some(te))};return{clear:T,isSet:M,get:F,set:j}},w0=function(){return Nh(function(d){return d.unbind()})},ib=function(){var d=Nh(ee),g=function(w){return d.get().each(w)};return Un(Un({},d),{on:g})},p2=function(d,g,w,T){return function(M){var F=w0(),j=Pi(T),te=function(){var ye=Iu(g),Me=function(Xe){return d.formatter.match(w,{value:T},Xe.dom,j)};j?(M.setActive(!z(ye,Me)),F.set(d.formatter.formatChanged(w,function(Xe){return M.setActive(!Xe)},!0))):(M.setActive(kt(ye,Me)),F.set(d.formatter.formatChanged(w,M.setActive,!1,{value:T})))};return d.initialized?te():d.on("init",te),F.clear}},Px=function(d){return qe(d,"menu")},$h=function(d){return dt(d,function(g){var w=g.text||g.title;return Px(g)?{text:w,items:$h(g.menu)}:{text:w,value:g.value}})},Jd=function(d,g,w,T,M){return dt(w,function(F){var j=F.text||F.title;return Px(F)?{type:"nestedmenuitem",text:j,getSubmenuItems:function(){return Jd(d,g,F.menu,T,M)}}:{text:j,type:"togglemenuitem",onAction:function(){return M(F.value)},onSetup:p2(d,g,T,F.value)}})},ip=function(d,g){return function(w){var T;d.execCommand("mceTableApplyCellStyle",!1,(T={},T[g]=w,T))}},op=function(d){return jt(d,function(g){return Px(g)?[Un(Un({},g),{menu:op(g.menu)})]:ma(g.value)?[g]:[]})},x0=function(d,g,w,T,M){return function(F){return F(Jd(d,g,w,T,M))}},ob=function(d,g,w){var T=dt(g,function(M){return{text:M.title,value:"#"+Qk(M.value).value,type:"choiceitem"}});return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:T.length>0?T:void 0,allowCustomColors:!1},onAction:function(M){var F,j=M.value==="remove"?"":M.value;d.execCommand("mceTableApplyCellStyle",!1,(F={},F[w]=j,F))}}]},b2=function(d){return function(){var g=d.queryCommandValue("mceTableRowType"),w=g==="header"?"body":"header";d.execCommand("mceTableRowType",!1,{type:w})}},y2=function(d){return function(){var g=d.queryCommandValue("mceTableColType"),w=g==="th"?"td":"th";d.execCommand("mceTableColType",!1,{type:w})}},_2=function(d){var g=$h(Gd(d));return g.length>0?Y.some({name:"class",type:"listbox",label:"Class",items:g}):Y.none()},Ix=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:ab}],hl=function(d){return Ix.concat(_2(d).toArray())},jf=function(d,g){var w=[{text:"Select...",value:""}],T=[{name:"borderstyle",type:"listbox",label:"Border style",items:w.concat($h(sl(d)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}],M={name:"borderwidth",type:"input",label:"Border width"},F=g==="cell"?[M].concat(T):T;return{title:"Advanced",name:"advanced",items:F}},pd=function(d){return function(g,w){var T=g.dom,M=function(te,ye){(!d||ye)&&T.setAttrib(w,te,ye)},F=function(te,ye){(!d||ye)&&T.setStyle(w,te,ye)},j=function(te,ye){(!d||ye)&&(ye===""?g.formatter.remove(te,{value:null},w,!0):g.formatter.apply(te,{value:ye},w))};return{setAttrib:M,setStyle:F,setFormat:j}}},zh={normal:pd(!1),ifTruthy:pd(!0)},sb=function(d){return function(g){return Ds(g,"rgb")?d.toHex(g):g}},Bx=function(d,g){var w=Qt.fromDom(g);return{borderwidth:El(w,"border-width").getOr(""),borderstyle:El(w,"border-style").getOr(""),bordercolor:El(w,"border-color").map(sb(d)).getOr(""),backgroundcolor:El(w,"background-color").map(sb(d)).getOr("")}},sp=function(d){var g=d[0],w=d.slice(1);return Dt(w,function(T){Dt(Is(g),function(M){fi(T,function(F,j){var te=g[M];te!==""&&M===j&&te!==F&&(g[M]="")})})}),g},C0=function(d,g,w,T){return Vt(d,function(M){return!D(w.formatter.matchNode(T,g+M))}).getOr("")},S0=Pe(C0,["left","center","right"],"align"),UD=Pe(C0,["top","middle","bottom"],"valign"),w2=function(d,g){var w=qd(d),T=l0(d),M=function(Xe){return{borderstyle:cu(w,"border-style").getOr(""),bordercolor:sb(Xe)(cu(w,"border-color").getOr("")),backgroundcolor:sb(Xe)(cu(w,"background-color").getOr(""))}},F={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},j=function(){var Xe=w["border-width"];return cl(d)&&Xe?{border:Xe}:cu(T,"border").fold(function(){return{}},function(At){return{border:At}})},te=g?M(d.dom):{},ye=function(){var Xe=cu(w,"border-spacing").or(cu(T,"cellspacing")).fold(function(){return{}},function(nn){return{cellspacing:nn}}),At=cu(w,"border-padding").or(cu(T,"cellpadding")).fold(function(){return{}},function(nn){return{cellpadding:nn}});return Un(Un({},Xe),At)},Me=Un(Un(Un(Un(Un(Un({},F),w),T),te),j()),ye());return Me},eT=function(d){return Za(Qt.fromDom(d)).map(function(g){var w={selection:ys(d.cells)};return Gc(g,w)}).getOr("")},tT=function(d,g,w){var T=function(te,ye){var Me=El(Qt.fromDom(ye),"border-width");return cl(d)&&Me.isSome()?Me.getOr(""):te.getAttrib(ye,"border")||d_(d.dom,ye,"border-width")||d_(d.dom,ye,"border")},M=d.dom,F=cl(d)?M.getStyle(g,"border-spacing")||M.getAttrib(g,"cellspacing"):M.getAttrib(g,"cellspacing")||M.getStyle(g,"border-spacing"),j=cl(d)?d_(M,g,"padding")||M.getAttrib(g,"cellpadding"):M.getAttrib(g,"cellpadding")||d_(M,g,"padding");return Un({width:M.getStyle(g,"width")||M.getAttrib(g,"width"),height:M.getStyle(g,"height")||M.getAttrib(g,"height"),cellspacing:F,cellpadding:j,border:T(M,g),caption:!!M.select("caption",g)[0],class:M.getAttrib(g,"class",""),align:S0(d,g)},w?Bx(M,g):{})},x2=function(d,g,w){var T=d.dom;return Un({height:T.getStyle(g,"height")||T.getAttrib(g,"height"),class:T.getAttrib(g,"class",""),type:eT(g),align:S0(d,g)},w?Bx(T,g):{})},C2=function(d,g,w,T){var M=d.dom,F=T.getOr(g),j=function(te,ye){return M.getStyle(te,ye)||M.getAttrib(te,ye)};return Un({width:j(F,"width"),height:j(g,"height"),scope:M.getAttrib(g,"scope"),celltype:m1(g),class:M.getAttrib(g,"class",""),halign:S0(d,g),valign:UD(d,g)},w?Bx(M,g):{})},Ai=function(d,g){var w=Jr.fromTable(d),T=Jr.justCells(w),M=_n(T,function(F){return z(g,function(j){return sa(F.element,j)})});return dt(M,function(F){return{element:F.element.dom,column:Jr.getColumnAt(w,F.column).map(function(j){return j.element.dom})}})},Hh=function(d,g,w){d.setAttrib("scope",w.scope),d.setAttrib("class",w.class),d.setStyle("height",ro(w.height)),g.setStyle("width",ro(w.width))},nT=function(d,g){d.setFormat("tablecellbackgroundcolor",g.backgroundcolor),d.setFormat("tablecellbordercolor",g.bordercolor),d.setFormat("tablecellborderstyle",g.borderstyle),d.setFormat("tablecellborderwidth",ro(g.borderwidth))},rT=function(d,g,w){var T=g.length===1;Dt(g,function(M){var F=M.element,j=T?zh.normal(d,F):zh.ifTruthy(d,F),te=M.column.map(function(ye){return T?zh.normal(d,ye):zh.ifTruthy(d,ye)}).getOr(j);Hh(j,te,w),ul(d)&&nT(j,w),T&&(Sn(d,F),au(d,F)),w.halign&&d2(d,F,w.halign),w.valign&&HD(d,F,w.valign)})},aT=function(d,g){d.execCommand("mceTableCellType",!1,{type:g.celltype,no_events:!0})},Lx=function(d,g,w,T){var M=Qu(T,function(F,j){return w[j]!==F});ku(M)>0&&g.length>=1&&Za(g[0]).each(function(F){var j=Ai(F,g),te=ku(Qu(M,function(Me,Xe){return Xe!=="scope"&&Xe!=="celltype"}))>0,ye=me(M,"celltype");(te||me(M,"scope"))&&rT(d,j,T),ye&&aT(d,T),dd(d,F.dom,{structure:ye,style:te})})},S2=function(d,g,w,T){var M=T.getData();T.close(),d.undoManager.transact(function(){Lx(d,g,w,M),d.focus()})},m_=function(d,g){var w=Za(g[0]).map(function(T){return dt(Ai(T,g),function(M){return C2(d,M.element,ul(d),M.column)})});return sp(w.getOrDie())},pr=function(d,g){var w=Iu(g);if(w.length!==0){var T=m_(d,w),M={type:"tabpanel",tabs:[{title:"General",name:"general",items:hl(d)},jf(d,"cell")]},F={type:"panel",items:[{type:"grid",columns:2,items:hl(d)}]};d.windowManager.open({title:"Cell Properties",size:"normal",body:ul(d)?M:F,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:T,onSubmit:Pe(S2,d,w,T)})}},WD=function(d){var g=$h(Eh(d));return g.length>0?Y.some({name:"class",type:"listbox",label:"Class",items:g}):Y.none()},E2=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],iT=function(d){return E2.concat(WD(d).toArray())},k2=function(d,g){d.setAttrib("class",g.class),d.setStyle("height",ro(g.height))},jD=function(d,g){d.setStyle("background-color",g.backgroundcolor),d.setStyle("border-color",g.bordercolor),d.setStyle("border-style",g.borderstyle)},oT=function(d,g,w,T){var M=g.length===1;Dt(g,function(F){var j=M?zh.normal(d,F):zh.ifTruthy(d,F);k2(j,w),Jo(d)&&jD(j,w),w.align!==T.align&&(Sn(d,F),d2(d,F,w.align))})},T2=function(d,g){d.execCommand("mceTableRowType",!1,{type:g.type,no_events:!0})},A2=function(d,g,w,T){var M=Qu(T,function(te,ye){return w[ye]!==te});if(ku(M)>0){var F=me(M,"type"),j=F?ku(M)>1:!0;j&&oT(d,g,T,w),F&&T2(d,T),Za(Qt.fromDom(g[0])).each(function(te){return dd(d,te.dom,{structure:F,style:j})})}},YD=function(d,g,w,T){var M=T.getData();T.close(),d.undoManager.transact(function(){A2(d,g,w,M),d.focus()})},Yf=function(d){var g=Yw($f(d),_c.selected);if(g.length!==0){var w=dt(g,function(j){return x2(d,j.dom,Jo(d))}),T=sp(w),M={type:"tabpanel",tabs:[{title:"General",name:"general",items:iT(d)},jf(d,"row")]},F={type:"panel",items:[{type:"grid",columns:2,items:iT(d)}]};d.windowManager.open({title:"Row Properties",size:"normal",body:Jo(d)?M:F,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:T,onSubmit:Pe(YD,d,dt(g,function(j){return j.dom}),T)})}},Sc=function(d,g,w){var T=w?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],M=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],F=ll(d)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],j=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],te=g.length>0?[{type:"listbox",name:"class",label:"Class",items:g}]:[];return T.concat(M).concat(F).concat(j).concat(te)},Vh=function(d,g,w,T){if(g.tagName==="TD"||g.tagName==="TH")c(w)?d.setStyle(g,w,T):d.setStyle(g,w);else if(g.children)for(var M=0;M<g.children.length;M++)Vh(d,g.children[M],w,T)},qD=function(d,g,w){var T=d.dom,M={},F={};if(M.class=w.class,F.height=ro(w.height),T.getAttrib(g,"width")&&!cl(d)?M.width=mh(w.width):F.width=ro(w.width),cl(d)?(F["border-width"]=ro(w.border),F["border-spacing"]=ro(w.cellspacing)):(M.border=w.border,M.cellpadding=w.cellpadding,M.cellspacing=w.cellspacing),cl(d)&&g.children)for(var j=0;j<g.children.length;j++)Vh(T,g.children[j],{"border-width":ro(w.border),padding:ro(w.cellpadding)}),Bl(d)&&Vh(T,g.children[j],{"border-color":w.bordercolor});Bl(d)&&(F["background-color"]=w.backgroundcolor,F["border-color"]=w.bordercolor,F["border-style"]=w.borderstyle),M.style=T.serializeStyle(Un(Un({},qd(d)),F)),T.setAttribs(g,Un(Un({},l0(d)),M))},GD=function(d,g,w,T){var M=d.dom,F=T.getData(),j=Qu(F,function(te,ye){return w[ye]!==te});T.close(),F.class===""&&delete F.class,d.undoManager.transact(function(){if(!g){var te=parseInt(F.cols,10)||1,ye=parseInt(F.rows,10)||1;g=nb(d,te,ye,0,0)}if(ku(j)>0){qD(d,g,F);var Me=M.select("caption",g)[0];(Me&&!F.caption||!Me&&F.caption)&&d.execCommand("mceTableToggleCaption"),F.align===""?Sn(d,g):d2(d,g,F.align)}if(d.focus(),d.addVisual(),ku(j)>0){var Xe=me(j,"caption"),At=Xe?ku(j)>1:!0;dd(d,g,{structure:Xe,style:At})}})},O2=function(d,g){var w=d.dom,T,M=w2(d,Bl(d));g===!1?(T=w.getParent(d.selection.getStart(),"table",d.getBody()),T?M=tT(d,T,Bl(d)):Bl(d)&&(M.borderstyle="",M.bordercolor="",M.backgroundcolor="")):(M.cols="1",M.rows="1",Bl(d)&&(M.borderstyle="",M.bordercolor="",M.backgroundcolor=""));var F=$h(c0(d));F.length>0&&M.class&&(M.class=M.class.replace(/\s*mce\-item\-table\s*/g,""));var j={type:"grid",columns:2,items:Sc(d,F,g)},te=function(){return{type:"panel",items:[j]}},ye=function(){return{type:"tabpanel",tabs:[{title:"General",name:"general",items:[j]},jf(d,"table")]}},Me=Bl(d)?ye():te();d.windowManager.open({title:"Table Properties",size:"normal",body:Me,onSubmit:Pe(GD,d,T,M),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:M})},fa=function(d){return fo($f(d),Uc(d))},KD=function(d){return zs($f(d),Uc(d))},Fx=function(d,g,w,T,M){var F=Uc(d),j=function(){return fa(d).each(function(er){Za(er,F).filter(Oe(F)).each(function(Ir){var da=Qt.fromText("");if(di(Ir,da),Tl(Ir),d.dom.isEmpty(d.getBody()))d.setContent(""),d.selection.setCursorLocation();else{var la=d.dom.createRng();la.setStart(da.dom,0),la.setEnd(da.dom,0),d.selection.setRng(la),d.nodeChanged()}})})},te=function(er){return fa(d).each(function(Ir){var da=Yc(d)||Vv(d)||yt(d);da||Za(Ir,F).each(function(la){er==="relative"&&!a0(la)?Bm(la):er==="fixed"&&!pu(la)?Uv(la):er==="responsive"&&!E1(la)&&Xl(la),Pu(la),dd(d,la.dom,ao)})})},ye=function(er){return Za(er,F)},Me=function(er){return KD(d).bind(function(Ir){return ye(Ir).map(function(da){return er(da,Ir)})})},Xe=function(er,Ir){Me(function(da){d.formatter.toggle("tableclass",{value:Ir},da.dom),dd(d,da.dom,Rm)})},At=function(er,Ir){Me(function(da){var la=Iu(T),hs=kt(la,function(Nu){return d.formatter.match("tablecellclass",{value:Ir},Nu.dom)}),Fu=hs?d.formatter.remove:d.formatter.apply;Dt(la,function(Nu){return Fu("tablecellclass",{value:Ir},Nu.dom)}),dd(d,da.dom,Rm)})},nn=function(){fa(d).each(function(er){Za(er,F).each(function(Ir){_r(Ir,"caption").fold(function(){var da=Qt.fromTag("caption");po(da,Qt.fromText("Caption")),lS(Ir,da,0),d.selection.setCursorLocation(da.dom,0)},function(da){Qi("caption")(er)&&lu("td",Ir).each(function(la){return d.selection.setCursorLocation(la.dom,0)}),Tl(da)}),dd(d,Ir.dom,ao)})})},$t=function(er){d.focus()},Ot=function(er,Ir){return Ir===void 0&&(Ir=!1),Me(function(da,la){var hs=_m(T,da,la);er(da,hs,Ir).each($t)})},hn=function(){return Me(function(er,Ir){var da=_m(T,er,Ir),la=Br(ee,Qt.fromDom(d.getDoc()),Y.none());return rb(er,da,la)})},wn=function(){return Me(function(er,Ir){var da=_m(T,er,Ir);return c2(er,da)})},tr=function(er,Ir){return Ir().each(function(da){var la=dt(da,function(hs){return Wa(hs)});Me(function(hs,Fu){var Nu=Vc(Qt.fromDom(d.getDoc())),Ia=ld(T,Fu,la,Nu);er(hs,Ia).each($t)})})},ja=function(er){return function(Ir,da){return cu(da,"type").each(function(la){Ot(er(la),da.no_events)})}};fi({mceTableSplitCells:function(){return Ot(g.unmergeCells)},mceTableMergeCells:function(){return Ot(g.mergeCells)},mceTableInsertRowBefore:function(){return Ot(g.insertRowsBefore)},mceTableInsertRowAfter:function(){return Ot(g.insertRowsAfter)},mceTableInsertColBefore:function(){return Ot(g.insertColumnsBefore)},mceTableInsertColAfter:function(){return Ot(g.insertColumnsAfter)},mceTableDeleteCol:function(){return Ot(g.deleteColumn)},mceTableDeleteRow:function(){return Ot(g.deleteRow)},mceTableCutCol:function(){return wn().each(function(er){M.setColumns(er),Ot(g.deleteColumn)})},mceTableCutRow:function(){return hn().each(function(er){M.setRows(er),Ot(g.deleteRow)})},mceTableCopyCol:function(){return wn().each(function(er){return M.setColumns(er)})},mceTableCopyRow:function(){return hn().each(function(er){return M.setRows(er)})},mceTablePasteColBefore:function(){return tr(g.pasteColsBefore,M.getColumns)},mceTablePasteColAfter:function(){return tr(g.pasteColsAfter,M.getColumns)},mceTablePasteRowBefore:function(){return tr(g.pasteRowsBefore,M.getRows)},mceTablePasteRowAfter:function(){return tr(g.pasteRowsAfter,M.getRows)},mceTableDelete:j,mceTableCellToggleClass:At,mceTableToggleClass:Xe,mceTableToggleCaption:nn,mceTableSizingMode:function(er,Ir){return te(Ir)},mceTableCellType:ja(function(er){return er==="th"?g.makeCellsHeader:g.unmakeCellsHeader}),mceTableColType:ja(function(er){return er==="th"?g.makeColumnsHeader:g.unmakeColumnsHeader}),mceTableRowType:ja(function(er){switch(er){case"header":return g.makeRowsHeader;case"footer":return g.makeRowsFooter;default:return g.makeRowsBody}})},function(er,Ir){return d.addCommand(Ir,er)}),fi({mceTableProps:Pe(O2,d,!1),mceTableRowProps:Pe(Yf,d),mceTableCellProps:Pe(pr,d,T)},function(er,Ir){return d.addCommand(Ir,function(){return er()})}),d.addCommand("mceInsertTable",function(er,Ir){m(Ir)&&Is(Ir).length>0?l2(d,Ir.rows,Ir.columns,Ir.options,"Invalid values for mceInsertTable - rows and columns values are required to insert a table."):O2(d,!0)}),d.addCommand("mceTableApplyCellStyle",function(er,Ir){var da=function(Fu){return"tablecell"+Fu.toLowerCase().replace("-","")};if(m(Ir)){var la=Iu(T);if(la.length!==0){var hs=Qu(Ir,function(Fu,Nu){return d.formatter.has(da(Nu))&&c(Fu)});ct(hs)||(fi(hs,function(Fu,Nu){Dt(la,function(Ia){zh.normal(d,Ia.dom).setFormat(da(Nu),Fu)})}),ye(la[0]).each(function(Fu){return dd(d,Fu.dom,Rm)}))}}})},Nx=function(d,g,w){var T=Uc(d),M=function(F){return zs($f(d)).bind(function(j){return Za(j,T).map(function(te){var ye=_m(w,te,j);return F(te,ye)})}).getOr("")};fi({mceTableRowType:function(){return M(g.getTableRowType)},mceTableCellType:function(){return M(g.getTableCellType)},mceTableColType:function(){return M(g.getTableColType)}},function(F,j){return d.addQueryValueHandler(j,F)})},$x=function(){var d=ib(),g=ib();return{getRows:d.get,setRows:function(w){w.fold(d.clear,d.set),g.clear()},clearRows:d.clear,getColumns:g.get,setColumns:function(w){w.fold(g.clear,g.set),d.clear()},clearColumns:g.clear}},g_={remove_similar:!0,inherit:!1},Vm=Un({selector:"td,th"},g_),p_={tablecellbackgroundcolor:Un({styles:{backgroundColor:"%value"}},Vm),tablecellverticalalign:Un({styles:{"vertical-align":"%value"}},Vm),tablecellbordercolor:Un({styles:{borderColor:"%value"}},Vm),tablecellclass:Un({classes:["%value"]},Vm),tableclass:Un({selector:"table",classes:["%value"]},g_),tablecellborderstyle:Un({styles:{borderStyle:"%value"}},Vm),tablecellborderwidth:Un({styles:{borderWidth:"%value"}},Vm)},XD=function(d){d.formatter.register(p_)},sT=hu.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),D2=function(d){return d===void 0&&(d=void 0),sT.none(d)},up=Un(Un({},sT),{none:D2}),zx=function(d,g,w,T,M){M===void 0&&(M=K);var F=T===1;if(!F&&w<=0)return up.first(d[0]);if(F&&w>=d.length-1)return up.last(d[d.length-1]);var j=w+T,te=d[j];return M(te)?up.middle(g,te):zx(d,g,j,T,M)},uT=function(d,g){return Za(d,g).bind(function(w){var T=ed(w),M=xn(T,function(F){return sa(d,F)});return M.map(function(F){return{index:F,all:T}})})},ZD=function(d,g,w){var T=uT(d,w);return T.fold(function(){return up.none(d)},function(M){return zx(M.all,d,M.index,1,g)})},JD=function(d,g,w){var T=uT(d,w);return T.fold(function(){return up.none()},function(M){return zx(M.all,d,M.index,-1,g)})},QD=function(d,g,w,T){return{start:d,soffset:g,finish:w,foffset:T}},E0={create:QD},M2=hu.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),cr=function(d,g,w,T){return d.fold(g,w,T)},lT=function(d){return d.fold(be,be,be)},cT=M2.before,eM=M2.on,b_=M2.after,Ql={before:cT,on:eM,after:b_,cata:cr,getStart:lT},y_=hu.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),tM=function(d){return y_.exact(d.start,d.soffset,d.finish,d.foffset)},fT=function(d){return d.match({domRange:function(g){return Qt.fromDom(g.startContainer)},relative:function(g,w){return Ql.getStart(g)},exact:function(g,w,T,M){return g}})},R2=y_.domRange,P2=y_.relative,dT=y_.exact,I2=function(d){var g=fT(d);return Tf(g)},B2=E0.create,Um={domRange:R2,relative:P2,exact:dT,exactFromRange:tM,getWin:I2,range:B2},nM=function(d,g){var w=d.document.createRange();return w.selectNode(g.dom),w},rM=function(d,g){var w=d.document.createRange();return vT(w,g),w},vT=function(d,g){return d.selectNodeContents(g.dom)},aM=function(d,g){g.fold(function(w){d.setStartBefore(w.dom)},function(w,T){d.setStart(w.dom,T)},function(w){d.setStartAfter(w.dom)})},__=function(d,g){g.fold(function(w){d.setEndBefore(w.dom)},function(w,T){d.setEnd(w.dom,T)},function(w){d.setEndAfter(w.dom)})},ri=function(d,g,w){var T=d.document.createRange();return aM(T,g),__(T,w),T},Hx=function(d,g,w,T,M){var F=d.document.createRange();return F.setStart(g.dom,w),F.setEnd(T.dom,M),F},Wm=function(d){return{left:d.left,top:d.top,right:d.right,bottom:d.bottom,width:d.width,height:d.height}},Qd=function(d){var g=d.getClientRects(),w=g.length>0?g[0]:d.getBoundingClientRect();return w.width>0||w.height>0?Y.some(w).map(Wm):Y.none()},lp=hu.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Kc=function(d,g,w){return g(Qt.fromDom(w.startContainer),w.startOffset,Qt.fromDom(w.endContainer),w.endOffset)},Vx=function(d,g){return g.match({domRange:function(w){return{ltr:_e(w),rtl:Y.none}},relative:function(w,T){return{ltr:ho(function(){return ri(d,w,T)}),rtl:ho(function(){return Y.some(ri(d,T,w))})}},exact:function(w,T,M,F){return{ltr:ho(function(){return Hx(d,w,T,M,F)}),rtl:ho(function(){return Y.some(Hx(d,M,F,w,T))})}}})},k0=function(d,g){var w=g.ltr();if(w.collapsed){var T=g.rtl().filter(function(M){return M.collapsed===!1});return T.map(function(M){return lp.rtl(Qt.fromDom(M.endContainer),M.endOffset,Qt.fromDom(M.startContainer),M.startOffset)}).getOrThunk(function(){return Kc(d,lp.ltr,w)})}else return Kc(d,lp.ltr,w)},ub=function(d,g){var w=Vx(d,g);return k0(d,w)},cp=function(d,g){var w=ub(d,g);return w.match({ltr:function(T,M,F,j){var te=d.document.createRange();return te.setStart(T.dom,M),te.setEnd(F.dom,j),te},rtl:function(T,M,F,j){var te=d.document.createRange();return te.setStart(F.dom,j),te.setEnd(T.dom,M),te}})};lp.ltr,lp.rtl;var iM=function(d,g,w,T,M){if(M===0)return 0;if(g===T)return M-1;for(var F=T,j=1;j<M;j++){var te=d(j),ye=Math.abs(g-te.left);if(w<=te.bottom){if(w<te.top||ye>F)return j-1;F=ye}}return 0},hT=function(d,g,w){return g>=d.left&&g<=d.right&&w>=d.top&&w<=d.bottom},oM=function(d,g,w,T,M){var F=function(Me){var Xe=d.dom.createRange();return Xe.setStart(g.dom,Me),Xe.collapse(!0),Xe},j=function(Me){var Xe=F(Me);return Xe.getBoundingClientRect()},te=dc(g).length,ye=iM(j,w,T,M.right,te);return F(ye)},sM=function(d,g,w,T){var M=d.dom.createRange();M.selectNode(g.dom);var F=M.getClientRects(),j=xr(F,function(te){return hT(te,w,T)?Y.some(te):Y.none()});return j.map(function(te){return oM(d,g,w,T,te)})},ua=function(d,g,w,T){var M=d.dom.createRange(),F=N(g);return xr(F,function(j){return M.selectNode(j.dom),hT(M.getBoundingClientRect(),w,T)?ev(d,j,w,T):Y.none()})},ev=function(d,g,w,T){return Tu(g)?sM(d,g,w,T):ua(d,g,w,T)},lb=function(d,g,w,T){var M=d.dom.createRange();M.selectNode(g.dom);var F=M.getBoundingClientRect(),j=Math.max(F.left,Math.min(F.right,w)),te=Math.max(F.top,Math.min(F.bottom,T));return ev(d,g,j,te)},mT=!0,w_=!1,Aa=function(d,g){return g-d.left<d.right-g?mT:w_},gT=function(d,g,w){var T=d.dom.createRange();return T.selectNode(g.dom),T.collapse(w),T},pT=function(d,g,w){var T=d.dom.createRange();T.selectNode(g.dom);var M=T.getBoundingClientRect(),F=Aa(M,w),j=F===mT?v1:Kp;return j(g).map(function(te){return gT(d,te,F)})},x_=function(d,g,w){var T=g.dom.getBoundingClientRect(),M=Aa(T,w);return Y.some(gT(d,g,M))},bT=function(d,g,w){var T=N(g).length===0?x_:pT;return T(d,g,w)},C_=function(d,g,w){var T,M;return Y.from((M=(T=d.dom).caretPositionFromPoint)===null||M===void 0?void 0:M.call(T,g,w)).bind(function(F){if(F.offsetNode===null)return Y.none();var j=d.dom.createRange();return j.setStart(F.offsetNode,F.offset),j.collapse(),Y.some(j)})},T0=function(d,g,w){var T,M;return Y.from((M=(T=d.dom).caretRangeFromPoint)===null||M===void 0?void 0:M.call(T,g,w))},L2=function(d,g,w,T){var M=d.dom.createRange();M.selectNode(g.dom);var F=M.getBoundingClientRect(),j=Math.max(F.left,Math.min(F.right,w)),te=Math.max(F.top,Math.min(F.bottom,T));return lb(d,g,j,te)},F2=function(d,g,w){return Qt.fromPoint(d,g,w).bind(function(T){var M=function(){return bT(d,T,g)};return N(T).length===0?M():L2(d,T,g,w).orThunk(M)})},yT=function(){return document.caretPositionFromPoint?C_:document.caretRangeFromPoint?T0:F2}(),_T=function(d,g,w){var T=Qt.fromDom(d.document);return yT(T,g,w).map(function(M){return E0.create(Qt.fromDom(M.startContainer),M.startOffset,Qt.fromDom(M.endContainer),M.endOffset)})},fp=function(d,g){var w=wa(d);return w==="input"?Ql.after(d):We(["br","img"],w)?g===0?Ql.before(d):Ql.after(d):Ql.on(d,g)},A0=function(d,g){var w=d.fold(Ql.before,fp,Ql.after),T=g.fold(Ql.before,fp,Ql.after);return Um.relative(w,T)},N2=function(d,g,w,T){var M=fp(d,g),F=fp(w,T);return Um.relative(M,F)},wT=function(d){return d.match({domRange:function(g){var w=Qt.fromDom(g.startContainer),T=Qt.fromDom(g.endContainer);return N2(w,g.startOffset,T,g.endOffset)},relative:A0,exact:N2})},Ux=function(d,g,w,T){var M=Ic(d),F=M.dom.createRange();return F.setStart(d.dom,g),F.setEnd(w.dom,T),F},uM=function(d,g,w,T){var M=Ux(d,g,w,T),F=sa(d,w)&&g===T;return M.collapsed&&!F},cb=function(d){return Y.from(d.getSelection())},$2=function(d,g){cb(d).each(function(w){w.removeAllRanges(),w.addRange(g)})},z2=function(d,g,w,T,M){var F=Hx(d,g,w,T,M);$2(d,F)},xT=function(d,g,w,T,M,F){g.collapse(w.dom,T),g.extend(M.dom,F)},H2=function(d,g){return ub(d,g).match({ltr:function(w,T,M,F){z2(d,w,T,M,F)},rtl:function(w,T,M,F){cb(d).each(function(j){if(j.setBaseAndExtent)j.setBaseAndExtent(w.dom,T,M.dom,F);else if(j.extend)try{xT(d,j,w,T,M,F)}catch{z2(d,M,F,w,T)}else z2(d,M,F,w,T)})}})},Wx=function(d,g,w,T,M){var F=N2(g,w,T,M);H2(d,F)},jx=function(d,g,w){var T=A0(g,w);H2(d,T)},V2=function(d){var g=Um.getWin(d).dom,w=function(M,F,j,te){return Hx(g,M,F,j,te)},T=wT(d);return ub(g,T).match({ltr:w,rtl:w})},U2=function(d){if(d.rangeCount>0){var g=d.getRangeAt(0),w=d.getRangeAt(d.rangeCount-1);return Y.some(E0.create(Qt.fromDom(g.startContainer),g.startOffset,Qt.fromDom(w.endContainer),w.endOffset))}else return Y.none()},CT=function(d){if(d.anchorNode===null||d.focusNode===null)return U2(d);var g=Qt.fromDom(d.anchorNode),w=Qt.fromDom(d.focusNode);return uM(g,d.anchorOffset,w,d.focusOffset)?Y.some(E0.create(g,d.anchorOffset,w,d.focusOffset)):U2(d)},O0=function(d,g,w){w===void 0&&(w=!0);var T=w?rM:nM,M=T(d,g);$2(d,M)},fb=function(d){return cb(d).filter(function(g){return g.rangeCount>0}).bind(CT)},ST=function(d){return fb(d).map(function(g){return Um.exact(g.start,g.soffset,g.finish,g.foffset)})},ET=function(d,g){var w=cp(d,g);return Qd(w)},Yx=function(d,g,w){return _T(d,g,w)},kT=function(d){cb(d).each(function(g){return g.removeAllRanges()})},TT=tinymce.util.Tools.resolve("tinymce.util.VK"),W2=function(d,g,w){return DT(d,g,ZD(w,Ig))},AT=function(d,g,w){return DT(d,g,JD(w,Ig))},OT=function(d,g){var w=Um.exact(g,0,g,0);return V2(w)},DT=function(d,g,w){return w.fold(Y.none,Y.none,function(T,M){return v1(M).map(function(F){return OT(d,F)})},function(T){return d.execCommand("mceTableInsertRowAfter"),W2(d,g,T)})},lM=["table","li","dl"],MT=function(d,g,w){if(d.keyCode===TT.TAB){var T=ud(g),M=function(te){var ye=wa(te);return sa(te,T)||We(lM,ye)},F=g.selection.getRng(),j=Qt.fromDom(d.shiftKey?F.startContainer:F.endContainer);pi(j,M).each(function(te){d.preventDefault(),Za(te,M).each(w.clear),g.selection.collapse(d.shiftKey);var ye=d.shiftKey?AT:W2,Me=ye(g,M,te);Me.each(function(Xe){g.selection.setRng(Xe)})})}},j2=function(d,g){return{selection:d,kill:g}},db={create:j2},cM=function(d,g,w,T){return{start:Ql.on(d,g),finish:Ql.on(w,T)}},RT={create:cM},PT=function(d,g){var w=cp(d,g);return E0.create(Qt.fromDom(w.startContainer),w.startOffset,Qt.fromDom(w.endContainer),w.endOffset)},bd=RT.create,IT=function(d,g,w,T,M,F,j){return sa(w,M)&&T===F?Y.none():no(w,"td,th",g).bind(function(te){return no(M,"td,th",g).bind(function(ye){return BT(d,g,te,ye,j)})})},BT=function(d,g,w,T,M){return sa(w,T)?Y.none():Yl(w,T,g).bind(function(F){var j=F.boxes.getOr([]);return j.length>1?(M(d,j,F.start,F.finish),Y.some(db.create(Y.some(bd(w,0,w,Ff(w))),!0))):Y.none()})},qx=function(d,g,w,T,M){var F=function(j){return M.clearBeforeUpdate(w),M.selectRange(w,j.boxes,j.start,j.finish),j.boxes};return yg(T,d,g,M.firstSelectedSelector,M.lastSelectedSelector).map(F)},Gx=function(d,g){return{item:d,mode:g}},Y2=function(d,g,w,T){return T===void 0&&(T=D0),d.property().parent(g).map(function(M){return Gx(M,T)})},D0=function(d,g,w,T){return T===void 0&&(T=vb),w.sibling(d,g).map(function(M){return Gx(M,T)})},vb=function(d,g,w,T){T===void 0&&(T=vb);var M=d.property().children(g),F=w.first(M);return F.map(function(j){return Gx(j,T)})},LT=[{current:Y2,next:D0,fallback:Y.none()},{current:D0,next:vb,fallback:Y.some(Y2)},{current:vb,next:vb,fallback:Y.some(D0)}],FT=function(d,g,w,T,M){M===void 0&&(M=LT);var F=Vt(M,function(j){return j.current===w});return F.bind(function(j){return j.current(d,g,T,j.next).orThunk(function(){return j.fallback.bind(function(te){return FT(d,g,te,T)})})})},Kx=function(){var d=function(w,T){return w.query().prevSibling(T)},g=function(w){return w.length>0?Y.some(w[w.length-1]):Y.none()};return{sibling:d,first:g}},fM=function(){var d=function(w,T){return w.query().nextSibling(T)},g=function(w){return w.length>0?Y.some(w[0]):Y.none()};return{sibling:d,first:g}},Xx={left:Kx,right:fM},S_=function(d,g,w,T,M,F){var j=FT(d,g,T,M);return j.bind(function(te){return F(te.item)?Y.none():w(te.item)?Y.some(te.item):S_(d,te.item,w,te.mode,M,F)})},Zx=function(d,g,w,T){return S_(d,g,w,D0,Xx.left(),T)},NT=function(d,g,w,T){return S_(d,g,w,D0,Xx.right(),T)},Jx=function(d){return function(g){return d.property().children(g).length===0}},yd=function(d,g,w){return Qx(d,g,Jx(d),w)},dM=function(d,g,w){return $T(d,g,Jx(d),w)},Qx=Zx,$T=NT,E_=Fp(),k_=function(d,g){return yd(E_,d,g)},q2=function(d,g){return dM(E_,d,g)},zT=function(d,g,w){return Qx(E_,d,g,w)},HT=function(d,g,w){return $T(E_,d,g,w)},VT=function(d,g,w){return to(d,g,w).isSome()},eC=hu.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),dp=function(d,g,w){var T=d.getRect(g),M=d.getRect(w);return M.right>T.left&&M.left<T.right},vM=function(d){return no(d,"tr")},hM=function(d,g,w,T,M,F,j){return no(T,"td,th",j).bind(function(te){return no(g,"td,th",j).map(function(ye){return sa(te,ye)?sa(T,te)&&Ff(te)===M?F(ye):eC.none("in same cell"):Jn(vM,[te,ye]).fold(function(){return dp(d,ye,te)?eC.success():F(ye)},function(Me){return F(ye)})})}).getOr(eC.none("default"))},mM=function(d,g,w,T,M){return d.fold(g,w,T,M)},vp=Un(Un({},eC),{verify:hM,cata:mM}),gM=function(d,g,w,T){return{parent:d,children:g,element:w,index:T}},G2=function(d){return eo(d).bind(function(g){var w=N(g);return pM(w,d).map(function(T){return gM(g,w,d,T)})})},pM=function(d,g){return xn(d,Pe(sa,g))},hb=function(d){return wa(d)==="br"},K2=function(d,g,w){return g(d,w).bind(function(T){return Tu(T)&&dc(T).trim().length===0?K2(T,g,w):Y.some(T)})},UT=function(d,g,w){return w.traverse(g).orThunk(function(){return K2(g,w.gather,d)}).map(w.relative)},tC=function(d,g){return oe(d,g).filter(hb).orThunk(function(){return oe(d,g-1).filter(hb)})},WT=function(d,g,w,T){return tC(g,w).bind(function(M){return T.traverse(M).fold(function(){return K2(M,T.gather,d).map(T.relative)},function(F){return G2(F).map(function(j){return Ql.on(j.parent,j.index)})})})},jT=function(d,g,w,T){var M=hb(g)?UT(d,g,T):WT(d,g,w,T);return M.map(function(F){return{start:F,finish:F}})},bM=function(d){return vp.cata(d,function(g){return Y.none()},function(){return Y.none()},function(g){return Y.some(xc(g,0))},function(g){return Y.some(xc(g,Ff(g)))})},nC=function(d,g){return{left:d.left,top:d.top+g,right:d.right,bottom:d.bottom+g}},rC=function(d,g){return{left:d.left,top:d.top-g,right:d.right,bottom:d.bottom-g}},X2=function(d,g,w){return{left:d.left+g,top:d.top+w,right:d.right+g,bottom:d.bottom+w}},YT=function(d){return d.top},qT=function(d){return d.bottom},M0=function(d,g,w){return w>=0&&w<Ff(g)?d.getRangedRect(g,w,g,w+1):w>0?d.getRangedRect(g,w-1,g,w):Y.none()},T_=function(d){return{left:d.left,top:d.top,right:d.right,bottom:d.bottom}},aC=function(d,g){return Y.some(d.getRect(g))},A_=function(d,g,w){return Ra(g)?aC(d,g).map(T_):Tu(g)?M0(d,g,w).map(T_):Y.none()},GT=function(d,g){return Ra(g)?aC(d,g).map(T_):Tu(g)?d.getRangedRect(g,0,g,Ff(g)).map(T_):Y.none()},jm=5,yM=100,Uh=hu.generate([{none:[]},{retry:["caret"]}]),KT=function(d,g){return d.left<g.left||Math.abs(g.right-d.left)<1||d.left>g.right},iC=function(d,g,w){return t1(g,Xd).fold(at,function(T){return GT(d,T).exists(function(M){return KT(w,M)})})},Z2=function(d,g,w,T,M){var F=nC(M,jm);return Math.abs(w.bottom-T.bottom)<1||w.top>M.bottom?Uh.retry(F):w.top===M.bottom?Uh.retry(nC(M,1)):iC(d,g,M)?Uh.retry(X2(F,jm,0)):Uh.none()},_M=function(d,g,w,T,M){var F=rC(M,jm);return Math.abs(w.top-T.top)<1||w.bottom<M.top?Uh.retry(F):w.bottom===M.top?Uh.retry(rC(M,1)):iC(d,g,M)?Uh.retry(X2(F,jm,0)):Uh.none()},hp={point:YT,adjuster:_M,move:rC,gather:k_},XT={point:qT,adjuster:Z2,move:nC,gather:q2},ZT=function(d,g,w){return d.elementFromPoint(g,w).filter(function(T){return wa(T)==="table"}).isSome()},wM=function(d,g,w,T,M){return J2(d,g,w,g.move(T,jm),M)},J2=function(d,g,w,T,M){return M===0?Y.some(T):ZT(d,T.left,g.point(T))?wM(d,g,w,T,M-1):d.situsFromPoint(T.left,g.point(T)).bind(function(F){return F.start.fold(Y.none,function(j){return GT(d,j).bind(function(te){return g.adjuster(d,j,te,w,T).fold(Y.none,function(ye){return J2(d,g,w,ye,M-1)})}).orThunk(function(){return Y.some(T)})},Y.none)})},mb=function(d,g){return d.situsFromPoint(g.left,g.bottom+jm)},gb=function(d,g){return d.situsFromPoint(g.left,g.top-jm)},JT=function(d,g,w){return d.point(g)>w.getInnerHeight()?Y.some(d.point(g)-w.getInnerHeight()):d.point(g)<0?Y.some(-d.point(g)):Y.none()},Q2=function(d,g,w){var T=d.move(w,jm),M=J2(g,d,w,T,yM).getOr(T);return JT(d,M,g).fold(function(){return g.situsFromPoint(M.left,d.point(M))},function(F){return g.scrollBy(0,F),g.situsFromPoint(M.left,d.point(M)-F)})},tv={tryUp:Pe(Q2,hp),tryDown:Pe(Q2,XT),ieTryUp:gb,ieTryDown:mb,getJumpSize:_e(jm)},mp=20,vr=function(d,g,w){return d.getSelection().bind(function(T){return jT(g,T.finish,T.foffset,w).fold(function(){return Y.some(xc(T.finish,T.foffset))},function(M){var F=d.fromSitus(M),j=vp.verify(d,T.finish,T.foffset,F.finish,F.foffset,w.failure,g);return bM(j)})})},eE=function(d,g,w,T,M,F){return F===0?Y.none():xM(d,g,w,T,M).bind(function(j){var te=d.fromSitus(j),ye=vp.verify(d,w,T,te.finish,te.foffset,M.failure,g);return vp.cata(ye,function(){return Y.none()},function(){return Y.some(j)},function(Me){return sa(w,Me)&&T===0?Wh(d,w,T,rC,M):eE(d,g,Me,0,M,F-1)},function(Me){return sa(w,Me)&&T===Ff(Me)?Wh(d,w,T,nC,M):eE(d,g,Me,Ff(Me),M,F-1)})})},Wh=function(d,g,w,T,M){return A_(d,g,w).bind(function(F){return QT(d,M,T(F,tv.getJumpSize()))})},QT=function(d,g,w){var T=ze().browser;return T.isChrome()||T.isSafari()||T.isFirefox()||T.isEdge()?g.otherRetry(d,w):T.isIE()?g.ieRetry(d,w):Y.none()},xM=function(d,g,w,T,M){return A_(d,w,T).bind(function(F){return QT(d,M,F)})},eA=function(d,g,w){return vr(d,g,w).bind(function(T){return eE(d,g,T.element,T.offset,w,mp).map(d.fromSitus)})},O_=function(d,g){return VT(d,function(w){return eo(w).exists(function(T){return sa(T,g)})})},Yv=function(d,g,w,T,M){return no(T,"td,th",g).bind(function(F){return no(F,"table",g).bind(function(j){return O_(M,j)?eA(d,g,w).bind(function(te){return no(te.finish,"td,th",g).map(function(ye){return{start:F,finish:ye,range:te}})}):Y.none()})})},oC=function(d,g,w,T,M,F){return ze().browser.isIE()?Y.none():F(T,g).orThunk(function(){return Yv(d,g,w,T,M).map(function(j){var te=j.range;return db.create(Y.some(bd(te.start,te.soffset,te.finish,te.foffset)),!0)})})},tA=function(d,g){return no(d,"tr",g).bind(function(w){return no(w,"table",g).bind(function(T){var M=Cl(T,"tr");return sa(w,M[0])?zT(T,function(F){return Kp(F).isSome()},g).map(function(F){var j=Ff(F);return db.create(Y.some(bd(F,j,F,j)),!0)}):Y.none()})})},Lr=function(d,g){return no(d,"tr",g).bind(function(w){return no(w,"table",g).bind(function(T){var M=Cl(T,"tr");return sa(w,M[M.length-1])?HT(T,function(F){return v1(F).isSome()},g).map(function(F){return db.create(Y.some(bd(F,0,F,0)),!0)}):Y.none()})})},tE=function(d,g,w,T,M,F,j){return Yv(d,w,T,M,F).bind(function(te){return BT(g,w,te.start,te.finish,j)})},qr=function(d,g){return no(d,"td,th",g)},nE=function(d,g,w,T){var M=ib(),F=M.clear,j=function(Xe){M.on(function(At){T.clearBeforeUpdate(g),qr(Xe.target,w).each(function(nn){Yl(At,nn,w).each(function($t){var Ot=$t.boxes.getOr([]);if(Ot.length===1){var hn=Ot[0],wn=I1(hn)==="false",tr=Wl(Am(Xe.target),hn,sa);wn&&tr&&(T.selectRange(g,Ot,hn,hn),d.selectContents(hn))}else Ot.length>1&&(T.selectRange(g,Ot,$t.start,$t.finish),d.selectContents(nn))})})})},te=function(Xe){T.clear(g),qr(Xe.target,w).each(M.set)},ye=function(Xe){j(Xe)},Me=function(Xe){j(Xe),F()};return{clearstate:F,mousedown:te,mouseover:ye,mouseup:Me}},nA={traverse:Z,gather:q2,relative:Ql.before,otherRetry:tv.tryDown,ieRetry:tv.ieTryDown,failure:vp.failedDown},rA={traverse:J,gather:k_,relative:Ql.before,otherRetry:tv.tryUp,ieRetry:tv.ieTryUp,failure:vp.failedUp},pb=function(d){return function(g){return g===d}},bb=pb(38),yb=pb(40),_b=function(d){return d>=37&&d<=40},CM={isBackward:pb(37),isForward:pb(39)},Rr={isBackward:pb(39),isForward:pb(37)},aA=function(d){var g=d!==void 0?d.dom:document,w=g.body.scrollLeft||g.documentElement.scrollLeft,T=g.body.scrollTop||g.documentElement.scrollTop;return Ci(w,T)},rE=function(d,g,w){var T=w!==void 0?w.dom:document,M=T.defaultView;M&&M.scrollBy(d,g)},D_=function(d){var g=function(wn,tr){return Qt.fromPoint(Qt.fromDom(d.document),wn,tr)},w=function(wn){return wn.dom.getBoundingClientRect()},T=function(wn,tr,ja,er){var Ir=Um.exact(wn,tr,ja,er);return ET(d,Ir)},M=function(){return ST(d).map(function(wn){return PT(d,wn)})},F=function(wn){var tr=Um.relative(wn.start,wn.finish);return PT(d,tr)},j=function(wn,tr){return Yx(d,wn,tr).map(function(ja){return RT.create(ja.start,ja.soffset,ja.finish,ja.foffset)})},te=function(){kT(d)},ye=function(wn){wn===void 0&&(wn=!1),ST(d).each(function(tr){return tr.fold(function(ja){return ja.collapse(wn)},function(ja,er){var Ir=wn?ja:er;jx(d,Ir,Ir)},function(ja,er,Ir,da){var la=wn?ja:Ir,hs=wn?er:da;Wx(d,la,hs,la,hs)})})},Me=function(wn){O0(d,wn,!1)},Xe=function(wn){O0(d,wn)},At=function(wn){Wx(d,wn.start,wn.soffset,wn.finish,wn.foffset)},nn=function(wn,tr){jx(d,wn,tr)},$t=function(){return d.innerHeight},Ot=function(){var wn=aA(Qt.fromDom(d.document));return wn.top},hn=function(wn,tr){rE(wn,tr,Qt.fromDom(d.document))};return{elementFromPoint:g,getRect:w,getRangedRect:T,getSelection:M,fromSitus:F,situsFromPoint:j,clearSelection:te,collapseSelection:ye,setSelection:At,setRelativeSelection:nn,selectNode:Me,selectContents:Xe,getInnerHeight:$t,getScrollY:Ot,scrollBy:hn}},gp=function(d,g){return{rows:d,cols:g}},iA=function(d,g,w,T){var M=D_(d),F=nE(M,g,w,T);return{clearstate:F.clearstate,mousedown:F.mousedown,mouseover:F.mouseover,mouseup:F.mouseup}},sC=function(d,g,w,T){var M=D_(d),F=function(){return T.clear(g),Y.none()},j=function(ye,Me,Xe,At,nn,$t){var Ot=ye.raw,hn=Ot.which,wn=Ot.shiftKey===!0,tr=bg(g,T.selectedSelector).fold(function(){return _b(hn)&&!wn&&T.clearBeforeUpdate(g),yb(hn)&&wn?Pe(tE,M,g,w,nA,At,Me,T.selectRange):bb(hn)&&wn?Pe(tE,M,g,w,rA,At,Me,T.selectRange):yb(hn)?Pe(oC,M,w,nA,At,Me,Lr):bb(hn)?Pe(oC,M,w,rA,At,Me,tA):Y.none},function(ja){var er=function(Ir){return function(){var da=xr(Ir,function(la){return qx(la.rows,la.cols,g,ja,T)});return da.fold(function(){return Mf(g,T.firstSelectedSelector,T.lastSelectedSelector).map(function(la){var hs=yb(hn)||$t.isForward(hn)?Ql.after:Ql.before;return M.setRelativeSelection(Ql.on(la.first,0),hs(la.table)),T.clear(g),db.create(Y.none(),!0)})},function(la){return Y.some(db.create(Y.none(),!0))})}};return yb(hn)&&wn?er([gp(1,0)]):bb(hn)&&wn?er([gp(-1,0)]):$t.isBackward(hn)&&wn?er([gp(0,-1),gp(-1,0)]):$t.isForward(hn)&&wn?er([gp(0,1),gp(1,0)]):_b(hn)&&!wn?F:Y.none});return tr()},te=function(ye,Me,Xe,At,nn){return bg(g,T.selectedSelector).fold(function(){var $t=ye.raw,Ot=$t.which,hn=$t.shiftKey===!0;return hn&&_b(Ot)?IT(g,w,Me,Xe,At,nn,T.selectRange):Y.none()},Y.none)};return{keydown:j,keyup:te}},aE=function(d,g,w,T){var M=D_(d);return function(F,j){T.clearBeforeUpdate(g),Yl(F,j,w).each(function(te){var ye=te.boxes.getOr([]);T.selectRange(g,ye,te.start,te.finish),M.selectContents(j),M.collapseSelection()})}},SM=function(d,g){Dt(g,function(w){Kl(d,w)})},oA=function(d){return function(g){xs(g,d)}},EM=function(d){return function(g){SM(g,d)}},uC=function(d){var g=oA(d.selected),w=EM([d.selected,d.lastSelected,d.firstSelected]),T=function(F){var j=Cl(F,d.selectedSelector);Dt(j,w)},M=function(F,j,te,ye){T(F),Dt(j,g),xs(te,d.firstSelected),xs(ye,d.lastSelected)};return{clearBeforeUpdate:T,clear:T,selectRange:M,selectedSelector:d.selectedSelector,firstSelectedSelector:d.firstSelectedSelector,lastSelectedSelector:d.lastSelectedSelector}},kM=function(d,g,w){var T=function(ye){Fi(ye,d.selected),Fi(ye,d.firstSelected),Fi(ye,d.lastSelected)},M=function(ye){os(ye,d.selected,"1")},F=function(ye){j(ye),w()},j=function(ye){var Me=Cl(ye,d.selectedSelector+","+d.firstSelectedSelector+","+d.lastSelectedSelector);Dt(Me,T)},te=function(ye,Me,Xe,At){F(ye),Dt(Me,M),os(Xe,d.firstSelected,"1"),os(At,d.lastSelected,"1"),g(Me,Xe,At)};return{clearBeforeUpdate:j,clear:F,selectRange:te,selectedSelector:d.selectedSelector,firstSelectedSelector:d.firstSelectedSelector,lastSelectedSelector:d.lastSelectedSelector}},lC={byClass:uC,byAttr:kM},sA=function(d,g){var w=d.slice(0,g[g.length-1].row+1),T=W1(w);return jt(T,function(M){var F=M.cells.slice(0,g[g.length-1].column+1);return dt(F,function(j){return j.element})})},uA=function(d,g){var w=d.slice(g[0].row+g[0].rowspan-1,d.length),T=W1(w);return jt(T,function(M){var F=M.cells.slice(g[0].column+g[0].colspan-1,M.cells.length);return dt(F,function(j){return j.element})})},TM=function(d,g,w){var T=Jr.fromTable(d),M=Wf(T,g);return M.map(function(F){var j=Dh(T,w,!1),te=sA(j,F),ye=uA(j,F);return{upOrLeftCells:te,downOrRightCells:ye}})},lA=tinymce.util.Tools.resolve("tinymce.Env"),iE=function(d){return Ti(Qt.fromDom(d.target),"ephox-snooker-resizer-bar")===!1};function Pa(d,g,w){var T=function(j,te,ye){w.targets().each(function(Me){var Xe=Za(te);Xe.each(function(At){var nn=V1(d),$t=Br(ee,Qt.fromDom(d.getDoc()),nn),Ot=TM(At,Me,$t);Fg(d,j,te,ye,Ot)})})},M=function(){return $1(d)},F=lC.byAttr(_c,T,M);return d.on("init",function(j){var te=d.getWin(),ye=ud(d),Me=Uc(d),Xe=function(){var Ia=d.selection,Fr=Qt.fromDom(Ia.getStart()),Sa=Qt.fromDom(Ia.getEnd()),Si=Jn(Za,[Fr,Sa]);Si.fold(function(){return F.clear(ye)},ee)},At=iA(te,ye,Me,F),nn=sC(te,ye,Me,F),$t=aE(te,ye,Me,F),Ot=function(Ia){return Ia.raw.shiftKey===!0};d.on("TableSelectorChange",function(Ia){return $t(Ia.start,Ia.finish)});var hn=function(Ia,Fr){Ot(Ia)&&(Fr.kill&&Ia.kill(),Fr.selection.each(function(Sa){var Si=Um.relative(Sa.start,Sa.finish),Fo=cp(te,Si);d.selection.setRng(Fo)}))},wn=function(Ia){var Fr=zv(Ia);if(Fr.raw.shiftKey&&_b(Fr.raw.which)){var Sa=d.selection.getRng(),Si=Qt.fromDom(Sa.startContainer),Fo=Qt.fromDom(Sa.endContainer);nn.keyup(Fr,Si,Sa.startOffset,Fo,Sa.endOffset).each(function(Ym){hn(Fr,Ym)})}},tr=function(Ia){var Fr=zv(Ia);g().each(function(yi){return yi.hideBars()});var Sa=d.selection.getRng(),Si=Qt.fromDom(Sa.startContainer),Fo=Qt.fromDom(Sa.endContainer),Ym=Ol(CM,Rr)(Qt.fromDom(d.selection.getStart()));nn.keydown(Fr,Si,Sa.startOffset,Fo,Sa.endOffset,Ym).each(function(yi){hn(Fr,yi)}),g().each(function(yi){return yi.showBars()})},ja=function(Ia){return Ia.button===0},er=function(Ia){return Ia.buttons===void 0||lA.browser.isEdge()&&Ia.buttons===0?!0:(Ia.buttons&1)!==0},Ir=function(Ia){At.clearstate()},da=function(Ia){ja(Ia)&&iE(Ia)&&At.mousedown(zv(Ia))},la=function(Ia){er(Ia)&&iE(Ia)&&At.mouseover(zv(Ia))},hs=function(Ia){ja(Ia)&&iE(Ia)&&At.mouseup(zv(Ia))},Fu=function(){var Ia=Hm(Qt.fromDom(ye)),Fr=Hm(0),Sa=function(Si){var Fo=Qt.fromDom(Si.target);if(wa(Fo)==="td"||wa(Fo)==="th"){var Ym=Ia.get(),yi=Fr.get();sa(Ym,Fo)&&Si.timeStamp-yi<300&&(Si.preventDefault(),$t(Fo,Fo))}Ia.set(Fo),Fr.set(Si.timeStamp)};return{touchEnd:Sa}},Nu=Fu();d.on("dragstart",Ir),d.on("mousedown",da),d.on("mouseover",la),d.on("mouseup",hs),d.on("touchend",Nu.touchEnd),d.on("keyup",wn),d.on("keydown",tr),d.on("NodeChange",Xe)}),{clear:F.clear}}var cA=function(d,g){return _r(d,g).isSome()},cC=function(d,g){var w=Hm(Y.none()),T=Hm([]),M=Y.none(),F=Qi("caption"),j=function(Fr){return M.forall(function(Sa){return!Sa[Fr]})},te=function(){return fo($f(d),Uc(d))},ye=function(){return fo(qt(d),Uc(d))},Me=function(){return te().bind(function(Fr){return Ad(cc(Za(Fr),ye().bind(Za),function(Sa,Si){return sa(Sa,Si)?F(Fr)?Y.some(wy(Fr)):Y.some(_m(g,Sa,Fr)):Y.none()}))})},Xe=function(Fr){var Sa=Za(Fr.element);return Sa.map(function(Si){var Fo=Jr.fromTable(Si),Ym=Wf(Fo,Fr).getOr([]),yi=Ee(Ym,function(gf,$u){return $u.isLocked&&(gf.onAny=!0,$u.column===0?gf.onFirst=!0:$u.column+$u.colspan>=Fo.grid.columns&&(gf.onLast=!0)),gf},{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:Zy(Fo,Fr).isSome(),unmergeable:jv(Fo,Fr).isSome(),locked:yi}})},At=function(){w.set(ho(Me)()),M=w.get().bind(Xe),Dt(T.get(),function(Fr){return Fr()})},nn=function(Fr){return Fr(),T.set(T.get().concat([Fr])),function(){T.set(_n(T.get(),function(Sa){return Sa!==Fr}))}},$t=function(Fr,Sa){return nn(function(){return w.get().fold(function(){Fr.setDisabled(!0)},function(Si){Fr.setDisabled(Sa(Si))})})},Ot=function(Fr,Sa,Si){return nn(function(){return w.get().fold(function(){Fr.setDisabled(!0),Fr.setActive(!1)},function(Fo){Fr.setDisabled(Sa(Fo)),Fr.setActive(Si(Fo))})})},hn=function(Fr){return M.exists(function(Sa){return Sa.locked[Fr]})},wn=function(Fr){return $t(Fr,function(Sa){return!1})},tr=function(Fr){return $t(Fr,function(Sa){return F(Sa.element)})},ja=function(Fr){return function(Sa){return $t(Sa,function(Si){return F(Si.element)||hn(Fr)})}},er=function(Fr){return function(Sa){return $t(Sa,function(Si){return F(Si.element)||Fr().isNone()})}},Ir=function(Fr,Sa){return function(Si){return $t(Si,function(Fo){return F(Fo.element)||Fr().isNone()||hn(Sa)})}},da=function(Fr){return $t(Fr,function(Sa){return j("mergeable")})},la=function(Fr){return $t(Fr,function(Sa){return j("unmergeable")})},hs=function(Fr){return Ot(Fr,at,function(Sa){var Si=Za(Sa.element,Uc(d));return Si.exists(function(Fo){return cA(Fo,"caption")})})},Fu=function(Fr,Sa){return function(Si){return Ot(Si,function(Fo){return F(Fo.element)},function(){return d.queryCommandValue(Fr)===Sa})}},Nu=Fu("mceTableRowType","header"),Ia=Fu("mceTableColType","th");return d.on("NodeChange ExecCommand TableSelectorChange",At),{onSetupTable:wn,onSetupCellOrRow:tr,onSetupColumn:ja,onSetupPasteable:er,onSetupPasteableColumn:Ir,onSetupMergeable:da,onSetupUnmergeable:la,resetTargets:At,onSetupTableWithCaption:hs,onSetupTableRowHeaders:Nu,onSetupTableColumnHeaders:Ia,targets:w.get}},oE=function(d,g,w,T){d.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(te){return te("inserttable | cell row column | advtablesort | tableprops deletetable")}});var M=function(te){return function(){return d.execCommand(te)}};d.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:M("mceTableProps"),icon:"table",onSetup:w.onSetupTable}),d.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:M("mceTableDelete"),icon:"table-delete-table",onSetup:w.onSetupTable}),d.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:M("mceTableCellProps"),icon:"table-cell-properties",onSetup:w.onSetupCellOrRow}),d.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:M("mceTableMergeCells"),icon:"table-merge-cells",onSetup:w.onSetupMergeable}),d.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:M("mceTableSplitCells"),icon:"table-split-cells",onSetup:w.onSetupUnmergeable}),d.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:M("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:w.onSetupCellOrRow}),d.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:M("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:w.onSetupCellOrRow}),d.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:M("mceTableDeleteRow"),icon:"table-delete-row",onSetup:w.onSetupCellOrRow}),d.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:M("mceTableRowProps"),icon:"table-row-properties",onSetup:w.onSetupCellOrRow}),d.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:M("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:w.onSetupColumn("onFirst")}),d.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:M("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:w.onSetupColumn("onLast")}),d.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:M("mceTableDeleteCol"),icon:"table-delete-column",onSetup:w.onSetupColumn("onAny")}),d.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",icon:"cut-row",onAction:M("mceTableCutRow"),onSetup:w.onSetupCellOrRow}),d.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",icon:"duplicate-row",onAction:M("mceTableCopyRow"),onSetup:w.onSetupCellOrRow}),d.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",icon:"paste-row-before",onAction:M("mceTablePasteRowBefore"),onSetup:w.onSetupPasteable(T.getRows)}),d.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",icon:"paste-row-after",onAction:M("mceTablePasteRowAfter"),onSetup:w.onSetupPasteable(T.getRows)}),d.ui.registry.addButton("tablecutcol",{tooltip:"Cut column",icon:"cut-column",onAction:M("mceTableCutCol"),onSetup:w.onSetupColumn("onAny")}),d.ui.registry.addButton("tablecopycol",{tooltip:"Copy column",icon:"duplicate-column",onAction:M("mceTableCopyCol"),onSetup:w.onSetupColumn("onAny")}),d.ui.registry.addButton("tablepastecolbefore",{tooltip:"Paste column before",icon:"paste-column-before",onAction:M("mceTablePasteColBefore"),onSetup:w.onSetupPasteableColumn(T.getColumns,"onFirst")}),d.ui.registry.addButton("tablepastecolafter",{tooltip:"Paste column after",icon:"paste-column-after",onAction:M("mceTablePasteColAfter"),onSetup:w.onSetupPasteableColumn(T.getColumns,"onLast")}),d.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:M("mceInsertTable"),icon:"table"});var F=op(c0(d));F.length!==0&&d.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:x0(d,g,F,"tableclass",function(te){return d.execCommand("mceTableToggleClass",!1,te)}),onSetup:w.onSetupTable});var j=op(Gd(d));j.length!==0&&d.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:x0(d,g,j,"tablecellclass",function(te){return d.execCommand("mceTableCellToggleClass",!1,te)}),onSetup:w.onSetupCellOrRow}),d.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:x0(d,g,ab,"tablecellverticalalign",ip(d,"vertical-align")),onSetup:w.onSetupCellOrRow}),d.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:x0(d,g,Uf(d),"tablecellborderwidth",ip(d,"border-width")),onSetup:w.onSetupCellOrRow}),d.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:x0(d,g,sl(d),"tablecellborderstyle",ip(d,"border-style")),onSetup:w.onSetupCellOrRow}),d.ui.registry.addToggleButton("tablecaption",{tooltip:"Table caption",onAction:M("mceTableToggleCaption"),icon:"table-caption",onSetup:w.onSetupTableWithCaption}),d.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:function(te){return te(ob(d,zy(d),"background-color"))},onSetup:w.onSetupCellOrRow}),d.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:function(te){return te(ob(d,Hy(d),"border-color"))},onSetup:w.onSetupCellOrRow}),d.ui.registry.addToggleButton("tablerowheader",{tooltip:"Row header",icon:"table-top-header",onAction:b2(d),onSetup:w.onSetupTableRowHeaders}),d.ui.registry.addToggleButton("tablecolheader",{tooltip:"Column header",icon:"table-left-header",onAction:y2(d),onSetup:w.onSetupTableColumnHeaders})},fA=function(d){var g=function(T){return d.dom.is(T,"table")&&d.getBody().contains(T)},w=ix(d);w.length>0&&d.ui.registry.addContextToolbar("table",{predicate:g,items:w,scope:"node",position:"node"})},sE=function(d,g,w,T){var M=function($t){return function(){return d.execCommand($t)}},F=function($t){d.execCommand("mceInsertTable",!1,{rows:$t.numRows,columns:$t.numColumns})},j={text:"Table properties",onSetup:w.onSetupTable,onAction:M("mceTableProps")},te={text:"Delete table",icon:"table-delete-table",onSetup:w.onSetupTable,onAction:M("mceTableDelete")};d.ui.registry.addMenuItem("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",onAction:M("mceTableInsertRowBefore"),onSetup:w.onSetupCellOrRow}),d.ui.registry.addMenuItem("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",onAction:M("mceTableInsertRowAfter"),onSetup:w.onSetupCellOrRow}),d.ui.registry.addMenuItem("tabledeleterow",{text:"Delete row",icon:"table-delete-row",onAction:M("mceTableDeleteRow"),onSetup:w.onSetupCellOrRow}),d.ui.registry.addMenuItem("tablerowprops",{text:"Row properties",icon:"table-row-properties",onAction:M("mceTableRowProps"),onSetup:w.onSetupCellOrRow}),d.ui.registry.addMenuItem("tablecutrow",{text:"Cut row",icon:"cut-row",onAction:M("mceTableCutRow"),onSetup:w.onSetupCellOrRow}),d.ui.registry.addMenuItem("tablecopyrow",{text:"Copy row",icon:"duplicate-row",onAction:M("mceTableCopyRow"),onSetup:w.onSetupCellOrRow}),d.ui.registry.addMenuItem("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",onAction:M("mceTablePasteRowBefore"),onSetup:w.onSetupPasteable(T.getRows)}),d.ui.registry.addMenuItem("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",onAction:M("mceTablePasteRowAfter"),onSetup:w.onSetupPasteable(T.getRows)});var ye={type:"nestedmenuitem",text:"Row",getSubmenuItems:_e("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")};d.ui.registry.addMenuItem("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",onAction:M("mceTableInsertColBefore"),onSetup:w.onSetupColumn("onFirst")}),d.ui.registry.addMenuItem("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",onAction:M("mceTableInsertColAfter"),onSetup:w.onSetupColumn("onLast")}),d.ui.registry.addMenuItem("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",onAction:M("mceTableDeleteCol"),onSetup:w.onSetupColumn("onAny")}),d.ui.registry.addMenuItem("tablecutcolumn",{text:"Cut column",icon:"cut-column",onAction:M("mceTableCutCol"),onSetup:w.onSetupColumn("onAny")}),d.ui.registry.addMenuItem("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",onAction:M("mceTableCopyCol"),onSetup:w.onSetupColumn("onAny")}),d.ui.registry.addMenuItem("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",onAction:M("mceTablePasteColBefore"),onSetup:w.onSetupPasteableColumn(T.getColumns,"onFirst")}),d.ui.registry.addMenuItem("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",onAction:M("mceTablePasteColAfter"),onSetup:w.onSetupPasteableColumn(T.getColumns,"onLast")});var Me={type:"nestedmenuitem",text:"Column",getSubmenuItems:_e("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")};d.ui.registry.addMenuItem("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",onAction:M("mceTableCellProps"),onSetup:w.onSetupCellOrRow}),d.ui.registry.addMenuItem("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",onAction:M("mceTableMergeCells"),onSetup:w.onSetupMergeable}),d.ui.registry.addMenuItem("tablesplitcells",{text:"Split cell",icon:"table-split-cells",onAction:M("mceTableSplitCells"),onSetup:w.onSetupUnmergeable});var Xe={type:"nestedmenuitem",text:"Cell",getSubmenuItems:_e("tablecellprops tablemergecells tablesplitcells")};ax(d)===!1?d.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:M("mceInsertTable")}):d.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:F}]}}),d.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:M("mceInsertTable")}),d.ui.registry.addMenuItem("tableprops",j),d.ui.registry.addMenuItem("deletetable",te),d.ui.registry.addNestedMenuItem("row",ye),d.ui.registry.addNestedMenuItem("column",Me),d.ui.registry.addNestedMenuItem("cell",Xe),d.ui.registry.addContextMenu("table",{update:function(){return w.resetTargets(),w.targets().fold(_e(""),function($t){return wa($t.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"})}});var At=op(c0(d));At.length!==0&&d.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:function(){return Jd(d,g,At,"tableclass",function($t){return d.execCommand("mceTableToggleClass",!1,$t)})},onSetup:w.onSetupTable});var nn=op(Gd(d));nn.length!==0&&d.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:function(){return Jd(d,g,nn,"tablecellclass",function($t){return d.execCommand("mceTableCellToggleClass",!1,$t)})},onSetup:w.onSetupCellOrRow}),d.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:function(){return Jd(d,g,ab,"tablecellverticalalign",ip(d,"vertical-align"))},onSetup:w.onSetupCellOrRow}),d.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:function(){return Jd(d,g,Uf(d),"tablecellborderwidth",ip(d,"border-width"))},onSetup:w.onSetupCellOrRow}),d.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:function(){return Jd(d,g,sl(d),"tablecellborderstyle",ip(d,"border-style"))},onSetup:w.onSetupCellOrRow}),d.ui.registry.addToggleMenuItem("tablecaption",{icon:"table-caption",text:"Table caption",onAction:M("mceTableToggleCaption"),onSetup:w.onSetupTableWithCaption}),d.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:function(){return ob(d,zy(d),"background-color")},onSetup:w.onSetupCellOrRow}),d.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:function(){return ob(d,Hy(d),"border-color")},onSetup:w.onSetupCellOrRow}),d.ui.registry.addToggleMenuItem("tablerowheader",{text:"Row header",icon:"table-top-header",onAction:b2(d),onSetup:w.onSetupTableRowHeaders}),d.ui.registry.addToggleMenuItem("tablecolheader",{text:"Column header",icon:"table-left-header",onAction:y2(d),onSetup:w.onSetupTableColumnHeaders})},M_=function(d){var g=mu(function(){return ud(d)},function(){return zs($f(d),Uc(d))},_c.selectedSelector),w=cC(d,g),T=d0(d),M=Pa(d,T.lazyResize,w),F=LD(d,M,T.lazyWire),j=$x();return Fx(d,F,M,g,j),Nx(d,F,g),zf(d,g,F),sE(d,g,w,j),oE(d,g,w,j),fA(d),d.on("PreInit",function(){d.serializer.addTempAttr(_c.firstSelected),d.serializer.addTempAttr(_c.lastSelected),XD(d)}),vd(d)&&d.on("keydown",function(te){MT(te,d,M)}),d.on("remove",function(){T.destroy()}),Fh(d,j,T,w)};function fC(){uy.add("table",M_)}fC()})();(function(){var i=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(){return t=Object.assign||function(Z){for(var N,oe=1,Le=arguments.length;oe<Le;oe++){N=arguments[oe];for(var Ge in N)Object.prototype.hasOwnProperty.call(N,Ge)&&(Z[Ge]=N[Ge])}return Z},t.apply(this,arguments)},a=function(J){var Z=typeof J;return J===null?"null":Z==="object"&&(Array.prototype.isPrototypeOf(J)||J.constructor&&J.constructor.name==="Array")?"array":Z==="object"&&(String.prototype.isPrototypeOf(J)||J.constructor&&J.constructor.name==="String")?"string":Z},u=function(J){return function(Z){return a(Z)===J}},c=function(J){return function(Z){return typeof Z===J}},m=function(J){return function(Z){return J===Z}},p=u("string"),x=u("object"),k=u("array"),D=m(null),L=c("boolean"),V=function(J){return J==null},q=function(J){return!V(J)},ie=c("function"),ee=c("number"),se=function(){},Te=function(J){return function(){return J}},_e=function(J){return J},be=Te(!1),le=Te(!0),Pe=function(){return Oe},Oe=function(){var J=function(oe){return oe()},Z=_e,N={fold:function(oe,Le){return oe()},isSome:be,isNone:le,getOr:Z,getOrThunk:J,getOrDie:function(oe){throw new Error(oe||"error: getOrDie called on none.")},getOrNull:Te(null),getOrUndefined:Te(void 0),or:Z,orThunk:J,map:Pe,each:se,bind:Pe,exists:be,forall:le,filter:function(){return Pe()},toArray:function(){return[]},toString:Te("none()")};return N}(),lt=function(J){var Z=Te(J),N=function(){return Le},oe=function(Ge){return Ge(J)},Le={fold:function(Ge,wt){return wt(J)},isSome:le,isNone:be,getOr:Z,getOrThunk:Z,getOrDie:Z,getOrNull:Z,getOrUndefined:Z,or:N,orThunk:N,map:function(Ge){return lt(Ge(J))},each:function(Ge){Ge(J)},bind:oe,exists:oe,forall:oe,filter:function(Ge){return Ge(J)?Le:Oe},toArray:function(){return[J]},toString:function(){return"some("+J+")"}};return Le},at=function(J){return J==null?Oe:lt(J)},K={some:lt,none:Pe,from:at},de=Object.keys,ve=Object.hasOwnProperty,Ue=function(J,Z){for(var N=de(J),oe=0,Le=N.length;oe<Le;oe++){var Ge=N[oe],wt=J[Ge];Z(wt,Ge)}},ue=function(J){return function(Z,N){J[N]=Z}},Y=function(J,Z,N,oe){var Le={};return Ue(J,function(Ge,wt){(Z(Ge,wt)?N:oe)(Ge,wt)}),Le},$e=function(J,Z){var N={};return Y(J,Z,ue(N),se),N},He=function(J,Z){return ve.call(J,Z)},Ce=function(J,Z){return He(J,Z)&&J[Z]!==void 0&&J[Z]!==null},rt=Array.prototype.push,We=function(J){for(var Z=[],N=0,oe=J.length;N<oe;++N){if(!k(J[N]))throw new Error("Arr.flatten item "+N+" was not an array, input: "+J);rt.apply(Z,J[N])}return Z},z=function(J,Z){return Z>=0&&Z<J.length?K.some(J[Z]):K.none()},ln=function(J){return z(J,0)},dt=function(J,Z){for(var N=0;N<J.length;N++){var oe=Z(J[N],N);if(oe.isSome())return oe}return K.none()};typeof window<"u"||Function("return this;")();var Dt=function(J,Z,N){if(p(N)||L(N)||ee(N))J.setAttribute(Z,N+"");else throw console.error("Invalid call to Attribute.set. Key ",Z,":: Value ",N,":: Element ",J),new Error("Attribute value was not simple")},mr=function(J,Z,N){Dt(J.dom,Z,N)},Kr=function(J,Z){J.dom.removeAttribute(Z)},_n=function(J,Z){var N=Z||document,oe=N.createElement("div");if(oe.innerHTML=J,!oe.hasChildNodes()||oe.childNodes.length>1)throw console.error("HTML does not have a single root node",J),new Error("HTML must have a single root node");return qa(oe.childNodes[0])},Gn=function(J,Z){var N=Z||document,oe=N.createElement(J);return qa(oe)},Ee=function(J,Z){var N=Z||document,oe=N.createTextNode(J);return qa(oe)},qa=function(J){if(J==null)throw new Error("Node cannot be null or undefined");return{dom:J}},Vt=function(J,Z,N){return K.from(J.dom.elementFromPoint(Z,N)).map(qa)},xn={fromHtml:_n,fromTag:Gn,fromText:Ee,fromDom:qa,fromPoint:Vt},Ga=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),jt=tinymce.util.Tools.resolve("tinymce.util.Promise"),kt=tinymce.util.Tools.resolve("tinymce.util.URI"),Qe=tinymce.util.Tools.resolve("tinymce.util.XHR"),st=function(J){return J.getParam("image_dimensions",!0,"boolean")},vt=function(J){return J.getParam("image_advtab",!1,"boolean")},Jt=function(J){return J.getParam("image_uploadtab",!0,"boolean")},zn=function(J){return J.getParam("image_prepend_url","","string")},pn=function(J){return J.getParam("image_class_list")},Er=function(J){return J.getParam("image_description",!0,"boolean")},xr=function(J){return J.getParam("image_title",!1,"boolean")},Un=function(J){return J.getParam("image_caption",!1,"boolean")},ba=function(J){return J.getParam("image_list",!1)},ho=function(J){return q(J.getParam("images_upload_url"))},ts=function(J){return q(J.getParam("images_upload_handler"))},ns=function(J){return J.getParam("a11y_advanced_options",!1,"boolean")},yo=function(J){return J.getParam("automatic_uploads",!0,"boolean")},Oa=function(J,Z){return Math.max(parseInt(J,10),parseInt(Z,10))},Ki=function(J){return new jt(function(Z){var N=document.createElement("img"),oe=function(Ge){N.onload=N.onerror=null,N.parentNode&&N.parentNode.removeChild(N),Z(Ge)};N.onload=function(){var Ge=Oa(N.width,N.clientWidth),wt=Oa(N.height,N.clientHeight),Ut={width:Ge,height:wt};oe(jt.resolve(Ut))},N.onerror=function(){oe(jt.reject("Failed to get image dimensions for: "+J))};var Le=N.style;Le.visibility="hidden",Le.position="fixed",Le.bottom=Le.left="0px",Le.width=Le.height="auto",document.body.appendChild(N),N.src=J})},_o=function(J){return J&&(J=J.replace(/px$/,"")),J},mi=function(J){return J.length>0&&/^[0-9]+$/.test(J)&&(J+="px"),J},ii=function(J){if(J.margin){var Z=String(J.margin).split(" ");switch(Z.length){case 1:J["margin-top"]=J["margin-top"]||Z[0],J["margin-right"]=J["margin-right"]||Z[0],J["margin-bottom"]=J["margin-bottom"]||Z[0],J["margin-left"]=J["margin-left"]||Z[0];break;case 2:J["margin-top"]=J["margin-top"]||Z[0],J["margin-right"]=J["margin-right"]||Z[1],J["margin-bottom"]=J["margin-bottom"]||Z[0],J["margin-left"]=J["margin-left"]||Z[1];break;case 3:J["margin-top"]=J["margin-top"]||Z[0],J["margin-right"]=J["margin-right"]||Z[1],J["margin-bottom"]=J["margin-bottom"]||Z[2],J["margin-left"]=J["margin-left"]||Z[1];break;case 4:J["margin-top"]=J["margin-top"]||Z[0],J["margin-right"]=J["margin-right"]||Z[1],J["margin-bottom"]=J["margin-bottom"]||Z[2],J["margin-left"]=J["margin-left"]||Z[3]}delete J.margin}return J},Xi=function(J,Z){var N=ba(J);p(N)?Qe.send({url:N,success:function(oe){Z(JSON.parse(oe))}}):ie(N)?N(Z):Z(N)},oi=function(J,Z,N){var oe=function(){N.onload=N.onerror=null,J.selection&&(J.selection.select(N),J.nodeChanged())};N.onload=function(){!Z.width&&!Z.height&&st(J)&&J.dom.setAttribs(N,{width:String(N.clientWidth),height:String(N.clientHeight)}),oe()},N.onerror=oe},ya=function(J){return new jt(function(Z,N){var oe=new FileReader;oe.onload=function(){Z(oe.result)},oe.onerror=function(){N(oe.error.message)},oe.readAsDataURL(J)})},Vo=function(J){return J.nodeName==="IMG"&&(J.hasAttribute("data-mce-object")||J.hasAttribute("data-mce-placeholder"))},Os=function(J,Z){return kt.isDomSafe(Z,"img",J.settings)},wo=Ga.DOM,ia=function(J){return J.style.marginLeft&&J.style.marginRight&&J.style.marginLeft===J.style.marginRight?_o(J.style.marginLeft):""},Ds=function(J){return J.style.marginTop&&J.style.marginBottom&&J.style.marginTop===J.style.marginBottom?_o(J.style.marginTop):""},Ms=function(J){return J.style.borderWidth?_o(J.style.borderWidth):""},rs=function(J,Z){return J.hasAttribute(Z)?J.getAttribute(Z):""},Zn=function(J,Z){return J.style[Z]?J.style[Z]:""},ma=function(J){return J.parentNode!==null&&J.parentNode.nodeName==="FIGURE"},Pi=function(J,Z,N){N===""?J.removeAttribute(Z):J.setAttribute(Z,N)},ou=function(J){var Z=wo.create("figure",{class:"image"});wo.insertAfter(Z,J),Z.appendChild(J),Z.appendChild(wo.create("figcaption",{contentEditable:"true"},"Caption")),Z.contentEditable="false"},Mc=function(J){var Z=J.parentNode;wo.insertAfter(J,Z),wo.remove(Z)},_a=function(J){ma(J)?Mc(J):ou(J)},Ur=function(J,Z){var N=J.getAttribute("style"),oe=Z(N!==null?N:"");oe.length>0?(J.setAttribute("style",oe),J.setAttribute("data-mce-style",oe)):J.removeAttribute("style")},Uo=function(J,Z){return function(N,oe,Le){N.style[oe]?(N.style[oe]=mi(Le),Ur(N,Z)):Pi(N,oe,Le)}},_l=function(J,Z){return J.style[Z]?_o(J.style[Z]):rs(J,Z)},wl=function(J,Z){var N=mi(Z);J.style.marginLeft=N,J.style.marginRight=N},Mo=function(J,Z){var N=mi(Z);J.style.marginTop=N,J.style.marginBottom=N},Ks=function(J,Z){var N=mi(Z);J.style.borderWidth=N},zl=function(J,Z){J.style.borderStyle=Z},Xs=function(J){return Zn(J,"borderStyle")},Rs=function(J){return J.nodeName==="FIGURE"},Hl=function(J){return J.nodeName==="IMG"},Da=function(J){return wo.getAttrib(J,"alt").length===0&&wo.getAttrib(J,"role")==="presentation"},su=function(J){return Da(J)?"":rs(J,"alt")},Kn=function(){return{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}},ac=function(J,Z){var N=document.createElement("img");return Pi(N,"style",Z.style),(ia(N)||Z.hspace!=="")&&wl(N,Z.hspace),(Ds(N)||Z.vspace!=="")&&Mo(N,Z.vspace),(Ms(N)||Z.border!=="")&&Ks(N,Z.border),(Xs(N)||Z.borderStyle!=="")&&zl(N,Z.borderStyle),J(N.getAttribute("style"))},Ps=function(J,Z){var N=document.createElement("img");if(Vl(J,t(t({},Z),{caption:!1}),N),Xu(N,Z.alt,Z.isDecorative),Z.caption){var oe=wo.create("figure",{class:"image"});return oe.appendChild(N),oe.appendChild(wo.create("figcaption",{contentEditable:"true"},"Caption")),oe.contentEditable="false",oe}else return N},uu=function(J,Z){return{src:rs(Z,"src"),alt:su(Z),title:rs(Z,"title"),width:_l(Z,"width"),height:_l(Z,"height"),class:rs(Z,"class"),style:J(rs(Z,"style")),caption:ma(Z),hspace:ia(Z),vspace:Ds(Z),border:Ms(Z),borderStyle:Zn(Z,"borderStyle"),isDecorative:Da(Z)}},Wo=function(J,Z,N,oe,Le){N[oe]!==Z[oe]&&Le(J,oe,N[oe])},Xu=function(J,Z,N){if(N){wo.setAttrib(J,"role","presentation");var oe=xn.fromDom(J);mr(oe,"alt","")}else{if(D(Z)){var oe=xn.fromDom(J);Kr(oe,"alt")}else{var oe=xn.fromDom(J);mr(oe,"alt",Z)}wo.getAttrib(J,"role")==="presentation"&&wo.setAttrib(J,"role","")}},rf=function(J,Z,N){(N.alt!==Z.alt||N.isDecorative!==Z.isDecorative)&&Xu(J,N.alt,N.isDecorative)},Eu=function(J,Z){return function(N,oe,Le){J(N,Le),Ur(N,Z)}},Vl=function(J,Z,N){var oe=uu(J,N);Wo(N,oe,Z,"caption",function(Le,Ge,wt){return _a(Le)}),Wo(N,oe,Z,"src",Pi),Wo(N,oe,Z,"title",Pi),Wo(N,oe,Z,"width",Uo("width",J)),Wo(N,oe,Z,"height",Uo("height",J)),Wo(N,oe,Z,"class",Pi),Wo(N,oe,Z,"style",Eu(function(Le,Ge){return Pi(Le,"style",Ge)},J)),Wo(N,oe,Z,"hspace",Eu(wl,J)),Wo(N,oe,Z,"vspace",Eu(Mo,J)),Wo(N,oe,Z,"border",Eu(Ks,J)),Wo(N,oe,Z,"borderStyle",Eu(zl,J)),rf(N,oe,Z)},as=function(J,Z){var N=J.dom.styles.parse(Z),oe=ii(N),Le=J.dom.styles.parse(J.dom.styles.serialize(oe));return J.dom.styles.serialize(Le)},jo=function(J){var Z=J.selection.getNode(),N=J.dom.getParent(Z,"figure.image");return N?J.dom.select("img",N)[0]:Z&&(Z.nodeName!=="IMG"||Vo(Z))?null:Z},vn=function(J,Z){var N=J.dom,oe=$e(J.schema.getTextBlockElements(),function(Ge,wt){return!J.schema.isValidChild(wt,"figure")}),Le=N.getParent(Z.parentNode,function(Ge){return Ce(oe,Ge.nodeName)},J.getBody());return Le?N.split(Le,Z):Z},ic=function(J){var Z=jo(J);return Z?uu(function(N){return as(J,N)},Z):Kn()},Rc=function(J,Z){var N=Ps(function(Ge){return as(J,Ge)},Z);J.dom.setAttrib(N,"data-mce-id","__mcenew"),J.focus(),J.selection.setContent(N.outerHTML);var oe=J.dom.select('*[data-mce-id="__mcenew"]')[0];if(J.dom.setAttrib(oe,"data-mce-id",null),Rs(oe)){var Le=vn(J,oe);J.selection.select(Le)}else J.selection.select(oe)},oc=function(J,Z){J.dom.setAttrib(Z,"src",Z.getAttribute("src"))},ze=function(J,Z){if(Z){var N=J.dom.is(Z.parentNode,"figure.image")?Z.parentNode:Z;J.dom.remove(N),J.focus(),J.nodeChanged(),J.dom.isEmpty(J.getBody())&&(J.setContent(""),J.selection.setCursorLocation())}},Ye=function(J,Z){var N=jo(J);if(Vl(function(Le){return as(J,Le)},Z,N),oc(J,N),Rs(N.parentNode)){var oe=N.parentNode;vn(J,oe),J.selection.select(N.parentNode)}else J.selection.select(N),oi(J,Z,N)},Lt=function(J,Z){var N=Z.src;return t(t({},Z),{src:Os(J,N)?N:""})},Kt=function(J,Z){var N=jo(J);if(N){var oe=uu(function(wt){return as(J,wt)},N),Le=t(t({},oe),Z),Ge=Lt(J,Le);Le.src?Ye(J,Ge):ze(J,N)}else Z.src&&Rc(J,t(t({},Kn()),Z))},tn=function(J,Z){var N=x(J)&&x(Z);return N?Bn(J,Z):Z},An=function(J){return function(){for(var Z=[],N=0;N<arguments.length;N++)Z[N]=arguments[N];if(Z.length===0)throw new Error("Can't merge zero objects");for(var oe={},Le=0;Le<Z.length;Le++){var Ge=Z[Le];for(var wt in Ge)He(Ge,wt)&&(oe[wt]=J(oe[wt],Ge[wt]))}return oe}},Bn=An(tn),kr=function(J){return J.length>0},Pr=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),Zr=tinymce.util.Tools.resolve("tinymce.util.Tools"),Ka=function(J){return p(J.value)?J.value:""},wi=function(J){return p(J.text)?J.text:p(J.title)?J.title:""},mo=function(J,Z){var N=[];return Zr.each(J,function(oe){var Le=wi(oe);if(oe.menu!==void 0){var Ge=mo(oe.menu,Z);N.push({text:Le,items:Ge})}else{var wt=Z(oe);N.push({text:Le,value:wt})}}),N},Qt=function(J){return J===void 0&&(J=Ka),function(Z){return Z?K.from(Z).map(function(N){return mo(N,J)}):K.none()}},Dr=function(J){return Qt(Ka)(J)},Ba=function(J){return He(J,"items")},Yo=function(J,Z){return dt(J,function(N){return Ba(N)?Yo(N.items,Z):N.value===Z?K.some(N):K.none()})},lu=function(J,Z){return J.bind(function(N){return Yo(N,Z)})},sa={sanitizer:Qt,sanitize:Dr,findEntry:lu},af=function(J){return{title:"Advanced",name:"advanced",items:[{type:"input",label:"Style",name:"style"},{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}},Zu={makeTab:af},Ii=function(J){var Z=sa.sanitizer(function(lr){return J.convertURL(lr.value||lr.url,"src")}),N=new jt(function(lr){Xi(J,function(La){lr(Z(La).map(function(Di){return We([[{text:"None",value:""}],Di])}))})}),oe=sa.sanitize(pn(J)),Le=vt(J),Ge=Jt(J),wt=ho(J),Ut=ts(J),ar=ic(J),Cr=Er(J),On=xr(J),sr=st(J),Xr=Un(J),Qr=ns(J),yr=yo(J),Bi=K.some(zn(J)).filter(function(lr){return p(lr)&&lr.length>0});return N.then(function(lr){return{image:ar,imageList:lr,classList:oe,hasAdvTab:Le,hasUploadTab:Ge,hasUploadUrl:wt,hasUploadHandler:Ut,hasDescription:Cr,hasImageTitle:On,hasDimensions:sr,hasImageCaption:Xr,prependURL:Bi,hasAccessibilityOptions:Qr,automaticUploads:yr}})},Ju=function(J){var Z={name:"src",type:"urlinput",filetype:"image",label:"Source"},N=J.imageList.map(function(On){return{name:"images",type:"listbox",label:"Image list",items:On}}),oe={name:"alt",type:"input",label:"Alternative description",disabled:J.hasAccessibilityOptions&&J.image.isDecorative},Le={name:"title",type:"input",label:"Image title"},Ge={name:"dimensions",type:"sizeinput"},wt={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},Ut=J.classList.map(function(On){return{name:"classes",type:"listbox",label:"Class",items:On}}),ar={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},Cr=function(On){return On?{type:"grid",columns:2}:{type:"panel"}};return We([[Z],N.toArray(),J.hasAccessibilityOptions&&J.hasDescription?[wt]:[],J.hasDescription?[oe]:[],J.hasImageTitle?[Le]:[],J.hasDimensions?[Ge]:[],[t(t({},Cr(J.classList.isSome()&&J.hasImageCaption)),{items:We([Ut.toArray(),J.hasImageCaption?[ar]:[]])})]])},Is=function(J){return{title:"General",name:"general",items:Ju(J)}},Zs={makeTab:Is,makeItems:Ju},fi=function(J){var Z=[{type:"dropzone",name:"fileinput"}];return{title:"Upload",name:"upload",items:Z}},Pc={makeTab:fi},sc=function(J){return{prevImage:sa.findEntry(J.imageList,J.image.src),prevAlt:J.image.alt,open:!0}},uc=function(J){return{src:{value:J.src,meta:{}},images:J.src,alt:J.alt,title:J.title,dimensions:{width:J.width,height:J.height},classes:J.class,caption:J.caption,style:J.style,vspace:J.vspace,border:J.border,hspace:J.hspace,borderstyle:J.borderStyle,fileinput:[],isDecorative:J.isDecorative}},of=function(J,Z){return{src:J.src.value,alt:J.alt.length===0&&Z?null:J.alt,title:J.title,width:J.dimensions.width,height:J.dimensions.height,class:J.classes,style:J.style,caption:J.caption,hspace:J.hspace,vspace:J.vspace,border:J.border,borderStyle:J.borderstyle,isDecorative:J.isDecorative}},Qu=function(J,Z){return/^(?:[a-zA-Z]+:)?\/\//.test(Z)?K.none():J.prependURL.bind(function(N){return Z.substring(0,N.length)!==N?K.some(N+Z):K.none()})},xl=function(J,Z){var N=Z.getData();Qu(J,N.src.value).each(function(oe){Z.setData({src:{value:oe,meta:N.src.meta}})})},kf=function(J,Z,N){J.hasDescription&&p(N.alt)&&(Z.alt=N.alt),J.hasAccessibilityOptions&&(Z.isDecorative=N.isDecorative||Z.isDecorative||!1),J.hasImageTitle&&p(N.title)&&(Z.title=N.title),J.hasDimensions&&(p(N.width)&&(Z.dimensions.width=N.width),p(N.height)&&(Z.dimensions.height=N.height)),p(N.class)&&sa.findEntry(J.classList,N.class).each(function(oe){Z.classes=oe.value}),J.hasImageCaption&&L(N.caption)&&(Z.caption=N.caption),J.hasAdvTab&&(p(N.style)&&(Z.style=N.style),p(N.vspace)&&(Z.vspace=N.vspace),p(N.border)&&(Z.border=N.border),p(N.hspace)&&(Z.hspace=N.hspace),p(N.borderstyle)&&(Z.borderstyle=N.borderstyle))},ku=function(J,Z){var N=Z.getData(),oe=N.src.meta;if(oe!==void 0){var Le=Bn({},N);kf(J,Le,oe),Z.setData(Le)}},cu=function(J,Z,N,oe){var Le=oe.getData(),Ge=Le.src.value,wt=Le.src.meta||{};!wt.width&&!wt.height&&Z.hasDimensions&&(kr(Ge)?J.imageSize(Ge).then(function(Ut){N.open&&oe.setData({dimensions:Ut})}).catch(function(Ut){return console.error(Ut)}):oe.setData({dimensions:{width:"",height:""}}))},me=function(J,Z,N){var oe=N.getData(),Le=sa.findEntry(J.imageList,oe.src.value);Z.prevImage=Le,N.setData({images:Le.map(function(Ge){return Ge.value}).getOr("")})},qe=function(J,Z,N,oe){xl(Z,oe),ku(Z,oe),cu(J,Z,N,oe),me(Z,N,oe)},ct=function(J,Z,N,oe){var Le=oe.getData(),Ge=sa.findEntry(Z.imageList,Le.images);Ge.each(function(wt){var Ut=Le.alt===""||N.prevImage.map(function(ar){return ar.text===Le.alt}).getOr(!1);Ut?wt.value===""?oe.setData({src:wt,alt:N.prevAlt}):oe.setData({src:wt,alt:wt.text}):oe.setData({src:wt})}),N.prevImage=Ge,qe(J,Z,N,oe)},Mt=function(J){var Z=J["margin-top"]&&J["margin-bottom"]&&J["margin-top"]===J["margin-bottom"];return Z?_o(String(J["margin-top"])):""},sn=function(J){var Z=J["margin-right"]&&J["margin-left"]&&J["margin-right"]===J["margin-left"];return Z?_o(String(J["margin-right"])):""},qn=function(J){return J["border-width"]?_o(String(J["border-width"])):""},Ma=function(J){return J["border-style"]?String(J["border-style"]):""},Xa=function(J,Z,N){return Z(J(Z(N)))},Wr=function(J,Z,N){var oe=ii(J(N.style)),Le=Bn({},N);return Le.vspace=Mt(oe),Le.hspace=sn(oe),Le.border=qn(oe),Le.borderstyle=Ma(oe),Le.style=Xa(J,Z,oe),Le},Vr=function(J,Z){var N=Z.getData(),oe=Wr(J.parseStyle,J.serializeStyle,N);Z.setData(oe)},jr=function(J,Z,N){var oe=Bn(uc(Z.image),N.getData()),Le=ac(J.normalizeCss,of(oe,!1));N.setData({style:Le})},lc=function(J,Z,N,oe){var Le=oe.getData();oe.block("Uploading image"),ln(Le.fileinput).fold(function(){oe.unblock()},function(Ge){var wt=URL.createObjectURL(Ge),Ut=function(){oe.unblock(),URL.revokeObjectURL(wt)},ar=function(Cr){oe.setData({src:{value:Cr,meta:{}}}),oe.showTab("general"),qe(J,Z,N,oe)};ya(Ge).then(function(Cr){var On=J.createBlobCache(Ge,wt,Cr);Z.automaticUploads?J.uploadImage(On).then(function(sr){ar(sr.url),Ut()}).catch(function(sr){Ut(),J.alertErr(sr)}):(J.addToBlobCache(On),ar(On.blobUri()),oe.unblock())})})},is=function(J,Z,N){return function(oe,Le){Le.name==="src"?qe(J,Z,N,oe):Le.name==="images"?ct(J,Z,N,oe):Le.name==="alt"?N.prevAlt=oe.getData().alt:Le.name==="style"?Vr(J,oe):Le.name==="vspace"||Le.name==="hspace"||Le.name==="border"||Le.name==="borderstyle"?jr(J,Z,oe):Le.name==="fileinput"?lc(J,Z,N,oe):Le.name==="isDecorative"&&(oe.getData().isDecorative?oe.disable("alt"):oe.enable("alt"))}},Ul=function(J){return function(){J.open=!1}},rr=function(J){if(J.hasAdvTab||J.hasUploadUrl||J.hasUploadHandler){var Z={type:"tabpanel",tabs:We([[Zs.makeTab(J)],J.hasAdvTab?[Zu.makeTab(J)]:[],J.hasUploadTab&&(J.hasUploadUrl||J.hasUploadHandler)?[Pc.makeTab(J)]:[]])};return Z}else{var N={type:"panel",items:Zs.makeItems(J)};return N}},Qf=function(J){return function(Z){var N=sc(Z);return{title:"Insert/Edit Image",size:"normal",body:rr(Z),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:uc(Z.image),onSubmit:J.onSubmit(Z),onChange:is(J,Z,N),onClose:Ul(N)}}},vv=function(J){return function(Z){return function(N){var oe=Bn(uc(Z.image),N.getData());J.execCommand("mceUpdateImage",!1,of(oe,Z.hasAccessibilityOptions)),J.editorUpload.uploadImagesAuto(),N.close()}}},wa=function(J){return function(Z){return Os(J,Z)?Ki(J.documentBaseURI.toAbsolute(Z)).then(function(N){return{width:String(N.width),height:String(N.height)}}):jt.resolve({width:"",height:""})}},hv=function(J){return function(Z,N,oe){return J.editorUpload.blobCache.create({blob:Z,blobUri:N,name:Z.name?Z.name.replace(/\.[^\.]+$/,""):null,filename:Z.name,base64:oe.split(",")[1]})}},Ro=function(J){return function(Z){J.editorUpload.blobCache.add(Z)}},Td=function(J){return function(Z){J.windowManager.alert(Z)}},Ra=function(J){return function(Z){return as(J,Z)}},Tu=function(J){return function(Z){return J.dom.parseStyle(Z)}},mv=function(J){return function(Z,N){return J.dom.serializeStyle(Z,N)}},xo=function(J){return function(Z){return Pr(J).upload([Z],!1).then(function(N){return N.length===0?jt.reject("Failed to upload image"):N[0].status===!1?jt.reject(N[0].error.message):N[0]})}},Qi=function(J){var Z={onSubmit:vv(J),imageSize:wa(J),addToBlobCache:Ro(J),createBlobCache:hv(J),alertErr:Td(J),normalizeCss:Ra(J),parseStyle:Tu(J),serializeStyle:mv(J),uploadImage:xo(J)},N=function(){Ii(J).then(Qf(Z)).then(J.windowManager.open)};return{open:N}},Ic=function(J){J.addCommand("mceImage",Qi(J).open),J.addCommand("mceUpdateImage",function(Z,N){J.undoManager.transact(function(){return Kt(J,N)})})},Tt=function(J){var Z=J.attr("class");return Z&&/\bimage\b/.test(Z)},Tf=function(J){return function(Z){for(var N=Z.length,oe=function(Ge){Ge.attr("contenteditable",J?"true":null)};N--;){var Le=Z[N];Tt(Le)&&(Le.attr("contenteditable",J?"false":null),Zr.each(Le.getAll("figcaption"),oe))}}},eo=function(J){J.on("PreInit",function(){J.parser.addNodeFilter("figure",Tf(!0)),J.serializer.addNodeFilter("figure",Tf(!1))})},gv=function(J){J.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:Qi(J).open,onSetup:function(Z){return Z.setActive(q(jo(J))),J.selection.selectorChangedWithUnbind("img:not([data-mce-object],[data-mce-placeholder]),figure.image",Z.setActive).unbind}}),J.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:Qi(J).open}),J.ui.registry.addContextMenu("image",{update:function(Z){return Rs(Z)||Hl(Z)&&!Vo(Z)?["image"]:[]}})};function Po(){i.add("image",function(J){eo(J),gv(J),Ic(J)})}Po()})();(function(){var i=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(jt){return jt},a=function(){return a=Object.assign||function(kt){for(var Qe,st=1,vt=arguments.length;st<vt;st++){Qe=arguments[st];for(var Jt in Qe)Object.prototype.hasOwnProperty.call(Qe,Jt)&&(kt[Jt]=Qe[Jt])}return kt},a.apply(this,arguments)},u="\uFEFF",c=function(jt){return jt.replace(/\uFEFF/g,"")},m=function(jt,kt){for(var Qe=jt.length,st=new Array(Qe),vt=0;vt<Qe;vt++){var Jt=jt[vt];st[vt]=kt(Jt,vt)}return st},p="[!-#%-*,-\\/:;?@\\[-\\]_{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]",x={aletter:"[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]",midnumlet:"[-'\\.‘’․﹒＇．]",midletter:"[:··״‧︓﹕：]",midnum:"[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",numeric:"[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",format:"[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\uFEFF￹-￻]",katakana:"[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",extendnumlet:"[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",punctuation:p},k={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},D=[new RegExp(x.aletter),new RegExp(x.midnumlet),new RegExp(x.midletter),new RegExp(x.midnum),new RegExp(x.numeric),new RegExp(x.cr),new RegExp(x.lf),new RegExp(x.newline),new RegExp(x.extend),new RegExp(x.format),new RegExp(x.katakana),new RegExp(x.extendnumlet),new RegExp("@")],L="",V=new RegExp("^"+x.punctuation+"$"),q=/^\s+$/,ie=D,ee=k.OTHER,se=function(jt){for(var kt=ee,Qe=ie.length,st=0;st<Qe;++st){var vt=ie[st];if(vt&&vt.test(jt)){kt=st;break}}return kt},Te=function(jt){var kt={};return function(Qe){if(kt[Qe])return kt[Qe];var st=jt(Qe);return kt[Qe]=st,st}},_e=function(jt){var kt=Te(se);return m(jt,kt)},be=function(jt,kt){var Qe=jt[kt],st=jt[kt+1];if(kt<0||kt>jt.length-1&&kt!==0||Qe===k.ALETTER&&st===k.ALETTER)return!1;var vt=jt[kt+2];if(Qe===k.ALETTER&&(st===k.MIDLETTER||st===k.MIDNUMLET||st===k.AT)&&vt===k.ALETTER)return!1;var Jt=jt[kt-1];return(Qe===k.MIDLETTER||Qe===k.MIDNUMLET||st===k.AT)&&st===k.ALETTER&&Jt===k.ALETTER||(Qe===k.NUMERIC||Qe===k.ALETTER)&&(st===k.NUMERIC||st===k.ALETTER)||(Qe===k.MIDNUM||Qe===k.MIDNUMLET)&&st===k.NUMERIC&&Jt===k.NUMERIC||Qe===k.NUMERIC&&(st===k.MIDNUM||st===k.MIDNUMLET)&&vt===k.NUMERIC||Qe===k.EXTEND||Qe===k.FORMAT||Jt===k.EXTEND||Jt===k.FORMAT||st===k.EXTEND||st===k.FORMAT||Qe===k.CR&&st===k.LF?!1:Qe===k.NEWLINE||Qe===k.CR||Qe===k.LF||st===k.NEWLINE||st===k.CR||st===k.LF?!0:!(Qe===k.KATAKANA&&st===k.KATAKANA||st===k.EXTENDNUMLET&&(Qe===k.ALETTER||Qe===k.NUMERIC||Qe===k.KATAKANA||Qe===k.EXTENDNUMLET)||Qe===k.EXTENDNUMLET&&(st===k.ALETTER||st===k.NUMERIC||st===k.KATAKANA)||Qe===k.AT)},le=L,Pe=q,Oe=V,lt=function(jt){return jt==="http"||jt==="https"},at=function(jt,kt){var Qe;for(Qe=kt;Qe<jt.length&&!Pe.test(jt[Qe]);Qe++);return Qe},K=function(jt,kt){var Qe=at(jt,kt+1),st=jt.slice(kt+1,Qe).join(le);return st.substr(0,3)==="://"?Qe:kt},de=function(jt,kt,Qe,st){for(var vt=[],Jt=[],zn=0;zn<Qe.length;++zn)if(Jt.push(jt[zn]),be(Qe,zn)){var pn=kt[zn];if((st.includeWhitespace||!Pe.test(pn))&&(st.includePunctuation||!Oe.test(pn))){var Er=zn-Jt.length+1,xr=zn+1,Un=kt.slice(Er,xr).join(le);if(lt(Un)){var ba=K(kt,zn),ho=jt.slice(xr,ba);Array.prototype.push.apply(Jt,ho),zn=ba}vt.push(Jt)}Jt=[]}return vt},ve=function(){return{includeWhitespace:!1,includePunctuation:!1}},Ue=function(jt,kt,Qe){Qe=a(a({},ve()),Qe);for(var st=[],vt=[],Jt=0;Jt<jt.length;Jt++){var zn=kt(jt[Jt]);zn!==u&&(st.push(jt[Jt]),vt.push(zn))}var pn=_e(vt);return de(st,vt,pn,Qe)},ue=Ue,Y=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),$e=function(jt,kt){for(var Qe=kt.getBlockElements(),st=kt.getShortEndedElements(),vt=function(Er){return Qe[Er.nodeName]||st[Er.nodeName]},Jt=[],zn="",pn=new Y(jt,jt);jt=pn.next();)jt.nodeType===3?zn+=c(jt.data):vt(jt)&&zn.length&&(Jt.push(zn),zn="");return zn.length&&Jt.push(zn),Jt},He=function(jt){return jt.replace(/\u200B/g,"")},Ce=function(jt){return jt.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length},rt=function(jt,kt){var Qe=He($e(jt,kt).join(`
`));return ue(Qe.split(""),t).length},We=function(jt,kt){var Qe=$e(jt,kt).join("");return Ce(Qe)},z=function(jt,kt){var Qe=$e(jt,kt).join("").replace(/\s/g,"");return Ce(Qe)},ln=function(jt,kt){return function(){return kt(jt.getBody(),jt.schema)}},dt=function(jt,kt){return function(){return kt(jt.selection.getRng().cloneContents(),jt.schema)}},Dt=function(jt){return ln(jt,rt)},mr=function(jt){return{body:{getWordCount:Dt(jt),getCharacterCount:ln(jt,We),getCharacterCountWithoutSpaces:ln(jt,z)},selection:{getWordCount:dt(jt,rt),getCharacterCount:dt(jt,We),getCharacterCountWithoutSpaces:dt(jt,z)},getCount:Dt(jt)}},Kr=function(jt,kt){jt.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(kt.body.getWordCount()),String(kt.selection.getWordCount())],["Characters (no spaces)",String(kt.body.getCharacterCountWithoutSpaces()),String(kt.selection.getCharacterCountWithoutSpaces())],["Characters",String(kt.body.getCharacterCount()),String(kt.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},_n=function(jt,kt){jt.addCommand("mceWordCount",function(){return Kr(jt,kt)})},Gn=tinymce.util.Tools.resolve("tinymce.util.Delay"),Ee=function(jt,kt){jt.fire("wordCountUpdate",{wordCount:{words:kt.body.getWordCount(),characters:kt.body.getCharacterCount(),charactersWithoutSpaces:kt.body.getCharacterCountWithoutSpaces()}})},qa=function(jt,kt){Ee(jt,kt)},Vt=function(jt,kt,Qe){var st=Gn.debounce(function(){return qa(jt,kt)},Qe);jt.on("init",function(){qa(jt,kt),Gn.setEditorTimeout(jt,function(){jt.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",st)},0)})},xn=function(jt){var kt=function(){return jt.execCommand("mceWordCount")};jt.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:kt}),jt.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:kt})};function Ga(jt){jt===void 0&&(jt=300),i.add("wordcount",function(kt){var Qe=mr(kt);return _n(kt,Qe),xn(kt),Vt(kt,Qe,jt),Qe})}Ga()})();(function(){var i=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env"),a=function(V){return V.getParam("pagebreak_separator","<!-- pagebreak -->")},u=function(V){return V.getParam("pagebreak_split_block",!1)},c="mce-pagebreak",m=function(V){var q='<img src="'+t.transparentSrc+'" class="'+c+'" data-mce-resize="false" data-mce-placeholder />';return V?"<p>"+q+"</p>":q},p=function(V){var q=a(V),ie=function(){return u(V)},ee=new RegExp(q.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,function(se){return"\\"+se}),"gi");V.on("BeforeSetContent",function(se){se.content=se.content.replace(ee,m(ie()))}),V.on("PreInit",function(){V.serializer.addNodeFilter("img",function(se){for(var Te=se.length,_e,be;Te--;)if(_e=se[Te],be=_e.attr("class"),be&&be.indexOf(c)!==-1){var le=_e.parent;if(V.schema.getBlockElements()[le.name]&&ie()){le.type=3,le.value=q,le.raw=!0,_e.remove();continue}_e.type=3,_e.value=q,_e.raw=!0}})})},x=function(V){V.addCommand("mcePageBreak",function(){V.insertContent(m(u(V)))})},k=function(V){V.on("ResolveName",function(q){q.target.nodeName==="IMG"&&V.dom.hasClass(q.target,c)&&(q.name="pagebreak")})},D=function(V){var q=function(){return V.execCommand("mcePageBreak")};V.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:q}),V.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:q})};function L(){i.add("pagebreak",function(V){x(V),D(V),p(V),k(V)})}L()})();(function(){var i=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(le){return le.getParam("insertdatetime_dateformat",le.translate("%Y-%m-%d"))},a=function(le){return le.getParam("insertdatetime_timeformat",le.translate("%H:%M:%S"))},u=function(le){return le.getParam("insertdatetime_formats",["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"])},c=function(le){var Pe=u(le);return Pe.length>0?Pe[0]:a(le)},m=function(le){return le.getParam("insertdatetime_element",!1)},p="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),x="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),k="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),D="January February March April May June July August September October November December".split(" "),L=function(le,Pe){if(le=""+le,le.length<Pe)for(var Oe=0;Oe<Pe-le.length;Oe++)le="0"+le;return le},V=function(le,Pe,Oe){return Oe===void 0&&(Oe=new Date),Pe=Pe.replace("%D","%m/%d/%Y"),Pe=Pe.replace("%r","%I:%M:%S %p"),Pe=Pe.replace("%Y",""+Oe.getFullYear()),Pe=Pe.replace("%y",""+Oe.getYear()),Pe=Pe.replace("%m",L(Oe.getMonth()+1,2)),Pe=Pe.replace("%d",L(Oe.getDate(),2)),Pe=Pe.replace("%H",""+L(Oe.getHours(),2)),Pe=Pe.replace("%M",""+L(Oe.getMinutes(),2)),Pe=Pe.replace("%S",""+L(Oe.getSeconds(),2)),Pe=Pe.replace("%I",""+((Oe.getHours()+11)%12+1)),Pe=Pe.replace("%p",Oe.getHours()<12?"AM":"PM"),Pe=Pe.replace("%B",""+le.translate(D[Oe.getMonth()])),Pe=Pe.replace("%b",""+le.translate(k[Oe.getMonth()])),Pe=Pe.replace("%A",""+le.translate(x[Oe.getDay()])),Pe=Pe.replace("%a",""+le.translate(p[Oe.getDay()])),Pe=Pe.replace("%%","%"),Pe},q=function(le,Pe,Oe,lt){var at=le.dom.create("time",{datetime:Oe},lt);Pe.parentNode.insertBefore(at,Pe),le.dom.remove(Pe),le.selection.select(at,!0),le.selection.collapse(!1)},ie=function(le,Pe){if(m(le)){var Oe=V(le,Pe),lt=void 0;/%[HMSIp]/.test(Pe)?lt=V(le,"%Y-%m-%dT%H:%M"):lt=V(le,"%Y-%m-%d");var at=le.dom.getParent(le.selection.getStart(),"time");at?q(le,at,lt,Oe):le.insertContent('<time datetime="'+lt+'">'+Oe+"</time>")}else le.insertContent(V(le,Pe))},ee=function(le){le.addCommand("mceInsertDate",function(Pe,Oe){ie(le,Oe??t(le))}),le.addCommand("mceInsertTime",function(Pe,Oe){ie(le,Oe??a(le))})},se=function(le){var Pe=le,Oe=function(){return Pe},lt=function(at){Pe=at};return{get:Oe,set:lt}},Te=tinymce.util.Tools.resolve("tinymce.util.Tools"),_e=function(le){var Pe=u(le),Oe=se(c(le)),lt=function(K){return le.execCommand("mceInsertDate",!1,K)};le.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",select:function(K){return K===Oe.get()},fetch:function(K){K(Te.map(Pe,function(de){return{type:"choiceitem",text:V(le,de),value:de}}))},onAction:function(K){lt(Oe.get())},onItemAction:function(K,de){Oe.set(de),lt(de)}});var at=function(K){return function(){Oe.set(K),lt(K)}};le.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:function(){return Te.map(Pe,function(K){return{type:"menuitem",text:V(le,K),onAction:at(K)}})}})};function be(){i.add("insertdatetime",function(le){ee(le),_e(le)})}be()})();(function(){var i=function(L){var V=L,q=function(){return V},ie=function(ee){V=ee};return{get:q,set:ie}},t=tinymce.util.Tools.resolve("tinymce.PluginManager"),a=function(L,V){L.fire("VisualBlocks",{state:V})},u=function(L,V,q){var ie=L.dom;ie.toggleClass(L.getBody(),"mce-visualblocks"),q.set(!q.get()),a(L,q.get())},c=function(L,V,q){L.addCommand("mceVisualBlocks",function(){u(L,V,q)})},m=function(L){return L.getParam("visualblocks_default_state",!1,"boolean")},p=function(L,V,q){L.on("PreviewFormats AfterPreviewFormats",function(ie){q.get()&&L.dom.toggleClass(L.getBody(),"mce-visualblocks",ie.type==="afterpreviewformats")}),L.on("init",function(){m(L)&&u(L,V,q)})},x=function(L,V){return function(q){q.setActive(V.get());var ie=function(ee){return q.setActive(ee.state)};return L.on("VisualBlocks",ie),function(){return L.off("VisualBlocks",ie)}}},k=function(L,V){var q=function(){return L.execCommand("mceVisualBlocks")};L.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:q,onSetup:x(L,V)}),L.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:q,onSetup:x(L,V)})};function D(){t.add("visualblocks",function(L,V){var q=i(!1);c(L,V,q),k(L,q),p(L,V,q)})}D()})();(function(){var i=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(Y,$e,He){var Ce=$e==="UL"?"InsertUnorderedList":"InsertOrderedList";Y.execCommand(Ce,!1,He===!1?null:{"list-style-type":He})},a=function(Y){Y.addCommand("ApplyUnorderedListStyle",function($e,He){t(Y,"UL",He["list-style-type"])}),Y.addCommand("ApplyOrderedListStyle",function($e,He){t(Y,"OL",He["list-style-type"])})},u=tinymce.util.Tools.resolve("tinymce.util.Tools"),c=function(Y){var $e=Y.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");return $e?$e.split(/[ ,]/):[]},m=function(Y){var $e=Y.getParam("advlist_bullet_styles","default,circle,square");return $e?$e.split(/[ ,]/):[]},p=function(){},x=function(Y){return function(){return Y}},k=function(Y){return Y},D=x(!1),L=x(!0),V=function(){return q},q=function(){var Y=function(Ce){return Ce()},$e=k,He={fold:function(Ce,rt){return Ce()},isSome:D,isNone:L,getOr:$e,getOrThunk:Y,getOrDie:function(Ce){throw new Error(Ce||"error: getOrDie called on none.")},getOrNull:x(null),getOrUndefined:x(void 0),or:$e,orThunk:Y,map:V,each:p,bind:V,exists:D,forall:L,filter:function(){return V()},toArray:function(){return[]},toString:x("none()")};return He}(),ie=function(Y){var $e=x(Y),He=function(){return rt},Ce=function(We){return We(Y)},rt={fold:function(We,z){return z(Y)},isSome:L,isNone:D,getOr:$e,getOrThunk:$e,getOrDie:$e,getOrNull:$e,getOrUndefined:$e,or:He,orThunk:He,map:function(We){return ie(We(Y))},each:function(We){We(Y)},bind:Ce,exists:Ce,forall:Ce,filter:function(We){return We(Y)?rt:q},toArray:function(){return[Y]},toString:function(){return"some("+Y+")"}};return rt},ee=function(Y){return Y==null?q:ie(Y)},se={some:ie,none:V,from:ee},Te=function(Y,$e){return Y.$.contains(Y.getBody(),$e)},_e=function(Y){return Y&&/^(TH|TD)$/.test(Y.nodeName)},be=function(Y){return function($e){return $e&&/^(OL|UL|DL)$/.test($e.nodeName)&&Te(Y,$e)}},le=function(Y){var $e=Y.dom.getParent(Y.selection.getNode(),"ol,ul"),He=Y.dom.getStyle($e,"listStyleType");return se.from(He)},Pe=function(Y,$e){for(var He=0;He<Y.length;He++){var Ce=Y[He];if($e(Ce))return He}return-1},Oe=function(Y){return Y.replace(/\-/g," ").replace(/\b\w/g,function($e){return $e.toUpperCase()})},lt=function(Y,$e,He){var Ce=Pe($e.parents,_e),rt=Ce!==-1?$e.parents.slice(0,Ce):$e.parents,We=u.grep(rt,be(Y));return We.length>0&&We[0].nodeName===He},at=function(Y,$e){return function(He){var Ce=function(rt){He.setActive(lt(Y,rt,$e))};return Y.on("NodeChange",Ce),function(){return Y.off("NodeChange",Ce)}}},K=function(Y,$e,He,Ce,rt,We){Y.ui.registry.addSplitButton($e,{tooltip:He,icon:rt==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:function(z){var ln=u.map(We,function(dt){var Dt=rt==="OL"?"num":"bull",mr=dt==="disc"||dt==="decimal"?"default":dt,Kr=dt==="default"?"":dt,_n=Oe(dt);return{type:"choiceitem",value:Kr,icon:"list-"+Dt+"-"+mr,text:_n}});z(ln)},onAction:function(){return Y.execCommand(Ce)},onItemAction:function(z,ln){t(Y,rt,ln)},select:function(z){var ln=le(Y);return ln.map(function(dt){return z===dt}).getOr(!1)},onSetup:at(Y,rt)})},de=function(Y,$e,He,Ce,rt,We){Y.ui.registry.addToggleButton($e,{active:!1,tooltip:He,icon:rt==="OL"?"ordered-list":"unordered-list",onSetup:at(Y,rt),onAction:function(){return Y.execCommand(Ce)}})},ve=function(Y,$e,He,Ce,rt,We){We.length>1?K(Y,$e,He,Ce,rt,We):de(Y,$e,He,Ce,rt)},Ue=function(Y){ve(Y,"numlist","Numbered list","InsertOrderedList","OL",c(Y)),ve(Y,"bullist","Bullet list","InsertUnorderedList","UL",m(Y))};function ue(){i.add("advlist",function(Y){Y.hasPlugin("lists")?(Ue(Y),a(Y)):console.error("Please use the Lists plugin together with the Advanced List plugin.")})}ue()})();(function(){var i=function(N){var oe=N,Le=function(){return oe},Ge=function(wt){oe=wt};return{get:Le,set:Ge}},t=tinymce.util.Tools.resolve("tinymce.PluginManager"),a=function(N){return N.hasPlugin("powerpaste",!0)?(typeof window.console<"u"&&window.console.log&&window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),!0):!1},u=function(N){return{clipboard:N}},c=function(N){var oe=typeof N;return N===null?"null":oe==="object"&&(Array.prototype.isPrototypeOf(N)||N.constructor&&N.constructor.name==="Array")?"array":oe==="object"&&(String.prototype.isPrototypeOf(N)||N.constructor&&N.constructor.name==="String")?"string":oe},m=function(N){return function(oe){return c(oe)===N}},p=function(N){return function(oe){return typeof oe===N}},x=m("array"),k=function(N){return N==null},D=function(N){return!k(N)},L=p("function"),V=function(){},q=function(N){return function(){return N}},ie=function(N){return N},ee=q(!1),se=q(!0),Te=function(){return _e},_e=function(){var N=function(Ge){return Ge()},oe=ie,Le={fold:function(Ge,wt){return Ge()},isSome:ee,isNone:se,getOr:oe,getOrThunk:N,getOrDie:function(Ge){throw new Error(Ge||"error: getOrDie called on none.")},getOrNull:q(null),getOrUndefined:q(void 0),or:oe,orThunk:N,map:Te,each:V,bind:Te,exists:ee,forall:se,filter:function(){return Te()},toArray:function(){return[]},toString:q("none()")};return Le}(),be=function(N){var oe=q(N),Le=function(){return wt},Ge=function(Ut){return Ut(N)},wt={fold:function(Ut,ar){return ar(N)},isSome:se,isNone:ee,getOr:oe,getOrThunk:oe,getOrDie:oe,getOrNull:oe,getOrUndefined:oe,or:Le,orThunk:Le,map:function(Ut){return be(Ut(N))},each:function(Ut){Ut(N)},bind:Ge,exists:Ge,forall:Ge,filter:function(Ut){return Ut(N)?wt:_e},toArray:function(){return[N]},toString:function(){return"some("+N+")"}};return wt},le=function(N){return N==null?_e:be(N)},Pe={some:be,none:Te,from:le},Oe=Array.prototype.slice,lt=Array.prototype.push,at=function(N,oe){for(var Le=0,Ge=N.length;Le<Ge;Le++){var wt=N[Le];if(oe(wt,Le))return!0}return!1},K=function(N,oe){for(var Le=N.length,Ge=new Array(Le),wt=0;wt<Le;wt++){var Ut=N[wt];Ge[wt]=oe(Ut,wt)}return Ge},de=function(N,oe){for(var Le=0,Ge=N.length;Le<Ge;Le++){var wt=N[Le];oe(wt,Le)}},ve=function(N,oe){for(var Le=[],Ge=0,wt=N.length;Ge<wt;Ge++){var Ut=N[Ge];oe(Ut,Ge)&&Le.push(Ut)}return Le},Ue=function(N,oe,Le){return de(N,function(Ge,wt){Le=oe(Le,Ge,wt)}),Le},ue=function(N){for(var oe=[],Le=0,Ge=N.length;Le<Ge;++Le){if(!x(N[Le]))throw new Error("Arr.flatten item "+Le+" was not an array, input: "+N);lt.apply(oe,N[Le])}return oe},Y=function(N,oe){return ue(K(N,oe))},$e=L(Array.from)?Array.from:function(N){return Oe.call(N)},He=function(){return He=Object.assign||function(oe){for(var Le,Ge=1,wt=arguments.length;Ge<wt;Ge++){Le=arguments[Ge];for(var Ut in Le)Object.prototype.hasOwnProperty.call(Le,Ut)&&(oe[Ut]=Le[Ut])}return oe},He.apply(this,arguments)},Ce=function(N){var oe=i(Pe.none()),Le=function(){return oe.get().each(N)},Ge=function(){Le(),oe.set(Pe.none())},wt=function(){return oe.get().isSome()},Ut=function(){return oe.get()},ar=function(Cr){Le(),oe.set(Pe.some(Cr))};return{clear:Ge,isSet:wt,get:Ut,set:ar}},rt=function(){var N=Ce(V),oe=function(Le){return N.get().each(Le)};return He(He({},N),{on:oe})},We=function(N,oe,Le){return oe===""||N.length>=oe.length&&N.substr(Le,Le+oe.length)===oe},z=function(N,oe){return We(N,oe,0)},ln=function(N,oe){return We(N,oe,N.length-oe.length)},dt=function(N,oe){return oe<=0?"":new Array(oe+1).join(N)},Dt=tinymce.util.Tools.resolve("tinymce.Env"),mr=tinymce.util.Tools.resolve("tinymce.util.Delay"),Kr=tinymce.util.Tools.resolve("tinymce.util.Promise"),_n=tinymce.util.Tools.resolve("tinymce.util.VK"),Gn=function(N,oe,Le,Ge){return N.fire("PastePreProcess",{content:oe,internal:Le,wordContent:Ge})},Ee=function(N,oe,Le,Ge){return N.fire("PastePostProcess",{node:oe,internal:Le,wordContent:Ge})},qa=function(N,oe){return N.fire("PastePlainTextToggle",{state:oe})},Vt=function(N,oe){return N.fire("paste",{ieFake:oe})},xn=tinymce.util.Tools.resolve("tinymce.util.Tools"),Ga=function(N){return N.getParam("paste_block_drop",!1)},jt=function(N){return N.getParam("paste_data_images",!1)},kt=function(N){return N.getParam("paste_filter_drop",!0)},Qe=function(N){return N.getParam("paste_preprocess")},st=function(N){return N.getParam("paste_postprocess")},vt=function(N){return N.getParam("paste_webkit_styles")},Jt=function(N){return N.getParam("paste_remove_styles_if_webkit",!0)},zn=function(N){return N.getParam("paste_merge_formats",!0)},pn=function(N){return N.getParam("smart_paste",!0)},Er=function(N){return N.getParam("paste_as_text",!1)},xr=function(N){return N.getParam("paste_retain_style_properties")},Un=function(N){var oe="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody";return N.getParam("paste_word_valid_elements",oe)},ba=function(N){return N.getParam("paste_convert_word_fake_lists",!0)},ho=function(N){return N.getParam("paste_enable_default_filters",!0)},ts=function(N){return N.getParam("validate")},ns=function(N){return N.getParam("allow_html_data_urls",!1,"boolean")},yo=function(N){return N.getParam("paste_data_images",!1,"boolean")},Oa=function(N){return N.getParam("images_dataimg_filter")},Ki=function(N){return N.getParam("images_reuse_filename")},_o=function(N){return N.getParam("forced_root_block")},mi=function(N){return N.getParam("forced_root_block_attrs")},ii=function(N){return N.getParam("paste_tab_spaces",4,"number")},Xi=function(N){var oe="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp";return xn.explode(N.getParam("images_file_types",oe,"string"))},oi="x-tinymce/html",ya="<!-- "+oi+" -->",Vo=function(N){return ya+N},Os=function(N){return N.replace(ya,"")},wo=function(N){return N.indexOf(ya)!==-1},ia=q(oi),Ds=Object.hasOwnProperty,Ms=function(N,oe){return Ds.call(N,oe)},rs=tinymce.util.Tools.resolve("tinymce.html.Entities"),Zn=function(N){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(N)},ma=function(N){return N.replace(/\r?\n/g,"<br>")},Pi=function(N,oe){var Le=[],Ge="<"+N;if(typeof oe=="object"){for(var wt in oe)Ms(oe,wt)&&Le.push(wt+'="'+rs.encodeAllRaw(oe[wt])+'"');Le.length&&(Ge+=" "+Le.join(" "))}return Ge+">"},ou=function(N,oe,Le){var Ge=N.split(/\n\n/),wt=Pi(oe,Le),Ut="</"+oe+">",ar=xn.map(Ge,function(On){return On.split(/\n/).join("<br />")}),Cr=function(On){return wt+On+Ut};return ar.length===1?ar[0]:xn.map(ar,Cr).join("")},Mc=function(N,oe,Le){return oe?ou(N,oe===!0?"p":oe,Le):ma(N)},_a=tinymce.util.Tools.resolve("tinymce.html.DomParser"),Ur=tinymce.util.Tools.resolve("tinymce.html.Serializer"),Uo=" ",_l=tinymce.util.Tools.resolve("tinymce.html.Node"),wl=tinymce.util.Tools.resolve("tinymce.html.Schema"),Mo=function(N){return N.constructor===RegExp},Ks=function(N,oe){return xn.each(oe,function(Le){Mo(Le)?N=N.replace(Le,""):N=N.replace(Le[0],Le[1])}),N},zl=function(N){var oe=wl(),Le=_a({},oe),Ge="",wt=oe.getShortEndedElements(),Ut=xn.makeMap("script noscript style textarea video audio iframe object"," "),ar=oe.getBlockElements(),Cr=function(On){var sr=On.name,Xr=On;if(sr==="br"){Ge+=`
`;return}if(sr!=="wbr"){if(wt[sr]&&(Ge+=" "),Ut[sr]){Ge+=" ";return}if(On.type===3&&(Ge+=On.value),!On.shortEnded&&(On=On.firstChild))do Cr(On);while(On=On.next);ar[sr]&&Xr.next&&(Ge+=`
`,sr==="p"&&(Ge+=`
`))}};return N=Ks(N,[/<!\[[^\]]+\]>/g]),Cr(Le.parse(N)),Ge},Xs=function(N){var oe=function(Le,Ge,wt){return!Ge&&!wt?" ":Uo};return N=Ks(N,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,oe],/<br class="Apple-interchange-newline">/g,/<br>$/i]),N},Rs=function(N){var oe=0;return function(){return N+oe++}},Hl=function(N){var oe=N.toLowerCase(),Le={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return xn.hasOwn(Le,oe)?"image/"+Le[oe]:"image/"+oe},Da=function(N){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument/i.test(N)||/class="OutlineElement/.test(N)||/id="?docs\-internal\-guid\-/.test(N)},su=function(N){var oe=!1,Le=[/^[IVXLMCD]+\.[ \u00a0]/,/^[ivxlmcd]+\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/];return N=N.replace(/^[\u00a0 ]+/,""),xn.each(Le,function(Ge){if(Ge.test(N))return oe=!0,!1}),oe},Kn=function(N){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(N)},ac=function(N){for(var oe,Le,Ge=1,wt=function(lr){var La="";if(lr.type===3)return lr.value;if(lr=lr.firstChild)do La+=wt(lr);while(lr=lr.next);return La},Ut=function(lr,La){if(lr.type===3&&La.test(lr.value))return lr.value=lr.value.replace(La,""),!1;if(lr=lr.firstChild)do if(!Ut(lr,La))return!1;while(lr=lr.next);return!0},ar=function(lr){if(lr._listIgnore){lr.remove();return}if(lr=lr.firstChild)do ar(lr);while(lr=lr.next)},Cr=function(lr,La,Di){var Au=lr._listLevel||Ge;Au!==Ge&&(Au<Ge?oe&&(oe=oe.parent.parent):(Le=oe,oe=null)),!oe||oe.name!==La?(Le=Le||oe,oe=new _l(La,1),Di>1&&oe.attr("start",""+Di),lr.wrap(oe)):oe.append(lr),lr.name="li",Au>Ge&&Le&&Le.lastChild.append(oe),Ge=Au,ar(lr),Ut(lr,/^\u00a0+/),Ut(lr,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),Ut(lr,/^\u00a0+/)},On=[],sr=N.firstChild;typeof sr<"u"&&sr!==null;)if(On.push(sr),sr=sr.walk(),sr!==null)for(;typeof sr<"u"&&sr.parent!==N;)sr=sr.walk();for(var Xr=0;Xr<On.length;Xr++)if(N=On[Xr],N.name==="p"&&N.firstChild){var Qr=wt(N);if(Kn(Qr)){Cr(N,"ul");continue}if(su(Qr)){var yr=/([0-9]+)\./.exec(Qr),Bi=1;yr&&(Bi=parseInt(yr[1],10)),Cr(N,"ol",Bi);continue}if(N._listLevel){Cr(N,"ul",1);continue}oe=null}else Le=oe,oe=null},Ps=function(N,oe,Le,Ge){var wt={},Ut=N.dom.parseStyle(Ge);xn.each(Ut,function(Cr,On){switch(On){case"mso-list":var sr=/\w+ \w+([0-9]+)/i.exec(Ge);sr&&(Le._listLevel=parseInt(sr[1],10)),/Ignore/i.test(Cr)&&Le.firstChild&&(Le._listIgnore=!0,Le.firstChild._listIgnore=!0);break;case"horiz-align":On="text-align";break;case"vert-align":On="vertical-align";break;case"font-color":case"mso-foreground":On="color";break;case"mso-background":case"mso-highlight":On="background";break;case"font-weight":case"font-style":Cr!=="normal"&&(wt[On]=Cr);return;case"mso-element":if(/^(comment|comment-list)$/i.test(Cr)){Le.remove();return}break}if(On.indexOf("mso-comment")===0){Le.remove();return}On.indexOf("mso-")!==0&&(xr(N)==="all"||oe&&oe[On])&&(wt[On]=Cr)}),/(bold)/i.test(wt["font-weight"])&&(delete wt["font-weight"],Le.wrap(new _l("b",1))),/(italic)/i.test(wt["font-style"])&&(delete wt["font-style"],Le.wrap(new _l("i",1)));var ar=N.dom.serializeStyle(wt,Le.name);return ar||null},uu=function(N,oe){var Le,Ge=xr(N);Ge&&(Le=xn.makeMap(Ge.split(/[, ]/))),oe=Ks(oe,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,Uo],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(On,sr){return sr.length>0?sr.replace(/./," ").slice(Math.floor(sr.length/2)).split("").join(Uo):""}]]);var wt=Un(N),Ut=wl({valid_elements:wt,valid_children:"-li[p]"});xn.each(Ut.elements,function(On){On.attributes.class||(On.attributes.class={},On.attributesOrder.push("class")),On.attributes.style||(On.attributes.style={},On.attributesOrder.push("style"))});var ar=_a({},Ut);ar.addAttributeFilter("style",function(On){for(var sr=On.length,Xr;sr--;)Xr=On[sr],Xr.attr("style",Ps(N,Le,Xr,Xr.attr("style"))),Xr.name==="span"&&Xr.parent&&!Xr.attributes.length&&Xr.unwrap()}),ar.addAttributeFilter("class",function(On){for(var sr=On.length,Xr,Qr;sr--;)Xr=On[sr],Qr=Xr.attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(Qr)&&Xr.remove(),Xr.attr("class",null)}),ar.addNodeFilter("del",function(On){for(var sr=On.length;sr--;)On[sr].remove()}),ar.addNodeFilter("a",function(On){for(var sr=On.length,Xr,Qr,yr;sr--;){if(Xr=On[sr],Qr=Xr.attr("href"),yr=Xr.attr("name"),Qr&&Qr.indexOf("#_msocom_")!==-1){Xr.remove();continue}if(Qr&&Qr.indexOf("file://")===0&&(Qr=Qr.split("#")[1],Qr&&(Qr="#"+Qr)),!Qr&&!yr)Xr.unwrap();else{if(yr&&!/^_?(?:toc|edn|ftn)/i.test(yr)){Xr.unwrap();continue}Xr.attr({href:Qr,name:yr})}}});var Cr=ar.parse(oe);return ba(N)&&ac(Cr),oe=Ur({validate:ts(N)},Ut).serialize(Cr),oe},Wo=function(N,oe){return ho(N)?uu(N,oe):oe},Xu=function(N,oe){var Le=_a({},N.schema);Le.addNodeFilter("meta",function(wt){xn.each(wt,function(Ut){Ut.remove()})});var Ge=Le.parse(oe,{forced_root_block:!1,isRootContent:!0});return Ur({validate:ts(N)},N.schema).serialize(Ge)},rf=function(N,oe){return{content:N,cancelled:oe}},Eu=function(N,oe,Le,Ge){var wt=N.dom.create("div",{style:"display:none"},oe),Ut=Ee(N,wt,Le,Ge);return rf(Ut.node.innerHTML,Ut.isDefaultPrevented())},Vl=function(N,oe,Le,Ge){var wt=Gn(N,oe,Le,Ge),Ut=Xu(N,wt.content);return N.hasEventListeners("PastePostProcess")&&!wt.isDefaultPrevented()?Eu(N,Ut,Le,Ge):rf(Ut,wt.isDefaultPrevented())},as=function(N,oe,Le){var Ge=Da(oe),wt=Ge?Wo(N,oe):oe;return Vl(N,wt,Le,Ge)},jo=function(N,oe){return N.insertContent(oe,{merge:zn(N),paste:!0}),!0},vn=function(N){return/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(N)},ic=function(N,oe){return vn(oe)&&at(Xi(N),function(Le){return ln(oe.toLowerCase(),"."+Le.toLowerCase())})},Rc=function(N,oe,Le){return N.undoManager.extra(function(){Le(N,oe)},function(){N.insertContent('<img src="'+oe+'">')}),!0},oc=function(N,oe,Le){return N.undoManager.extra(function(){Le(N,oe)},function(){N.execCommand("mceInsertLink",!1,oe)}),!0},ze=function(N,oe,Le){return N.selection.isCollapsed()===!1&&vn(oe)?oc(N,oe,Le):!1},Ye=function(N,oe,Le){return ic(N,oe)?Rc(N,oe,Le):!1},Lt=function(N,oe){xn.each([ze,Ye,jo],function(Le){return Le(N,oe,jo)!==!0})},Kt=function(N,oe,Le){Le||pn(N)===!1?jo(N,oe):Lt(N,oe)},tn=function(N){return" \f	\v".indexOf(N)!==-1},An=function(N){return N===`
`||N==="\r"},Bn=function(N,oe){return oe<N.length&&oe>=0?An(N[oe]):!1},kr=function(N,oe){var Le=dt(" ",ii(N)),Ge=oe.replace(/\t/g,Le),wt=Ue(Ge,function(Ut,ar){return tn(ar)||ar===Uo?Ut.pcIsSpace||Ut.str===""||Ut.str.length===Ge.length-1||Bn(Ge,Ut.str.length+1)?{pcIsSpace:!1,str:Ut.str+Uo}:{pcIsSpace:!0,str:Ut.str+" "}:{pcIsSpace:An(ar),str:Ut.str+ar}},{pcIsSpace:!1,str:""});return wt.str},Pr=function(N,oe,Le,Ge){var wt=as(N,oe,Le);wt.cancelled===!1&&Kt(N,wt.content,Ge)},Zr=function(N,oe,Le){var Ge=Le||wo(oe);Pr(N,Os(oe),Ge,!1)},Ka=function(N,oe){var Le=N.dom.encode(oe).replace(/\r\n/g,`
`),Ge=kr(N,Le),wt=Mc(Ge,_o(N),mi(N));Pr(N,wt,!1,!0)},wi=function(N){var oe={},Le="data:text/mce-internal,";if(N){if(N.getData){var Ge=N.getData("Text");Ge&&Ge.length>0&&Ge.indexOf(Le)===-1&&(oe["text/plain"]=Ge)}if(N.types)for(var wt=0;wt<N.types.length;wt++){var Ut=N.types[wt];try{oe[Ut]=N.getData(Ut)}catch{oe[Ut]=""}}}return oe},mo=function(N,oe){return wi(oe.clipboardData||N.getDoc().dataTransfer)},Qt=function(N,oe){return oe in N&&N[oe].length>0},Dr=function(N){return Qt(N,"text/html")||Qt(N,"text/plain")},Ba=function(N){var oe=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(N);return oe?{type:oe[1],data:decodeURIComponent(oe[2])}:{type:null,data:null}},Yo=function(N,oe){var Le=Oa(N);return Le?Le(oe):!0},lu=function(N,oe){var Le=oe.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return D(Le)?N.dom.encode(Le[1]):null},sa=Rs("mceclip"),af=function(N,oe){var Le=Ba(oe.uri),Ge=Le.data,wt=Le.type,Ut=sa(),ar=oe.blob,Cr=new Image;if(Cr.src=oe.uri,Yo(N,Cr)){var On=N.editorUpload.blobCache,sr=void 0,Xr=On.getByData(Ge,wt);if(Xr)sr=Xr;else{var Qr=Ki(N)&&D(ar.name),yr=Qr?lu(N,ar.name):Ut,Bi=Qr?ar.name:void 0;sr=On.create(Ut,ar,Ge,yr,Bi),On.add(sr)}Zr(N,'<img src="'+sr.blobUri()+'">',!1)}else Zr(N,'<img src="'+oe.uri+'">',!1)},Zu=function(N){return N.type==="paste"},Ii=function(N){return D(N.getAsFile)},Ju=function(N){return Kr.all(K(N,function(oe){return new Kr(function(Le){var Ge=Ii(oe)?oe.getAsFile():oe,wt=new window.FileReader;wt.onload=function(){Le({blob:Ge,uri:wt.result})},wt.readAsDataURL(Ge)})}))},Is=function(N){var oe=Xi(N);return function(Le){return z(Le.type,"image/")&&at(oe,function(Ge){return Hl(Ge)===Le.type})}},Zs=function(N,oe){var Le=oe.items?Y($e(oe.items),function(wt){return wt.kind==="file"?[wt.getAsFile()]:[]}):[],Ge=oe.files?$e(oe.files):[];return ve(Le.length>0?Le:Ge,Is(N))},fi=function(N,oe,Le){var Ge=Zu(oe)?oe.clipboardData:oe.dataTransfer;if(yo(N)&&Ge){var wt=Zs(N,Ge);if(wt.length>0)return oe.preventDefault(),Ju(wt).then(function(Ut){Le&&N.selection.setRng(Le),de(Ut,function(ar){af(N,ar)})}),!0}return!1},Pc=function(N){var oe=N.clipboardData;return navigator.userAgent.indexOf("Android")!==-1&&oe&&oe.items&&oe.items.length===0},sc=function(N){return _n.metaKeyPressed(N)&&N.keyCode===86||N.shiftKey&&N.keyCode===45},uc=function(N,oe,Le){var Ge=rt(),wt=rt(),Ut;N.on("keyup",wt.clear),N.on("keydown",function(On){var sr=function(Xr){sc(Xr)&&!Xr.isDefaultPrevented()&&oe.remove()};if(sc(On)&&!On.isDefaultPrevented()){if(Ut=On.shiftKey&&On.keyCode===86,Ut&&Dt.webkit&&navigator.userAgent.indexOf("Version/")!==-1)return;if(On.stopImmediatePropagation(),Ge.set(On),wt.set(!0),Dt.ie&&Ut){On.preventDefault(),Vt(N,!0);return}oe.remove(),oe.create(),N.once("keyup",sr),N.once("paste",function(){N.off("keyup",sr)})}});var ar=function(On,sr,Xr,Qr,yr){var Bi;Qt(sr,"text/html")?Bi=sr["text/html"]:(Bi=oe.getHtml(),yr=yr||wo(Bi),oe.isDefaultContent(Bi)&&(Qr=!0)),Bi=Xs(Bi),oe.remove();var lr=yr===!1&&Zn(Bi),La=vn(Bi);if((!Bi.length||lr&&!La)&&(Qr=!0),(Qr||La)&&(Qt(sr,"text/plain")&&lr?Bi=sr["text/plain"]:Bi=zl(Bi)),oe.isDefaultContent(Bi)){Xr||On.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.");return}Qr?Ka(On,Bi):Zr(On,Bi,yr)},Cr=function(){return oe.getLastRng()||N.selection.getRng()};N.on("paste",function(On){var sr=Ge.isSet()||wt.isSet();sr&&Ge.clear();var Xr=mo(N,On),Qr=Le.get()==="text"||Ut,yr=Qt(Xr,ia());if(Ut=!1,On.isDefaultPrevented()||Pc(On)){oe.remove();return}if(!Dr(Xr)&&fi(N,On,Cr())){oe.remove();return}sr||On.preventDefault(),Dt.ie&&(!sr||On.ieFake)&&!Qt(Xr,"text/html")&&(oe.create(),N.dom.bind(oe.getEl(),"paste",function(Bi){Bi.stopPropagation()}),N.getDoc().execCommand("Paste",!1,null),Xr["text/html"]=oe.getHtml()),Qt(Xr,"text/html")?(On.preventDefault(),yr||(yr=wo(Xr["text/html"])),ar(N,Xr,sr,Qr,yr)):mr.setEditorTimeout(N,function(){ar(N,Xr,sr,Qr,yr)},0)})},of=function(N,oe,Le){uc(N,oe,Le);var Ge;N.parser.addNodeFilter("img",function(wt,Ut,ar){var Cr=function(yr){return yr.data&&yr.data.paste===!0},On=function(yr){!yr.attr("data-mce-object")&&Ge!==Dt.transparentSrc&&yr.remove()},sr=function(yr){return yr.indexOf("webkit-fake-url")===0},Xr=function(yr){return yr.indexOf("data:")===0};if(!yo(N)&&Cr(ar))for(var Qr=wt.length;Qr--;)Ge=wt[Qr].attr("src"),Ge&&(sr(Ge)||!ns(N)&&Xr(Ge))&&On(wt[Qr])})},Qu=function(N){return Dt.ie&&N.inline?document.body:N.getBody()},xl=function(N){return Qu(N)!==N.getBody()},kf=function(N,oe,Le){xl(N)&&N.dom.bind(oe,"paste keyup",function(Ge){sn(N,Le)||N.fire("paste")})},ku=function(N,oe,Le){var Ge=N.dom,wt=N.getBody();oe.set(N.selection.getRng());var Ut=N.dom.add(Qu(N),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},Le);(Dt.ie||Dt.gecko)&&Ge.setStyle(Ut,"left",Ge.getStyle(wt,"direction",!0)==="rtl"?65535:-65535),Ge.bind(Ut,"beforedeactivate focusin focusout",function(ar){ar.stopPropagation()}),kf(N,Ut,Le),Ut.focus(),N.selection.select(Ut,!0)},cu=function(N,oe){if(me(N)){for(var Le=void 0,Ge=oe.get();Le=N.dom.get("mcepastebin");)N.dom.remove(Le),N.dom.unbind(Le);Ge&&N.selection.setRng(Ge)}oe.set(null)},me=function(N){return N.dom.get("mcepastebin")},qe=function(N){var oe=function(Cr,On){Cr.appendChild(On),N.dom.remove(On,!0)},Le=xn.grep(Qu(N).childNodes,function(Cr){return Cr.id==="mcepastebin"}),Ge=Le.shift();xn.each(Le,function(Cr){oe(Ge,Cr)});for(var wt=N.dom.select("div[id=mcepastebin]",Ge),Ut=wt.length-1;Ut>=0;Ut--){var ar=N.dom.create("div");Ge.insertBefore(ar,wt[Ut]),oe(ar,wt[Ut])}return Ge?Ge.innerHTML:""},ct=function(N,oe){return oe===N},Mt=function(N){return N&&N.id==="mcepastebin"},sn=function(N,oe){var Le=me(N);return Mt(Le)&&ct(oe,Le.innerHTML)},qn=function(N){var oe=i(null),Le="%MCEPASTEBIN%";return{create:function(){return ku(N,oe,Le)},remove:function(){return cu(N,oe)},getEl:function(){return me(N)},getHtml:function(){return qe(N)},getLastRng:oe.get,isDefault:function(){return sn(N,Le)},isDefaultContent:function(Ge){return ct(Le,Ge)}}},Ma=function(N,oe){var Le=qn(N);return N.on("PreInit",function(){return of(N,Le,oe)}),{pasteFormat:oe,pasteHtml:function(Ge,wt){return Zr(N,Ge,wt)},pasteText:function(Ge){return Ka(N,Ge)},pasteImageData:function(Ge,wt){return fi(N,Ge,wt)},getDataTransferItems:wi,hasHtmlOrText:Dr,hasContentType:Qt}},Xa=function(N,oe){oe.pasteFormat.get()==="text"?(oe.pasteFormat.set("html"),qa(N,!1)):(oe.pasteFormat.set("text"),qa(N,!0)),N.focus()},Wr=function(N,oe){N.addCommand("mceTogglePlainTextPaste",function(){Xa(N,oe)}),N.addCommand("mceInsertClipboardContent",function(Le,Ge){Ge.content&&oe.pasteHtml(Ge.content,Ge.internal),Ge.text&&oe.pasteText(Ge.text)})},Vr=function(N){return Dt.iOS===!1&&typeof(N==null?void 0:N.setData)=="function"},jr=function(N,oe,Le){if(Vr(N))try{return N.clearData(),N.setData("text/html",oe),N.setData("text/plain",Le),N.setData(ia(),oe),!0}catch{return!1}else return!1},lc=function(N,oe,Le,Ge){jr(N.clipboardData,oe.html,oe.text)?(N.preventDefault(),Ge()):Le(oe.html,Ge)},is=function(N){return function(oe,Le){var Ge=Vo(oe),wt=N.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),Ut=N.dom.create("div",{contenteditable:"true"},Ge);N.dom.setStyles(wt,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),wt.appendChild(Ut),N.dom.add(N.getBody(),wt);var ar=N.selection.getRng();Ut.focus();var Cr=N.dom.createRng();Cr.selectNodeContents(Ut),N.selection.setRng(Cr),mr.setTimeout(function(){N.selection.setRng(ar),wt.parentNode.removeChild(wt),Le()},0)}},Ul=function(N){return{html:N.selection.getContent({contextual:!0}),text:N.selection.getContent({format:"text"})}},rr=function(N){return!!N.dom.getParent(N.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",N.getBody())},Qf=function(N){return!N.selection.isCollapsed()||rr(N)},vv=function(N){return function(oe){Qf(N)&&lc(oe,Ul(N),is(N),function(){if(Dt.browser.isChrome()||Dt.browser.isFirefox()){var Le=N.selection.getRng();mr.setEditorTimeout(N,function(){N.selection.setRng(Le),N.execCommand("Delete")},0)}else N.execCommand("Delete")})}},wa=function(N){return function(oe){Qf(N)&&lc(oe,Ul(N),is(N),V)}},hv=function(N){N.on("cut",vv(N)),N.on("copy",wa(N))},Ro=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Td=function(N,oe){return Ro.getCaretRangeFromPoint(oe.clientX,oe.clientY,N.getDoc())},Ra=function(N){var oe=N["text/plain"];return oe?oe.indexOf("file://")===0:!1},Tu=function(N,oe){N.focus(),N.selection.setRng(oe)},mv=function(N,oe,Le){Ga(N)&&N.on("dragend dragover draggesture dragdrop drop drag",function(Ge){Ge.preventDefault(),Ge.stopPropagation()}),jt(N)||N.on("drop",function(Ge){var wt=Ge.dataTransfer;wt&&wt.files&&wt.files.length>0&&Ge.preventDefault()}),N.on("drop",function(Ge){var wt=Td(N,Ge);if(!(Ge.isDefaultPrevented()||Le.get())){var Ut=oe.getDataTransferItems(Ge.dataTransfer),ar=oe.hasContentType(Ut,ia());if(!((!oe.hasHtmlOrText(Ut)||Ra(Ut))&&oe.pasteImageData(Ge,wt))&&wt&&kt(N)){var Cr=Ut["mce-internal"]||Ut["text/html"]||Ut["text/plain"];Cr&&(Ge.preventDefault(),mr.setEditorTimeout(N,function(){N.undoManager.transact(function(){Ut["mce-internal"]&&N.execCommand("Delete"),Tu(N,wt),Cr=Xs(Cr),Ut["text/html"]?oe.pasteHtml(Cr,ar):oe.pasteText(Cr)})}))}}}),N.on("dragstart",function(Ge){Le.set(!0)}),N.on("dragover dragend",function(Ge){jt(N)&&Le.get()===!1&&(Ge.preventDefault(),Tu(N,Td(N,Ge))),Ge.type==="dragend"&&Le.set(!1)})},xo=function(N){var oe=N.plugins.paste,Le=Qe(N);Le&&N.on("PastePreProcess",function(wt){Le.call(oe,oe,wt)});var Ge=st(N);Ge&&N.on("PastePostProcess",function(wt){Ge.call(oe,oe,wt)})},Qi=function(N,oe){N.on("PastePreProcess",function(Le){Le.content=oe(N,Le.content,Le.internal,Le.wordContent)})},Ic=function(N,oe){N.on("PastePostProcess",function(Le){oe(N,Le.node)})},Tt=function(N,oe){if(!Da(oe))return oe;var Le=[];xn.each(N.schema.getBlockElements(),function(wt,Ut){Le.push(Ut)});var Ge=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+Le.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return oe=Ks(oe,[[Ge,"$1"]]),oe=Ks(oe,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]]),oe},Tf=function(N,oe,Le,Ge){if(Ge||Le)return oe;var wt=vt(N),Ut;if(Jt(N)===!1||wt==="all")return oe;if(wt&&(Ut=wt.split(/[, ]/)),Ut){var ar=N.dom,Cr=N.selection.getNode();oe=oe.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(On,sr,Xr,Qr){var yr=ar.parseStyle(ar.decode(Xr)),Bi={};if(Ut==="none")return sr+Qr;for(var lr=0;lr<Ut.length;lr++){var La=yr[Ut[lr]],Di=ar.getStyle(Cr,Ut[lr],!0);/color/.test(Ut[lr])&&(La=ar.toHex(La),Di=ar.toHex(Di)),Di!==La&&(Bi[Ut[lr]]=La)}var Au=ar.serializeStyle(Bi,"span");return Au?sr+' style="'+Au+'"'+Qr:sr+Qr})}else oe=oe.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return oe=oe.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(On,sr,Xr,Qr){return sr+' style="'+Xr+'"'+Qr}),oe},eo=function(N,oe){N.$("a",oe).find("font,u").each(function(Le,Ge){N.dom.remove(Ge,!0)})},gv=function(N){Dt.webkit&&Qi(N,Tf),Dt.ie&&(Qi(N,Tt),Ic(N,eo))},Po=function(N,oe){return function(Le){Le.setActive(oe.pasteFormat.get()==="text");var Ge=function(wt){return Le.setActive(wt.state)};return N.on("PastePlainTextToggle",Ge),function(){return N.off("PastePlainTextToggle",Ge)}}},J=function(N,oe){var Le=function(){return N.execCommand("mceTogglePlainTextPaste")};N.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:Le,onSetup:Po(N,oe)}),N.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:Le,onSetup:Po(N,oe)})};function Z(){t.add("paste",function(N){if(a(N)===!1){var oe=i(!1),Le=i(Er(N)?"text":"html"),Ge=Ma(N,Le);return gv(N),J(N,Ge),Wr(N,Ge),xo(N),hv(N),mv(N,Ge,oe),u(Ge)}})}Z()})();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="M15.7 2l1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 01-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2zM18 12l-4.5-4L9 12h9zM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 01-2-2v-5h2zm8-7V4h6a2 2 0 012 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1l.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="M13 11l-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="M18.4 8l1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 01-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8zm1.6 7l-3-3-3 3h6z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z"/><path d="M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z"/></g></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 110 18 9 9 0 010-18zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 003.2-2.1l-.2-.2a6 6 0 00-1-.6zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 01-2-2.8zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 01-.3-2zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1zm3-1.4l-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 00-1.3-3.5zm-9 0l2 .2V5.5a9 9 0 00-2 2.2zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 00-2-2.3zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 011.9-2.5zm4.4 0l.1.1a10 10 0 011.8 2.4l1.1-.7a7.5 7.5 0 00-3-1.8z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2v-8c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8zm-2 2H5v5h6V6z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 012 2v7h-8v-2h6V6h-6V4z" opacity=".2"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v7h-8v7H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8-7h-6v5h6V6zm-8 0H5v5h6V6z"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 00-2 2v13c0 1.1.9 2 2 2h12a2 2 0 002-2V6a2 2 0 00-2-2H6zm0 12h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 11h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 6h8v3H6V6zm11 0c.6 0 1 .4 1 1v1a1 1 0 11-2 0V7c0-.6.4-1 1-1z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 012 2v13a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2h12zm0 12h-8v3h8v-3zM7 16a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8v-3zM7 11a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8V6zM7 6a1 1 0 00-1 1v1a1 1 0 102 0V7c0-.6-.4-1-1-1z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 011.2 1.5l-.1.1-4.1 3-4-3a1 1 0 011-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8l4 2.9a1 1 0 01-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 01-1-1v-4l-2 1.3a1 1 0 01-1.2-.1l-.1-.1a1 1 0 01.1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'}});(function(){var i=function(n){var o=typeof n;return n===null?"null":o==="object"&&(Array.prototype.isPrototypeOf(n)||n.constructor&&n.constructor.name==="Array")?"array":o==="object"&&(String.prototype.isPrototypeOf(n)||n.constructor&&n.constructor.name==="String")?"string":o},t=function(n){return function(o){return i(o)===n}},a=function(n){return function(o){return typeof o===n}},u=function(n){return function(o){return n===o}},c=t("string"),m=t("object"),p=t("array"),x=u(null),k=a("boolean"),D=u(void 0),L=function(n){return n==null},V=function(n){return!L(n)},q=a("function"),ie=a("number"),ee=function(n,o){if(p(n)){for(var l=0,v=n.length;l<v;++l)if(!o(n[l]))return!1;return!0}return!1},se=function(){},Te=function(n){return function(){return n()}},_e=function(n,o){return function(){for(var l=[],v=0;v<arguments.length;v++)l[v]=arguments[v];return n(o.apply(null,l))}},be=function(n,o){return function(l){return n(o(l))}},le=function(n){return function(){return n}},Pe=function(n){return n},Oe=function(n,o){return n===o};function lt(n){for(var o=[],l=1;l<arguments.length;l++)o[l-1]=arguments[l];return function(){for(var v=[],y=0;y<arguments.length;y++)v[y]=arguments[y];var C=o.concat(v);return n.apply(null,C)}}var at=function(n){return function(o){return!n(o)}},K=function(n){return function(){throw new Error(n)}},de=le(!1),ve=le(!0),Ue=tinymce.util.Tools.resolve("tinymce.ThemeManager"),ue=function(){return ue=Object.assign||function(o){for(var l,v=1,y=arguments.length;v<y;v++){l=arguments[v];for(var C in l)Object.prototype.hasOwnProperty.call(l,C)&&(o[C]=l[C])}return o},ue.apply(this,arguments)};function Y(n,o){var l={};for(var v in n)Object.prototype.hasOwnProperty.call(n,v)&&o.indexOf(v)<0&&(l[v]=n[v]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,v=Object.getOwnPropertySymbols(n);y<v.length;y++)o.indexOf(v[y])<0&&Object.prototype.propertyIsEnumerable.call(n,v[y])&&(l[v[y]]=n[v[y]]);return l}function $e(n,o,l){if(l||arguments.length===2)for(var v=0,y=o.length,C;v<y;v++)(C||!(v in o))&&(C||(C=Array.prototype.slice.call(o,0,v)),C[v]=o[v]);return n.concat(C||Array.prototype.slice.call(o))}var He=function(){return Ce},Ce=function(){var n=function(v){return v()},o=Pe,l={fold:function(v,y){return v()},isSome:de,isNone:ve,getOr:o,getOrThunk:n,getOrDie:function(v){throw new Error(v||"error: getOrDie called on none.")},getOrNull:le(null),getOrUndefined:le(void 0),or:o,orThunk:n,map:He,each:se,bind:He,exists:de,forall:ve,filter:function(){return He()},toArray:function(){return[]},toString:le("none()")};return l}(),rt=function(n){var o=le(n),l=function(){return y},v=function(C){return C(n)},y={fold:function(C,A){return A(n)},isSome:ve,isNone:de,getOr:o,getOrThunk:o,getOrDie:o,getOrNull:o,getOrUndefined:o,or:l,orThunk:l,map:function(C){return rt(C(n))},each:function(C){C(n)},bind:v,exists:v,forall:v,filter:function(C){return C(n)?y:Ce},toArray:function(){return[n]},toString:function(){return"some("+n+")"}};return y},We=function(n){return n==null?Ce:rt(n)},z={some:rt,none:He,from:We},ln=Array.prototype.slice,dt=Array.prototype.indexOf,Dt=Array.prototype.push,mr=function(n,o){return dt.call(n,o)},Kr=function(n,o){var l=mr(n,o);return l===-1?z.none():z.some(l)},_n=function(n,o){return mr(n,o)>-1},Gn=function(n,o){for(var l=0,v=n.length;l<v;l++){var y=n[l];if(o(y,l))return!0}return!1},Ee=function(n,o){for(var l=[],v=0;v<n;v++)l.push(o(v));return l},qa=function(n,o){for(var l=[],v=0;v<n.length;v+=o){var y=ln.call(n,v,v+o);l.push(y)}return l},Vt=function(n,o){for(var l=n.length,v=new Array(l),y=0;y<l;y++){var C=n[y];v[y]=o(C,y)}return v},xn=function(n,o){for(var l=0,v=n.length;l<v;l++){var y=n[l];o(y,l)}},Ga=function(n,o){for(var l=n.length-1;l>=0;l--){var v=n[l];o(v,l)}},jt=function(n,o){for(var l=[],v=[],y=0,C=n.length;y<C;y++){var A=n[y],P=o(A,y)?l:v;P.push(A)}return{pass:l,fail:v}},kt=function(n,o){for(var l=[],v=0,y=n.length;v<y;v++){var C=n[v];o(C,v)&&l.push(C)}return l},Qe=function(n,o,l){return Ga(n,function(v,y){l=o(l,v,y)}),l},st=function(n,o,l){return xn(n,function(v,y){l=o(l,v,y)}),l},vt=function(n,o,l){for(var v=0,y=n.length;v<y;v++){var C=n[v];if(o(C,v))return z.some(C);if(l(C,v))break}return z.none()},Jt=function(n,o){return vt(n,o,de)},zn=function(n,o){for(var l=0,v=n.length;l<v;l++){var y=n[l];if(o(y,l))return z.some(l)}return z.none()},pn=function(n){for(var o=[],l=0,v=n.length;l<v;++l){if(!p(n[l]))throw new Error("Arr.flatten item "+l+" was not an array, input: "+n);Dt.apply(o,n[l])}return o},Er=function(n,o){return pn(Vt(n,o))},xr=function(n,o){for(var l=0,v=n.length;l<v;++l){var y=n[l];if(o(y,l)!==!0)return!1}return!0},Un=function(n){var o=ln.call(n,0);return o.reverse(),o},ba=function(n,o){return kt(n,function(l){return!_n(o,l)})},ho=function(n,o){for(var l={},v=0,y=n.length;v<y;v++){var C=n[v];l[String(C)]=o(C,v)}return l},ts=function(n){return[n]},ns=function(n,o){var l=ln.call(n,0);return l.sort(o),l},yo=function(n,o){return o>=0&&o<n.length?z.some(n[o]):z.none()},Oa=function(n){return yo(n,0)},Ki=function(n){return yo(n,n.length-1)},_o=q(Array.from)?Array.from:function(n){return ln.call(n)},mi=function(n,o){for(var l=0;l<n.length;l++){var v=o(n[l],l);if(v.isSome())return v}return z.none()},ii=Object.keys,Xi=Object.hasOwnProperty,oi=function(n,o){for(var l=ii(n),v=0,y=l.length;v<y;v++){var C=l[v],A=n[C];o(A,C)}},ya=function(n,o){return Vo(n,function(l,v){return{k:v,v:o(l,v)}})},Vo=function(n,o){var l={};return oi(n,function(v,y){var C=o(v,y);l[C.k]=C.v}),l},Os=function(n){return function(o,l){n[l]=o}},wo=function(n,o,l,v){var y={};return oi(n,function(C,A){(o(C,A)?l:v)(C,A)}),y},ia=function(n,o){var l={};return wo(n,o,Os(l),se),l},Ds=function(n,o){var l=[];return oi(n,function(v,y){l.push(o(v,y))}),l},Ms=function(n,o){for(var l=ii(n),v=0,y=l.length;v<y;v++){var C=l[v],A=n[C];if(o(A,C,n))return z.some(A)}return z.none()},rs=function(n){return Ds(n,Pe)},Zn=function(n,o){return ma(n,o)?z.from(n[o]):z.none()},ma=function(n,o){return Xi.call(n,o)},Pi=function(n,o){return ma(n,o)&&n[o]!==void 0&&n[o]!==null},ou=function(n,o,l){return l===void 0&&(l=Oe),n.exists(function(v){return l(v,o)})},Mc=function(n,o,l){return l===void 0&&(l=Oe),Uo(n,o,l).getOr(n.isNone()&&o.isNone())},_a=function(n){for(var o=[],l=function(y){o.push(y)},v=0;v<n.length;v++)n[v].each(l);return o},Ur=function(n){for(var o=[],l=0;l<n.length;l++){var v=n[l];if(v.isSome())o.push(v.getOrDie());else return z.none()}return z.some(o)},Uo=function(n,o,l){return n.isSome()&&o.isSome()?z.some(l(n.getOrDie(),o.getOrDie())):z.none()},_l=function(n,o,l,v){return n.isSome()&&o.isSome()&&l.isSome()?z.some(v(n.getOrDie(),o.getOrDie(),l.getOrDie())):z.none()},wl=function(n,o){return n!=null?z.some(o(n)):z.none()},Mo=function(n,o){return n?z.some(o):z.none()},Ks=function(n,o){return n+o},zl=function(n,o){return n.substring(o)},Xs=function(n,o,l){return o===""||n.length>=o.length&&n.substr(l,l+o.length)===o},Rs=function(n,o){return su(n,o)?zl(n,o.length):n},Hl=function(n,o){return Kn(n,o)?n:Ks(n,o)},Da=function(n,o){return n.indexOf(o)!==-1},su=function(n,o){return Xs(n,o,0)},Kn=function(n,o){return Xs(n,o,n.length-o.length)},ac=function(n){return function(o){return o.replace(n,"")}},Ps=ac(/^\s+|\s+$/g),uu=function(n){return n.length>0},Wo=function(n){return!uu(n)},Xu=function(n){return n.style!==void 0&&q(n.style.getPropertyValue)},rf=function(n,o){var l=o||document,v=l.createElement("div");if(v.innerHTML=n,!v.hasChildNodes()||v.childNodes.length>1)throw console.error("HTML does not have a single root node",n),new Error("HTML must have a single root node");return as(v.childNodes[0])},Eu=function(n,o){var l=o||document,v=l.createElement(n);return as(v)},Vl=function(n,o){var l=o||document,v=l.createTextNode(n);return as(v)},as=function(n){if(n==null)throw new Error("Node cannot be null or undefined");return{dom:n}},jo=function(n,o,l){return z.from(n.dom.elementFromPoint(o,l)).map(as)},vn={fromHtml:rf,fromTag:Eu,fromText:Vl,fromDom:as,fromPoint:jo};typeof window<"u"||Function("return this;")();var ic=9,Rc=11,oc=1,ze=3,Ye=function(n){var o=n.dom.nodeName;return o.toLowerCase()},Lt=function(n){return n.dom.nodeType},Kt=function(n){return function(o){return Lt(o)===n}},tn=Kt(oc),An=Kt(ze),Bn=Kt(ic),kr=Kt(Rc),Pr=function(n){var o=!1,l;return function(){for(var v=[],y=0;y<arguments.length;y++)v[y]=arguments[y];return o||(o=!0,l=n.apply(null,v)),l}},Zr=function(n,o,l,v){var y=n.isiOS()&&/ipad/i.test(l)===!0,C=n.isiOS()&&!y,A=n.isiOS()||n.isAndroid(),P=A||v("(pointer:coarse)"),I=y||!C&&A&&v("(min-device-width:768px)"),H=C||A&&!I,G=o.isSafari()&&n.isiOS()&&/safari/i.test(l)===!1,Q=!H&&!I&&!G;return{isiPad:le(y),isiPhone:le(C),isTablet:le(I),isPhone:le(H),isTouch:le(P),isAndroid:n.isAndroid,isiOS:n.isiOS,isWebView:le(G),isDesktop:le(Q)}},Ka=function(n,o){for(var l=0;l<n.length;l++){var v=n[l];if(v.test(o))return v}},wi=function(n,o){var l=Ka(n,o);if(!l)return{major:0,minor:0};var v=function(y){return Number(o.replace(l,"$"+y))};return Dr(v(1),v(2))},mo=function(n,o){var l=String(o).toLowerCase();return n.length===0?Qt():wi(n,l)},Qt=function(){return Dr(0,0)},Dr=function(n,o){return{major:n,minor:o}},Ba={nu:Dr,detect:mo,unknown:Qt},Yo=function(n,o){return mi(o.brands,function(l){var v=l.brand.toLowerCase();return Jt(n,function(y){var C;return v===((C=y.brand)===null||C===void 0?void 0:C.toLowerCase())}).map(function(y){return{current:y.name,version:Ba.nu(parseInt(l.version,10),0)}})})},lu=function(n,o){var l=String(o).toLowerCase();return Jt(n,function(v){return v.search(l)})},sa=function(n,o){return lu(n,o).map(function(l){var v=Ba.detect(l.versionRegexes,o);return{current:l.name,version:v}})},af=function(n,o){return lu(n,o).map(function(l){var v=Ba.detect(l.versionRegexes,o);return{current:l.name,version:v}})},Zu=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ii=function(n){return function(o){return Da(o,n)}},Ju=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(n){return Da(n,"edge/")&&Da(n,"chrome")&&Da(n,"safari")&&Da(n,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Zu],search:function(n){return Da(n,"chrome")&&!Da(n,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(n){return Da(n,"msie")||Da(n,"trident")}},{name:"Opera",versionRegexes:[Zu,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ii("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ii("firefox")},{name:"Safari",versionRegexes:[Zu,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(n){return(Da(n,"safari")||Da(n,"mobile/"))&&Da(n,"applewebkit")}}],Is=[{name:"Windows",search:Ii("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(n){return Da(n,"iphone")||Da(n,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ii("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Ii("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ii("linux"),versionRegexes:[]},{name:"Solaris",search:Ii("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ii("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ii("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Zs={browsers:le(Ju),oses:le(Is)},fi="Edge",Pc="Chrome",sc="IE",uc="Opera",of="Firefox",Qu="Safari",xl=function(){return kf({current:void 0,version:Ba.unknown()})},kf=function(n){var o=n.current,l=n.version,v=function(y){return function(){return o===y}};return{current:o,version:l,isEdge:v(fi),isChrome:v(Pc),isIE:v(sc),isOpera:v(uc),isFirefox:v(of),isSafari:v(Qu)}},ku={unknown:xl,nu:kf,edge:le(fi),chrome:le(Pc),ie:le(sc),opera:le(uc),firefox:le(of),safari:le(Qu)},cu="Windows",me="iOS",qe="Android",ct="Linux",Mt="OSX",sn="Solaris",qn="FreeBSD",Ma="ChromeOS",Xa=function(){return Wr({current:void 0,version:Ba.unknown()})},Wr=function(n){var o=n.current,l=n.version,v=function(y){return function(){return o===y}};return{current:o,version:l,isWindows:v(cu),isiOS:v(me),isAndroid:v(qe),isOSX:v(Mt),isLinux:v(ct),isSolaris:v(sn),isFreeBSD:v(qn),isChromeOS:v(Ma)}},Vr={unknown:Xa,nu:Wr,windows:le(cu),ios:le(me),android:le(qe),linux:le(ct),osx:le(Mt),solaris:le(sn),freebsd:le(qn),chromeos:le(Ma)},jr=function(n,o,l){var v=Zs.browsers(),y=Zs.oses(),C=o.bind(function(I){return Yo(v,I)}).orThunk(function(){return sa(v,n)}).fold(ku.unknown,ku.nu),A=af(y,n).fold(Vr.unknown,Vr.nu),P=Zr(A,C,n,l);return{browser:C,os:A,deviceType:P}},lc={detect:jr},is=function(n){return window.matchMedia(n).matches},Ul=Pr(function(){return lc.detect(navigator.userAgent,z.from(navigator.userAgentData),is)}),rr=function(){return Ul()},Qf=function(n,o,l){return(n.compareDocumentPosition(o)&l)!==0},vv=function(n,o){return Qf(n,o,Node.DOCUMENT_POSITION_CONTAINED_BY)},wa=function(n,o){var l=n.dom;if(l.nodeType!==oc)return!1;var v=l;if(v.matches!==void 0)return v.matches(o);if(v.msMatchesSelector!==void 0)return v.msMatchesSelector(o);if(v.webkitMatchesSelector!==void 0)return v.webkitMatchesSelector(o);if(v.mozMatchesSelector!==void 0)return v.mozMatchesSelector(o);throw new Error("Browser lacks native selectors")},hv=function(n){return n.nodeType!==oc&&n.nodeType!==ic&&n.nodeType!==Rc||n.childElementCount===0},Ro=function(n,o){var l=o===void 0?document:o.dom;return hv(l)?[]:Vt(l.querySelectorAll(n),vn.fromDom)},Td=function(n,o){var l=o===void 0?document:o.dom;return hv(l)?z.none():z.from(l.querySelector(n)).map(vn.fromDom)},Ra=function(n,o){return n.dom===o.dom},Tu=function(n,o){var l=n.dom,v=o.dom;return l===v?!1:l.contains(v)},mv=function(n,o){return vv(n.dom,o.dom)},xo=function(n,o){return rr().browser.isIE()?mv(n,o):Tu(n,o)},Qi=function(n){return vn.fromDom(n.dom.ownerDocument)},Ic=function(n){return Bn(n)?n:Qi(n)},Tt=function(n){return vn.fromDom(Ic(n).dom.documentElement)},Tf=function(n){return vn.fromDom(Ic(n).dom.defaultView)},eo=function(n){return z.from(n.dom.parentNode).map(vn.fromDom)},gv=function(n){return eo(n)},Po=function(n){return z.from(n.dom.offsetParent).map(vn.fromDom)},J=function(n){return z.from(n.dom.nextSibling).map(vn.fromDom)},Z=function(n){return Vt(n.dom.childNodes,vn.fromDom)},N=function(n,o){var l=n.dom.childNodes;return z.from(l[o]).map(vn.fromDom)},oe=function(n){return N(n,0)},Le=function(n,o){return{element:n,offset:o}},Ge=function(n,o){var l=Z(n);return l.length>0&&o<l.length?Le(l[o],0):Le(n,o)},wt=function(n){return kr(n)&&V(n.dom.host)},Ut=q(Element.prototype.attachShadow)&&q(Node.prototype.getRootNode),ar=le(Ut),Cr=Ut?function(n){return vn.fromDom(n.dom.getRootNode())}:Ic,On=function(n){return wt(n)?n:vn.fromDom(Ic(n).dom.body)},sr=function(n){return Xr(n).isSome()},Xr=function(n){var o=Cr(n);return wt(o)?z.some(o):z.none()},Qr=function(n){return vn.fromDom(n.dom.host)},yr=function(n){if(ar()&&V(n.target)){var o=vn.fromDom(n.target);if(tn(o)&&Bi(o)&&n.composed&&n.composedPath){var l=n.composedPath();if(l)return Oa(l)}}return z.from(n.target)},Bi=function(n){return V(n.dom.shadowRoot)},lr=function(n){var o=An(n)?n.dom.parentNode:n.dom;if(o==null||o.ownerDocument===null)return!1;var l=o.ownerDocument;return Xr(vn.fromDom(o)).fold(function(){return l.body.contains(o)},be(lr,Qr))},La=function(){return Di(vn.fromDom(document))},Di=function(n){var o=n.dom.body;if(o==null)throw new Error("Body is not available yet");return vn.fromDom(o)},Au=function(n,o,l){if(c(l)||k(l)||ie(l))n.setAttribute(o,l+"");else throw console.error("Invalid call to Attribute.set. Key ",o,":: Value ",l,":: Element ",n),new Error("Attribute value was not simple")},$r=function(n,o,l){Au(n.dom,o,l)},Cl=function(n,o){var l=n.dom;oi(o,function(v,y){Au(l,y,v)})},Li=function(n,o){var l=n.dom.getAttribute(o);return l===null?void 0:l},to=function(n,o){return z.from(Li(n,o))},t1=function(n,o){var l=n.dom;return l&&l.hasAttribute?l.hasAttribute(o):!1},gs=function(n,o){n.dom.removeAttribute(o)},lm=function(n,o,l){if(!c(l))throw console.error("Invalid call to CSS.set. Property ",o,":: Value ",l,":: Element ",n),new Error("CSS value must be a string: "+l);Xu(n)&&n.style.setProperty(o,l)},Af=function(n,o){Xu(n)&&n.style.removeProperty(o)},_r=function(n,o,l){var v=n.dom;lm(v,o,l)},Co=function(n,o){var l=n.dom;oi(o,function(v,y){lm(l,y,v)})},no=function(n,o){var l=n.dom;oi(o,function(v,y){v.fold(function(){Af(l,y)},function(C){lm(l,y,C)})})},Vi=function(n,o){var l=n.dom,v=window.getComputedStyle(l),y=v.getPropertyValue(o);return y===""&&!lr(n)?os(l,o):y},os=function(n,o){return Xu(n)?n.style.getPropertyValue(o):""},Io=function(n,o){var l=n.dom,v=os(l,o);return z.from(v).filter(function(y){return y.length>0})},pv=function(n){var o={},l=n.dom;if(Xu(l))for(var v=0;v<l.style.length;v++){var y=l.style.item(v);o[y]=l.style[y]}return o},Bc=function(n,o,l){var v=vn.fromTag(n);_r(v,o,l);var y=Io(v,o);return y.isSome()},Na=function(n,o){var l=n.dom;Af(l,o),ou(to(n,"style").map(Ps),"")&&gs(n,"style")},Fi=function(n){return n.dom.offsetWidth},el=function(n,o){var l=function(P,I){if(!ie(I)&&!I.match(/^[0-9]+$/))throw new Error(n+".set accepts only positive integer values. Value was "+I);var H=P.dom;Xu(H)&&(H.style[n]=I+"px")},v=function(P){var I=o(P);if(I<=0||I===null){var H=Vi(P,n);return parseFloat(H)||0}return I},y=v,C=function(P,I){return st(I,function(H,G){var Q=Vi(P,G),fe=Q===void 0?0:parseInt(Q,10);return isNaN(fe)?H:H+fe},0)},A=function(P,I,H){var G=C(P,H),Q=I>G?I-G:0;return Q};return{set:l,get:v,getOuter:y,aggregate:C,max:A}},Wl=el("height",function(n){var o=n.dom;return lr(n)?o.getBoundingClientRect().height:o.offsetHeight}),ss=function(n){return Wl.get(n)},cc=function(n){return Wl.getOuter(n)},hg=function(n,o){var l=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],v=Wl.max(n,o,l);_r(n,"max-height",v+"px")},Ad=function(n,o){var l=function(v,y){return Ad(n+v,o+y)};return{left:n,top:o,translate:l}},$a=Ad,jl=function(n){var o=n.getBoundingClientRect();return $a(o.left,o.top)},Od=function(n,o){return n!==void 0?n:o!==void 0?o:0},Sl=function(n){var o=n.dom.ownerDocument,l=o.body,v=o.defaultView,y=o.documentElement;if(l===n.dom)return $a(l.offsetLeft,l.offsetTop);var C=Od(v==null?void 0:v.pageYOffset,y.scrollTop),A=Od(v==null?void 0:v.pageXOffset,y.scrollLeft),P=Od(y.clientTop,l.clientTop),I=Od(y.clientLeft,l.clientLeft);return So(n).translate(A-I,C-P)},So=function(n){var o=n.dom,l=o.ownerDocument,v=l.body;return v===o?$a(v.offsetLeft,v.offsetTop):lr(n)?jl(o):$a(0,0)},fc=el("width",function(n){return n.dom.offsetWidth}),Js=function(n,o){return fc.set(n,o)},fu=function(n){return fc.get(n)},El=function(n){return fc.getOuter(n)},du=function(n,o){var l=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],v=fc.max(n,o,l);_r(n,"max-width",v+"px")},uh=function(n,o,l,v,y,C,A){return{target:n,x:o,y:l,stop:v,prevent:y,kill:C,raw:A}},sf=function(n){var o=vn.fromDom(yr(n).getOr(n.target)),l=function(){return n.stopPropagation()},v=function(){return n.preventDefault()},y=_e(v,l);return uh(o,n.clientX,n.clientY,l,v,y,n)},ps=function(n,o){return function(l){n(l)&&o(sf(l))}},Of=function(n,o,l,v,y){var C=ps(l,v);return n.dom.addEventListener(o,C,y),{unbind:lt(Ft,n,o,C,y)}},pt=function(n,o,l,v){return Of(n,o,l,v,!1)},rn=function(n,o,l,v){return Of(n,o,l,v,!0)},Ft=function(n,o,l,v){n.dom.removeEventListener(o,l,v)},Nn=function(n,o){var l=eo(n);l.each(function(v){v.dom.insertBefore(o.dom,n.dom)})},oa=function(n,o){var l=J(n);l.fold(function(){var v=eo(n);v.each(function(y){gi(y,o)})},function(v){Nn(v,o)})},si=function(n,o){var l=oe(n);l.fold(function(){gi(n,o)},function(v){n.dom.insertBefore(o.dom,v.dom)})},gi=function(n,o){n.dom.appendChild(o.dom)},pi=function(n,o,l){N(n,l).fold(function(){gi(n,o)},function(v){Nn(v,o)})},ed=function(n,o){xn(o,function(l){Nn(n,l)})},td=function(n,o){xn(o,function(l){gi(n,l)})},Za=function(n){n.dom.textContent="",xn(Z(n),function(o){Ou(o)})},Ou=function(n){var o=n.dom;o.parentNode!==null&&o.parentNode.removeChild(o)},mg=function(n){var o=Z(n);o.length>0&&ed(n,o),Ou(n)},vu=function(n){var o=n!==void 0?n.dom:document,l=o.body.scrollLeft||o.documentElement.scrollLeft,v=o.body.scrollTop||o.documentElement.scrollTop;return $a(l,v)},bv=function(n,o,l){var v=l!==void 0?l.dom:document,y=v.defaultView;y&&y.scrollTo(n,o)},cm=function(n){var o=n===void 0?window:n;return rr().browser.isFirefox()?z.none():z.from(o.visualViewport)},Ni=function(n,o,l,v){return{x:n,y:o,width:l,height:v,right:n+l,bottom:o+v}},yv=function(n){var o=n===void 0?window:n,l=o.document,v=vu(vn.fromDom(l));return cm(o).fold(function(){var y=o.document.documentElement,C=y.clientWidth,A=y.clientHeight;return Ni(v.left,v.top,C,A)},function(y){return Ni(Math.max(y.pageLeft,v.left),Math.max(y.pageTop,v.top),y.width,y.height)})},Dd=function(n,o){var l=n.view(o);return l.fold(le([]),function(v){var y=n.owner(v),C=Dd(n,y);return[v].concat(C)})},uf=function(n,o){var l=o.owner(n),v=Dd(o,l);return z.some(v)},Tr=function(n){var o,l=n.dom===document?z.none():z.from((o=n.dom.defaultView)===null||o===void 0?void 0:o.frameElement);return l.map(vn.fromDom)},Lc=function(n){return Qi(n)},kl=Object.freeze({__proto__:null,view:Tr,owner:Lc}),Bs=function(n){var o=vn.fromDom(document),l=vu(o),v=uf(n,kl);return v.fold(lt(Sl,n),function(y){var C=So(n),A=Qe(y,function(P,I){var H=So(I);return{left:P.left+H.left,top:P.top+H.top}},{left:0,top:0});return $a(A.left+C.left+l.left,A.top+C.top+l.top)})},Qs=function(n,o,l){return{point:n,width:o,height:l}},uo=function(n,o,l,v){return{x:n,y:o,width:l,height:v}},us=function(n,o,l,v){return{x:n,y:o,width:l,height:v,right:n+l,bottom:o+v}},go=function(n){var o=Sl(n),l=El(n),v=cc(n);return us(o.left,o.top,l,v)},nd=function(n){var o=Bs(n),l=El(n),v=cc(n);return us(o.left,o.top,l,v)},eu=function(){return yv(window)},Rn=function(n){var o=function(Q){return Rn(n)},l=function(Q){return Rn(n)},v=function(Q){return Rn(Q(n))},y=function(Q){return Rn(n)},C=function(Q){Q(n)},A=function(Q){return Q(n)},P=function(Q,fe){return fe(n)},I=function(Q){return Q(n)},H=function(Q){return Q(n)},G=function(){return z.some(n)};return{isValue:ve,isError:de,getOr:le(n),getOrThunk:le(n),getOrDie:le(n),or:o,orThunk:l,fold:P,map:v,mapError:y,each:C,bind:A,exists:I,forall:H,toOptional:G}},Md=function(n){var o=function(H){return H()},l=function(){return K(String(n))()},v=Pe,y=function(H){return H()},C=function(H){return Md(n)},A=function(H){return Md(H(n))},P=function(H){return Md(n)},I=function(H,G){return H(n)};return{isValue:de,isError:ve,getOr:Pe,getOrThunk:o,getOrDie:l,or:v,orThunk:y,fold:I,map:C,mapError:A,each:se,bind:P,exists:de,forall:ve,toOptional:z.none}},_v=function(n,o){return n.fold(function(){return Md(o)},Rn)},Mr={value:Rn,error:Md,fromOption:_v},ui;(function(n){n[n.Error=0]="Error",n[n.Value=1]="Value"})(ui||(ui={}));var gg=function(n,o,l){return n.stype===ui.Error?o(n.serror):l(n.svalue)},Df=function(n){var o=[],l=[];return xn(n,function(v){gg(v,function(y){return l.push(y)},function(y){return o.push(y)})}),{values:o,errors:l}},Zi=function(n,o){return n.stype===ui.Error?{stype:ui.Error,serror:o(n.serror)}:n},wv=function(n,o){return n.stype===ui.Value?{stype:ui.Value,svalue:o(n.svalue)}:n},Du=function(n,o){return n.stype===ui.Value?o(n.svalue):n},xv=function(n,o){return n.stype===ui.Error?o(n.serror):n},Jr=function(n){return{stype:ui.Value,svalue:n}},Mu=function(n){return{stype:ui.Error,serror:n}},ay=function(n){return gg(n,Mr.error,Mr.value)},iy=function(n){return n.fold(Mu,Jr)},ga={fromResult:iy,toResult:ay,svalue:Jr,partition:Df,serror:Mu,bind:Du,bindError:xv,map:wv,mapError:Zi,fold:gg},tu=function(n,o,l,v){return{tag:"field",key:n,newKey:o,presence:l,prop:v}},U=function(n,o){return{tag:"custom",newKey:n,instantiator:o}},re=function(n,o,l){switch(n.tag){case"field":return o(n.key,n.newKey,n.presence,n.prop);case"custom":return l(n.newKey,n.instantiator)}},he=function(n,o){return o},Ie=function(n,o){var l=m(n)&&m(o);return l?Et(n,o):o},ut=function(n){return function(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];if(o.length===0)throw new Error("Can't merge zero objects");for(var v={},y=0;y<o.length;y++){var C=o[y];for(var A in C)ma(C,A)&&(v[A]=n(v[A],C[A]))}return v}},Et=ut(Ie),Wn=ut(he),wr=function(){return{tag:"required",process:{}}},ra=function(n){return{tag:"defaultedThunk",process:n}},zr=function(n){return ra(le(n))},di=function(){return{tag:"option",process:{}}},qo=function(n){return{tag:"mergeWithThunk",process:n}},po=function(n){return qo(le(n))},lS=function(n,o){return n.length>0?ga.svalue(Et(o,Wn.apply(void 0,n))):ga.svalue(o)},zw=function(n){return _e(ga.serror,pn)(n)},Hw=function(n,o){var l=ga.partition(n);return l.errors.length>0?zw(l.errors):lS(l.values,o)},cS=function(n){var o=ga.partition(n);return o.errors.length>0?zw(o.errors):ga.svalue(o.values)},Fc={consolidateObj:Hw,consolidateArr:cS},Cv=function(n){return m(n)&&ii(n).length>100?" removed due to size":JSON.stringify(n,null,2)},Tl=function(n){var o=n.length>10?n.slice(0,10).concat([{path:[],getErrorInfo:le("... (only showing first ten failures)")}]):n;return Vt(o,function(l){return"Failed path: ("+l.path.join(" > ")+`)
`+l.getErrorInfo()})},ke=function(n,o){return ga.serror([{path:n,getErrorInfo:o}])},lh=function(n,o,l){return ke(n,function(){return'Could not find valid *required* value for "'+o+'" in '+Cv(l)})},ch=function(n,o){return ke(n,function(){return'Choice schema did not contain choice key: "'+o+'"'})},dc=function(n,o,l){return ke(n,function(){return'The chosen schema: "'+l+'" did not exist in branches: '+Cv(o)})},bi=function(n,o){return ke(n,function(){return"There are unsupported fields: ["+o.join(", ")+"] specified"})},fS=function(n,o){return ke(n,le(o))},rd=function(n){var o=function(v,y){return ga.bindError(n(y),function(C){return fS(v,C)})},l=le("val");return{extract:o,toString:l}},Fp=rd(ga.svalue),fm=function(n,o,l,v){return Zn(o,l).fold(function(){return lh(n,l,o)},v)},oy=function(n,o,l,v){var y=Zn(n,o).getOrThunk(function(){return l(n)});return v(y)},dS=function(n,o,l){return l(Zn(n,o))},vS=function(n,o,l,v){var y=Zn(n,o).map(function(C){return C===!0?l(n):C});return v(y)},pg=function(n,o,l,v,y){var C=function(P){return y.extract(o.concat([v]),P)},A=function(P){return P.fold(function(){return ga.svalue(z.none())},function(I){var H=y.extract(o.concat([v]),I);return ga.map(H,z.some)})};switch(n.tag){case"required":return fm(o,l,v,C);case"defaultedThunk":return oy(l,v,n.process,C);case"option":return dS(l,v,A);case"defaultedOptionThunk":return vS(l,v,n.process,A);case"mergeWithThunk":return oy(l,v,le({}),function(P){var I=Et(n.process(l),P);return C(I)})}},Np=function(n,o,l){for(var v={},y=[],C=0,A=l;C<A.length;C++){var P=A[C];re(P,function(I,H,G,Q){var fe=pg(G,n,o,I,Q);ga.fold(fe,function(ge){y.push.apply(y,ge)},function(ge){v[H]=ge})},function(I,H){v[I]=H(o)})}return y.length>0?ga.serror(y):ga.svalue(v)},Rd=function(n){var o=function(v,y){return n().extract(v,y)},l=function(){return n().toString()};return{extract:o,toString:l}},Vw=function(n){return ii(ia(n,V))},vc=function(n){var o=Jn(n),l=Qe(n,function(y,C){return re(C,function(A){var P;return Et(y,(P={},P[A]=!0,P))},le(y))},{}),v=function(y,C){var A=k(C)?[]:Vw(C),P=kt(A,function(I){return!Pi(l,I)});return P.length===0?o.extract(y,C):bi(y,P)};return{extract:v,toString:o.toString}},Jn=function(n){var o=function(v,y){return Np(v,y,n)},l=function(){var v=Vt(n,function(y){return re(y,function(C,A,P,I){return C+" -> "+I.toString()},function(C,A){return"state("+C+")"})});return`obj{
`+v.join(`
`)+"}"};return{extract:o,toString:l}},Sv=function(n){var o=function(v,y){var C=Vt(y,function(A,P){return n.extract(v.concat(["["+P+"]"]),A)});return Fc.consolidateArr(C)},l=function(){return"array("+n.toString()+")"};return{extract:o,toString:l}},$p=function(n){var o=function(v,y){for(var C=[],A=0,P=n;A<P.length;A++){var I=P[A],H=I.extract(v,y);if(H.stype===ui.Value)return H;C.push(H)}return Fc.consolidateArr(C)},l=function(){return"oneOf("+Vt(n,function(v){return v.toString()}).join(", ")+")"};return{extract:o,toString:l}},Yl=function(n,o){var l=function(C,A){return Sv(rd(n)).extract(C,A)},v=function(C,A){var P=ii(A),I=l(C,P);return ga.bind(I,function(H){var G=Vt(H,function(Q){return tu(Q,Q,wr(),o)});return Jn(G).extract(C,A)})},y=function(){return"setOf("+o.toString()+")"};return{extract:v,toString:y}},bg=function(n,o){var l=Pr(o),v=function(C,A){return l().extract(C,A)},y=function(){return l().toString()};return{extract:v,toString:y}},sy=_e(Sv,Jn),Mf=le(Fp),dm=function(n,o){return rd(function(l){var v=typeof l;return n(l)?ga.svalue(l):ga.serror("Expected type: "+o+" but got: "+v)})},yg=dm(ie,"number"),Ui=dm(c,"string"),nu=dm(k,"boolean"),zp=dm(q,"function"),hu=function(n){if(Object(n)!==n)return!0;switch({}.toString.call(n).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(n).every(function(o){return hu(n[o])});default:return!1}},Hp=rd(function(n){return hu(n)?ga.svalue(n):ga.serror("Expected value to be acceptable for sending via postMessage")}),n1=function(n,o,l,v){var y=Zn(l,v);return y.fold(function(){return dc(n,l,v)},function(C){return C.extract(n.concat(["branch: "+v]),o)})},r1=function(n,o){var l=function(y,C){var A=Zn(C,n);return A.fold(function(){return ch(y,n)},function(P){return n1(y,C,o,P)})},v=function(){return"chooseOn("+n+"). Possible values: "+ii(o)};return{extract:l,toString:v}},hS=function(){return Sv(Fp)},_g=function(n){return rd(function(o){return n(o).fold(ga.serror,ga.svalue)})},mu=function(n,o){return Yl(function(l){return ga.fromResult(n(l))},o)},uy=function(n,o,l){var v=o.extract([n],l);return ga.mapError(v,function(y){return{input:l,errors:y}})},lo=function(n,o,l){return ga.toResult(uy(n,o,l))},Rf=function(n){return n.fold(function(o){throw new Error(Pf(o))},Pe)},Wa=function(n,o,l){return Rf(lo(n,o,l))},Pf=function(n){return`Errors: 
`+Tl(n.errors).join(`
`)+`

Input object: `+Cv(n.input)},ql=function(n,o){return r1(n,ya(o,Jn))},mS=function(n,o){return bg(n,o)},ls=tu,Al=U,Pd=function(n){return _g(function(o){return _n(n,o)?Mr.value(o):Mr.error('Unsupported value: "'+o+'", choose one of "'+n.join(", ")+'".')})},It=function(n){return ls(n,n,wr(),Mf())},Ls=function(n,o){return ls(n,n,wr(),o)},gu=function(n){return Ls(n,yg)},Ar=function(n){return Ls(n,Ui)},hc=function(n,o){return ls(n,n,wr(),Pd(o))},Uw=function(n){return Ls(n,nu)},Fs=function(n){return Ls(n,zp)},lf=function(n,o){return ls(n,n,di(),rd(function(l){return ga.serror("The field: "+n+" is forbidden. "+o)}))},ad=function(n,o){return ls(n,n,wr(),Jn(o))},If=function(n,o){return ls(n,n,wr(),sy(o))},Ns=function(n,o){return ls(n,n,wr(),Sv(o))},za=function(n){return ls(n,n,di(),Mf())},Bf=function(n,o){return ls(n,n,di(),o)},bs=function(n){return Bf(n,yg)},xi=function(n){return Bf(n,Ui)},Ev=function(n){return Bf(n,zp)},cs=function(n,o){return Bf(n,Sv(o))},Ol=function(n,o){return Bf(n,Jn(o))},a1=function(n,o){return Bf(n,vc(o))},Je=function(n,o){return ls(n,n,zr(o),Mf())},tl=function(n,o,l){return ls(n,n,zr(o),l)},Go=function(n,o){return tl(n,o,yg)},fh=function(n,o){return tl(n,o,Ui)},Nc=function(n,o,l){return tl(n,o,Pd(l))},Ci=function(n,o){return tl(n,o,nu)},Mi=function(n,o){return tl(n,o,zp)},nl=function(n,o){return tl(n,o,Hp)},kv=function(n,o,l){return tl(n,o,Sv(l))},vm=function(n,o,l){return tl(n,o,Jn(l))},ur=function(n){var o=n,l=function(){return o},v=function(y){o=y};return{get:l,set:v}},i1=function(n){if(!p(n))throw new Error("cases must be an array");if(n.length===0)throw new Error("there must be at least one case");var o=[],l={};return xn(n,function(v,y){var C=ii(v);if(C.length!==1)throw new Error("one and only one name per case");var A=C[0],P=v[A];if(l[A]!==void 0)throw new Error("duplicate key detected:"+A);if(A==="cata")throw new Error("cannot have a case named cata (sorry)");if(!p(P))throw new Error("case arguments must be an array");o.push(A),l[A]=function(){for(var I=[],H=0;H<arguments.length;H++)I[H]=arguments[H];var G=I.length;if(G!==P.length)throw new Error("Wrong number of arguments to case "+A+". Expected "+P.length+" ("+P+"), got "+G);var Q=function(fe){var ge=ii(fe);if(o.length!==ge.length)throw new Error("Wrong number of arguments to match. Expected: "+o.join(",")+`
Actual: `+ge.join(","));var xe=xr(o,function(Fe){return _n(ge,Fe)});if(!xe)throw new Error("Not all branches were specified when using match. Specified: "+ge.join(", ")+`
Required: `+o.join(", "));return fe[A].apply(null,I)};return{fold:function(){for(var fe=[],ge=0;ge<arguments.length;ge++)fe[ge]=arguments[ge];if(fe.length!==n.length)throw new Error("Wrong number of arguments to fold. Expected "+n.length+", got "+fe.length);var xe=fe[y];return xe.apply(null,I)},match:Q,log:function(fe){console.log(fe,{constructors:o,constructor:A,params:I})}}}}),l},$c={generate:i1};$c.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var wg=function(n){var o=[],l=[];return xn(n,function(v){v.fold(function(y){o.push(y)},function(y){l.push(y)})}),{errors:o,values:l}},Vp=function(n,o){var l={};return oi(n,function(v,y){_n(o,y)||(l[y]=v)}),l},Up=function(n,o){var l;return l={},l[n]=o,l},Wp=function(n){var o={};return xn(n,function(l){o[l.key]=l.value}),o},o1=function(n,o){return Vp(n,o)},Id=function(n,o){return Up(n,o)},Tv=function(n){return Wp(n)},gS=function(n,o){return n.length===0?Mr.value(o):Mr.value(Et(o,Wn.apply(void 0,n)))},s1=function(n){return Mr.error(pn(n))},ly=function(n,o){var l=wg(n);return l.errors.length>0?s1(l.errors):gS(l.values,o)},Ww=function(n){return q(n)?n:de},hm=function(n,o,l){for(var v=n.dom,y=Ww(l);v.parentNode;){v=v.parentNode;var C=vn.fromDom(v),A=o(C);if(A.isSome())return A;if(y(C))break}return z.none()},mm=function(n,o,l){var v=o(n),y=Ww(l);return v.orThunk(function(){return y(n)?z.none():hm(n,o,y)})},cy=function(n,o){return Ra(n.element,o.event.target)},id={can:ve,abort:de,run:se},Av=function(n){if(!Pi(n,"can")&&!Pi(n,"abort")&&!Pi(n,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(n,null,2)+" does not have can, abort, or run!");return ue(ue({},id),n)},fy=function(n,o){return function(){for(var l=[],v=0;v<arguments.length;v++)l[v]=arguments[v];return st(n,function(y,C){return y&&o(C).apply(void 0,l)},!0)}},dy=function(n,o){return function(){for(var l=[],v=0;v<arguments.length;v++)l[v]=arguments[v];return st(n,function(y,C){return y||o(C).apply(void 0,l)},!1)}},jw=function(n){return q(n)?{can:ve,abort:de,run:n}:n},pS=function(n){var o=fy(n,function(y){return y.can}),l=dy(n,function(y){return y.abort}),v=function(){for(var y=[],C=0;C<arguments.length;C++)y[C]=arguments[C];xn(n,function(A){A.run.apply(void 0,y)})};return{can:o,abort:l,run:v}},Ko=le,Bd=Ko("touchstart"),zc=Ko("touchmove"),Ov=Ko("touchend"),u1=Ko("touchcancel"),Lf=Ko("mousedown"),Dv=Ko("mousemove"),Ja=Ko("mouseout"),vy=Ko("mouseup"),Mv=Ko("mouseover"),Dl=Ko("focusin"),ru=Ko("focusout"),l1=Ko("keydown"),hy=Ko("keyup"),rl=Ko("input"),xg=Ko("change"),Rv=Ko("click"),my=Ko("transitioncancel"),gm=Ko("transitionend"),c1=Ko("transitionstart"),cf=Ko("selectstart"),ki=function(n){return le("alloy."+n)},Cg={tap:ki("tap")},Pv=ki("focus"),Sg=ki("blur.post"),f1=ki("paste.post"),mc=ki("receive"),gc=ki("execute"),Iv=ki("focus.item"),Ld=Cg.tap,od=ki("longpress"),jp=ki("sandbox.close"),Fd=ki("typeahead.cancel"),dh=ki("system.init"),Yp=ki("system.touchmove"),gy=ki("system.touchend"),py=ki("system.scroll"),Hc=ki("system.resize"),pc=ki("system.attached"),pm=ki("system.detached"),ff=ki("system.dismissRequested"),Ru=ki("system.repositionRequested"),qp=ki("focusmanager.shifted"),Nd=ki("slotcontainer.visibility"),bc=ki("change.tab"),co=ki("dismiss.tab"),by=ki("highlight"),d1=ki("dehighlight"),xa=function(n,o){Ff(n,n.element,o,{})},Qn=function(n,o,l){Ff(n,n.element,o,l)},yc=function(n){xa(n,gc())},Gp=function(n,o,l){Ff(n,o,l,{})},Ff=function(n,o,l,v){var y=ue({target:o},v);n.getSystem().triggerEvent(l,o,y)},yy=function(n,o,l,v){n.getSystem().triggerEvent(l,o,v.event)},Qa=function(n){return Tv(n)},bm=function(n,o){return{key:n,value:Av({abort:o})}},v1=function(n,o){return{key:n,value:Av({can:o})}},Kp=function(n){return{key:n,value:Av({run:function(o,l){l.event.prevent()}})}},Nt=function(n,o){return{key:n,value:Av({run:o})}},Eg=function(n,o,l){return{key:n,value:Av({run:function(v,y){o.apply(void 0,[v,y].concat(l))}})}},h1=function(n){return function(o){return Nt(n,o)}},sd=function(n){return function(o){return{key:n,value:Av({run:function(l,v){cy(l,v)&&o(l,v)}})}}},ym=function(n,o){return Nt(n,function(l,v){l.getSystem().getByUid(o).each(function(y){yy(y,y.element,n,v)})})},$d=function(n,o,l){var v=o.partUids[l];return ym(n,v)},vh=function(n,o){return Nt(n,function(l,v){var y=v.event,C=l.getSystem().getByDom(y.target).getOrThunk(function(){var A=mm(y.target,function(P){return l.getSystem().getByDom(P).toOptional()},de);return A.getOr(l)});o(l,C,v)})},hh=function(n){return Nt(n,function(o,l){l.cut()})},Bv=function(n){return Nt(n,function(o,l){l.stop()})},Bo=function(n,o){return sd(n)(o)},Br=sd(pc()),Vc=sd(pm()),_y=sd(dh()),ys=h1(gc()),m1=function(n,o){var l=o||document,v=l.createElement("div");return v.innerHTML=n,Z(vn.fromDom(v))},ud=function(n){return n.dom.innerHTML},Lv=function(n,o){var l=Qi(n),v=l.dom,y=vn.fromDom(v.createDocumentFragment()),C=m1(o,v);td(y,C),Za(n),gi(n,y)},zd=function(n){var o=vn.fromTag("div"),l=vn.fromDom(n.dom.cloneNode(!0));return gi(o,l),ud(o)},Uc=function(n,o){return vn.fromDom(n.dom.cloneNode(o))},mh=function(n){return Uc(n,!1)},ro=function(n){if(wt(n))return"#shadow-root";var o=mh(n);return zd(o)},Pu=function(n){return ro(n)},Nf=function(n,o,l){return Ra(o,n.element)&&!Ra(o,l)},Hd=Qa([v1(Pv(),function(n,o){var l=o.event,v=l.originator,y=l.target;return Nf(n,v,y)?(console.warn(Pv()+` did not get interpreted by the desired target. 
Originator: `+Pu(v)+`
Target: `+Pu(y)+`
Check the `+Pv()+" event handlers"),!1):!0})]),Fv=Object.freeze({__proto__:null,events:Hd}),$f=0,qt=function(n){var o=new Date,l=o.getTime(),v=Math.floor(Math.random()*1e9);return $f++,n+"_"+v+$f+String(l)},fs=le("alloy-id-"),df=le("data-alloy-id"),Gl=fs(),Xp=df(),g1=function(n,o){var l=qt(Gl+n);return Zp(o,l),l},Zp=function(n,o){Object.defineProperty(n.dom,Xp,{value:o,writable:!0})},_s=function(n){var o=tn(n)?n.dom[Xp]:null;return z.from(o)},gh=function(n){return qt(n)},kg=Pe,Tg=function(n){var o=function(y){return"The component must be in a context to execute: "+y+(n?`
`+Pu(n().element)+" is not in context.":"")},l=function(y){return function(){throw new Error(o(y))}},v=function(y){return function(){console.warn(o(y))}};return{debugInfo:le("fake"),triggerEvent:v("triggerEvent"),triggerFocus:v("triggerFocus"),triggerEscape:v("triggerEscape"),broadcast:v("broadcast"),broadcastOn:v("broadcastOn"),broadcastEvent:v("broadcastEvent"),build:l("build"),addToWorld:l("addToWorld"),removeFromWorld:l("removeFromWorld"),addToGui:l("addToGui"),removeFromGui:l("removeFromGui"),getByUid:l("getByUid"),getByDom:l("getByDom"),isConnected:de}},bS=Tg(),_c=function(n,o,l){var v=l.toString(),y=v.indexOf(")")+1,C=v.indexOf("("),A=v.substring(C+1,y-1).split(/,\s*/);return n.toFunctionAnnotation=function(){return{name:o,parameters:wy(A.slice(0,1).concat(A.slice(3)))}},n},wy=function(n){return Vt(n,function(o){return Kn(o,"/*")?o.substring(0,o.length-2):o})},_m=function(n,o){var l=n.toString(),v=l.indexOf(")")+1,y=l.indexOf("("),C=l.substring(y+1,v-1).split(/,\s*/);return n.toFunctionAnnotation=function(){return{name:o,parameters:wy(C)}},n},ph=function(n,o){var l=o.toString(),v=l.indexOf(")")+1,y=l.indexOf("("),C=l.substring(y+1,v-1).split(/,\s*/);return n.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:wy(C.slice(1))}},n},ld=qt("alloy-premade"),$s=function(n){return Id(ld,n)},p1=function(n){return Zn(n,ld)},fo=function(n){return ph(function(o){for(var l=[],v=1;v<arguments.length;v++)l[v-1]=arguments[v];return n.apply(void 0,$e([o.getApis(),o],l,!1))},n)},zs={init:function(){return Iu({readState:le("No State required")})}},Iu=function(n){return n},Yw=function(n,o){var l=Vt(o,function(y){return Ol(y.name(),[It("config"),Je("state",zs)])}),v=lo("component.behaviours",Jn(l),n.behaviours).fold(function(y){throw new Error(Pf(y)+`
Complete spec:
`+JSON.stringify(n,null,2))},Pe);return{list:o,data:ya(v,function(y){var C=y.map(function(A){return{config:A.config,state:A.state.init(A.config)}});return le(C)})}},bh=function(n){return n.list},qw=function(n){return n.data},xy=function(n,o){var l={};return oi(n,function(v,y){oi(v,function(C,A){var P=Zn(l,A).getOr([]);l[A]=P.concat([o(y,C)])})}),l},zf=function(n){return{classes:D(n.classes)?[]:n.classes,attributes:D(n.attributes)?{}:n.attributes,styles:D(n.styles)?{}:n.styles}},yS=function(n,o){return ue(ue({},n),{attributes:ue(ue({},n.attributes),o.attributes),styles:ue(ue({},n.styles),o.styles),classes:n.classes.concat(o.classes)})},Ag=function(n,o,l,v){var y=ue({},o);xn(l,function(G){y[G.name()]=G.exhibit(n,v)});var C=xy(y,function(G,Q){return{name:G,modification:Q}}),A=function(G){return Qe(G,function(Q,fe){return ue(ue({},fe.modification),Q)},{})},P=Qe(C.classes,function(G,Q){return Q.modification.concat(G)},[]),I=A(C.attributes),H=A(C.styles);return zf({classes:P,attributes:I,styles:H})},b1=function(n,o,l,v){try{var y=ns(l,function(C,A){var P=C[o],I=A[o],H=v.indexOf(P),G=v.indexOf(I);if(H===-1)throw new Error("The ordering for "+n+" does not have an entry for "+P+`.
Order specified: `+JSON.stringify(v,null,2));if(G===-1)throw new Error("The ordering for "+n+" does not have an entry for "+I+`.
Order specified: `+JSON.stringify(v,null,2));return H<G?-1:G<H?1:0});return Mr.value(y)}catch(C){return Mr.error([C])}},Gw=function(n,o){return{handler:n,purpose:o}},Cy=function(n,o){return{cHandler:n,purpose:o}},Sy=function(n,o){return Cy(lt.apply(void 0,[n.handler].concat(o)),n.purpose)},Jp=function(n){return n.cHandler},y1=function(n,o){return{name:n,handler:o}},Qp=function(n,o){var l={};return xn(n,function(v){l[v.name()]=v.handlers(o)}),l},Vd=function(n,o,l){var v=ue(ue({},l),Qp(o,n));return xy(v,y1)},Nv=function(n,o,l,v){var y=Vd(n,l,v);return cd(y,o)},vi=function(n){var o=jw(n);return function(l,v){for(var y=[],C=2;C<arguments.length;C++)y[C-2]=arguments[C];var A=[l,v].concat(y);o.abort.apply(void 0,A)?v.stop():o.can.apply(void 0,A)&&o.run.apply(void 0,A)}},wm=function(n,o){return Mr.error(["The event ("+n+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Vt(o,function(l){return l.name}),null,2)])},Hf=function(n,o,l){var v=o[l];return v?b1("Event: "+l,"name",n,v).map(function(y){var C=Vt(y,function(A){return A.handler});return pS(C)}):wm(l,n)},cd=function(n,o){var l=Ds(n,function(v,y){var C=v.length===1?Mr.value(v[0].handler):Hf(v,o,y);return C.map(function(A){var P=vi(A),I=v.length>1?kt(o[y],function(H){return Gn(v,function(G){return G.name===H})}).join(" > "):v[0].name;return Id(y,Gw(P,I))})});return ly(l,{})},Ml,Ud="alloy.base.behaviour",$v=Jn([ls("dom","dom",wr(),Jn([It("tag"),Je("styles",{}),Je("classes",[]),Je("attributes",{}),za("value"),za("innerHtml")])),It("components"),It("uid"),Je("events",{}),Je("apis",{}),ls("eventOrder","eventOrder",po((Ml={},Ml[gc()]=["disabling",Ud,"toggling","typeaheadevents"],Ml[Pv()]=[Ud,"focusing","keying"],Ml[dh()]=[Ud,"disabling","toggling","representing"],Ml[rl()]=[Ud,"representing","streaming","invalidating"],Ml[pm()]=[Ud,"representing","item-events","tooltipping"],Ml[Lf()]=["focusing",Ud,"item-type-events"],Ml[Bd()]=["focusing",Ud,"item-type-events"],Ml[Mv()]=["item-type-events","tooltipping"],Ml[mc()]=["receiving","reflecting","tooltipping"],Ml)),Mf()),za("domModification")]),_1=function(n){return lo("custom.definition",$v,n)},e0=function(n){return ue(ue({},n.dom),{uid:n.uid,domChildren:Vt(n.components,function(o){return o.element})})},w1=function(n){return n.domModification.fold(function(){return zf({})},zf)},x1=function(n){return n.events},xm=function(n,o){var l=Li(n,o);return l===void 0||l===""?[]:l.split(" ")},_S=function(n,o,l){var v=xm(n,o),y=v.concat([l]);return $r(n,o,y.join(" ")),!0},C1=function(n,o,l){var v=kt(xm(n,o),function(y){return y!==l});return v.length>0?$r(n,o,v.join(" ")):gs(n,o),!1},Og=function(n){return n.dom.classList!==void 0},t0=function(n){return xm(n,"class")},n0=function(n,o){return _S(n,"class",o)},Ey=function(n,o){return C1(n,"class",o)},ds=function(n,o){Og(n)?n.dom.classList.add(o):n0(n,o)},yh=function(n){var o=Og(n)?n.dom.classList:t0(n);o.length===0&&gs(n,"class")},Xo=function(n,o){if(Og(n)){var l=n.dom.classList;l.remove(o)}else Ey(n,o);yh(n)},Rl=function(n,o){return Og(n)&&n.dom.classList.contains(o)},Cm=function(n,o){xn(o,function(l){ds(n,l)})},Wc=function(n,o){xn(o,function(l){Xo(n,l)})},r0=function(n,o){return xr(o,function(l){return Rl(n,l)})},Wd=function(n){return n.dom.value},Dg=function(n,o){if(o===void 0)throw new Error("Value.set was undefined");n.dom.value=o},Mg=function(n){var o=vn.fromTag(n.tag);Cl(o,n.attributes),Cm(o,n.classes),Co(o,n.styles),n.innerHtml.each(function(v){return Lv(o,v)});var l=n.domChildren;if(td(o,l),n.value.each(function(v){Dg(o,v)}),!n.uid)debugger;return Zp(o,n.uid),o},Kw=function(n){var o=Zn(n,"behaviours").getOr({});return Er(ii(o),function(l){var v=o[l];return V(v)?[v.me]:[]})},Xw=function(n,o){return Yw(n,o)},wS=function(n){var o=Kw(n);return Xw(n,o)},Vf=function(n,o,l){var v=e0(n),y=w1(n),C={"alloy.base.modification":y},A=o.length>0?Ag(l,C,o,v):y;return yS(v,A)},xS=function(n,o,l){var v={"alloy.base.behaviour":x1(n)};return Nv(l,n.eventOrder,o,v).getOrDie()},Zw=function(n){var o=function(){return nt},l=ur(bS),v=Rf(_1(n)),y=wS(n),C=bh(y),A=qw(y),P=Vf(v,C,A),I=Mg(P),H=xS(v,C,A),G=ur(v.components),Q=function(Ct){l.set(Ct)},fe=function(){l.set(Tg(o))},ge=function(){var Ct=Z(I),xt=Er(Ct,function(tt){return l.get().getByDom(tt).fold(function(){return[]},ts)});G.set(xt)},xe=function(Ct){var xt=A,tt=q(xt[Ct.name()])?xt[Ct.name()]:function(){throw new Error("Could not find "+Ct.name()+" in "+JSON.stringify(n,null,2))};return tt()},Fe=function(Ct){return q(A[Ct.name()])},et=function(){return v.apis},Re=function(Ct){return A[Ct]().map(function(xt){return xt.state.readState()}).getOr("not enabled")},nt={uid:n.uid,getSystem:l.get,config:xe,hasConfigured:Fe,spec:n,readState:Re,getApis:et,connect:Q,disconnect:fe,element:I,syncComponents:ge,components:G.get,events:H};return nt},S1=function(n){var o=Zn(n,"components").getOr([]);return Vt(o,$i)},a0=function(n){var o=kg(n),l=o.events,v=Y(o,["events"]),y=S1(v),C=ue(ue({},v),{events:ue(ue({},Fv),l),components:y});return Mr.value(Zw(C))},pu=function(n){var o=vn.fromText(n);return E1({element:o})},E1=function(n){var o=Wa("external.component",vc([It("element"),za("uid")]),n),l=ur(Tg()),v=function(P){l.set(P)},y=function(){l.set(Tg(function(){return A}))},C=o.uid.getOrThunk(function(){return gh("external")});Zp(o.element,C);var A={uid:C,getSystem:l.get,config:z.none,hasConfigured:de,connect:v,disconnect:y,getApis:function(){return{}},element:o.element,spec:n,readState:le("No state"),syncComponents:se,components:le([]),events:{}};return $s(A)},ky=gh,vf=function(n){return ma(n,"uid")},$i=function(n){return p1(n).getOrThunk(function(){var o=vf(n)?n:ue({uid:ky("")},n);return a0(o).getOrDie()})},jc=$s;function _h(n,o,l,v,y){return n(l,v)?z.some(l):q(y)&&y(l)?z.none():o(l,v,y)}var Ty=function(n,o,l){for(var v=n.dom,y=q(l)?l:de;v.parentNode;){v=v.parentNode;var C=vn.fromDom(v);if(o(C))return z.some(C);if(y(C))break}return z.none()},k1=function(n,o,l){var v=function(y,C){return C(y)};return _h(v,Ty,n,o,l)},Jw=function(n,o){var l=function(y){return o(vn.fromDom(y))},v=Jt(n.dom.childNodes,l);return v.map(vn.fromDom)},Yr=function(n,o){var l=function(v){for(var y=0;y<v.childNodes.length;y++){var C=vn.fromDom(v.childNodes[y]);if(o(C))return z.some(C);var A=l(v.childNodes[y]);if(A.isSome())return A}return z.none()};return l(n.dom)},Rg=function(n,o,l){return k1(n,o,l).isSome()},T1=function(n,o,l){return Ty(n,function(v){return wa(v,o)},l)},Ay=function(n,o){return Jw(n,function(l){return wa(l,o)})},ws=function(n,o){return Td(o,n)},hf=function(n,o,l){var v=function(y,C){return wa(y,C)};return _h(v,T1,n,o,l)},Qw=function(n){var o=k1(n,function(l){if(!tn(l))return!1;var v=Li(l,"id");return v!==void 0&&v.indexOf("aria-owns")>-1});return o.bind(function(l){var v=Li(l,"id"),y=Cr(l);return ws(y,'[aria-owns="'+v+'"]')})},Sm=function(){var n=qt("aria-owns"),o=function(v){$r(v,"aria-owns",n)},l=function(v){gs(v,"aria-owns")};return{id:n,link:o,unlink:l}},Wi=function(n,o){return Qw(o).exists(function(l){return Em(n,l)})},Em=function(n,o){return Rg(o,function(l){return Ra(l,n.element)},de)||Wi(n,o)},A1="unknown",Pg;(function(n){n[n.STOP=0]="STOP",n[n.NORMAL=1]="NORMAL",n[n.LOGGING=2]="LOGGING"})(Pg||(Pg={}));var Oy=ur({}),ex=function(n,o){var l=[],v=new Date().getTime();return{logEventCut:function(y,C,A){l.push({outcome:"cut",target:C,purpose:A})},logEventStopped:function(y,C,A){l.push({outcome:"stopped",target:C,purpose:A})},logNoParent:function(y,C,A){l.push({outcome:"no-parent",target:C,purpose:A})},logEventNoHandlers:function(y,C){l.push({outcome:"no-handlers-left",target:C})},logEventResponse:function(y,C,A){l.push({outcome:"response",purpose:A,target:C})},write:function(){var y=new Date().getTime();_n(["mousemove","mouseover","mouseout",dh()],n)||console.log(n,{event:n,time:y-v,target:o.dom,sequence:Vt(l,function(C){return _n(["cut","stopped","response"],C.outcome)?"{"+C.purpose+"} "+C.outcome+" at ("+Pu(C.target)+")":C.outcome})})}}},i0=function(n,o,l){var v=Zn(Oy.get(),n).orThunk(function(){var A=ii(Oy.get());return mi(A,function(P){return n.indexOf(P)>-1?z.some(Oy.get()[P]):z.none()})}).getOr(Pg.NORMAL);switch(v){case Pg.NORMAL:return l(CS());case Pg.LOGGING:{var y=ex(n,o),C=l(y);return y.write(),C}case Pg.STOP:return!0}},O1=["alloy/data/Fields","alloy/debugging/Debugging"],jd=function(){var n=new Error;if(n.stack!==void 0){var o=n.stack.split(`
`);return Jt(o,function(l){return l.indexOf("alloy")>0&&!Gn(O1,function(v){return l.indexOf(v)>-1})}).getOr(A1)}else return A1},Pl={logEventCut:se,logEventStopped:se,logNoParent:se,logEventNoHandlers:se,logEventResponse:se,write:se},Dy=function(n,o,l){return i0(n,o,l)},CS=le(Pl),fd=le([It("menu"),It("selectedMenu")]),zv=le([It("item"),It("selectedItem")]);le(Jn(zv().concat(fd())));var D1=le(Jn(zv())),SS=ad("initSize",[It("numColumns"),It("numRows")]),ES=function(){return Ls("markers",D1())},wh=function(){return ad("markers",[It("backgroundMenu")].concat(fd()).concat(zv()))},km=function(n){return ad("markers",Vt(n,It))},Tm=function(n,o,l){return jd(),ls(o,o,l,_g(function(v){return Mr.value(function(){for(var y=[],C=0;C<arguments.length;C++)y[C]=arguments[C];return v.apply(void 0,y)})}))},Ha=function(n){return Tm("onHandler",n,zr(se))},xs=function(n){return Tm("onKeyboardHandler",n,zr(z.none))},Il=function(n){return Tm("onHandler",n,wr())},Kl=function(n){return Tm("onKeyboardHandler",n,wr())},Ti=function(n,o){return Al(n,le(o))},xh=function(n){return Al(n,Pe)},M1=le(SS),Hs=function(n,o,l,v,y,C,A,P){return P===void 0&&(P=!1),{x:n,y:o,bubble:l,direction:v,placement:y,restriction:C,label:A+"-"+y,alwaysFit:P}},Yd=$c.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),kS=function(n,o,l,v,y,C,A,P,I){return n.fold(o,l,v,y,C,A,P,I)},TS=function(n,o,l,v){return n.fold(o,o,v,v,o,v,l,l)},R1=function(n,o,l,v){return n.fold(o,v,o,v,l,l,o,v)},P1=Yd.southeast,My=Yd.southwest,Ry=Yd.northeast,Am=Yd.northwest,Ig=Yd.south,I1=Yd.north,Py=Yd.east,Bg=Yd.west,bu=function(n,o,l,v){var y=n+o;return y>v?l:y<l?v:y},wc=function(n,o,l){return Math.min(Math.max(n,o),l)},Ch=function(n,o){switch(o){case 1:return n.x;case 0:return n.x+n.width;case 2:return n.y;case 3:return n.y+n.height}},Cs=function(n,o){return ho(["left","right","top","bottom"],function(l){return Zn(o,l).map(function(v){return Ch(n,v)})})},B1=function(n,o,l){var v=function(I,H){return o[I].map(function(G){var Q=I==="top"||I==="bottom",fe=Q?l.top:l.left,ge=I==="left"||I==="top"?Math.max:Math.min,xe=ge(G,H)+fe;return Q?wc(xe,n.y,n.bottom):wc(xe,n.x,n.right)}).getOr(H)},y=v("left",n.x),C=v("top",n.y),A=v("right",n.right),P=v("bottom",n.bottom);return us(y,C,A-y,P-C)},Hv="layout",Iy=function(n){return n.x},By=function(n,o){return n.x+n.width/2-o.width/2},tx=function(n,o){return n.x+n.width-o.width},Ly=function(n,o){return n.y-o.height},o0=function(n){return n.y+n.height},L1=function(n,o){return n.y+n.height/2-o.height/2},nx=function(n){return n.x+n.width},AS=function(n,o){return n.x-o.width},Vs=function(n,o,l){return Hs(Iy(n),o0(n),l.southeast(),P1(),"southeast",Cs(n,{left:1,top:3}),Hv)},Us=function(n,o,l){return Hs(tx(n,o),o0(n),l.southwest(),My(),"southwest",Cs(n,{right:0,top:3}),Hv)},al=function(n,o,l){return Hs(Iy(n),Ly(n,o),l.northeast(),Ry(),"northeast",Cs(n,{left:1,bottom:2}),Hv)},il=function(n,o,l){return Hs(tx(n,o),Ly(n,o),l.northwest(),Am(),"northwest",Cs(n,{right:0,bottom:2}),Hv)},ol=function(n,o,l){return Hs(By(n,o),Ly(n,o),l.north(),I1(),"north",Cs(n,{bottom:2}),Hv)},Zo=function(n,o,l){return Hs(By(n,o),o0(n),l.south(),Ig(),"south",Cs(n,{top:3}),Hv)},s0=function(n,o,l){return Hs(nx(n),L1(n,o),l.east(),Py(),"east",Cs(n,{left:0}),Hv)},u0=function(n,o,l){return Hs(AS(n,o),L1(n,o),l.west(),Bg(),"west",Cs(n,{right:1}),Hv)},F1=function(){return[Vs,Us,al,il,Zo,ol,s0,u0]},Om=function(){return[Us,Vs,il,al,Zo,ol,s0,u0]},Sh=function(){return[al,il,Vs,Us,ol,Zo]},N1=function(){return[il,al,Us,Vs,ol,Zo]},Dm=function(){return[Vs,Us,al,il,Zo,ol]},Mm=function(){return[Us,Vs,il,al,Zo,ol]},Lg=function(n,o){return o.universal?n:kt(n,function(l){return _n(o.channels,l)})},Fg=function(n){return Qa([Nt(mc(),function(o,l){var v=n.channels,y=ii(v),C=l,A=Lg(y,C);xn(A,function(P){var I=v[P],H=I.schema,G=Wa("channel["+P+`] data
Receiver: `+Pu(o.element),H,C.data);I.onReceive(o,G)})})])},$1=Object.freeze({__proto__:null,events:Fg}),dd=[Ls("channels",mu(Mr.value,vc([Il("onReceive"),Je("schema",Mf())])))],Rm=function(n,o,l){return ys(function(v){l(v,n,o)})},ao=function(n,o,l){return _y(function(v,y){l(v,n,o)})},OS=function(n,o,l,v,y,C){var A=vc(n),P=Ol(o,[a1("config",n)]);return rx(A,P,o,l,v,y,C)},DS=function(n,o,l,v,y,C){var A=n,P=Ol(o,[Bf("config",n)]);return rx(A,P,o,l,v,y,C)},z1=function(n,o,l){var v=function(y){for(var C=[],A=1;A<arguments.length;A++)C[A-1]=arguments[A];var P=[y].concat(C);return y.config({name:le(n)}).fold(function(){throw new Error("We could not find any behaviour configuration for: "+n+". Using API: "+l)},function(I){var H=Array.prototype.slice.call(P,1);return o.apply(void 0,[y,I.config,I.state].concat(H))})};return _c(v,l,o)},MS=function(n){return{key:n,value:void 0}},rx=function(n,o,l,v,y,C,A){var P=function(Q){return Pi(Q,l)?Q[l]():z.none()},I=ya(y,function(Q,fe){return z1(l,Q,fe)}),H=ya(C,function(Q,fe){return _m(Q,fe)}),G=ue(ue(ue({},H),I),{revoke:lt(MS,l),config:function(Q){var fe=Wa(l+"-config",n,Q);return{key:l,value:{config:fe,me:G,configAsRaw:Pr(function(){return Wa(l+"-config",n,Q)}),initialConfig:Q,state:A}}},schema:le(o),exhibit:function(Q,fe){return Uo(P(Q),Zn(v,"exhibit"),function(ge,xe){return xe(fe,ge.config,ge.state)}).getOrThunk(function(){return zf({})})},name:le(l),handlers:function(Q){return P(Q).map(function(fe){var ge=Zn(v,"events").getOr(function(){return{}});return ge(fe.config,fe.state)}).getOr({})}});return G},mn=function(n){return Tv(n)},RS=vc([It("fields"),It("name"),Je("active",{}),Je("apis",{}),Je("state",zs),Je("extra",{})]),Ss=function(n){var o=Wa("Creating behaviour: "+n.name,RS,n);return OS(o.fields,o.name,o.active,o.apis,o.extra,o.state)},Fy=vc([It("branchKey"),It("branches"),It("name"),Je("active",{}),Je("apis",{}),Je("state",zs),Je("extra",{})]),Pm=function(n){var o=Wa("Creating behaviour: "+n.name,Fy,n);return DS(ql(o.branchKey,o.branches),o.name,o.active,o.apis,o.extra,o.state)},Uf=le(void 0),sl=Ss({fields:dd,name:"receiving",active:$1}),l0=function(n,o){return zf({classes:[],styles:o.useFixed()?{}:{position:"relative"}})},qd=Object.freeze({__proto__:null,exhibit:l0}),Ca=function(){return vn.fromDom(document)},vd=function(n){return n.dom.focus()},ul=function(n){return n.dom.blur()},Jo=function(n){var o=Cr(n).dom;return n.dom===o.activeElement},Bl=function(n){return n===void 0&&(n=Ca()),z.from(n.dom.activeElement).map(vn.fromDom)},ll=function(n){return Bl(Cr(n)).filter(function(o){return n.dom.contains(o.dom)})},ax=function(n,o){var l=Cr(o),v=Bl(l).bind(function(C){var A=function(P){return Ra(C,P)};return A(o)?z.some(o):Yr(o,A)}),y=n(o);return v.each(function(C){Bl(l).filter(function(A){return Ra(A,C)}).fold(function(){vd(C)},se)}),y},cl=function(n,o,l,v,y){var C=function(A){return A+"px"};return{position:n,left:o.map(C),top:l.map(C),right:v.map(C),bottom:y.map(C)}},Gd=function(n){return ue(ue({},n),{position:z.some(n.position)})},Eh=function(n,o){no(n,Gd(o))},c0=$c.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),yt=function(n,o,l,v,y,C){var A=o.rect,P=A.x-l,I=A.y-v,H=A.width,G=A.height,Q=y-(P+H),fe=C-(I+G),ge=z.some(P),xe=z.some(I),Fe=z.some(Q),et=z.some(fe),Re=z.none();return kS(o.direction,function(){return cl(n,ge,xe,Re,Re)},function(){return cl(n,Re,xe,Fe,Re)},function(){return cl(n,ge,Re,Re,et)},function(){return cl(n,Re,Re,Fe,et)},function(){return cl(n,ge,xe,Re,Re)},function(){return cl(n,ge,Re,Re,et)},function(){return cl(n,ge,xe,Re,Re)},function(){return cl(n,Re,xe,Fe,Re)})},Vv=function(n,o){return n.fold(function(){var l=o.rect;return cl("absolute",z.some(l.x),z.some(l.y),z.none(),z.none())},function(l,v,y,C){return yt("absolute",o,l,v,y,C)},function(l,v,y,C){return yt("fixed",o,l,v,y,C)})},Yc=function(n,o){var l=lt(Bs,o),v=n.fold(l,l,function(){var A=vu();return Bs(o).translate(-A.left,-A.top)}),y=El(o),C=cc(o);return us(v.left,v.top,y,C)},ix=function(n,o){return o.fold(function(){return n.fold(eu,eu,us)},function(l){return n.fold(l,l,function(){var v=l(),y=Im(n,v.x,v.y);return us(y.left,y.top,v.width,v.height)})})},Im=function(n,o,l){var v=$a(o,l),y=function(){var C=vu();return v.translate(-C.left,-C.top)};return n.fold(le(v),le(v),y)},Ri=function(n,o,l,v){return n.fold(o,l,v)};c0.none;var Qo=c0.relative,H1=c0.fixed,Ny=function(n,o){return{anchorBox:n,origin:o}},V1=function(n,o){return Ny(n,o)},$y="data-alloy-placement",zy=function(n,o){$r(n,$y,o)},Hy=function(n){return to(n,$y)},Vy=function(n){return gs(n,$y)},kh=$c.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),Ng=function(n,o){var l=o.x,v=o.y,y=o.right,C=o.bottom,A=n.x,P=n.y,I=n.right,H=n.bottom,G=n.width,Q=n.height,fe=A>=l&&A<=y,ge=P>=v&&P<=C,xe=fe&&ge,Fe=I<=y&&I>=l,et=H<=C&&H>=v,Re=Fe&&et,nt=Math.min(G,A>=l?y-A:I-l),Ct=Math.min(Q,P>=v?C-P:H-v);return{originInBounds:xe,sizeInBounds:Re,visibleW:nt,visibleH:Ct}},Uy=function(n,o){var l=o.x,v=o.y,y=o.right,C=o.bottom,A=n.x,P=n.y,I=n.width,H=n.height,G=Math.max(l,y-I),Q=Math.max(v,C-H),fe=wc(A,l,G),ge=wc(P,v,Q),xe=Math.min(fe+I,y)-fe,Fe=Math.min(ge+H,C)-ge;return us(fe,ge,xe,Fe)},PS=function(n,o,l){var v=le(o.bottom-l.y),y=le(l.bottom-o.y),C=TS(n,y,y,v),A=le(o.right-l.x),P=le(l.right-o.x),I=R1(n,P,P,A);return{maxWidth:I,maxHeight:C}},Bm=function(n,o,l,v){var y=n.bubble,C=y.offset,A=B1(v,n.restriction,C),P=n.x+C.left,I=n.y+C.top,H=us(P,I,o,l),G=Ng(H,A),Q=G.originInBounds,fe=G.sizeInBounds,ge=G.visibleW,xe=G.visibleH,Fe=Q&&fe,et=Fe?H:Uy(H,A),Re=et.width>0&&et.height>0,nt=PS(n.direction,et,v),Ct=nt.maxWidth,xt=nt.maxHeight,tt={rect:et,maxHeight:xt,maxWidth:Ct,direction:n.direction,placement:n.placement,classes:{on:y.classesOn,off:y.classesOff},layout:n.label,testY:I};return Fe||n.alwaysFit?kh.fit(tt):kh.nofit(tt,ge,xe,Re)},Uv=function(n,o,l,v,y,C){var A=v.width,P=v.height,I=function(G,Q,fe,ge,xe){var Fe=G(l,v,y,n,C),et=Bm(Fe,A,P,C);return et.fold(le(et),function(Re,nt,Ct,xt){var tt=xe===xt?Ct>ge||nt>fe:!xe&&xt;return tt?et:kh.nofit(Q,fe,ge,xe)})},H=st(o,function(G,Q){var fe=lt(I,Q);return G.fold(le(G),fe)},kh.nofit({rect:l,maxHeight:v.height,maxWidth:v.width,direction:P1(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:l.y},-1,-1,!1));return H.fold(Pe,Pe)},Xl=function(n){var o=ur(z.none()),l=function(){return o.get().each(n)},v=function(){l(),o.set(z.none())},y=function(){return o.get().isSome()},C=function(){return o.get()},A=function(P){l(),o.set(z.some(P))};return{clear:v,isSet:y,get:C,set:A}},Th=function(){return Xl(function(n){return n.destroy()})},$g=function(){return Xl(function(n){return n.unbind()})},Wy=function(){var n=Th(),o=function(l){return n.get().each(l)};return ue(ue({},n),{run:o})},Eo=function(){var n=Xl(se),o=function(l){return n.get().each(l)};return ue(ue({},n),{on:o})},f0=ve,Lo=function(n,o,l){return pt(n,o,f0,l)},d0=function(n,o,l){return rn(n,o,f0,l)},xc=sf,Va=["top","bottom","right","left"],zg="data-alloy-transition-timer",qc=function(n,o){return r0(n,o.classes)},jy=function(n,o,l){return l.exists(function(v){var y=n.mode;return y==="all"?!0:v[y]!==o[y]})},IS=function(n,o){var l=function(v){return parseFloat(v).toFixed(3)};return Ms(o,function(v,y){var C=n[y].map(l),A=v.map(l);return!Mc(C,A)}).isSome()},Ji=function(n){var o=function(C){var A=Vi(n,C),P=c(A)?A.split(/\s*,\s*/):[];return kt(P,uu)},l=function(C){if(c(C)&&/^[\d.]+/.test(C)){var A=parseFloat(C);return Kn(C,"ms")?A:A*1e3}else return 0},v=o("transition-delay"),y=o("transition-duration");return st(y,function(C,A,P){var I=l(v[P])+l(A);return Math.max(C,I)},0)},BS=function(n,o){var l=$g(),v=$g(),y,C=function(G){var Q,fe=(Q=G.raw.pseudoElement)!==null&&Q!==void 0?Q:"";return Ra(G.target,n)&&Wo(fe)&&_n(Va,G.raw.propertyName)},A=function(G){if(L(G)||C(G)){l.clear(),v.clear();var Q=G==null?void 0:G.raw.type;(L(Q)||Q===gm())&&(clearTimeout(y),gs(n,zg),Wc(n,o.classes))}},P=function(){l.set(Lo(n,gm(),A)),v.set(Lo(n,my(),A))};if("ontransitionstart"in n.dom)var I=Lo(n,c1(),function(G){C(G)&&(I.unbind(),P())});else P();var H=Ji(n);requestAnimationFrame(function(){y=setTimeout(A,H+17),$r(n,zg,y)})},v0=function(n,o){Cm(n,o.classes),to(n,zg).each(function(l){clearTimeout(parseInt(l,10)),gs(n,zg)}),BS(n,o)},Ah=function(n,o,l,v,y,C){var A=jy(v,y,C);if(A||qc(n,v)){_r(n,"position",l.position);var P=Yc(o,n),I=Vv(o,ue(ue({},y),{rect:P})),H=ho(Va,function(G){return I[G]});IS(l,H)&&(no(n,H),A&&v0(n,v),Fi(n))}else Wc(n,v.classes)},LS=function(n){return{width:El(n),height:cc(n)}},ox=function(n,o,l,v){Na(o,"max-height"),Na(o,"max-width");var y=LS(o);return Uv(o,v.preference,n,y,l,v.bounds)},Yy=function(n,o){var l=o.classes;Wc(n,l.off),Cm(n,l.on)},FS=function(n,o,l){var v=l.maxHeightFunction;v(n,o.maxHeight)},NS=function(n,o,l){var v=l.maxWidthFunction;v(n,o.maxWidth)},U1=function(n,o,l){var v=Vv(l.origin,o);l.transition.each(function(y){Ah(n,l.origin,v,y,o,l.lastPlacement)}),Eh(n,v)},qy=function(n,o){zy(n,o.placement)},yu=function(n,o){hg(n,Math.floor(o))},Hg=le(function(n,o){yu(n,o),Co(n,{"overflow-x":"hidden","overflow-y":"auto"})}),Vg=le(function(n,o){yu(n,o)}),sx=function(n,o,l){return n[o]===void 0?l:n[o]},$S=function(n,o,l,v,y,C,A,P){var I=sx(A,"maxHeightFunction",Hg()),H=sx(A,"maxWidthFunction",se),G=n.anchorBox,Q=n.origin,fe={bounds:ix(Q,C),origin:Q,preference:v,maxHeightFunction:I,maxWidthFunction:H,lastPlacement:y,transition:P};return h0(G,o,l,fe)},h0=function(n,o,l,v){var y=ox(n,o,l,v);return U1(o,y,v),qy(o,y),Yy(o,y),FS(o,y,v),NS(o,y,v),{layout:y.layout,placement:y.placement}},Lm=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Fm=function(n,o,l,v){v===void 0&&(v=1);var y=n*v,C=o*v,A=function(I){return Zn(l,I).getOr([])},P=function(I,H,G){var Q=ba(Lm,G);return{offset:$a(I,H),classesOn:Er(G,A),classesOff:Er(Q,A)}};return{southeast:function(){return P(-n,o,["top","alignLeft"])},southwest:function(){return P(n,o,["top","alignRight"])},south:function(){return P(-n/2,o,["top","alignCentre"])},northeast:function(){return P(-n,-o,["bottom","alignLeft"])},northwest:function(){return P(n,-o,["bottom","alignRight"])},north:function(){return P(-n/2,-o,["bottom","alignCentre"])},east:function(){return P(n,-o/2,["valignCentre","left"])},west:function(){return P(-n,-o/2,["valignCentre","right"])},insetNortheast:function(){return P(y,C,["top","alignLeft","inset"])},insetNorthwest:function(){return P(-y,C,["top","alignRight","inset"])},insetNorth:function(){return P(-y/2,C,["top","alignCentre","inset"])},insetSoutheast:function(){return P(y,-C,["bottom","alignLeft","inset"])},insetSouthwest:function(){return P(-y,-C,["bottom","alignRight","inset"])},insetSouth:function(){return P(-y/2,-C,["bottom","alignCentre","inset"])},insetEast:function(){return P(-y,-C/2,["valignCentre","right","inset"])},insetWest:function(){return P(y,-C/2,["valignCentre","left","inset"])}}},Ug=function(){return Fm(0,0,{})},m0=Pe,Gy=function(n,o){return function(l){return zS(l)==="rtl"?o:n}},zS=function(n){return Vi(n,"direction")==="rtl"?"rtl":"ltr"},ko;(function(n){n.TopToBottom="toptobottom",n.BottomToTop="bottomtotop"})(ko||(ko={}));var Ll="data-alloy-vertical-dir",HS=function(n){return Rg(n,function(o){return tn(o)&&Li(o,"data-alloy-vertical-dir")===ko.BottomToTop})},Oh=function(){return Ol("layouts",[It("onLtr"),It("onRtl"),za("onBottomLtr"),za("onBottomRtl")])},Dh=function(n,o,l,v,y,C,A){var P=A.map(HS).getOr(!1),I=o.layouts.map(function(ge){return ge.onLtr(n)}),H=o.layouts.map(function(ge){return ge.onRtl(n)}),G=P?o.layouts.bind(function(ge){return ge.onBottomLtr.map(function(xe){return xe(n)})}).or(I).getOr(y):I.getOr(l),Q=P?o.layouts.bind(function(ge){return ge.onBottomRtl.map(function(xe){return xe(n)})}).or(H).getOr(C):H.getOr(v),fe=Gy(G,Q);return fe(n)},ux=function(n,o,l){var v=o.hotspot,y=Yc(l,v.element),C=Dh(n.element,o,Dm(),Mm(),Sh(),N1(),z.some(o.hotspot.element));return z.some(m0({anchorBox:y,bubble:o.bubble.getOr(Ug()),overrides:o.overrides,layouts:C,placer:z.none()}))},W1=[It("hotspot"),za("bubble"),Je("overrides",{}),Oh(),Ti("placement",ux)],j1=function(n,o,l){var v=Im(l,o.x,o.y),y=us(v.left,v.top,o.width,o.height),C=Dh(n.element,o,F1(),Om(),F1(),Om(),z.none());return z.some(m0({anchorBox:y,bubble:o.bubble,overrides:o.overrides,layouts:C,placer:z.none()}))},Y1=[It("x"),It("y"),Je("height",0),Je("width",0),Je("bubble",Ug()),Je("overrides",{}),Oh(),Ti("placement",j1)],Ws=$c.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),lx=function(n){return n.fold(Pe,function(o,l,v){return o.translate(-l,-v)})},Ky=function(n){return n.fold(Pe,Pe)},cx=function(n){return st(n,function(o,l){return o.translate(l.left,l.top)},$a(0,0))},Xy=function(n){var o=Vt(n,lx);return cx(o)},Wf=function(n){var o=Vt(n,Ky);return cx(o)},Wv=Ws.screen,fx=Ws.absolute,dx=function(n,o,l){var v=Tf(l.root).dom,y=function(C){var A=Qi(C),P=Qi(n.element);return Ra(A,P)};return z.from(v.frameElement).map(vn.fromDom).filter(y).map(Sl)},Zy=function(n,o,l){var v=Qi(n.element),y=vu(v),C=dx(n,o,l).getOr(y);return fx(C,y.left,y.top)},jv=function(n,o,l,v){var y=Wv($a(n,o));return z.some(Qs(y,l,v))},vx=function(n,o,l,v,y){return n.map(function(C){var A=[o,C.point],P=Ri(v,function(){return Wf(A)},function(){return Wf(A)},function(){return Xy(A)}),I=uo(P.left,P.top,C.width,C.height),H=l.showAbove?Sh():Dm(),G=l.showAbove?N1():Mm(),Q=Dh(y,l,H,G,H,G,z.none());return m0({anchorBox:I,bubble:l.bubble.getOr(Ug()),overrides:l.overrides,layouts:Q,placer:z.none()})})},Wg=function(n,o,l){var v=Zy(n,l,o);return o.node.filter(lr).bind(function(y){var C=y.dom.getBoundingClientRect(),A=jv(C.left,C.top,C.width,C.height),P=o.node.getOr(n.element);return vx(A,v,o,l,P)})},VS=[It("node"),It("root"),za("bubble"),Oh(),Je("overrides",{}),Je("showAbove",!1),Ti("placement",Wg)],g0="\uFEFF",US=" ",Nm=function(n,o,l,v){return{start:n,soffset:o,finish:l,foffset:v}},Mh={create:Nm},Jy=$c.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),hx=function(n,o,l,v){return n.fold(o,l,v)},WS=function(n){return n.fold(Pe,Pe,Pe)},mx=Jy.before,gx=Jy.on,Qy=Jy.after,jS={before:mx,on:gx,after:Qy,cata:hx,getStart:WS},q1=$c.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),YS=function(n){return q1.exact(n.start,n.soffset,n.finish,n.foffset)},p0=function(n){return n.match({domRange:function(o){return vn.fromDom(o.startContainer)},relative:function(o,l){return jS.getStart(o)},exact:function(o,l,v,y){return o}})},qS=q1.domRange,GS=q1.relative,KS=q1.exact,G1=function(n){var o=p0(n);return Tf(o)},XS=Mh.create,jg={domRange:qS,relative:GS,exact:KS,exactFromRange:YS,getWin:G1,range:XS},px=function(n,o){o.fold(function(l){n.setStartBefore(l.dom)},function(l,v){n.setStart(l.dom,v)},function(l){n.setStartAfter(l.dom)})},ZS=function(n,o){o.fold(function(l){n.setEndBefore(l.dom)},function(l,v){n.setEnd(l.dom,v)},function(l){n.setEndAfter(l.dom)})},e_=function(n,o,l){var v=n.document.createRange();return px(v,o),ZS(v,l),v},bx=function(n,o,l,v,y){var C=n.document.createRange();return C.setStart(o.dom,l),C.setEnd(v.dom,y),C},t_=function(n){return{left:n.left,top:n.top,right:n.right,bottom:n.bottom,width:n.width,height:n.height}},yx=function(n){var o=n.getClientRects(),l=o.length>0?o[0]:n.getBoundingClientRect();return l.width>0||l.height>0?z.some(l).map(t_):z.none()},_x=function(n){var o=n.getBoundingClientRect();return o.width>0||o.height>0?z.some(o).map(t_):z.none()},Yg=$c.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),n_=function(n,o,l){return o(vn.fromDom(l.startContainer),l.startOffset,vn.fromDom(l.endContainer),l.endOffset)},b0=function(n,o){return o.match({domRange:function(l){return{ltr:le(l),rtl:z.none}},relative:function(l,v){return{ltr:Pr(function(){return e_(n,l,v)}),rtl:Pr(function(){return z.some(e_(n,v,l))})}},exact:function(l,v,y,C){return{ltr:Pr(function(){return bx(n,l,v,y,C)}),rtl:Pr(function(){return z.some(bx(n,y,C,l,v))})}}})},wx=function(n,o){var l=o.ltr();if(l.collapsed){var v=o.rtl().filter(function(y){return y.collapsed===!1});return v.map(function(y){return Yg.rtl(vn.fromDom(y.endContainer),y.endOffset,vn.fromDom(y.startContainer),y.startOffset)}).getOrThunk(function(){return n_(n,Yg.ltr,l)})}else return n_(n,Yg.ltr,l)},xx=function(n,o){var l=b0(n,o);return wx(n,l)},r_=function(n,o){var l=xx(n,o);return l.match({ltr:function(v,y,C,A){var P=n.document.createRange();return P.setStart(v.dom,y),P.setEnd(C.dom,A),P},rtl:function(v,y,C,A){var P=n.document.createRange();return P.setStart(C.dom,A),P.setEnd(v.dom,y),P}})};Yg.ltr,Yg.rtl;var JS=function(n,o){var l=function(C){if(!n(C))throw new Error("Can only get "+o+" value of a "+o+" node");return v(C).getOr("")},v=function(C){return n(C)?z.from(C.dom.nodeValue):z.none()},y=function(C,A){if(!n(C))throw new Error("Can only set raw "+o+" value of a "+o+" node");C.dom.nodeValue=A};return{get:l,getOption:v,set:y}},Cx=JS(An,"text"),Kd=function(n){return Cx.get(n)},qg=function(n){return Cx.getOption(n)},Sx=function(n){return Ye(n)==="img"?1:qg(n).fold(function(){return Z(n).length},function(o){return o.length})},QS=function(n){return qg(n).filter(function(o){return o.trim().length!==0||o.indexOf(US)>-1}).isSome()},Cc=["img","br"],a_=function(n){var o=QS(n);return o||_n(Cc,Ye(n))},i_=function(n){return Gg(n,a_)},Gg=function(n,o){var l=function(v){for(var y=Z(v),C=y.length-1;C>=0;C--){var A=y[C];if(o(A))return z.some(A);var P=l(A);if(P.isSome())return P}return z.none()};return l(n)},fl=function(n,o){return Ro(o,n)},o_=function(n,o,l,v){var y=Qi(n),C=y.dom.createRange();return C.setStart(n.dom,o),C.setEnd(l.dom,v),C},Rh=function(n,o,l,v){var y=o_(n,o,l,v),C=Ra(n,l)&&o===v;return y.collapsed&&!C},$m=function(n){return z.from(n.getSelection())},Kg=function(n){if(n.rangeCount>0){var o=n.getRangeAt(0),l=n.getRangeAt(n.rangeCount-1);return z.some(Mh.create(vn.fromDom(o.startContainer),o.startOffset,vn.fromDom(l.endContainer),l.endOffset))}else return z.none()},e2=function(n){if(n.anchorNode===null||n.focusNode===null)return Kg(n);var o=vn.fromDom(n.anchorNode),l=vn.fromDom(n.focusNode);return Rh(o,n.anchorOffset,l,n.focusOffset)?z.some(Mh.create(o,n.anchorOffset,l,n.focusOffset)):Kg(n)},Ex=function(n){return $m(n).filter(function(o){return o.rangeCount>0}).bind(e2)},s_=function(n,o){var l=r_(n,o);return yx(l)},Zl=function(n,o){var l=r_(n,o);return _x(l)},Xg=function(n,o){return{element:n,offset:o}},t2=function(n,o){var l=Z(n);if(l.length===0)return Xg(n,o);if(o<l.length)return Xg(l[o],0);var v=l[l.length-1],y=An(v)?Kd(v).length:Z(v).length;return Xg(v,y)},zm=function(n,o){return An(n)?Xg(n,o):t2(n,o)},Ph=function(n,o){var l=o.getSelection.getOrThunk(function(){return function(){return Ex(n)}});return l().map(function(v){var y=zm(v.start,v.soffset),C=zm(v.finish,v.foffset);return jg.range(y.element,y.offset,C.element,C.offset)})},Ih=function(n,o,l){var v=Tf(o.root).dom,y=Zy(n,l,o),C=Ph(v,o).bind(function(I){var H=Zl(v,jg.exactFromRange(I)).orThunk(function(){var G=vn.fromText(g0);Nn(I.start,G);var Q=s_(v,jg.exact(G,0,G,1));return Ou(G),Q});return H.bind(function(G){return jv(G.left,G.top,G.width,G.height)})}),A=Ph(v,o).bind(function(I){return tn(I.start)?z.some(I.start):gv(I.start)}),P=A.getOr(n.element);return vx(C,y,o,l,P)},Xd=[za("getSelection"),It("root"),za("bubble"),Oh(),Je("overrides",{}),Je("showAbove",!1),Ti("placement",Ih)],hd="link-layout",md=function(n){return n.x+n.width},K1=function(n,o){return n.x-o.width},X1=function(n,o){return n.y-o.height+n.height},u_=function(n){return n.y},Zg=function(n,o,l){return Hs(md(n),u_(n),l.southeast(),P1(),"southeast",Cs(n,{left:0,top:2}),hd)},Jg=function(n,o,l){return Hs(K1(n,o),u_(n),l.southwest(),My(),"southwest",Cs(n,{right:1,top:2}),hd)},Qg=function(n,o,l){return Hs(md(n),X1(n,o),l.northeast(),Ry(),"northeast",Cs(n,{left:0,bottom:3}),hd)},Bu=function(n,o,l){return Hs(K1(n,o),X1(n,o),l.northwest(),Am(),"northwest",Cs(n,{right:1,bottom:3}),hd)},ep=function(){return[Zg,Jg,Qg,Bu]},tp=function(){return[Jg,Zg,Bu,Qg]},Z1=function(n,o,l){var v=Yc(l,o.item.element),y=Dh(n.element,o,ep(),tp(),ep(),tp(),z.none());return z.some(m0({anchorBox:v,bubble:Ug(),overrides:o.overrides,layouts:y,placer:z.none()}))},n2=[It("item"),Oh(),Je("overrides",{}),Ti("placement",Z1)],l_=ql("type",{selection:Xd,node:VS,hotspot:W1,submenu:n2,makeshift:Y1}),J1=[Ns("classes",Ui),Nc("mode","all",["all","layout","placement"])],_u=[Je("useFixed",de),za("getBounds")],r2=[Ls("anchor",l_),Ol("transition",J1)],Zd=function(){var n=document.documentElement;return H1(0,0,n.clientWidth,n.clientHeight)},Q1=function(n){var o=Sl(n.element),l=n.element.dom.getBoundingClientRect();return Qo(o.left,o.top,l.width,l.height)},c_=function(n,o,l,v,y,C,A){var P=V1(l.anchorBox,o);return $S(P,y.element,l.bubble,l.layouts,C,v,l.overrides,A)},np=function(n,o,l,v,y){_(n,o,l,v,y,z.none())},_=function(n,o,l,v,y,C){var A=C.map(go);return S(n,o,l,v,y,A)},S=function(n,o,l,v,y,C){var A=Wa("placement.info",Jn(r2),y),P=A.anchor,I=v.element,H=l.get(v.uid);ax(function(){_r(I,"position","fixed");var G=Io(I,"visibility");_r(I,"visibility","hidden");var Q=o.useFixed()?Zd():Q1(n),fe=P.placement,ge=C.map(le).or(o.getBounds);fe(n,P,Q).each(function(xe){var Fe=xe.placer.getOr(c_),et=Fe(n,Q,xe,ge,v,H,A.transition);l.set(v.uid,et)}),G.fold(function(){Na(I,"visibility")},function(xe){_r(I,"visibility",xe)}),Io(I,"left").isNone()&&Io(I,"top").isNone()&&Io(I,"right").isNone()&&Io(I,"bottom").isNone()&&ou(Io(I,"position"),"fixed")&&Na(I,"position")},I)},B=function(n,o,l){return o.useFixed()?"fixed":"absolute"},X=function(n,o,l,v){var y=v.element;xn(["position","left","right","top","bottom"],function(C){return Na(y,C)}),Vy(y),l.clear(v.uid)},pe=Object.freeze({__proto__:null,position:np,positionWithin:_,positionWithinBounds:S,getMode:B,reset:X}),Be=function(){var n={},o=function(y,C){n[y]=C},l=function(y){return Zn(n,y)},v=function(y){V(y)?delete n[y]:n={}};return Iu({readState:function(){return n},clear:v,set:o,get:l})},Ke=Object.freeze({__proto__:null,init:Be}),it=Ss({fields:_u,name:"positioning",active:qd,apis:pe,state:Ke}),bt=function(n){xa(n,pm());var o=n.components();xn(o,bt)},gn=function(n){var o=n.components();xn(o,gn),xa(n,pc())},bn=function(n,o){gi(n.element,o.element)},Dn=function(n){xn(n.components(),function(o){return Ou(o.element)}),Za(n.element),n.syncComponents()},ir=function(n,o){var l=n.components();Dn(n);var v=ba(l,o);xn(v,function(y){bt(y),n.getSystem().removeFromWorld(y)}),xn(o,function(y){y.getSystem().isConnected()?bn(n,y):(n.getSystem().addToWorld(y),bn(n,y),lr(n.element)&&gn(y)),n.syncComponents()})},Or=function(n,o){aa(n,o,gi)},aa=function(n,o,l){n.getSystem().addToWorld(o),l(n.element,o.element),lr(n.element)&&gn(o),n.syncComponents()},ea=function(n){bt(n),Ou(n.element),n.getSystem().removeFromWorld(n)},Hr=function(n){var o=eo(n.element).bind(function(l){return n.getSystem().getByDom(l).toOptional()});ea(n),o.each(function(l){l.syncComponents()})},ni=function(n){var o=n.components();xn(o,ea),Za(n.element),n.syncComponents()},Ua=function(n,o){es(n,o,gi)},vs=function(n,o){es(n,o,oa)},es=function(n,o,l){l(n,o.element);var v=Z(o.element);xn(v,function(y){o.getByDom(y).each(gn)})},io=function(n){var o=Z(n.element);xn(o,function(l){n.getByDom(l).each(bt)}),Ou(n.element)},zi=function(n,o,l,v){l.get().each(function(A){ni(n)});var y=o.getAttachPoint(n);Or(y,n);var C=n.getSystem().build(v);return Or(n,C),l.set(C),C},Jl=function(n,o,l,v){var y=zi(n,o,l,v);return o.onOpen(n,y),y},dl=function(n,o,l,v){return l.get().map(function(){return zi(n,o,l,v)})},Bh=function(n,o,l,v,y){Yk(n,o),Jl(n,o,l,v),y(),qk(n,o)},Vk=function(n,o,l){l.get().each(function(v){ni(n),Hr(n),o.onClose(n,v),l.clear()})},Uk=function(n,o,l){return l.isOpen()},DD=function(n,o,l,v){return Uk(n,o,l)&&l.get().exists(function(y){return o.isPartOf(n,y,v)})},MD=function(n,o,l){return l.get()},Wk=function(n,o,l,v){Io(n.element,o).fold(function(){gs(n.element,l)},function(y){$r(n.element,l,y)}),_r(n.element,o,v)},jk=function(n,o,l){to(n.element,l).fold(function(){return Na(n.element,o)},function(v){return _r(n.element,o,v)})},Yk=function(n,o,l){var v=o.getAttachPoint(n);_r(n.element,"position",it.getMode(v)),Wk(n,"visibility",o.cloakVisibilityAttr,"hidden")},RD=function(n){return Gn(["top","left","right","bottom"],function(o){return Io(n,o).isSome()})},qk=function(n,o,l){RD(n.element)||Na(n.element,"position"),jk(n,"visibility",o.cloakVisibilityAttr)},PD=Object.freeze({__proto__:null,cloak:Yk,decloak:qk,open:Jl,openWhileCloaked:Bh,close:Vk,isOpen:Uk,isPartOf:DD,getState:MD,setContent:dl}),Gk=function(n,o){return Qa([Nt(jp(),function(l,v){Vk(l,n,o)})])},Kk=Object.freeze({__proto__:null,events:Gk}),a2=[Ha("onOpen"),Ha("onClose"),It("isPartOf"),It("getAttachPoint"),Je("cloakVisibilityAttr","data-precloak-visibility")],Xk=function(){var n=Eo(),o=le("not-implemented");return Iu({readState:o,isOpen:n.isSet,clear:n.clear,set:n.set,get:n.get})},ID=Object.freeze({__proto__:null,init:Xk}),Ta=Ss({fields:a2,name:"sandboxing",active:Kk,apis:PD,state:ID}),y0=le("dismiss.popups"),eb=le("reposition.popups"),i2=le("mouse.released"),BD=vc([Je("isExtraPart",de),Ol("fireEventInstead",[Je("event",ff())])]),Gc=function(n){var o,l=Wa("Dismissal",BD,n);return o={},o[y0()]={schema:vc([It("target")]),onReceive:function(v,y){if(Ta.isOpen(v)){var C=Ta.isPartOf(v,y.target)||l.isExtraPart(v,y.target);C||l.fireEventInstead.fold(function(){return Ta.close(v)},function(A){return xa(v,A.event)})}}},o},LD=vc([Ol("fireEventInstead",[Je("event",Ru())]),Fs("doReposition")]),_0=function(n){var o,l=Wa("Reposition",LD,n);return o={},o[eb()]={onReceive:function(v){Ta.isOpen(v)&&l.fireEventInstead.fold(function(){return l.doReposition(v)},function(y){return xa(v,y.event)})}},o},rp=function(n,o,l){o.store.manager.onLoad(n,o,l)},kx=function(n,o,l){o.store.manager.onUnload(n,o,l)},Tx=function(n,o,l,v){o.store.manager.setValue(n,o,l,v)},FD=function(n,o,l){return o.store.manager.getValue(n,o,l)},Zk=function(n,o,l){return l},Ax=Object.freeze({__proto__:null,onLoad:rp,onUnload:kx,setValue:Tx,getValue:FD,getState:Zk}),o2=function(n,o){var l=n.resetOnDom?[Br(function(v,y){rp(v,n,o)}),Vc(function(v,y){kx(v,n,o)})]:[ao(n,o,rp)];return Qa(l)},tb=Object.freeze({__proto__:null,events:o2}),Ox=function(){var n=ur(null),o=function(){return{mode:"memory",value:n.get()}},l=function(){return n.get()===null},v=function(){n.set(null)};return Iu({set:n.set,get:n.get,isNotSet:l,clear:v,readState:o})},ND=function(){var n=se;return Iu({readState:n})},Lh=function(){var n=ur({}),o=ur({}),l=function(){return{mode:"dataset",dataByValue:n.get(),dataByText:o.get()}},v=function(){n.set({}),o.set({})},y=function(A){return Zn(n.get(),A).orThunk(function(){return Zn(o.get(),A)})},C=function(A){var P=n.get(),I=o.get(),H={},G={};xn(A,function(Q){H[Q.value]=Q,Zn(Q,"meta").each(function(fe){Zn(fe,"text").each(function(ge){G[ge]=Q})})}),n.set(ue(ue({},P),H)),o.set(ue(ue({},I),G))};return Iu({readState:l,lookup:y,update:C,clear:v})},s2=function(n){return n.store.manager.state(n)},u2=Object.freeze({__proto__:null,memory:Ox,dataset:Lh,manual:ND,init:s2}),nb=function(n,o,l,v){var y=o.store;l.update([v]),y.setValue(n,v),o.onSetValue(n,v)},l2=function(n,o,l){var v=o.store,y=v.getDataKey(n);return l.lookup(y).getOrThunk(function(){return v.getFallbackEntry(y)})},f_=function(n,o,l){var v=o.store;v.initialValue.each(function(y){nb(n,o,l,y)})},Jk=function(n,o,l){l.clear()},$D=[za("initialValue"),It("getFallbackEntry"),It("getDataKey"),It("setValue"),Ti("manager",{setValue:nb,getValue:l2,onLoad:f_,onUnload:Jk,state:Lh})],Fh=function(n,o,l){return o.store.getValue(n)},mf=function(n,o,l,v){o.store.setValue(n,v),o.onSetValue(n,v)},vl=function(n,o,l){o.store.initialValue.each(function(v){o.store.setValue(n,v)})},zD=[It("getValue"),Je("setValue",se),za("initialValue"),Ti("manager",{setValue:mf,getValue:Fh,onLoad:vl,onUnload:se,state:zs.init})],c2=function(n,o,l,v){l.set(v),o.onSetValue(n,v)},rb=function(n,o,l){return l.get()},f2=function(n,o,l){o.store.initialValue.each(function(v){l.isNotSet()&&l.set(v)})},d_=function(n,o,l){l.clear()},d2=[za("initialValue"),Ti("manager",{setValue:c2,getValue:rb,onLoad:f2,onUnload:d_,state:Ox})],HD=[tl("store",{mode:"memory"},ql("mode",{memory:d2,manual:zD,dataset:$D})),Ha("onSetValue"),Je("resetOnDom",!1)],Sn=Ss({fields:HD,name:"representing",active:tb,apis:Ax,extra:{setValueFrom:function(n,o){var l=Sn.getValue(o);Sn.setValue(n,l)}},state:u2}),au=function(n,o){return vm(n,{},Vt(o,function(l){return lf(l.name(),"Cannot configure "+l.name()+" for "+n)}).concat([Al("dump",Pe)]))},ab=function(n){return n.dump},Lu=function(n,o){return ue(ue({},mn(o)),n.dump)},gd={field:au,augment:Lu,get:ab},v2="placeholder",v_=$c.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Dx=function(n){return ma(n,"uiType")},Mx=function(n,o,l,v){return n.exists(function(y){return y!==l.owner})?v_.single(!0,le(l)):Zn(v,l.name).fold(function(){throw new Error("Unknown placeholder component: "+l.name+`
Known: [`+ii(v)+`]
Namespace: `+n.getOr("none")+`
Spec: `+JSON.stringify(l,null,2))},function(y){return y.replace()})},Rx=function(n,o,l,v){return Dx(l)&&l.uiType===v2?Mx(n,o,l,v):v_.single(!1,le(l))},ap=function(n,o,l,v){var y=Rx(n,o,l,v);return y.fold(function(C,A){var P=Dx(l)?A(o,l.config,l.validated):A(o),I=Zn(P,"components").getOr([]),H=Er(I,function(G){return ap(n,o,G,v)});return[ue(ue({},P),{components:H})]},function(C,A){if(Dx(l)){var P=A(o,l.config,l.validated),I=l.validated.preprocess.getOr(Pe);return I(P)}else return A(o)})},h_=function(n,o,l,v){return Er(l,function(y){return ap(n,o,y,v)})},h2=function(n,o){var l=!1,v=function(){return l},y=function(){if(l)throw new Error("Trying to use the same placeholder more than once: "+n);return l=!0,o},C=function(){return o.fold(function(A,P){return A},function(A,P){return A})};return{name:le(n),required:C,used:v,replace:y}},m2=function(n,o,l,v){var y=ya(v,function(A,P){return h2(P,A)}),C=h_(n,o,l,y);return oi(y,function(A){if(A.used()===!1&&A.required())throw new Error("Placeholder: "+A.name()+` was not found in components list
Namespace: `+n.getOr("none")+`
Components: `+JSON.stringify(o.components,null,2))}),C},g2=v_.single,VD=v_.multiple,Qk=le(v2),Hm=$c.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Nh=Je("factory",{sketch:Pe}),w0=Je("schema",[]),ib=It("name"),p2=ls("pname","pname",ra(function(n){return"<alloy."+qt(n.name)+">"}),Mf()),Px=Al("schema",function(){return[za("preprocess")]}),$h=Je("defaults",le({})),Jd=Je("overrides",le({})),ip=Jn([Nh,w0,ib,p2,$h,Jd]),op=Jn([Nh,w0,ib,$h,Jd]),x0=Jn([Nh,w0,ib,p2,$h,Jd]),ob=Jn([Nh,Px,ib,It("unit"),p2,$h,Jd]),b2=function(n){return n.fold(z.some,z.none,z.some,z.some)},y2=function(n){var o=function(l){return l.name};return n.fold(o,o,o,o)},_2=function(n){return n.fold(Pe,Pe,Pe,Pe)},Ix=function(n,o){return function(l){var v=Wa("Converting part type",o,l);return n(v)}},hl=Ix(Hm.required,ip),jf=Ix(Hm.external,op),pd=Ix(Hm.optional,x0),zh=Ix(Hm.group,ob),sb=le("entirety"),Bx=Object.freeze({__proto__:null,required:hl,external:jf,optional:pd,group:zh,asNamedPart:b2,name:y2,asCommon:_2,original:sb}),sp=function(n,o,l,v){return Et(o.defaults(n,l,v),l,{uid:n.partUids[o.name]},o.overrides(n,l,v))},C0=function(n,o,l){var v={},y={};return xn(l,function(C){C.fold(function(A){v[A.pname]=g2(!0,function(P,I,H){return A.factory.sketch(sp(P,A,I,H))})},function(A){var P=o.parts[A.name];y[A.name]=le(A.factory.sketch(sp(o,A,P[sb()]),P))},function(A){v[A.pname]=g2(!1,function(P,I,H){return A.factory.sketch(sp(P,A,I,H))})},function(A){v[A.pname]=VD(!0,function(P,I,H){var G=P[A.name];return Vt(G,function(Q){return A.factory.sketch(Et(A.defaults(P,Q,H),Q,A.overrides(P,Q)))})})})}),{internals:le(v),externals:le(y)}},S0=function(n,o){var l={};return xn(o,function(v){b2(v).each(function(y){var C=UD(n,y.pname);l[y.name]=function(A){var P=Wa("Part: "+y.name+" in "+n,Jn(y.schema),A);return ue(ue({},C),{config:A,validated:P})}})}),l},UD=function(n,o){return{uiType:Qk(),owner:n,name:o}},w2=function(n,o,l){return{uiType:Qk(),owner:n,name:o,config:l,validated:{}}},eT=function(n){return Er(n,function(o){return o.fold(z.none,z.some,z.none,z.none).map(function(l){return ad(l.name,l.schema.concat([xh(sb())]))}).toArray()})},tT=function(n){return Vt(n,y2)},x2=function(n,o,l){return C0(n,o,l)},C2=function(n,o,l){return m2(z.some(n),o,o.components,l)},Ai=function(n,o,l){var v=o.partUids[l];return n.getSystem().getByUid(v).toOptional()},Hh=function(n,o,l){return Ai(n,o,l).getOrDie("Could not find part: "+l)},nT=function(n,o,l){var v={},y=o.partUids,C=n.getSystem();return xn(l,function(A){v[A]=le(C.getByUid(y[A]))}),v},rT=function(n,o){var l=n.getSystem();return ya(o.partUids,function(v,y){return le(l.getByUid(v))})},aT=function(n){return ii(n.partUids)},Lx=function(n,o,l){var v={},y=o.partUids,C=n.getSystem();return xn(l,function(A){v[A]=le(C.getByUid(y[A]).getOrDie())}),v},S2=function(n,o){var l=tT(o);return Tv(Vt(l,function(v){return{key:v,value:n+"-"+v}}))},m_=function(n){return ls("partUids","partUids",qo(function(o){return S2(o.uid,n)}),Mf())},pr=Object.freeze({__proto__:null,generate:S0,generateOne:w2,schemas:eT,names:tT,substitutes:x2,components:C2,defaultUids:S2,defaultUidsSchema:m_,getAllParts:rT,getAllPartNames:aT,getPart:Ai,getPartOrDie:Hh,getParts:nT,getPartsOrDie:Lx}),WD=function(n,o){var l=n.length>0?[ad("parts",n)]:[];return l.concat([It("uid"),Je("dom",{}),Je("components",[]),xh("originalSpec"),Je("debug.sketcher",{})]).concat(o)},E2=function(n,o,l,v,y){var C=WD(v,y);return Wa(n+" [SpecSchema]",vc(C.concat(o)),l)},iT=function(n,o,l,v){var y=oT(v),C=E2(n,o,y,[],[]);return l(C,y)},k2=function(n,o,l,v,y){var C=oT(y),A=eT(l),P=m_(l),I=E2(n,o,C,A,[P]),H=x2(n,I,l),G=C2(n,I,H.internals());return v(I,G,C,H.externals())},jD=function(n){return ma(n,"uid")},oT=function(n){return jD(n)?n:ue(ue({},n),{uid:gh("uid")})},T2=function(n){return n.uid!==void 0},A2=vc([It("name"),It("factory"),It("configFields"),Je("apis",{}),Je("extraApis",{})]),YD=vc([It("name"),It("factory"),It("configFields"),It("partFields"),Je("apis",{}),Je("extraApis",{})]),Yf=function(n){var o=Wa("Sketcher for "+n.name,A2,n),l=function(C){return iT(o.name,o.configFields,o.factory,C)},v=ya(o.apis,fo),y=ya(o.extraApis,function(C,A){return _m(C,A)});return ue(ue({name:o.name,configFields:o.configFields,sketch:l},v),y)},Sc=function(n){var o=Wa("Sketcher for "+n.name,YD,n),l=function(A){return k2(o.name,o.configFields,o.partFields,o.factory,A)},v=S0(o.name,o.partFields),y=ya(o.apis,fo),C=ya(o.extraApis,function(A,P){return _m(A,P)});return ue(ue({name:o.name,partFields:o.partFields,configFields:o.configFields,sketch:l,parts:v},y),C)},Vh=function(n){return Ye(n)==="input"&&Li(n,"type")!=="radio"||Ye(n)==="textarea"},qD=function(n,o,l){return o.find(n)},GD=Object.freeze({__proto__:null,getCurrent:qD}),O2=[It("find")],fa=Ss({fields:O2,name:"composing",apis:GD}),KD=["input","button","textarea","select"],Fx=function(n,o,l){var v=o.disabled()?D2:up;v(n,o)},Nx=function(n,o){return o.useNative===!0&&_n(KD,Ye(n.element))},$x=function(n){return t1(n.element,"disabled")},g_=function(n){$r(n.element,"disabled","disabled")},Vm=function(n){gs(n.element,"disabled")},p_=function(n){return Li(n.element,"aria-disabled")==="true"},XD=function(n){$r(n.element,"aria-disabled","true")},sT=function(n){$r(n.element,"aria-disabled","false")},D2=function(n,o,l){o.disableClass.each(function(y){ds(n.element,y)});var v=Nx(n,o)?g_:XD;v(n),o.onDisabled(n)},up=function(n,o,l){o.disableClass.each(function(y){Xo(n.element,y)});var v=Nx(n,o)?Vm:sT;v(n),o.onEnabled(n)},zx=function(n,o){return Nx(n,o)?$x(n):p_(n)},uT=function(n,o,l,v){var y=v?D2:up;y(n,o)},ZD=Object.freeze({__proto__:null,enable:up,disable:D2,isDisabled:zx,onLoad:Fx,set:uT}),JD=function(n,o){return zf({classes:o.disabled()?o.disableClass.toArray():[]})},QD=function(n,o){return Qa([bm(gc(),function(l,v){return zx(l,n)}),ao(n,o,Fx)])},E0=Object.freeze({__proto__:null,exhibit:JD,events:QD}),M2=[Mi("disabled",de),Je("useNative",!0),za("disableClass"),Ha("onDisabled"),Ha("onEnabled")],cr=Ss({fields:M2,name:"disabling",active:E0,apis:ZD}),lT=function(n,o,l,v){var y=fl(n.element,"."+o.highlightClass);xn(y,function(C){Gn(v,function(A){return A.element===C})||(Xo(C,o.highlightClass),n.getSystem().getByDom(C).each(function(A){o.onDehighlight(n,A),xa(A,d1())}))})},cT=function(n,o,l){return lT(n,o,l,[])},eM=function(n,o,l,v){R2(n,o,l,v)&&(Xo(v.element,o.highlightClass),o.onDehighlight(n,v),xa(v,d1()))},b_=function(n,o,l,v){lT(n,o,l,[v]),R2(n,o,l,v)||(ds(v.element,o.highlightClass),o.onHighlight(n,v),xa(v,by()))},Ql=function(n,o,l){I2(n,o).each(function(v){b_(n,o,l,v)})},y_=function(n,o,l){B2(n,o).each(function(v){b_(n,o,l,v)})},tM=function(n,o,l,v){dT(n,o,l,v).fold(function(y){throw y},function(y){b_(n,o,l,y)})},fT=function(n,o,l,v){var y=vT(n,o),C=Jt(y,v);C.each(function(A){b_(n,o,l,A)})},R2=function(n,o,l,v){return Rl(v.element,o.highlightClass)},P2=function(n,o,l){return ws(n.element,"."+o.highlightClass).bind(function(v){return n.getSystem().getByDom(v).toOptional()})},dT=function(n,o,l,v){var y=fl(n.element,"."+o.itemClass);return z.from(y[v]).fold(function(){return Mr.error(new Error("No element found with index "+v))},n.getSystem().getByDom)},I2=function(n,o,l){return ws(n.element,"."+o.itemClass).bind(function(v){return n.getSystem().getByDom(v).toOptional()})},B2=function(n,o,l){var v=fl(n.element,"."+o.itemClass),y=v.length>0?z.some(v[v.length-1]):z.none();return y.bind(function(C){return n.getSystem().getByDom(C).toOptional()})},Um=function(n,o,l,v){var y=fl(n.element,"."+o.itemClass),C=zn(y,function(A){return Rl(A,o.highlightClass)});return C.bind(function(A){var P=bu(A,v,0,y.length-1);return n.getSystem().getByDom(y[P]).toOptional()})},nM=function(n,o,l){return Um(n,o,l,-1)},rM=function(n,o,l){return Um(n,o,l,1)},vT=function(n,o,l){var v=fl(n.element,"."+o.itemClass);return _a(Vt(v,function(y){return n.getSystem().getByDom(y).toOptional()}))},aM=Object.freeze({__proto__:null,dehighlightAll:cT,dehighlight:eM,highlight:b_,highlightFirst:Ql,highlightLast:y_,highlightAt:tM,highlightBy:fT,isHighlighted:R2,getHighlighted:P2,getFirst:I2,getLast:B2,getPrevious:nM,getNext:rM,getCandidates:vT}),__=[It("highlightClass"),It("itemClass"),Ha("onHighlight"),Ha("onDehighlight")],ri=Ss({fields:__,name:"highlighting",apis:aM}),Hx=[8],Wm=[9],Qd=[13],lp=[27],Kc=[32],Vx=[37],k0=[38],ub=[39],cp=[40],iM=function(n,o,l){var v=Un(n.slice(0,o)),y=Un(n.slice(o+1));return Jt(v.concat(y),l)},hT=function(n,o,l){var v=Un(n.slice(0,o));return Jt(v,l)},oM=function(n,o,l){var v=n.slice(0,o),y=n.slice(o+1);return Jt(y.concat(v),l)},sM=function(n,o,l){var v=n.slice(o+1);return Jt(v,l)},ua=function(n){return function(o){var l=o.raw;return _n(n,l.which)}},ev=function(n){return function(o){return xr(n,function(l){return l(o)})}},lb=function(n){var o=n.raw;return o.shiftKey===!0},mT=function(n){var o=n.raw;return o.ctrlKey===!0},w_=at(lb),Aa=function(n,o){return{matches:n,classification:o}},gT=function(n,o){var l=Jt(n,function(v){return v.matches(o)});return l.map(function(v){return v.classification})},pT=function(n,o,l){var v=o.exists(function(y){return l.exists(function(C){return Ra(C,y)})});v||Qn(n,qp(),{prevFocus:o,newFocus:l})},x_=function(){var n=function(l){return ll(l.element)},o=function(l,v){var y=n(l);l.getSystem().triggerFocus(v,l.element);var C=n(l);pT(l,y,C)};return{get:n,set:o}},bT=function(){var n=function(l){return ri.getHighlighted(l).map(function(v){return v.element})},o=function(l,v){var y=n(l);l.getSystem().getByDom(v).fold(se,function(A){ri.highlight(l,A)});var C=n(l);pT(l,y,C)};return{get:n,set:o}},C_;(function(n){n.OnFocusMode="onFocus",n.OnEnterOrSpaceMode="onEnterOrSpace",n.OnApiMode="onApi"})(C_||(C_={}));var T0=function(n,o,l,v,y){var C=function(){return n.concat([Je("focusManager",x_()),tl("focusInside","onFocus",_g(function(H){return _n(["onFocus","onEnterOrSpace","onApi"],H)?Mr.value(H):Mr.error("Invalid value for focusInside")})),Ti("handler",I),Ti("state",o),Ti("sendFocusIn",y)])},A=function(H,G,Q,fe,ge){var xe=Q(H,G,fe,ge);return gT(xe,G.event).bind(function(Fe){return Fe(H,G,fe,ge)})},P=function(H,G){var Q=H.focusInside!==C_.OnFocusMode?z.none():y(H).map(function(xe){return Nt(Pv(),function(Fe,et){xe(Fe,H,G),et.stop()})}),fe=function(xe,Fe){var et=ua(Kc.concat(Qd))(Fe.event);H.focusInside===C_.OnEnterOrSpaceMode&&et&&cy(xe,Fe)&&y(H).each(function(Re){Re(xe,H,G),Fe.stop()})},ge=[Nt(l1(),function(xe,Fe){A(xe,Fe,l,H,G).fold(function(){fe(xe,Fe)},function(et){Fe.stop()})}),Nt(hy(),function(xe,Fe){A(xe,Fe,v,H,G).each(function(et){Fe.stop()})})];return Qa(Q.toArray().concat(ge))},I={schema:C,processKey:A,toEvents:P};return I},L2=function(n){var o=[za("onEscape"),za("onEnter"),Je("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Je("firstTabstop",0),Je("useTabstopAt",ve),za("visibilitySelector")].concat([n]),l=function(Fe,et){var Re=Fe.visibilitySelector.bind(function(nt){return hf(et,nt)}).getOr(et);return ss(Re)>0},v=function(Fe,et){var Re=fl(Fe.element,et.selector),nt=kt(Re,function(Ct){return l(et,Ct)});return z.from(nt[et.firstTabstop])},y=function(Fe,et){return et.focusManager.get(Fe).bind(function(Re){return hf(Re,et.selector)})},C=function(Fe,et){return l(Fe,et)&&Fe.useTabstopAt(et)},A=function(Fe,et,Re){v(Fe,et).each(function(nt){et.focusManager.set(Fe,nt)})},P=function(Fe,et,Re,nt,Ct){return Ct(et,Re,function(xt){return C(nt,xt)}).fold(function(){return nt.cyclic?z.some(!0):z.none()},function(xt){return nt.focusManager.set(Fe,xt),z.some(!0)})},I=function(Fe,et,Re,nt){var Ct=fl(Fe.element,Re.selector);return y(Fe,Re).bind(function(xt){var tt=zn(Ct,lt(Ra,xt));return tt.bind(function(gt){return P(Fe,Ct,gt,Re,nt)})})},H=function(Fe,et,Re){var nt=Re.cyclic?iM:hT;return I(Fe,et,Re,nt)},G=function(Fe,et,Re){var nt=Re.cyclic?oM:sM;return I(Fe,et,Re,nt)},Q=function(Fe,et,Re){return Re.onEnter.bind(function(nt){return nt(Fe,et)})},fe=function(Fe,et,Re){return Re.onEscape.bind(function(nt){return nt(Fe,et)})},ge=le([Aa(ev([lb,ua(Wm)]),H),Aa(ua(Wm),G),Aa(ua(lp),fe),Aa(ev([w_,ua(Qd)]),Q)]),xe=le([]);return T0(o,zs.init,ge,xe,function(){return z.some(A)})},F2=L2(Al("cyclic",de)),yT=L2(Al("cyclic",ve)),_T=function(n,o,l){return Gp(n,l,gc()),z.some(!0)},fp=function(n,o,l){var v=Vh(l)&&ua(Kc)(o.event);return v?z.none():_T(n,o,l)},A0=function(n,o){return z.some(!0)},N2=[Je("execute",fp),Je("useSpace",!1),Je("useEnter",!0),Je("useControlEnter",!1),Je("useDown",!1)],wT=function(n,o,l){return l.execute(n,o,n.element)},Ux=function(n,o,l,v){var y=l.useSpace&&!Vh(n.element)?Kc:[],C=l.useEnter?Qd:[],A=l.useDown?cp:[],P=y.concat(C).concat(A);return[Aa(ua(P),wT)].concat(l.useControlEnter?[Aa(ev([mT,ua(Qd)]),wT)]:[])},uM=function(n,o,l,v){return l.useSpace&&!Vh(n.element)?[Aa(ua(Kc),A0)]:[]},cb=T0(N2,zs.init,Ux,uM,function(){return z.none()}),$2=function(){var n=Eo(),o=function(y,C){n.set({numRows:y,numColumns:C})},l=function(){return n.get().map(function(y){return y.numRows})},v=function(){return n.get().map(function(y){return y.numColumns})};return Iu({readState:function(){return n.get().map(function(y){return{numRows:String(y.numRows),numColumns:String(y.numColumns)}}).getOr({numRows:"?",numColumns:"?"})},setGridSize:o,getNumRows:l,getNumColumns:v})},z2=function(n){return n.state(n)},xT=Object.freeze({__proto__:null,flatgrid:$2,init:z2}),H2=function(n){return function(o,l,v,y){var C=n(o.element);return U2(C,o,l,v,y)}},Wx=function(n,o){var l=Gy(n,o);return H2(l)},jx=function(n,o){var l=Gy(o,n);return H2(l)},V2=function(n){return function(o,l,v,y){return U2(n,o,l,v,y)}},U2=function(n,o,l,v,y){var C=v.focusManager.get(o).bind(function(A){return n(o.element,A,v,y)});return C.map(function(A){return v.focusManager.set(o,A),!0})},CT=V2,O0=V2,fb=V2,ST=function(n){return n.offsetWidth<=0&&n.offsetHeight<=0},ET=function(n){return!ST(n.dom)},Yx=function(n,o){return zn(n,o).map(function(l){return{index:l,candidates:n}})},kT=function(n,o,l){var v=function(A){return Ra(A,o)},y=fl(n,l),C=kt(y,ET);return Yx(C,v)},TT=function(n,o){return zn(n,function(l){return Ra(o,l)})},W2=function(n,o,l,v){var y=Math.floor(o/l),C=o%l;return v(y,C).bind(function(A){var P=A.row*l+A.column;return P>=0&&P<n.length?z.some(n[P]):z.none()})},AT=function(n,o,l,v,y){return W2(n,o,v,function(C,A){var P=C===l-1,I=P?n.length-C*v:v,H=bu(A,y,0,I-1);return z.some({row:C,column:H})})},OT=function(n,o,l,v,y){return W2(n,o,v,function(C,A){var P=bu(C,y,0,l-1),I=P===l-1,H=I?n.length-P*v:v,G=wc(A,0,H-1);return z.some({row:P,column:G})})},DT=function(n,o,l,v){return AT(n,o,l,v,1)},lM=function(n,o,l,v){return AT(n,o,l,v,-1)},MT=function(n,o,l,v){return OT(n,o,l,v,-1)},j2=function(n,o,l,v){return OT(n,o,l,v,1)},db=[It("selector"),Je("execute",fp),xs("onEscape"),Je("captureTab",!1),M1()],cM=function(n,o,l){ws(n.element,o.selector).each(function(v){o.focusManager.set(n,v)})},RT=function(n,o){return o.focusManager.get(n).bind(function(l){return hf(l,o.selector)})},PT=function(n,o,l,v){return RT(n,l).bind(function(y){return l.execute(n,o,y)})},bd=function(n){return function(o,l,v,y){return kT(o,l,v.selector).bind(function(C){return n(C.candidates,C.index,y.getNumRows().getOr(v.initSize.numRows),y.getNumColumns().getOr(v.initSize.numColumns))})}},IT=function(n,o,l){return l.captureTab?z.some(!0):z.none()},BT=function(n,o,l){return l.onEscape(n,o)},qx=bd(lM),Gx=bd(DT),Y2=bd(MT),D0=bd(j2),vb=le([Aa(ua(Vx),Wx(qx,Gx)),Aa(ua(ub),jx(qx,Gx)),Aa(ua(k0),CT(Y2)),Aa(ua(cp),O0(D0)),Aa(ev([lb,ua(Wm)]),IT),Aa(ev([w_,ua(Wm)]),IT),Aa(ua(lp),BT),Aa(ua(Kc.concat(Qd)),PT)]),LT=le([Aa(ua(Kc),A0)]),FT=T0(db,$2,vb,LT,function(){return z.some(cM)}),Kx=function(n,o,l,v){var y=function(A){return Ye(A)==="button"&&Li(A,"disabled")==="disabled"},C=function(A,P,I){var H=bu(P,v,0,I.length-1);return H===A?z.none():y(I[H])?C(A,H,I):z.from(I[H])};return kT(n,l,o).bind(function(A){var P=A.index,I=A.candidates;return C(P,P,I)})},fM=[It("selector"),Je("getInitial",z.none),Je("execute",fp),xs("onEscape"),Je("executeOnMove",!1),Je("allowVertical",!0)],Xx=function(n,o){return o.focusManager.get(n).bind(function(l){return hf(l,o.selector)})},S_=function(n,o,l){return Xx(n,l).bind(function(v){return l.execute(n,o,v)})},Zx=function(n,o,l){o.getInitial(n).orThunk(function(){return ws(n.element,o.selector)}).each(function(v){o.focusManager.set(n,v)})},NT=function(n,o,l){return Kx(n,l.selector,o,-1)},Jx=function(n,o,l){return Kx(n,l.selector,o,1)},yd=function(n){return function(o,l,v,y){return n(o,l,v,y).bind(function(){return v.executeOnMove?S_(o,l,v):z.some(!0)})}},dM=function(n,o,l){return l.onEscape(n,o)},Qx=function(n,o,l,v){var y=Vx.concat(l.allowVertical?k0:[]),C=ub.concat(l.allowVertical?cp:[]);return[Aa(ua(y),yd(Wx(NT,Jx))),Aa(ua(C),yd(jx(NT,Jx))),Aa(ua(Qd),S_),Aa(ua(Kc),S_),Aa(ua(lp),dM)]},$T=le([Aa(ua(Kc),A0)]),E_=T0(fM,zs.init,Qx,$T,function(){return z.some(Zx)}),k_=function(n,o,l){return z.from(n[o]).bind(function(v){return z.from(v[l]).map(function(y){return{rowIndex:o,columnIndex:l,cell:y}})})},q2=function(n,o,l,v){var y=n[o],C=y.length,A=bu(l,v,0,C-1);return k_(n,o,A)},zT=function(n,o,l,v){var y=bu(l,v,0,n.length-1),C=n[y].length,A=wc(o,0,C-1);return k_(n,y,A)},HT=function(n,o,l,v){var y=n[o],C=y.length,A=wc(l+v,0,C-1);return k_(n,o,A)},VT=function(n,o,l,v){var y=wc(l+v,0,n.length-1),C=n[y].length,A=wc(o,0,C-1);return k_(n,y,A)},eC=function(n,o,l){return q2(n,o,l,1)},dp=function(n,o,l){return q2(n,o,l,-1)},vM=function(n,o,l){return zT(n,l,o,-1)},hM=function(n,o,l){return zT(n,l,o,1)},mM=function(n,o,l){return HT(n,o,l,-1)},vp=function(n,o,l){return HT(n,o,l,1)},gM=function(n,o,l){return VT(n,l,o,-1)},G2=function(n,o,l){return VT(n,l,o,1)},pM=[ad("selectors",[It("row"),It("cell")]),Je("cycles",!0),Je("previousSelector",z.none),Je("execute",fp)],hb=function(n,o,l){var v=o.previousSelector(n).orThunk(function(){var y=o.selectors;return ws(n.element,y.cell)});v.each(function(y){o.focusManager.set(n,y)})},K2=function(n,o,l){return ll(n.element).bind(function(v){return l.execute(n,o,v)})},UT=function(n,o){return Vt(n,function(l){return fl(l,o.selectors.cell)})},tC=function(n,o){return function(l,v,y){var C=y.cycles?n:o;return hf(v,y.selectors.row).bind(function(A){var P=fl(A,y.selectors.cell);return TT(P,v).bind(function(I){var H=fl(l,y.selectors.row);return TT(H,A).bind(function(G){var Q=UT(H,y);return C(Q,G,I).map(function(fe){return fe.cell})})})})}},WT=tC(dp,mM),jT=tC(eC,vp),bM=tC(vM,gM),nC=tC(hM,G2),rC=le([Aa(ua(Vx),Wx(WT,jT)),Aa(ua(ub),jx(WT,jT)),Aa(ua(k0),CT(bM)),Aa(ua(cp),O0(nC)),Aa(ua(Kc.concat(Qd)),K2)]),X2=le([Aa(ua(Kc),A0)]),YT=T0(pM,zs.init,rC,X2,function(){return z.some(hb)}),qT=[It("selector"),Je("execute",fp),Je("moveOnTab",!1)],M0=function(n,o,l){return l.focusManager.get(n).bind(function(v){return l.execute(n,o,v)})},T_=function(n,o,l){ws(n.element,o.selector).each(function(v){o.focusManager.set(n,v)})},aC=function(n,o,l){return Kx(n,l.selector,o,-1)},A_=function(n,o,l){return Kx(n,l.selector,o,1)},GT=function(n,o,l,v){return l.moveOnTab?fb(aC)(n,o,l,v):z.none()},jm=function(n,o,l,v){return l.moveOnTab?fb(A_)(n,o,l,v):z.none()},yM=le([Aa(ua(k0),fb(aC)),Aa(ua(cp),fb(A_)),Aa(ev([lb,ua(Wm)]),GT),Aa(ev([w_,ua(Wm)]),jm),Aa(ua(Qd),M0),Aa(ua(Kc),M0)]),Uh=le([Aa(ua(Kc),A0)]),KT=T0(qT,zs.init,yM,Uh,function(){return z.some(T_)}),iC=[xs("onSpace"),xs("onEnter"),xs("onShiftEnter"),xs("onLeft"),xs("onRight"),xs("onTab"),xs("onShiftTab"),xs("onUp"),xs("onDown"),xs("onEscape"),Je("stopSpaceKeyup",!1),za("focusIn")],Z2=function(n,o,l){return[Aa(ua(Kc),l.onSpace),Aa(ev([w_,ua(Qd)]),l.onEnter),Aa(ev([lb,ua(Qd)]),l.onShiftEnter),Aa(ev([lb,ua(Wm)]),l.onShiftTab),Aa(ev([w_,ua(Wm)]),l.onTab),Aa(ua(k0),l.onUp),Aa(ua(cp),l.onDown),Aa(ua(Vx),l.onLeft),Aa(ua(ub),l.onRight),Aa(ua(Kc),l.onSpace),Aa(ua(lp),l.onEscape)]},_M=function(n,o,l){return l.stopSpaceKeyup?[Aa(ua(Kc),A0)]:[]},hp=T0(iC,zs.init,Z2,_M,function(n){return n.focusIn}),XT=F2.schema(),ZT=yT.schema(),wM=E_.schema(),J2=FT.schema(),mb=YT.schema(),gb=cb.schema(),JT=KT.schema(),Q2=hp.schema(),tv=Object.freeze({__proto__:null,acyclic:XT,cyclic:ZT,flow:wM,flatgrid:J2,matrix:mb,execution:gb,menu:JT,special:Q2}),mp=function(n){return Pi(n,"setGridSize")},vr=Pm({branchKey:"mode",branches:tv,name:"keying",active:{events:function(n,o){var l=n.handler;return l.toEvents(n,o)}},apis:{focusIn:function(n,o,l){o.sendFocusIn(o).fold(function(){n.getSystem().triggerFocus(n.element,n.element)},function(v){v(n,o,l)})},setGridSize:function(n,o,l,v,y){mp(l)?l.setGridSize(v,y):console.error("Layout does not support setGridSize")}},state:xT}),eE=function(n,o,l,v){ax(function(){var y=Vt(v,n.getSystem().build);ir(n,y)},n.element)},Wh=function(n,o,l,v){var y=n.getSystem().build(v);aa(n,y,l)},QT=function(n,o,l,v){Wh(n,o,gi,v)},xM=function(n,o,l,v){Wh(n,o,si,v)},eA=function(n,o,l,v){var y=O_(n),C=Jt(y,function(A){return Ra(v.element,A.element)});C.each(Hr)},O_=function(n,o){return n.components()},Yv=function(n,o,l,v,y){var C=O_(n);return z.from(C[v]).map(function(A){return eA(n,o,l,A),y.each(function(P){Wh(n,o,function(I,H){pi(I,H,v)},P)}),A})},oC=function(n,o,l,v,y){var C=O_(n);return zn(C,v).bind(function(A){return Yv(n,o,l,A,y)})},tA=Object.freeze({__proto__:null,append:QT,prepend:xM,remove:eA,replaceAt:Yv,replaceBy:oC,set:eE,contents:O_}),Lr=Ss({fields:[],name:"replacing",apis:tA}),tE=function(n,o){var l=Qa(o);return Ss({fields:[It("enabled")],name:n,active:{events:le(l)}})},qr=function(n,o){var l=tE(n,o);return{key:n,value:{config:{},me:l,configAsRaw:le({}),initialConfig:{},state:zs}}},nE=function(n,o){o.ignore||(vd(n.element),o.onFocus(n))},nA=function(n,o){o.ignore||ul(n.element)},rA=function(n){return Jo(n.element)},pb=Object.freeze({__proto__:null,focus:nE,blur:nA,isFocused:rA}),bb=function(n,o){var l=o.ignore?{}:{attributes:{tabindex:"-1"}};return zf(l)},yb=function(n){return Qa([Nt(Pv(),function(o,l){nE(o,n),l.stop()})].concat(n.stopMousedown?[Nt(Lf(),function(o,l){l.event.prevent()})]:[]))},_b=Object.freeze({__proto__:null,exhibit:bb,events:yb}),CM=[Ha("onFocus"),Je("stopMousedown",!1),Je("ignore",!1)],Rr=Ss({fields:CM,name:"focusing",active:_b,apis:pb}),aA=function(n){var o=function(){var l=ur(n),v=function(){return l.get()},y=function(P){return l.set(P)},C=function(){return l.set(n)},A=function(){return l.get()};return{get:v,set:y,clear:C,readState:A}};return{init:o}},rE=function(n,o,l){var v=o.aria;v.update(n,v,l.get())},D_=function(n,o,l){o.toggleClass.each(function(v){l.get()?ds(n.element,v):Xo(n.element,v)})},gp=function(n,o,l){aE(n,o,l,!l.get())},iA=function(n,o,l){l.set(!0),D_(n,o,l),rE(n,o,l)},sC=function(n,o,l){l.set(!1),D_(n,o,l),rE(n,o,l)},aE=function(n,o,l,v){var y=v?iA:sC;y(n,o,l)},SM=function(n,o,l){return l.get()},oA=function(n,o,l){aE(n,o,l,o.selected)},EM=Object.freeze({__proto__:null,onLoad:oA,toggle:gp,isOn:SM,on:iA,off:sC,set:aE}),uC=function(){return zf({})},kM=function(n,o){var l=Rm(n,o,gp),v=ao(n,o,oA);return Qa(pn([n.toggleOnExecute?[l]:[],[v]]))},lC=Object.freeze({__proto__:null,exhibit:uC,events:kM}),sA=function(n,o,l){$r(n.element,"aria-pressed",l),o.syncWithExpanded&&lA(n,o,l)},uA=function(n,o,l){$r(n.element,"aria-selected",l)},TM=function(n,o,l){$r(n.element,"aria-checked",l)},lA=function(n,o,l){$r(n.element,"aria-expanded",l)},iE=[Je("selected",!1),za("toggleClass"),Je("toggleOnExecute",!0),tl("aria",{mode:"none"},ql("mode",{pressed:[Je("syncWithExpanded",!1),Ti("update",sA)],checked:[Ti("update",TM)],expanded:[Ti("update",lA)],selected:[Ti("update",uA)],none:[Ti("update",se)]}))],Pa=Ss({fields:iE,name:"toggling",active:lC,apis:EM,state:aA(!1)}),cA=function(){var n=function(o,l){l.stop(),yc(o)};return[Nt(Rv(),n),Nt(Ld(),n),hh(Bd()),hh(Lf())]},cC=function(n){var o=function(l){return ys(function(v,y){l(v),y.stop()})};return Qa(pn([n.map(o).toArray(),cA()]))},oE="alloy.item-hover",fA="alloy.item-focus",sE=function(n){(ll(n.element).isNone()||Rr.isFocused(n))&&(Rr.isFocused(n)||Rr.focus(n),Qn(n,oE,{item:n}))},M_=function(n){Qn(n,fA,{item:n})},fC=le(oE),d=le(fA),g=function(n){return{dom:n.dom,domModification:ue(ue({},n.domModification),{attributes:ue(ue(ue({role:n.toggling.isSome()?"menuitemcheckbox":"menuitem"},n.domModification.attributes),{"aria-haspopup":n.hasSubmenu}),n.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:gd.augment(n.itemBehaviours,[n.toggling.fold(Pa.revoke,function(o){return Pa.config(ue({aria:{mode:"checked"}},o))}),Rr.config({ignore:n.ignoreFocus,stopMousedown:n.ignoreFocus,onFocus:function(o){M_(o)}}),vr.config({mode:"execution"}),Sn.config({store:{mode:"memory",initialValue:n.data}}),qr("item-type-events",$e($e([],cA(),!0),[Nt(Mv(),sE),Nt(Iv(),Rr.focus)],!1))]),components:n.components,eventOrder:n.eventOrder}},w=[It("data"),It("components"),It("dom"),Je("hasSubmenu",!1),za("toggling"),gd.field("itemBehaviours",[Pa,Rr,vr,Sn]),Je("ignoreFocus",!1),Je("domModification",{}),Ti("builder",g),Je("eventOrder",{})],T=function(n){return{dom:n.dom,components:n.components,events:Qa([Bv(Iv())])}},M=[It("dom"),It("components"),Ti("builder",T)],F=le("item-widget"),j=le([hl({name:"widget",overrides:function(n){return{behaviours:mn([Sn.config({store:{mode:"manual",getValue:function(o){return n.data},setValue:se}})])}}})]),te=function(n){var o=x2(F(),n,j()),l=C2(F(),n,o.internals()),v=function(C){return Ai(C,n,"widget").map(function(A){return vr.focusIn(A),A})},y=function(C,A){return Vh(A.event.target)?z.none():function(){return n.autofocus&&A.setSource(C.element),z.none()}()};return{dom:n.dom,components:l,domModification:n.domModification,events:Qa([ys(function(C,A){v(C).each(function(P){A.stop()})}),Nt(Mv(),sE),Nt(Iv(),function(C,A){n.autofocus?v(C):Rr.focus(C)})]),behaviours:gd.augment(n.widgetBehaviours,[Sn.config({store:{mode:"memory",initialValue:n.data}}),Rr.config({ignore:n.ignoreFocus,onFocus:function(C){M_(C)}}),vr.config({mode:"special",focusIn:n.autofocus?function(C){v(C)}:Uf(),onLeft:y,onRight:y,onEscape:function(C,A){return!Rr.isFocused(C)&&!n.autofocus?(Rr.focus(C),z.some(!0)):(n.autofocus&&A.setSource(C.element),z.none())}})])}},ye=[It("uid"),It("data"),It("components"),It("dom"),Je("autofocus",!1),Je("ignoreFocus",!1),gd.field("widgetBehaviours",[Sn,Rr,vr]),Je("domModification",{}),m_(j()),Ti("builder",te)],Me=ql("type",{widget:ye,item:w,separator:M}),Xe=function(n,o){return{mode:"flatgrid",selector:"."+n.markers.item,initSize:{numColumns:o.initSize.numColumns,numRows:o.initSize.numRows},focusManager:n.focusManager}},At=function(n,o){return{mode:"matrix",selectors:{row:o.rowSelector,cell:"."+n.markers.item},focusManager:n.focusManager}},nn=function(n,o){return{mode:"menu",selector:"."+n.markers.item,moveOnTab:o.moveOnTab,focusManager:n.focusManager}},$t=le([zh({factory:{sketch:function(n){var o=Wa("menu.spec item",Me,n);return o.builder(o)}},name:"items",unit:"item",defaults:function(n,o){return ma(o,"uid")?o:ue(ue({},o),{uid:gh("item")})},overrides:function(n,o){return{type:o.type,ignoreFocus:n.fakeFocus,domModification:{classes:[n.markers.item]}}}})]),Ot=le([It("value"),It("items"),It("dom"),It("components"),Je("eventOrder",{}),au("menuBehaviours",[ri,Sn,fa,vr]),tl("movement",{mode:"menu",moveOnTab:!0},ql("mode",{grid:[M1(),Ti("config",Xe)],matrix:[Ti("config",At),It("rowSelector")],menu:[Je("moveOnTab",!0),Ti("config",nn)]})),ES(),Je("fakeFocus",!1),Je("focusManager",x_()),Ha("onHighlight")]),hn=le("alloy.menu-focus"),wn=function(n,o,l,v){return{uid:n.uid,dom:n.dom,markers:n.markers,behaviours:Lu(n.menuBehaviours,[ri.config({highlightClass:n.markers.selectedItem,itemClass:n.markers.item,onHighlight:n.onHighlight}),Sn.config({store:{mode:"memory",initialValue:n.value}}),fa.config({find:z.some}),vr.config(n.movement.config(n,n.movement))]),events:Qa([Nt(d(),function(y,C){var A=C.event;y.getSystem().getByDom(A.target).each(function(P){ri.highlight(y,P),C.stop(),Qn(y,hn(),{menu:y,item:P})})}),Nt(fC(),function(y,C){var A=C.event.item;ri.highlight(y,A)})]),components:o,eventOrder:n.eventOrder,domModification:{attributes:{role:"menu"}}}},tr=Sc({name:"Menu",configFields:Ot(),partFields:$t(),factory:wn}),ja=function(n){return Vo(n,function(o,l){return{k:o,v:l}})},er=function(n,o,l,v){return Zn(l,v).bind(function(y){return Zn(n,y).bind(function(C){var A=er(n,o,l,C);return z.some([C].concat(A))})}).getOr([])},Ir=function(n,o){var l={};oi(n,function(A,P){xn(A,function(I){l[I]=P})});var v=o,y=ja(o),C=ya(y,function(A,P){return[P].concat(er(l,v,y,P))});return ya(l,function(A){return Zn(C,A).getOr([A])})},da=function(){var n=ur({}),o=ur({}),l=ur({}),v=Eo(),y=ur({}),C=function(){n.set({}),o.set({}),l.set({}),v.clear()},A=function(){return v.get().isNone()},P=function(tt,gt){var Pt;o.set(ue(ue({},o.get()),(Pt={},Pt[tt]={type:"prepared",menu:gt},Pt)))},I=function(tt,gt,Pt,En){v.set(tt),n.set(Pt),o.set(gt),y.set(En);var Ht=Ir(En,Pt);l.set(Ht)},H=function(tt){return Ms(n.get(),function(gt,Pt){return gt===tt})},G=function(tt,gt,Pt){return Fe(tt).bind(function(En){return H(tt).bind(function(Ht){return gt(Ht).map(function(Tn){return{triggeredMenu:En,triggeringItem:Tn,triggeringPath:Pt}})})})},Q=function(tt,gt){var Pt=kt(Re(tt).toArray(),function(En){return Fe(En).isSome()});return Zn(l.get(),tt).bind(function(En){var Ht=Un(Pt.concat(En)),Tn=Er(Ht,function(Yt,Rt){return G(Yt,gt,Ht.slice(0,Rt+1)).fold(function(){return ou(v.get(),Yt)?[]:[z.none()]},function(dn){return[z.some(dn)]})});return Ur(Tn)})},fe=function(tt){return Zn(n.get(),tt).map(function(gt){var Pt=Zn(l.get(),tt).getOr([]);return[gt].concat(Pt)})},ge=function(tt){return Zn(l.get(),tt).bind(function(gt){return gt.length>1?z.some(gt.slice(1)):z.none()})},xe=function(tt){return Zn(l.get(),tt)},Fe=function(tt){return et(tt).bind(la)},et=function(tt){return Zn(o.get(),tt)},Re=function(tt){return Zn(n.get(),tt)},nt=function(tt){var gt=y.get();return ba(ii(gt),tt)},Ct=function(){return v.get().bind(Fe)},xt=function(){return o.get()};return{setMenuBuilt:P,setContents:I,expand:fe,refresh:xe,collapse:ge,lookupMenu:et,lookupItem:Re,otherMenus:nt,getPrimary:Ct,getMenus:xt,clear:C,isClear:A,getTriggeringPath:Q}},la=function(n){return n.type==="prepared"?z.some(n.menu):z.none()},hs={init:da,extractPreparedMenu:la},Fu=function(n,o){var l=Eo(),v=function(zt,$n,Xn){return ya(Xn,function(pa,ci){var oo=function(){return tr.sketch(ue(ue({},pa),{value:ci,markers:n.markers,fakeFocus:n.fakeFocus,onHighlight:n.onHighlight,focusManager:n.fakeFocus?bT():x_()}))};return ci===$n?{type:"prepared",menu:zt.getSystem().build(oo())}:{type:"notbuilt",nbMenu:oo}})},y=hs.init(),C=function(zt){var $n=v(zt,n.data.primary,n.data.menus),Xn=I();return y.setContents(n.data.primary,$n,n.data.expansions,Xn),y.getPrimary()},A=function(zt){return Sn.getValue(zt).value},P=function(zt,$n,Xn){return mi($n,function(pa){if(!pa.getSystem().isConnected())return z.none();var ci=ri.getCandidates(pa);return Jt(ci,function(oo){return A(oo)===Xn})})},I=function(zt){return ya(n.data.menus,function($n,Xn){return Er($n.items,function(pa){return pa.type==="separator"?[]:[pa.data.value]})})},H=function(zt,$n){ri.highlight(zt,$n),ri.getHighlighted($n).orThunk(function(){return ri.getFirst($n)}).each(function(Xn){Gp(zt,Xn.element,Iv())})},G=function(zt,$n){return _a(Vt($n,function(Xn){return zt.lookupMenu(Xn).bind(function(pa){return pa.type==="prepared"?z.some(pa.menu):z.none()})}))},Q=function(zt,$n,Xn){var pa=G($n,$n.otherMenus(Xn));xn(pa,function(ci){Wc(ci.element,[n.markers.backgroundMenu]),n.stayInDom||Lr.remove(zt,ci)})},fe=function(zt){return l.get().getOrThunk(function(){var $n={},Xn=fl(zt.element,"."+n.markers.item),pa=kt(Xn,function(ci){return Li(ci,"aria-haspopup")==="true"});return xn(pa,function(ci){zt.getSystem().getByDom(ci).each(function(oo){var $o=A(oo);$n[$o]=oo})}),l.set($n),$n})},ge=function(zt,$n){var Xn=fe(zt);oi(Xn,function(pa,ci){var oo=_n($n,ci);$r(pa.element,"aria-expanded",oo)})},xe=function(zt,$n,Xn){return z.from(Xn[0]).bind(function(pa){return $n.lookupMenu(pa).bind(function(ci){if(ci.type==="notbuilt")return z.none();var oo=ci.menu,$o=G($n,Xn.slice(1));return xn($o,function(xd){ds(xd.element,n.markers.backgroundMenu)}),lr(oo.element)||Lr.append(zt,jc(oo)),Wc(oo.element,[n.markers.backgroundMenu]),H(zt,oo),Q(zt,$n,Xn),z.some(oo)})})},Fe;(function(zt){zt[zt.HighlightSubmenu=0]="HighlightSubmenu",zt[zt.HighlightParent=1]="HighlightParent"})(Fe||(Fe={}));var et=function(zt,$n,Xn){if(Xn.type==="notbuilt"){var pa=zt.getSystem().build(Xn.nbMenu());return y.setMenuBuilt($n,pa),pa}else return Xn.menu},Re=function(zt,$n,Xn){if(Xn===void 0&&(Xn=Fe.HighlightSubmenu),$n.hasConfigured(cr)&&cr.isDisabled($n))return z.some($n);var pa=A($n);return y.expand(pa).bind(function(ci){return ge(zt,ci),z.from(ci[0]).bind(function(oo){return y.lookupMenu(oo).bind(function($o){var xd=et(zt,oo,$o);return lr(xd.element)||Lr.append(zt,jc(xd)),n.onOpenSubmenu(zt,$n,xd,Un(ci)),Xn===Fe.HighlightSubmenu?(ri.highlightFirst(xd),xe(zt,y,ci)):(ri.dehighlightAll(xd),z.some($n))})})})},nt=function(zt,$n){var Xn=A($n);return y.collapse(Xn).bind(function(pa){return ge(zt,pa),xe(zt,y,pa).map(function(ci){return n.onCollapseMenu(zt,$n,ci),ci})})},Ct=function(zt,$n){var Xn=A($n);return y.refresh(Xn).bind(function(pa){return ge(zt,pa),xe(zt,y,pa)})},xt=function(zt,$n){return Vh($n.element)?z.none():Re(zt,$n,Fe.HighlightSubmenu)},tt=function(zt,$n){return Vh($n.element)?z.none():nt(zt,$n)},gt=function(zt,$n){return nt(zt,$n).orThunk(function(){return n.onEscape(zt,$n).map(function(){return zt})})},Pt=function(zt){return function($n,Xn){return hf(Xn.getSource(),"."+n.markers.item).bind(function(pa){return $n.getSystem().getByDom(pa).toOptional().bind(function(ci){return zt($n,ci).map(ve)})})}},En=Qa([Nt(hn(),function(zt,$n){var Xn=$n.event.item;y.lookupItem(A(Xn)).each(function(){var pa=$n.event.menu;ri.highlight(zt,pa);var ci=A($n.event.item);y.refresh(ci).each(function(oo){return Q(zt,y,oo)})})}),ys(function(zt,$n){var Xn=$n.event.target;zt.getSystem().getByDom(Xn).each(function(pa){var ci=A(pa);ci.indexOf("collapse-item")===0&&nt(zt,pa),Re(zt,pa,Fe.HighlightSubmenu).fold(function(){n.onExecute(zt,pa)},se)})}),Br(function(zt,$n){C(zt).each(function(Xn){Lr.append(zt,jc(Xn)),n.onOpenMenu(zt,Xn),n.highlightImmediately&&H(zt,Xn)})})].concat(n.navigateOnHover?[Nt(fC(),function(zt,$n){var Xn=$n.event.item;Ct(zt,Xn),Re(zt,Xn,Fe.HighlightParent),n.onHover(zt,Xn)})]:[])),Ht=function(zt){return ri.getHighlighted(zt).bind(ri.getHighlighted)},Tn=function(zt){Ht(zt).each(function($n){nt(zt,$n)})},Yt=function(zt){y.getPrimary().each(function($n){H(zt,$n)})},Rt=function(zt){return z.from(zt.components()[0]).filter(function($n){return Li($n.element,"role")==="menu"})},dn=function(zt){var $n=y.getPrimary().bind(function(Xn){return Ht(zt).bind(function(pa){var ci=A(pa),oo=rs(y.getMenus()),$o=_a(Vt(oo,hs.extractPreparedMenu));return y.getTriggeringPath(ci,function(xd){return P(zt,$o,xd)})}).map(function(pa){return{primary:Xn,triggeringPath:pa}})});$n.fold(function(){Rt(zt).each(function(Xn){n.onRepositionMenu(zt,Xn,[])})},function(Xn){var pa=Xn.primary,ci=Xn.triggeringPath;n.onRepositionMenu(zt,pa,ci)})},Vn={collapseMenu:Tn,highlightPrimary:Yt,repositionMenus:dn};return{uid:n.uid,dom:n.dom,markers:n.markers,behaviours:Lu(n.tmenuBehaviours,[vr.config({mode:"special",onRight:Pt(xt),onLeft:Pt(tt),onEscape:Pt(gt),focusIn:function(zt,$n){y.getPrimary().each(function(Xn){Gp(zt,Xn.element,Iv())})}}),ri.config({highlightClass:n.markers.selectedMenu,itemClass:n.markers.menu}),fa.config({find:function(zt){return ri.getHighlighted(zt)}}),Lr.config({})]),eventOrder:n.eventOrder,apis:Vn,events:En}},Nu=le("collapse-item"),Ia=function(n,o,l){return{primary:n,menus:o,expansions:l}},Fr=function(n,o){return{primary:n,menus:Id(n,o),expansions:{}}},Sa=function(n){return{value:qt(Nu()),meta:{text:n}}},Si=Yf({name:"TieredMenu",configFields:[Kl("onExecute"),Kl("onEscape"),Il("onOpenMenu"),Il("onOpenSubmenu"),Ha("onRepositionMenu"),Ha("onCollapseMenu"),Je("highlightImmediately",!0),ad("data",[It("primary"),It("menus"),It("expansions")]),Je("fakeFocus",!1),Ha("onHighlight"),Ha("onHover"),wh(),It("dom"),Je("navigateOnHover",!0),Je("stayInDom",!1),au("tmenuBehaviours",[vr,ri,fa,Lr]),Je("eventOrder",{})],apis:{collapseMenu:function(n,o){n.collapseMenu(o)},highlightPrimary:function(n,o){n.highlightPrimary(o)},repositionMenus:function(n,o){n.repositionMenus(o)}},factory:Fu,extraApis:{tieredData:Ia,singleData:Fr,collapseItem:Sa}}),Fo=function(n,o,l,v,y){var C=function(){return n.lazySink(o)},A=v.type==="horizontal"?{layouts:{onLtr:function(){return Dm()},onRtl:function(){return Mm()}}}:{},P=function(H){return H.length===2},I=function(H){return P(H)?A:{}};return Si.sketch({dom:{tag:"div"},data:v.data,markers:v.menu.markers,highlightImmediately:v.menu.highlightImmediately,onEscape:function(){return Ta.close(o),n.onEscape.map(function(H){return H(o)}),z.some(!0)},onExecute:function(){return z.some(!0)},onOpenMenu:function(H,G){it.positionWithinBounds(C().getOrDie(),G,l,y())},onOpenSubmenu:function(H,G,Q,fe){var ge=C().getOrDie();it.position(ge,Q,{anchor:ue({type:"submenu",item:G},I(fe))})},onRepositionMenu:function(H,G,Q){var fe=C().getOrDie();it.positionWithinBounds(fe,G,l,y()),xn(Q,function(ge){var xe=I(ge.triggeringPath);it.position(fe,ge.triggeredMenu,{anchor:ue({type:"submenu",item:ge.triggeringItem},xe)})})}})},Ym=function(n,o){var l=function(ge,xe){var Fe=n.getRelated(ge);return Fe.exists(function(et){return Em(et,xe)})},v=function(ge,xe){Ta.setContent(ge,xe)},y=function(ge,xe,Fe){C(ge,xe,Fe,z.none())},C=function(ge,xe,Fe,et){A(ge,xe,Fe,function(){return et.map(function(Re){return go(Re)})})},A=function(ge,xe,Fe,et){var Re=n.lazySink(ge).getOrDie();Ta.openWhileCloaked(ge,xe,function(){return it.positionWithinBounds(Re,ge,Fe,et())}),Sn.setValue(ge,z.some({mode:"position",config:Fe,getBounds:et}))},P=function(ge,xe,Fe){I(ge,xe,Fe,z.none)},I=function(ge,xe,Fe,et){var Re=Fo(n,ge,xe,Fe,et);Ta.open(ge,Re),Sn.setValue(ge,z.some({mode:"menu",menu:Re}))},H=function(ge){Ta.isOpen(ge)&&(Sn.setValue(ge,z.none()),Ta.close(ge))},G=function(ge){return Ta.getState(ge)},Q=function(ge){Ta.isOpen(ge)&&Sn.getValue(ge).each(function(xe){switch(xe.mode){case"menu":Ta.getState(ge).each(Si.repositionMenus);break;case"position":var Fe=n.lazySink(ge).getOrDie();it.positionWithinBounds(Fe,ge,xe.config,xe.getBounds());break}})},fe={setContent:v,showAt:y,showWithin:C,showWithinBounds:A,showMenuAt:P,showMenuWithinBounds:I,hide:H,getContent:G,reposition:Q,isOpen:Ta.isOpen};return{uid:n.uid,dom:n.dom,behaviours:Lu(n.inlineBehaviours,[Ta.config({isPartOf:function(ge,xe,Fe){return Em(xe,Fe)||l(ge,Fe)},getAttachPoint:function(ge){return n.lazySink(ge).getOrDie()},onOpen:function(ge){n.onShow(ge)},onClose:function(ge){n.onHide(ge)}}),Sn.config({store:{mode:"memory",initialValue:z.none()}}),sl.config({channels:ue(ue({},Gc(ue({isExtraPart:o.isExtraPart},n.fireDismissalEventInstead.map(function(ge){return{fireEventInstead:{event:ge.event}}}).getOr({})))),_0(ue(ue({},n.fireRepositionEventInstead.map(function(ge){return{fireEventInstead:{event:ge.event}}}).getOr({})),{doReposition:Q})))})]),eventOrder:n.eventOrder,apis:fe}},yi=Yf({name:"InlineView",configFields:[It("lazySink"),Ha("onShow"),Ha("onHide"),Ev("onEscape"),au("inlineBehaviours",[Ta,Sn,sl]),Ol("fireDismissalEventInstead",[Je("event",ff())]),Ol("fireRepositionEventInstead",[Je("event",Ru())]),Je("getRelated",z.none),Je("isExtraPart",de),Je("eventOrder",z.none)],factory:Ym,apis:{showAt:function(n,o,l,v){n.showAt(o,l,v)},showWithin:function(n,o,l,v,y){n.showWithin(o,l,v,y)},showWithinBounds:function(n,o,l,v,y){n.showWithinBounds(o,l,v,y)},showMenuAt:function(n,o,l,v){n.showMenuAt(o,l,v)},showMenuWithinBounds:function(n,o,l,v,y){n.showMenuWithinBounds(o,l,v,y)},hide:function(n,o){n.hide(o)},isOpen:function(n,o){return n.isOpen(o)},getContent:function(n,o){return n.getContent(o)},setContent:function(n,o,l){n.setContent(o,l)},reposition:function(n,o){n.reposition(o)}}}),gf="layout-inset",$u=function(n){return n.x},R_=function(n,o){return n.x+n.width/2-o.width/2},qm=function(n,o){return n.x+n.width-o.width},qv=function(n){return n.y},qf=function(n,o){return n.y+n.height-o.height},jh=function(n,o){return n.y+n.height/2-o.height/2},dC=function(n,o,l){return Hs(qm(n,o),qf(n,o),l.insetSouthwest(),Am(),"southwest",Cs(n,{right:0,bottom:3}),gf)},wb=function(n,o,l){return Hs($u(n),qf(n,o),l.insetSoutheast(),Ry(),"southeast",Cs(n,{left:1,bottom:3}),gf)},xb=function(n,o,l){return Hs(qm(n,o),qv(n),l.insetNorthwest(),My(),"northwest",Cs(n,{right:0,top:2}),gf)},Cb=function(n,o,l){return Hs($u(n),qv(n),l.insetNortheast(),P1(),"northeast",Cs(n,{left:1,top:2}),gf)},Gv=function(n,o,l){return Hs(R_(n,o),qv(n),l.insetNorth(),Ig(),"north",Cs(n,{top:2}),gf)},Sb=function(n,o,l){return Hs(R_(n,o),qf(n,o),l.insetSouth(),I1(),"south",Cs(n,{bottom:3}),gf)},Eb=function(n,o,l){return Hs(qm(n,o),jh(n,o),l.insetEast(),Bg(),"east",Cs(n,{right:0}),gf)},uE=function(n,o,l){return Hs($u(n),jh(n,o),l.insetWest(),Py(),"west",Cs(n,{left:1}),gf)},kb=function(n){switch(n){case"north":return Gv;case"northeast":return Cb;case"northwest":return xb;case"south":return Sb;case"southeast":return wb;case"southwest":return dC;case"east":return Eb;case"west":return uE}},gI=function(n,o,l,v,y){var C=Hy(v).map(kb).getOr(Gv);return C(n,o,l,v,y)},AM=function(n){switch(n){case"north":return Sb;case"northeast":return wb;case"northwest":return dC;case"south":return Gv;case"southeast":return Cb;case"southwest":return xb;case"east":return uE;case"west":return Eb}},z6=function(n,o,l,v,y){var C=Hy(v).map(AM).getOr(Gv);return C(n,o,l,v,y)},Tb=tinymce.util.Tools.resolve("tinymce.util.Delay"),H6=function(n){var o=cC(n.action),l=n.dom.tag,v=function(C){return Zn(n.dom,"attributes").bind(function(A){return Zn(A,C)})},y=function(){if(l==="button"){var C=v("type").getOr("button"),A=v("role").map(function(I){return{role:I}}).getOr({});return ue({type:C},A)}else{var P=v("role").getOr("button");return{role:P}}};return{uid:n.uid,dom:n.dom,components:n.components,events:o,behaviours:gd.augment(n.buttonBehaviours,[Rr.config({}),vr.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:y()},eventOrder:n.eventOrder}},pf=Yf({name:"Button",factory:H6,configFields:[Je("uid",void 0),It("dom"),Je("components",[]),gd.field("buttonBehaviours",[Rr,vr]),za("action"),za("role"),Je("eventOrder",{})]}),li=function(n){var o=T2(n)&&Pi(n,"uid")?n.uid:gh("memento"),l=function(C){return C.getSystem().getByUid(o).getOrDie()},v=function(C){return C.getSystem().getByUid(o).toOptional()},y=function(){return ue(ue({},n),{uid:o})};return{get:l,getOpt:v,asSpec:y}},Yh=tinymce.util.Tools.resolve("tinymce.util.I18n"),OM={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},pI="temporary-placeholder",vC=function(n){return function(){return Zn(n,pI).getOr("!not found!")}},DM=function(n,o){var l=n.toLowerCase();if(Yh.isRtl()){var v=Hl(l,"-rtl");return ma(o,v)?v:l}else return l},bI=function(n,o){return Zn(o,DM(n,o))},yI=function(n,o){var l=o();return bI(n,l).getOrThunk(vC(l))},V6=function(n,o,l){var v=o();return bI(n,v).or(l).getOrThunk(vC(v))},U6=function(n){return Yh.isRtl()?ma(OM,n):!1},MM=function(){return qr("add-focusable",[Br(function(n){Ay(n.element,"svg").each(function(o){return $r(o,"focusable","false")})})])},RM=function(n,o,l,v){var y,C,A=U6(o)?["tox-icon--flip"]:[],P=Zn(l,DM(o,l)).or(v).getOrThunk(vC(l));return{dom:{tag:n.tag,attributes:(y=n.attributes)!==null&&y!==void 0?y:{},classes:n.classes.concat(A),innerHtml:P},behaviours:mn($e($e([],(C=n.behaviours)!==null&&C!==void 0?C:[],!0),[MM()],!1))}},Gm=function(n,o,l,v){return v===void 0&&(v=z.none()),RM(o,n,l(),v)},W6=function(n,o,l){var v=l(),y=Jt(n,function(C){return ma(v,DM(C,v))});return RM(o,y.getOr(pI),v,z.none())},dA={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},j6=function(n){var o=li({dom:{tag:"p",innerHtml:n.translationProvider(n.text)},behaviours:mn([Lr.config({})])}),l=function(ge){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+ge+"%"}}}},v=function(ge){return{dom:{tag:"div",classes:["tox-text"],innerHtml:ge+"%"}}},y=li({dom:{tag:"div",classes:n.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[l(0)]},v(0)],behaviours:mn([Lr.config({})])}),C=function(ge,xe){ge.getSystem().isConnected()&&y.getOpt(ge).each(function(Fe){Lr.set(Fe,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[l(xe)]},v(xe)])})},A=function(ge,xe){if(ge.getSystem().isConnected()){var Fe=o.get(ge);Lr.set(Fe,[pu(xe)])}},P={updateProgress:C,updateText:A},I=pn([n.icon.toArray(),n.level.toArray(),n.level.bind(function(ge){return z.from(dA[ge])}).toArray()]),H=li(pf.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[Gm("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":n.translationProvider("Close")}},n.iconProvider)],action:function(ge){n.onAction(ge)}})),G=W6(I,{tag:"div",classes:["tox-notification__icon"]},n.iconProvider),Q={dom:{tag:"div",classes:["tox-notification__body"]},components:[o.asSpec()],behaviours:mn([Lr.config({})])},fe=[G,Q];return{uid:n.uid,dom:{tag:"div",attributes:{role:"alert"},classes:n.level.map(function(ge){return["tox-notification","tox-notification--in","tox-notification--"+ge]}).getOr(["tox-notification","tox-notification--in"])},behaviours:mn([Rr.config({}),qr("notification-events",[Nt(Dl(),function(ge){H.getOpt(ge).each(Rr.focus)})])]),components:fe.concat(n.progress?[y.asSpec()]:[]).concat(n.closeButton?[H.asSpec()]:[]),apis:P}},PM=Yf({name:"Notification",factory:j6,configFields:[za("level"),It("progress"),It("icon"),It("onAction"),It("text"),It("iconProvider"),It("translationProvider"),Ci("closeButton",!0)],apis:{updateProgress:function(n,o,l){n.updateProgress(o,l)},updateText:function(n,o,l){n.updateText(o,l)}}});function IM(n,o,l){var v=o.backstage.shared,y=function(H){switch(H){case"bc-bc":return Sb;case"tc-tc":return Gv;case"tc-bc":return ol;case"bc-tc":default:return Zo}},C=function(H){H.length>0&&xn(H,function(G,Q){Q===0?G.moveRel(null,"banner"):G.moveRel(H[Q-1].getEl(),"bc-tc")})},A=function(H,G){var Q=!H.closeButton&&H.timeout&&(H.timeout>0||H.timeout<0),fe=function(){G(),yi.hide(xe)},ge=$i(PM.sketch({text:H.text,level:_n(["success","error","warning","warn","info"],H.type)?H.type:void 0,progress:H.progressBar===!0,icon:z.from(H.icon),closeButton:!Q,onAction:fe,iconProvider:v.providers.icons,translationProvider:v.providers.translate})),xe=$i(yi.sketch(ue({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:v.getSink,fireDismissalEventInstead:{}},v.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));l.add(xe),H.timeout>0&&Tb.setTimeout(function(){fe()},H.timeout);var Fe=function(){var et=go(vn.fromDom(n.getContentAreaContainer())),Re=eu(),nt=wc(Re.x,et.x,et.right),Ct=wc(Re.y,et.y,et.bottom),xt=Math.max(et.right,Re.right),tt=Math.max(et.bottom,Re.bottom);return z.some(us(nt,Ct,xt-nt,tt-Ct))};return{close:fe,moveTo:function(et,Re){yi.showAt(xe,jc(ge),{anchor:{type:"makeshift",x:et,y:Re}})},moveRel:function(et,Re){var nt=jc(ge),Ct={maxHeightFunction:Vg()};if(Re!=="banner"&&V(et)){var xt=y(Re),tt={type:"node",root:La(),node:z.some(vn.fromDom(et)),overrides:Ct,layouts:{onRtl:function(){return[xt]},onLtr:function(){return[xt]}}};yi.showWithinBounds(xe,nt,{anchor:tt},Fe)}else{var gt=ue(ue({},v.anchors.banner()),{overrides:Ct});yi.showWithinBounds(xe,nt,{anchor:gt},Fe)}},text:function(et){PM.updateText(ge,et)},settings:H,getEl:function(){return ge.element.dom},progressBar:{value:function(et){PM.updateProgress(ge,et)}}}},P=function(H){H.close()},I=function(H){return H.settings};return{open:A,close:P,reposition:C,getArgs:I}}var Y6=function(n,o){var l=null,v=function(){x(l)||(clearTimeout(l),l=null)},y=function(){for(var C=[],A=0;A<arguments.length;A++)C[A]=arguments[A];x(l)&&(l=setTimeout(function(){l=null,n.apply(null,C)},o))};return{cancel:v,throttle:y}},BM=function(n,o){var l=null,v=function(){x(l)||(clearTimeout(l),l=null)},y=function(){for(var C=[],A=0;A<arguments.length;A++)C[A]=arguments[A];v(),l=setTimeout(function(){l=null,n.apply(null,C)},o)};return{cancel:v,throttle:y}},q6=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),G6=function(n,o){return n.isBlock(o)||_n(["BR","IMG","HR","INPUT"],o.nodeName)||n.getContentEditable(o)==="false"},_I=function(n,o,l,v,y){var C=q6(n,function(A){return G6(n,A)});return z.from(C.backwards(o,l,v,y))},K6="[data-mce-autocompleter]",X6=function(n,o){return vA(vn.fromDom(n.selection.getNode())).getOrThunk(function(){var l=vn.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',n.getDoc());return gi(l,vn.fromDom(o.extractContents())),o.insertNode(l.dom),eo(l).each(function(v){return v.dom.normalize()}),i_(l).map(function(v){n.selection.setCursorLocation(v.dom,Sx(v))}),l})},vA=function(n){return hf(n,K6)},Z6=function(n){return n.collapsed&&n.startContainer.nodeType===3},wI=function(n){return n.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},xI=function(n){return n!==""&&`  \f
\r	\v`.indexOf(n)!==-1},LM=function(n,o){return n.substring(o.length)},FM=function(n,o,l){var v;for(v=o-1;v>=0;v--){var y=n.charAt(v);if(xI(y))return z.none();if(y===l)break}return z.some(v)},J6=function(n,o,l,v){if(v===void 0&&(v=0),!Z6(o))return z.none();var y=function(A,P,I){return FM(I,P,l).getOr(P)},C=n.getParent(o.startContainer,n.isBlock)||n.getRoot();return _I(n,o.startContainer,o.startOffset,y,C).bind(function(A){var P=o.cloneRange();if(P.setStart(A.container,A.offset),P.setEnd(o.endContainer,o.endOffset),P.collapsed)return z.none();var I=wI(P),H=I.lastIndexOf(l);return H!==0||LM(I,l).length<v?z.none():z.some({text:LM(I,l),range:P,triggerChar:l})})},NM=function(n,o,l,v){return v===void 0&&(v=0),vA(vn.fromDom(o.startContainer)).fold(function(){return J6(n,o,l,v)},function(y){var C=n.createRng();C.selectNode(y.dom);var A=wI(C);return z.some({range:C,text:LM(A,l),triggerChar:l})})},Q6=function(n,o){o.on("keypress compositionend",n.onKeypress.throttle),o.on("remove",n.onKeypress.cancel);var l=function(v,y){Qn(v,l1(),{raw:y})};o.on("keydown",function(v){var y=function(){return n.getView().bind(ri.getHighlighted)};v.which===8&&n.onKeypress.throttle(v),n.isActive()&&(v.which===27&&n.cancelIfNecessary(),n.isMenuOpen()?v.which===13?(y().each(yc),v.preventDefault()):v.which===40?(y().fold(function(){n.getView().each(ri.highlightFirst)},function(C){l(C,v)}),v.preventDefault(),v.stopImmediatePropagation()):(v.which===37||v.which===38||v.which===39)&&y().each(function(C){l(C,v),v.preventDefault(),v.stopImmediatePropagation()}):(v.which===13||v.which===38||v.which===40)&&n.cancelIfNecessary())}),o.on("NodeChange",function(v){n.isActive()&&!n.isProcessingAction()&&vA(vn.fromDom(v.element)).isNone()&&n.cancelIfNecessary()})},CI={setup:Q6},lE=tinymce.util.Tools.resolve("tinymce.util.Promise"),$M=function(n,o){return{container:n,offset:o}},e$=function(n){return n.nodeType===ze},t$=function(n){return n.nodeType===oc},SI=function(n){if(e$(n))return $M(n,n.data.length);var o=n.childNodes;return o.length>0?SI(o[o.length-1]):$M(n,o.length)},hA=function(n,o){var l=n.childNodes;return l.length>0&&o<l.length?hA(l[o],0):l.length>0&&t$(n)&&l.length===o?SI(l[l.length-1]):$M(n,o)},n$=function(n,o){return _I(n,o.container,o.offset,function(l,v){return v===0?-1:v},n.getRoot()).filter(function(l){var v=l.container.data.charAt(l.offset-1);return!xI(v)}).isSome()},r$=function(n){return function(o){var l=hA(o.startContainer,o.startOffset);return!n$(n,l)}},a$=function(n,o,l){return mi(l.triggerChars,function(v){return NM(n,o,v)})},i$=function(n,o){var l=o(),v=n.selection.getRng();return a$(n.dom,v,l).bind(function(y){return EI(n,o,y)})},EI=function(n,o,l,v){v===void 0&&(v={});var y=o(),C=n.selection.getRng(),A=C.startContainer.nodeValue,P=kt(y.lookupByChar(l.triggerChar),function(H){return l.text.length>=H.minChars&&H.matches.getOrThunk(function(){return r$(n.dom)})(l.range,A,l.text)});if(P.length===0)return z.none();var I=lE.all(Vt(P,function(H){var G=H.fetch(l.text,H.maxResults,v);return G.then(function(Q){return{matchText:l.text,items:Q,columns:H.columns,onAction:H.onAction,highlightOn:H.highlightOn}})}));return z.some({lookupData:I,context:l})},kI=Jn([Ar("type"),xi("text")]),o$=function(n){return lo("separatormenuitem",kI,n)},s$=Jn([Je("type","autocompleteitem"),Je("active",!1),Je("disabled",!1),Je("meta",{}),Ar("value"),xi("text"),xi("icon")]),u$=Jn([Ar("type"),Ar("ch"),Go("minChars",1),Je("columns",1),Go("maxResults",10),Ev("matches"),Fs("fetch"),Fs("onAction"),kv("highlightOn",[],Ui)]),l$=function(n){return lo("Autocompleter.Separator",kI,n)},c$=function(n){return lo("Autocompleter.Item",s$,n)},zM=function(n){return lo("Autocompleter",u$,n)},cE=[Ci("disabled",!1),xi("tooltip"),xi("icon"),xi("text"),Mi("onSetup",function(){return se})],f$=Jn([Ar("type"),Fs("onAction")].concat(cE)),TI=function(n){return lo("toolbarbutton",f$,n)},fE=[Ci("active",!1)].concat(cE),d$=Jn(fE.concat([Ar("type"),Fs("onAction")])),mA=function(n){return lo("ToggleButton",d$,n)},AI=[Mi("predicate",de),Nc("scope","node",["node","editor"]),Nc("position","selection",["node","selection","line"])],v$=cE.concat([Je("type","contextformbutton"),Je("primary",!1),Fs("onAction"),Al("original",Pe)]),h$=fE.concat([Je("type","contextformbutton"),Je("primary",!1),Fs("onAction"),Al("original",Pe)]),m$=cE.concat([Je("type","contextformbutton")]),g$=fE.concat([Je("type","contextformtogglebutton")]),OI=ql("type",{contextformbutton:v$,contextformtogglebutton:h$}),p$=Jn([Je("type","contextform"),Mi("initValue",le("")),xi("label"),Ns("commands",OI),Bf("launch",ql("type",{contextformbutton:m$,contextformtogglebutton:g$}))].concat(AI)),HM=function(n){return lo("ContextForm",p$,n)},VM=Jn([Je("type","contexttoolbar"),Ar("items")].concat(AI)),DI=function(n){return lo("ContextToolbar",VM,n)},UM=function(n){var o={};return xn(n,function(l){o[l]={}}),ii(o)},WM=function(n){var o=n.ui.registry.getAll().popups,l=ya(o,function(A){return zM(A).fold(function(P){throw new Error(Pf(P))},Pe)}),v=UM(Ds(l,function(A){return A.ch})),y=rs(l),C=function(A){return kt(y,function(P){return P.ch===A})};return{dataset:l,triggerChars:v,lookupByChar:C}},gA;(function(n){n[n.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",n[n.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(gA||(gA={}));var ec=gA,dE="tox-menu-nav__js",jM="tox-collection__item",YM="tox-swatch",b$={normal:dE,color:YM},MI="tox-collection__item--enabled",hC="tox-collection__group-heading",qM="tox-collection__item-icon",GM="tox-collection__item-label",y$="tox-collection__item-accessory",KM="tox-collection__item-caret",RI="tox-collection__item-checkmark",P_="tox-collection__item--active",PI="tox-collection__item-container",XM="tox-collection__item-container--column",pA="tox-collection__item-container--row",_$="tox-collection__item-container--align-right",II="tox-collection__item-container--align-left",BI="tox-collection__item-container--valign-top",w$="tox-collection__item-container--valign-middle",x$="tox-collection__item-container--valign-bottom",LI=function(n){return Zn(b$,n).getOr(dE)},C$=function(n){return n==="color"?"tox-swatches":"tox-menu"},ZM=function(n){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:C$(n),tieredMenu:"tox-tiered-menu"}},mC=function(n){var o=ZM(n);return{backgroundMenu:o.backgroundMenu,selectedMenu:o.selectedMenu,menu:o.menu,selectedItem:o.selectedItem,item:LI(n)}},S$=function(n,o,l){var v=ZM(l);return{tag:"div",classes:pn([[v.menu,"tox-menu-"+o+"-column"],n?[v.hasIcons]:[]])}},E$=[tr.parts.items({})],I_=function(n,o,l){var v=ZM(l),y={tag:"div",classes:pn([[v.tieredMenu]])};return{dom:y,markers:mC(l)}},bA=function(n,o){return function(l){var v=qa(l,o);return Vt(v,function(y){return{dom:n,components:y}})}},FI=function(n){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[tr.parts.items({preprocess:n!=="auto"?bA({tag:"div",classes:["tox-swatches__row"]},n):Pe})]}]}},k$=function(n){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[tr.parts.items({preprocess:bA({tag:"div",classes:["tox-collection__group"]},n)})]}},NI=function(n,o){var l=[],v=[];return xn(n,function(y,C){o(y,C)?(v.length>0&&l.push(v),v=[],ma(y.dom,"innerHtml")&&v.push(y)):v.push(y)}),v.length>0&&l.push(v),Vt(l,function(y){return{dom:{tag:"div",classes:["tox-collection__group"]},components:y}})},vE=function(n,o,l){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(n===1?["tox-collection--list"]:["tox-collection--grid"])},components:[tr.parts.items({preprocess:function(v){return n!=="auto"&&n>1?bA({tag:"div",classes:["tox-collection__group"]},n)(v):NI(v,function(y,C){return o[C].type==="separator"})}})]}},JM=function(n,o){return{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[tr.parts.items({preprocess:function(l){return NI(l,function(v,y){return n[y].type==="separator"})}})]}},hE=function(n){return Gn(n,function(o){return"icon"in o&&o.icon!==void 0})},pp=function(n){return console.error(Pf(n)),console.log(n),z.none()},$I=function(n,o,l,v,y){var C=JM(l);return{value:n,dom:C.dom,components:C.components,items:l}},QM=function(n,o,l,v,y){if(y==="color"){var C=FI(v);return{value:n,dom:C.dom,components:C.components,items:l}}if(y==="normal"&&v==="auto"){var C=vE(v,l);return{value:n,dom:C.dom,components:C.components,items:l}}if(y==="normal"&&v===1){var C=vE(1,l);return{value:n,dom:C.dom,components:C.components,items:l}}if(y==="normal"){var C=vE(v,l);return{value:n,dom:C.dom,components:C.components,items:l}}if(y==="listpreview"&&v!=="auto"){var C=k$(v);return{value:n,dom:C.dom,components:C.components,items:l}}return{value:n,dom:S$(o,v,y),components:E$,items:l}},eR=[Ar("type"),Ar("src"),xi("alt"),kv("classes",[],Ui)],T$=Jn(eR),zI=[Ar("type"),Ar("text"),xi("name"),kv("classes",["tox-collection__item-label"],Ui)],HI=Jn(zI),gC=Rd(function(){return r1("type",{cardimage:T$,cardtext:HI,cardcontainer:A$})}),A$=Jn([Ar("type"),fh("direction","horizontal"),fh("align","left"),fh("valign","middle"),Ns("items",gC)]),Ab=[Ci("disabled",!1),xi("text"),xi("shortcut"),ls("value","value",ra(function(){return qt("menuitem-value")}),Mf()),Je("meta",{})],pC=Jn([Ar("type"),xi("label"),Ns("items",gC),Mi("onSetup",function(){return se}),Mi("onAction",se)].concat(Ab)),O$=function(n){return lo("cardmenuitem",pC,n)},VI=Jn([Ar("type"),Ci("active",!1),xi("icon")].concat(Ab)),UI=function(n){return lo("choicemenuitem",VI,n)},tR=[Ar("type"),Ar("fancytype"),Mi("onAction",se)],nR=[Je("initData",{})].concat(tR),WI=[vm("initData",{},[Ci("allowCustomColors",!0),cs("colors",Mf())])].concat(tR),D$=ql("fancytype",{inserttable:nR,colorswatch:WI}),M$=function(n){return lo("fancymenuitem",D$,n)},yA=Jn([Ar("type"),Mi("onSetup",function(){return se}),Mi("onAction",se),xi("icon")].concat(Ab)),R$=function(n){return lo("menuitem",yA,n)},jI=Jn([Ar("type"),Fs("getSubmenuItems"),Mi("onSetup",function(){return se}),xi("icon")].concat(Ab)),bC=function(n){return lo("nestedmenuitem",jI,n)},P$=Jn([Ar("type"),xi("icon"),Ci("active",!1),Mi("onSetup",function(){return se}),Fs("onAction")].concat(Ab)),I$=function(n){return lo("togglemenuitem",P$,n)},rR=function(n,o,l){var v=fl(n.element,"."+l);if(v.length>0){var y=zn(v,function(C){var A=C.dom.getBoundingClientRect().top,P=v[0].dom.getBoundingClientRect().top;return Math.abs(A-P)>o}).getOr(v.length);return z.some({numColumns:y,numRows:Math.ceil(v.length/y)})}else return z.none()},aR=function(n,o){return mn([qr(n,o)])},YI=function(n){return aR(qt("unnamed-events"),n)},_A={namedEvents:aR,unnamedEvents:YI},qI=qt("tooltip.exclusive"),mE=qt("tooltip.show"),gE=qt("tooltip.hide"),GI=function(n,o,l){n.getSystem().broadcastOn([qI],{})},wA=function(n,o,l,v){l.getTooltip().each(function(y){y.getSystem().isConnected()&&Lr.set(y,v)})},B$=Object.freeze({__proto__:null,hideAllExclusive:GI,setComponents:wA}),L$=function(n,o){var l=function(y){o.getTooltip().each(function(C){Hr(C),n.onHide(y,C),o.clearTooltip()}),o.clearTimer()},v=function(y){if(!o.isShowing()){GI(y);var C=n.lazySink(y).getOrDie(),A=y.getSystem().build({dom:n.tooltipDom,components:n.tooltipComponents,events:Qa(n.mode==="normal"?[Nt(Mv(),function(P){xa(y,mE)}),Nt(Ja(),function(P){xa(y,gE)})]:[]),behaviours:mn([Lr.config({})])});o.setTooltip(A),Or(C,A),n.onShow(y,A),it.position(C,A,{anchor:n.anchor(y)})}};return Qa(pn([[Nt(mE,function(y){o.resetTimer(function(){v(y)},n.delay)}),Nt(gE,function(y){o.resetTimer(function(){l(y)},n.delay)}),Nt(mc(),function(y,C){var A=C;A.universal||_n(A.channels,qI)&&l(y)}),Vc(function(y){l(y)})],n.mode==="normal"?[Nt(Dl(),function(y){xa(y,mE)}),Nt(Sg(),function(y){xa(y,gE)}),Nt(Mv(),function(y){xa(y,mE)}),Nt(Ja(),function(y){xa(y,gE)})]:[Nt(by(),function(y,C){xa(y,mE)}),Nt(d1(),function(y){xa(y,gE)})]]))},iR=Object.freeze({__proto__:null,events:L$}),KI=[It("lazySink"),It("tooltipDom"),Je("exclusive",!0),Je("tooltipComponents",[]),Je("delay",300),Nc("mode","normal",["normal","follow-highlight"]),Je("anchor",function(n){return{type:"hotspot",hotspot:n,layouts:{onLtr:le([Zo,ol,Vs,al,Us,il]),onRtl:le([Zo,ol,Vs,al,Us,il])}}}),Ha("onHide"),Ha("onShow")],F$=function(){var n=Eo(),o=Eo(),l=function(){n.on(clearTimeout)},v=function(C,A){l(),n.set(setTimeout(C,A))},y=le("not-implemented");return Iu({getTooltip:o.get,isShowing:o.isSet,setTooltip:o.set,clearTooltip:o.clear,clearTimer:l,resetTimer:v,readState:y})},XI=Object.freeze({__proto__:null,init:F$}),oR=Ss({fields:KI,name:"tooltipping",active:iR,state:XI,apis:B$}),ZI=function(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},yC=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),N$=tinymce.util.Tools.resolve("tinymce.EditorManager"),$$=function(n){var o=n.getParam("skin"),l=n.getParam("skin_url");if(o!==!1){var v=o||"oxide";l?l=n.documentBaseURI.toAbsolute(l):l=N$.baseURL+"/skins/ui/"+v}return l},z$=function(n){return n.getParam("readonly",!1,"boolean")},H$=function(n){return n.getParam("skin")===!1},xA=function(n){return n.getParam("height",Math.max(n.getElement().offsetHeight,200))},CA=function(n){return n.getParam("width",yC.DOM.getStyle(n.getElement(),"width"))},sR=function(n){return z.from(n.getParam("min_width")).filter(ie)},JI=function(n){return z.from(n.getParam("min_height")).filter(ie)},SA=function(n){return z.from(n.getParam("max_width")).filter(ie)},QI=function(n){return z.from(n.getParam("max_height")).filter(ie)},V$=function(n){return z.from(n.getParam("style_formats")).filter(p)},U$=function(n){return n.getParam("style_formats_merge",!1,"boolean")},eB=function(n){return n.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" ")},tB=function(n){return n.getParam("content_langs",void 0,"array")},nB=function(n){return n.getParam("removed_menuitems","")},uR=function(n){return n.getParam("menubar",!0,"boolean")!==!1},lR=function(n){var o=n.getParam("toolbar",!0),l=o===!0,v=c(o),y=p(o)&&o.length>0;return!EA(n)&&(y||v||l)},rB=function(n){var o=Ee(9,function(v){return n.getParam("toolbar"+(v+1),!1,"string")}),l=kt(o,function(v){return typeof v=="string"});return l.length>0?z.some(l):z.none()},EA=function(n){return rB(n).fold(function(){var o=n.getParam("toolbar",[],"string[]");return o.length>0},ve)},nv;(function(n){n.default="wrap",n.floating="floating",n.sliding="sliding",n.scrolling="scrolling"})(nv||(nv={}));var pE=function(n){return n.getParam("toolbar_mode","","string")},B_;(function(n){n.auto="auto",n.top="top",n.bottom="bottom"})(B_||(B_={}));var W$=function(n){return n.getParam("toolbar_groups",{},"object")},aB=function(n){return n.getParam("toolbar_location",B_.auto,"string")},iB=function(n){return aB(n)===B_.bottom},j$=function(n){return n.getParam("fixed_toolbar_container","","string")},oB=function(n){return n.getParam("fixed_toolbar_container_target")},Y$=function(n){return n.getParam("toolbar_persist",!1,"boolean")},sB=function(n){if(!n.inline)return z.none();var o=j$(n);if(o.length>0)return ws(La(),o);var l=oB(n);return V(l)?z.some(vn.fromDom(l)):z.none()},kA=function(n){return n.inline&&sB(n).isSome()},uB=function(n){var o=sB(n);return o.getOrThunk(function(){return On(Cr(vn.fromDom(n.getElement())))})},lB=function(n){return n.inline&&!uR(n)&&!lR(n)&&!EA(n)},TA=function(n){var o=n.getParam("toolbar_sticky",!1,"boolean");return(o||n.inline)&&!kA(n)&&!lB(n)},AA=function(n){return n.getParam("toolbar_sticky_offset",0,"number")},cB=function(n){return n.getParam("draggable_modal",!1,"boolean")},q$=function(n){var o=n.getParam("menu");return o?ya(o,function(l){return ue(ue({},l),{items:l.items})}):{}},G$=function(n){return n.getParam("menubar")},K$=function(n){return n.getParam("toolbar",!0)},X$=function(n){return n.getParam("file_picker_callback")},Z$=function(n){return n.getParam("file_picker_types")},cR=function(n){return n.getParam("file_browser_callback_types")},fB=function(n){return n.getParam("typeahead_urls")===!1},dB=function(n){return n.getParam("anchor_top","#top")},J$=function(n){return n.getParam("anchor_bottom","#bottom")},vB=function(n){var o=n.getParam("file_picker_validator_handler",void 0,"function");return o===void 0?n.getParam("filepicker_validator_handler",void 0,"function"):o},fR="silver.readonly",Q$=Jn([Uw("readonly")]),_C=function(n,o){var l=n.outerContainer,v=l.element;o&&(n.mothership.broadcastOn([y0()],{target:v}),n.uiMothership.broadcastOn([y0()],{target:v})),n.mothership.broadcastOn([fR],{readonly:o}),n.uiMothership.broadcastOn([fR],{readonly:o})},hB=function(n,o){n.on("init",function(){n.mode.isReadOnly()&&_C(o,!0)}),n.on("SwitchMode",function(){return _C(o,n.mode.isReadOnly())}),z$(n)&&n.setMode("readonly")},wu=function(){var n;return sl.config({channels:(n={},n[fR]={schema:Q$,onReceive:function(o,l){cr.set(o,l.readonly)}},n)})},e8=function(n){return cr.config({disabled:n,disableClass:"tox-collection__item--state-disabled"})},t8=function(n){return cr.config({disabled:n})},n8=function(n){return cr.config({disabled:n,disableClass:"tox-tbtn--disabled"})},r8=function(n){return cr.config({disabled:n,disableClass:"tox-tbtn--disabled",useNative:!1})},qh={item:e8,button:t8,splitButton:n8,toolbarButton:r8},wC=function(n,o){var l=n.getApi(o);return function(v){v(l)}},L_=function(n,o){return Br(function(l){var v=wC(n,l);v(function(y){var C=n.onSetup(y);q(C)&&o.set(C)})})},F_=function(n,o){return Vc(function(l){return wC(n,l)(o.get())})},OA,a8=function(n,o){return ys(function(l,v){wC(n,l)(n.onAction),!n.triggersSubmenu&&o===ec.CLOSE_ON_EXECUTE&&(xa(l,jp()),v.stop())})},i8=(OA={},OA[gc()]=["disabling","alloy.base.behaviour","toggling","item-events"],OA),R0=_a,Ob=function(n,o,l,v){var y=ur(se);return{type:"item",dom:o.dom,components:R0(o.optComponents),data:n.data,eventOrder:i8,hasSubmenu:n.triggersSubmenu,itemBehaviours:mn([qr("item-events",[a8(n,l),L_(n,y),F_(n,y)]),qh.item(function(){return n.disabled||v.isDisabled()}),wu(),Lr.config({})].concat(n.itemBehaviours))}},P0=function(n){return{value:n.value,meta:ue({text:n.text.getOr("")},n.meta)}},DA=tinymce.util.Tools.resolve("tinymce.Env"),o8=function(n){var o={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"},l={meta:"Ctrl",access:"Shift+Alt"},v=DA.mac?o:l,y=n.split("+"),C=Vt(y,function(A){var P=A.toLowerCase().trim();return ma(v,P)?v[P]:A});return DA.mac?C.join(""):C.join("+")},dR=function(n,o,l){return l===void 0&&(l=[qM]),Gm(n,{tag:"div",classes:l},o)},mB=function(n){return{dom:{tag:"div",classes:[GM]},components:[pu(Yh.translate(n))]}},gB=function(n,o){return{dom:{tag:"div",classes:o,innerHtml:n}}},s8=function(n,o){return{dom:{tag:"div",classes:[GM]},components:[{dom:{tag:n.tag,styles:n.styles},components:[pu(Yh.translate(o))]}]}},u8=function(n){return{dom:{tag:"div",classes:[y$],innerHtml:o8(n)}}},pB=function(n){return dR("checkmark",n,[RI])},l8=function(n){return dR("chevron-right",n,[KM])},c8=function(n){return dR("chevron-down",n,[KM])},f8=function(n,o){var l=n.direction==="vertical"?XM:pA,v=n.align==="left"?II:_$,y=function(){switch(n.valign){case"top":return BI;case"middle":return w$;case"bottom":return x$}};return{dom:{tag:"div",classes:[PI,l,v,y()]},components:o}},d8=function(n,o,l){return{dom:{tag:"img",classes:o,attributes:{src:n,alt:l.getOr("")}}}},v8=function(n,o,l){var v="custom",y="remove",C=n.ariaLabel,A=n.value,P=n.iconContent.map(function(H){return V6(H,o.icons,l)}),I=function(){var H=YM,G=P.getOr(""),Q=C.map(function(ge){return{title:o.translate(ge)}}).getOr({}),fe={tag:"div",attributes:Q,classes:[H]};return A===v?ue(ue({},fe),{tag:"button",classes:$e($e([],fe.classes,!0),["tox-swatches__picker-btn"],!1),innerHtml:G}):A===y?ue(ue({},fe),{classes:$e($e([],fe.classes,!0),["tox-swatch--remove"],!1),innerHtml:G}):ue(ue({},fe),{attributes:ue(ue({},fe.attributes),{"data-mce-color":A}),styles:{"background-color":A}})};return{dom:I(),optComponents:[]}},bB=function(n){var o=n.map(function(l){return{attributes:{title:Yh.translate(l)}}}).getOr({});return ue({tag:"div",classes:[dE,jM]},o)},yB=function(n,o,l,v){var y={tag:"div",classes:[qM]},C=function(fe){return Gm(fe,y,o.icons,v)},A=function(){return z.some({dom:y})},P=l?n.iconContent.map(C).orThunk(A):z.none(),I=n.checkMark,H=z.from(n.meta).fold(function(){return mB},function(fe){return ma(fe,"style")?lt(s8,fe.style):mB}),G=n.htmlContent.fold(function(){return n.textContent.map(H)},function(fe){return z.some(gB(fe,[GM]))}),Q={dom:bB(n.ariaLabel),optComponents:[P,G,n.shortcutContent.map(u8),I,n.caret]};return Q},bE=function(n,o,l,v){return v===void 0&&(v=z.none()),n.presets==="color"?v8(n,o,v):yB(n,o,l,v)},_B=function(n,o){return Zn(n,"tooltipWorker").map(function(l){return[oR.config({lazySink:o.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(v){return{type:"submenu",item:v,overrides:{maxHeightFunction:Vg}}},mode:"follow-highlight",onShow:function(v,y){l(function(C){oR.setComponents(v,[E1({element:vn.fromDom(C)})])})}})]}).getOr([])},I0=function(n){return yC.DOM.encode(n)},wB=function(n,o){var l=Yh.translate(n),v=I0(l);if(o.length>0){var y=new RegExp(ZI(o),"gi");return v.replace(y,function(C){return'<span class="tox-autocompleter-highlight">'+C+"</span>"})}else return v},h8=function(n,o,l,v,y,C,A,P){P===void 0&&(P=!0);var I=bE({presets:v,textContent:z.none(),htmlContent:l?n.text.map(function(H){return wB(H,o)}):z.none(),ariaLabel:n.text,iconContent:n.icon,shortcutContent:z.none(),checkMark:z.none(),caret:z.none(),value:n.value},A.providers,P,n.icon);return Ob({data:P0(n),disabled:n.disabled,getApi:le({}),onAction:function(H){return y(n.value,n.meta)},onSetup:le(se),triggersSubmenu:!1,itemBehaviours:_B(n.meta,A)},I,C,A.providers)},MA=function(n,o){return Vt(n,function(l){switch(l.type){case"cardcontainer":return f8(l,MA(l.items,o));case"cardimage":return d8(l.src,l.classes,l.alt);case"cardtext":var v=l.name.exists(function(C){return _n(o.cardText.highlightOn,C)}),y=v?z.from(o.cardText.matchText).getOr(""):"";return gB(wB(l.text,y),l.classes)}})},ml=function(n,o,l,v){var y=function(A){return{isDisabled:function(){return cr.isDisabled(A)},setDisabled:function(P){cr.set(A,P),xn(fl(A.element,"*"),function(I){A.getSystem().getByDom(I).each(function(H){H.hasConfigured(cr)&&cr.set(H,P)})})}}},C={dom:bB(n.label),optComponents:[z.some({dom:{tag:"div",classes:[PI,pA]},components:MA(n.items,v)})]};return Ob({data:P0(ue({text:z.none()},n)),disabled:n.disabled,getApi:y,onAction:n.onAction,onSetup:n.onSetup,triggersSubmenu:!1,itemBehaviours:z.from(v.itemBehaviours).getOr([])},C,o,l.providers)},m8=function(n,o,l,v,y,C,A,P){P===void 0&&(P=!0);var I=function(G){return{setActive:function(Q){Pa.set(G,Q)},isActive:function(){return Pa.isOn(G)},isDisabled:function(){return cr.isDisabled(G)},setDisabled:function(Q){return cr.set(G,Q)}}},H=bE({presets:l,textContent:o?n.text:z.none(),htmlContent:z.none(),ariaLabel:n.text,iconContent:n.icon,shortcutContent:o?n.shortcut:z.none(),checkMark:o?z.some(pB(A.icons)):z.none(),caret:z.none(),value:n.value},A,P);return Et(Ob({data:P0(n),disabled:n.disabled,getApi:I,onAction:function(G){return v(n.value)},onSetup:function(G){return G.setActive(y),se},triggersSubmenu:!1,itemBehaviours:[]},H,C,A),{toggling:{toggleClass:MI,toggleOnExecute:!1,selected:n.active}})},xB=S0(F(),j()),CB=function(n){return{value:n}},SB=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,EB=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,kB=function(n){return SB.test(n)||EB.test(n)},g8=function(n){return Rs(n,"#").toUpperCase()},p8=function(n){return kB(n)?z.some({value:g8(n)}):z.none()},b8=function(n){var o=n.value.replace(SB,function(l,v,y,C){return v+v+y+y+C+C});return{value:o}},y8=function(n){var o=b8(n),l=EB.exec(o.value);return l===null?["FFFFFF","FF","FF","FF"]:l},vR=function(n){var o=n.toString(16);return(o.length===1?"0"+o:o).toUpperCase()},yE=function(n){var o=vR(n.red)+vR(n.green)+vR(n.blue);return CB(o)},TB=Math.min,AB=Math.max,RA=Math.round,_8=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,w8=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,Db=function(n,o,l,v){return{red:n,green:o,blue:l,alpha:v}},hR=function(n){var o=parseInt(n,10);return o.toString()===n&&o>=0&&o<=255},OB=function(n){var o,l,v,y=(n.hue||0)%360,C=n.saturation/100,A=n.value/100;if(C=AB(0,TB(C,1)),A=AB(0,TB(A,1)),C===0)return o=l=v=RA(255*A),Db(o,l,v,1);var P=y/60,I=A*C,H=I*(1-Math.abs(P%2-1)),G=A-I;switch(Math.floor(P)){case 0:o=I,l=H,v=0;break;case 1:o=H,l=I,v=0;break;case 2:o=0,l=I,v=H;break;case 3:o=0,l=H,v=I;break;case 4:o=H,l=0,v=I;break;case 5:o=I,l=0,v=H;break;default:o=l=v=0}return o=RA(255*(o+G)),l=RA(255*(l+G)),v=RA(255*(v+G)),Db(o,l,v,1)},_E=function(n){var o=y8(n),l=parseInt(o[1],16),v=parseInt(o[2],16),y=parseInt(o[3],16);return Db(l,v,y,1)},DB=function(n,o,l,v){var y=parseInt(n,10),C=parseInt(o,10),A=parseInt(l,10),P=parseFloat(v);return Db(y,C,A,P)},MB=function(n){if(n==="transparent")return z.some(Db(0,0,0,0));var o=_8.exec(n);if(o!==null)return z.some(DB(o[1],o[2],o[3],"1"));var l=w8.exec(n);return l!==null?z.some(DB(l[1],l[2],l[3],l[4])):z.none()},RB=function(n){return"rgba("+n.red+","+n.green+","+n.blue+","+n.alpha+")"},PB=Db(255,0,0,1),x8=function(n){return n.fire("SkinLoaded")},IB=function(n,o){return n.fire("SkinLoadError",o)},C8=function(n){return n.fire("ResizeEditor")},mR=function(n,o){return n.fire("ResizeContent",o)},S8=function(n,o){return n.fire("ScrollContent",o)},BB=function(n,o){return n.fire("TextColorChange",o)},wE=function(n,o,l){return{hue:n,saturation:o,value:l}},gR=function(n){var o=0,l=0,v=0,y=n.red/255,C=n.green/255,A=n.blue/255,P=Math.min(y,Math.min(C,A)),I=Math.max(y,Math.max(C,A));if(P===I)return v=P,wE(0,0,v*100);var H=y===P?C-A:A===P?y-C:A-y;return o=y===P?3:A===P?1:5,o=60*(o-H/(I-P)),l=(I-P)/I,v=I,wE(Math.round(o),Math.round(l*100),Math.round(v*100))},E8=function(n){return gR(_E(n))},LB=function(n){return yE(OB(n))},FB=function(n){return p8(n).orThunk(function(){return MB(n).map(yE)}).getOrThunk(function(){var o=document.createElement("canvas");o.height=1,o.width=1;var l=o.getContext("2d");l.clearRect(0,0,o.width,o.height),l.fillStyle="#FFFFFF",l.fillStyle=n,l.fillRect(0,0,1,1);var v=l.getImageData(0,0,1,1).data,y=v[0],C=v[1],A=v[2],P=v[3];return yE(Db(y,C,A,P))})},PA=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),pR="tinymce-custom-colors";function NB(n){n===void 0&&(n=10);var o=PA.getItem(pR),l=c(o)?JSON.parse(o):[],v=function(I){var H=n-I.length;return H<0?I.slice(0,n):I},y=v(l),C=function(I){Kr(y,I).each(A),y.unshift(I),y.length>n&&y.pop(),PA.setItem(pR,JSON.stringify(y))},A=function(I){y.splice(I,1)},P=function(){return y.slice(0)};return{add:C,state:P}}var zu="choiceitem",$B=[{type:zu,text:"Light Green",value:"#BFEDD2"},{type:zu,text:"Light Yellow",value:"#FBEEB8"},{type:zu,text:"Light Red",value:"#F8CAC6"},{type:zu,text:"Light Purple",value:"#ECCAFA"},{type:zu,text:"Light Blue",value:"#C2E0F4"},{type:zu,text:"Green",value:"#2DC26B"},{type:zu,text:"Yellow",value:"#F1C40F"},{type:zu,text:"Red",value:"#E03E2D"},{type:zu,text:"Purple",value:"#B96AD9"},{type:zu,text:"Blue",value:"#3598DB"},{type:zu,text:"Dark Turquoise",value:"#169179"},{type:zu,text:"Orange",value:"#E67E23"},{type:zu,text:"Dark Red",value:"#BA372A"},{type:zu,text:"Dark Purple",value:"#843FA1"},{type:zu,text:"Dark Blue",value:"#236FA1"},{type:zu,text:"Light Gray",value:"#ECF0F1"},{type:zu,text:"Medium Gray",value:"#CED4D9"},{type:zu,text:"Gray",value:"#95A5A6"},{type:zu,text:"Dark Gray",value:"#7E8C8D"},{type:zu,text:"Navy Blue",value:"#34495E"},{type:zu,text:"Black",value:"#000000"},{type:zu,text:"White",value:"#ffffff"}],zB=NB(10),k8=function(n){for(var o=[],l=0;l<n.length;l+=2)o.push({text:n[l+1],value:"#"+FB(n[l]).value,type:"choiceitem"});return o},T8=function(n,o){return n.getParam("color_cols",o,"number")},HB=function(n){return n.getParam("custom_colors")!==!1},A8=function(n){return n.getParam("color_map")},bR=function(n){var o=A8(n);return o!==void 0?k8(o):$B},yR=function(){return Vt(zB.state(),function(n){return{type:zu,text:n,value:n}})},_R=function(n){zB.add(n)},wR="#000000",VB=function(n,o){var l;return n.dom.getParents(n.selection.getStart(),function(v){var y;(y=v.style[o==="forecolor"?"color":"background-color"])&&(l=l||y)}),z.from(l)},O8=function(n,o,l){n.undoManager.transact(function(){n.focus(),n.formatter.apply(o,{value:l}),n.nodeChanged()})},D8=function(n,o){n.undoManager.transact(function(){n.focus(),n.formatter.remove(o,{value:null},null,!0),n.nodeChanged()})},xR=function(n){n.addCommand("mceApplyTextcolor",function(o,l){O8(n,o,l)}),n.addCommand("mceRemoveTextcolor",function(o){D8(n,o)})},M8=function(n){return Math.max(5,Math.ceil(Math.sqrt(n)))},UB=function(n){var o=bR(n),l=M8(o.length);return T8(n,l)},WB=function(n){var o="choiceitem",l={type:o,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"},v={type:o,text:"Custom color",icon:"color-picker",value:"custom"};return n?[l,v]:[l]},xE=function(n,o,l,v){if(l==="custom"){var y=GB(n);y(function(C){C.each(function(A){_R(A),n.execCommand("mceApplyTextcolor",o,A),v(A)})},wR)}else l==="remove"?(v(""),n.execCommand("mceRemoveTextcolor",o)):(v(l),n.execCommand("mceApplyTextcolor",o,l))},jB=function(n,o){return n.concat(yR().concat(WB(o)))},CR=function(n,o){return function(l){l(jB(n,o))}},YB=function(n,o,l){var v=o==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";n.setIconFill(v,l)},xC=function(n,o,l,v,y){n.ui.registry.addSplitButton(o,{tooltip:v,presets:"color",icon:o==="forecolor"?"text-color":"highlight-bg-color",select:function(C){var A=VB(n,l);return A.bind(function(P){return MB(P).map(function(I){var H=yE(I).value;return Da(C.toLowerCase(),H)})}).getOr(!1)},columns:UB(n),fetch:CR(bR(n),HB(n)),onAction:function(C){xE(n,l,y.get(),se)},onItemAction:function(C,A){xE(n,l,A,function(P){y.set(P),BB(n,{name:o,color:P})})},onSetup:function(C){YB(C,o,y.get());var A=function(P){P.name===o&&YB(C,P.name,P.color)};return n.on("TextColorChange",A),function(){n.off("TextColorChange",A)}}})},qB=function(n,o,l,v){n.ui.registry.addNestedMenuItem(o,{text:v,icon:o==="forecolor"?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(y){xE(n,l,y.value,se)}}]}})},GB=function(n){return function(o,l){var v=!1,y=function(P){var I=P.getData(),H=I.colorpicker;v?(o(z.from(H)),P.close()):n.windowManager.alert(n.translate(["Invalid hex color code: {0}",H]))},C=function(P,I){I.name==="hex-valid"&&(v=I.value)},A={colorpicker:l};n.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:A,onAction:C,onSubmit:y,onClose:se,onCancel:function(){o(z.none())}})}},R8=function(n){xR(n);var o=ur(wR),l=ur(wR);xC(n,"forecolor","forecolor","Text color",o),xC(n,"backcolor","hilitecolor","Background color",l),qB(n,"forecolor","forecolor","Text color"),qB(n,"backcolor","hilitecolor","Background color")},SR=function(n,o,l,v,y,C,A,P){var I=hE(o),H=y!=="color"?"normal":"color",G=P8(o,l,v,H,C,A,P);return QM(n,I,G,v,y)},P8=function(n,o,l,v,y,C,A){return _a(Vt(n,function(P){return P.type==="choiceitem"?UI(P).fold(pp,function(I){return z.some(m8(I,l===1,v,o,C(P.value),y,A,hE(n)))}):z.none()}))},IA=function(n,o){var l=mC(o);if(n===1)return{mode:"menu",moveOnTab:!0};if(n==="auto")return{mode:"grid",selector:"."+l.item,initSize:{numColumns:1,numRows:1}};var v=o==="color"?"tox-swatches__row":"tox-collection__group";return{mode:"matrix",rowSelector:"."+v}},KB=function(n,o){return n===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:n==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:o==="color"?".tox-swatches__row":".tox-collection__group",cell:o==="color"?"."+YM:"."+jM}}},XB=function(n,o){var l=ZB(n,o),v=o.colorinput.getColorCols(),y="color",C=SR(qt("menu-value"),l,function(P){n.onAction({value:P})},v,y,ec.CLOSE_ON_EXECUTE,de,o.shared.providers),A=ue(ue({},C),{markers:mC(y),movement:IA(v,y)});return{type:"widget",data:{value:qt("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[xB.widget(tr.sketch(A))]}},ZB=function(n,o){var l=n.initData.allowCustomColors&&o.colorinput.hasCustomColors();return n.initData.colors.fold(function(){return jB(o.colorinput.getColors(),l)},function(v){return v.concat(WB(l))})},JB=qt("cell-over"),BA=qt("cell-execute"),I8=function(n,o,l){var v,y=function(P){return Qn(P,JB,{row:n,col:o})},C=function(P){return Qn(P,BA,{row:n,col:o})},A=function(P,I){I.stop(),C(P)};return $i({dom:{tag:"div",attributes:(v={role:"button"},v["aria-labelledby"]=l,v)},behaviours:mn([qr("insert-table-picker-cell",[Nt(Mv(),Rr.focus),Nt(gc(),C),Nt(Rv(),A),Nt(Ld(),A)]),Pa.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Rr.config({onFocus:y})])})},B8=function(n,o,l){for(var v=[],y=0;y<o;y++){for(var C=[],A=0;A<l;A++)C.push(I8(y,A,n));v.push(C)}return v},L8=function(n,o,l,v,y){for(var C=0;C<v;C++)for(var A=0;A<y;A++)Pa.set(n[C][A],C<=o&&A<=l)},F8=function(n){return Er(n,function(o){return Vt(o,jc)})},QB=function(n,o){return pu(o+"x"+n)},N8=function(n){var o=10,l=10,v=qt("size-label"),y=B8(v,o,l),C=QB(0,0),A=li({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:v}},components:[C],behaviours:mn([Lr.config({})])});return{type:"widget",data:{value:qt("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[xB.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:F8(y).concat(A.asSpec()),behaviours:mn([qr("insert-table-picker",[Br(function(P){Lr.set(A.get(P),[C])}),vh(JB,function(P,I,H){var G=H.event,Q=G.row,fe=G.col;L8(y,Q,fe,o,l),Lr.set(A.get(P),[QB(Q+1,fe+1)])}),vh(BA,function(P,I,H){var G=H.event,Q=G.row,fe=G.col;n.onAction({numRows:Q+1,numColumns:fe+1}),xa(P,jp())})]),vr.config({initSize:{numRows:o,numColumns:l},mode:"flatgrid",selector:'[role="button"]'})])})]}},$8={inserttable:N8,colorswatch:XB},z8=function(n,o){return Zn($8,n.fancytype).map(function(l){return l(n,o)})},H8=function(n,o,l,v,y){v===void 0&&(v=!0),y===void 0&&(y=!1);var C=y?c8(l.icons):l8(l.icons),A=function(I){return{isDisabled:function(){return cr.isDisabled(I)},setDisabled:function(H){return cr.set(I,H)}}},P=bE({presets:"normal",iconContent:n.icon,textContent:n.text,htmlContent:z.none(),ariaLabel:n.text,caret:z.some(C),checkMark:z.none(),shortcutContent:n.shortcut},l,v);return Ob({data:P0(n),getApi:A,disabled:n.disabled,onAction:se,onSetup:n.onSetup,triggersSubmenu:!0,itemBehaviours:[]},P,o,l)},V8=function(n,o,l,v){v===void 0&&(v=!0);var y=function(A){return{isDisabled:function(){return cr.isDisabled(A)},setDisabled:function(P){return cr.set(A,P)}}},C=bE({presets:"normal",iconContent:n.icon,textContent:n.text,htmlContent:z.none(),ariaLabel:n.text,caret:z.none(),checkMark:z.none(),shortcutContent:n.shortcut},l,v);return Ob({data:P0(n),getApi:y,disabled:n.disabled,onAction:n.onAction,onSetup:n.onSetup,triggersSubmenu:!1,itemBehaviours:[]},C,o,l)},U8=function(n){var o=n.text.fold(function(){return{}},function(l){return{innerHtml:l}});return{type:"separator",dom:ue({tag:"div",classes:[jM,hC]},o),components:[]}},W8=function(n,o,l,v){v===void 0&&(v=!0);var y=function(A){return{setActive:function(P){Pa.set(A,P)},isActive:function(){return Pa.isOn(A)},isDisabled:function(){return cr.isDisabled(A)},setDisabled:function(P){return cr.set(A,P)}}},C=bE({iconContent:n.icon,textContent:n.text,htmlContent:z.none(),ariaLabel:n.text,checkMark:z.some(pB(l.icons)),caret:z.none(),shortcutContent:n.shortcut,presets:"normal",meta:n.meta},l,v);return Et(Ob({data:P0(n),disabled:n.disabled,getApi:y,onAction:n.onAction,onSetup:n.onSetup,triggersSubmenu:!1,itemBehaviours:[]},C,o,l),{toggling:{toggleClass:MI,toggleOnExecute:!1,selected:n.active}})},e4=h8,t4=U8,j8=V8,ER=H8,LA=W8,Y8=z8,FA=ml,CE;(function(n){n[n.ContentFocus=0]="ContentFocus",n[n.UiFocus=1]="UiFocus"})(CE||(CE={}));var q8=function(n,o,l,v,y){var C=l.shared.providers,A=function(P){return y?ue(ue({},P),{shortcut:z.none(),icon:P.text.isSome()?z.none():P.icon}):P};switch(n.type){case"menuitem":return R$(n).fold(pp,function(P){return z.some(j8(A(P),o,C,v))});case"nestedmenuitem":return bC(n).fold(pp,function(P){return z.some(ER(A(P),o,C,v,y))});case"togglemenuitem":return I$(n).fold(pp,function(P){return z.some(LA(A(P),o,C,v))});case"separator":return o$(n).fold(pp,function(P){return z.some(t4(P))});case"fancymenuitem":return M$(n).fold(pp,function(P){return Y8(A(P),l)});default:return console.error("Unknown item in general menu",n),z.none()}},G8=function(n,o,l,v,y,C,A){var P=v===1,I=!P||hE(n);return _a(Vt(n,function(H){switch(H.type){case"separator":return l$(H).fold(pp,function(G){return z.some(t4(G))});case"cardmenuitem":return O$(H).fold(pp,function(G){return z.some(FA(ue(ue({},G),{onAction:function(Q){G.onAction(Q),l(G.value,G.meta)}}),y,C,{itemBehaviours:_B(G.meta,C),cardText:{matchText:o,highlightOn:A}}))});case"autocompleteitem":default:return c$(H).fold(pp,function(G){return z.some(e4(G,o,P,"normal",l,y,C,I))})}}))},n4=function(n,o,l,v,y){var C=hE(o),A=_a(Vt(o,function(I){var H=function(Q){return y?!ma(Q,"text"):C},G=function(Q){return q8(Q,l,v,H(Q),y)};return I.type==="nestedmenuitem"&&I.getSubmenuItems().length<=0?G(ue(ue({},I),{disabled:!0})):G(I)})),P=y?$I:QM;return P(n,C,A,1,"normal")},r4=function(n){return Si.singleData(n.value,n)},K8=function(n,o,l,v){var y=l===CE.ContentFocus?bT():x_(),C=IA(o,v),A=mC(v);return{dom:n.dom,components:n.components,items:n.items,value:n.value,markers:{selectedItem:A.selectedItem,item:A.item},movement:C,fakeFocus:l===CE.ContentFocus,focusManager:y,menuBehaviours:_A.unnamedEvents(o!=="auto"?[]:[Br(function(P,I){rR(P,4,A.item).each(function(H){var G=H.numColumns,Q=H.numRows;vr.setGridSize(P,Q,G)})})])}},a4=function(n,o){var l=Eo(),v=ur(!1),y=$i(yi.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:mn([qr("dismissAutocompleter",[Nt(ff(),function(){return I()})])]),lazySink:o.getSink})),C=function(){return yi.isOpen(y)},A=function(){return l.get().isSome()},P=function(){A()&&yi.hide(y)},I=function(){if(A()){var Re=l.get().map(function(nt){return nt.element});vA(Re.getOr(vn.fromDom(n.selection.getNode()))).each(mg),P(),l.clear(),v.set(!1)}},H=Pr(function(){return WM(n)}),G=function(Re,nt){var Ct=mi(nt,function(xt){return z.from(xt.columns)}).getOr(1);return Er(nt,function(xt){var tt=xt.items;return G8(tt,xt.matchText,function(gt,Pt){var En=n.selection.getRng();NM(n.dom,En,Re).fold(function(){return console.error("Lost context. Cursor probably moved")},function(Ht){var Tn=Ht.range,Yt={hide:function(){I()},reload:function(Rt){P(),xe(Rt)}};v.set(!0),xt.onAction(Yt,Tn,gt,Pt),v.set(!1)})},Ct,ec.BUBBLE_TO_SANDBOX,o,xt.highlightOn)})},Q=function(Re){if(!A()){var nt=X6(n,Re.range);l.set({triggerChar:Re.triggerChar,element:nt,matchLength:Re.text.length}),v.set(!1)}},fe=function(Re,nt,Ct,xt){Re.matchLength=nt.text.length;var tt=mi(Ct,function(gt){return z.from(gt.columns)}).getOr(1);yi.showAt(y,tr.sketch(K8(QM("autocompleter-value",!0,xt,tt,"normal"),tt,CE.ContentFocus,"normal")),{anchor:{type:"node",root:vn.fromDom(n.getBody()),node:z.from(Re.element)}}),yi.getContent(y).each(ri.highlightFirst)},ge=function(Re){return l.get().map(function(nt){return NM(n.dom,n.selection.getRng(),nt.triggerChar).bind(function(Ct){return EI(n,H,Ct,Re)})}).getOrThunk(function(){return i$(n,H)})},xe=function(Re){ge(Re).fold(I,function(nt){Q(nt.context),nt.lookupData.then(function(Ct){l.get().map(function(xt){var tt=nt.context;if(xt.triggerChar===tt.triggerChar){var gt=G(tt.triggerChar,Ct);gt.length>0?fe(xt,tt,Ct,gt):tt.text.length-xt.matchLength>=10?I():P()}})})})},Fe=BM(function(Re){Re.which!==27&&xe()},50),et={onKeypress:Fe,cancelIfNecessary:I,isMenuOpen:C,isActive:A,isProcessingAction:v.get,getView:function(){return yi.getContent(y)}};n.hasPlugin("rtc")===!1&&CI.setup(et,n)},X8={register:a4},SE=function(n,o,l){return hf(n,o,l).isSome()},i4=function(n,o){var l=null,v=function(){for(var C=[],A=0;A<arguments.length;A++)C[A]=arguments[A];l=setTimeout(function(){n.apply(null,C),l=null},o)},y=function(){l!==null&&(clearTimeout(l),l=null)};return{cancel:y,schedule:v}},o4=5,Z8=400,s4=function(n){var o=n.raw;return o.touches===void 0||o.touches.length!==1?z.none():z.some(o.touches[0])},J8=function(n,o){var l=Math.abs(n.clientX-o.x),v=Math.abs(n.clientY-o.y);return l>o4||v>o4},kR=function(n){var o=Eo(),l=ur(!1),v=i4(function(H){n.triggerEvent(od(),H),l.set(!0)},Z8),y=function(H){return s4(H).each(function(G){v.cancel();var Q={x:G.clientX,y:G.clientY,target:H.target};v.schedule(H),l.set(!1),o.set(Q)}),z.none()},C=function(H){return v.cancel(),s4(H).each(function(G){o.on(function(Q){J8(G,Q)&&o.clear()})}),z.none()},A=function(H){v.cancel();var G=function(Q){return Ra(Q.target,H.target)};return o.get().filter(G).map(function(Q){return l.get()?(H.prevent(),!1):n.triggerEvent(Ld(),H)})},P=Tv([{key:Bd(),value:y},{key:zc(),value:C},{key:Ov(),value:A}]),I=function(H,G){return Zn(P,G).bind(function(Q){return Q(H)})};return{fireIfReady:I}},Q8=function(n){var o=n.raw;return o.which===Hx[0]&&!_n(["input","textarea"],Ye(n.target))&&!SE(n.target,'[contenteditable="true"]')},TR=function(){return rr().browser.isFirefox()},ez=function(n,o){return TR()?d0(n,"focus",o):Lo(n,"focusin",o)},tz=function(n,o){return TR()?d0(n,"blur",o):Lo(n,"focusout",o)},u4=function(n,o){var l=ue({stopBackspace:!0},o),v=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],y=kR(l),C=Vt(v.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),function(ge){return Lo(n,ge,function(xe){y.fireIfReady(xe,ge).each(function(et){et&&xe.kill()});var Fe=l.triggerEvent(ge,xe);Fe&&xe.kill()})}),A=Eo(),P=Lo(n,"paste",function(ge){y.fireIfReady(ge,"paste").each(function(Fe){Fe&&ge.kill()});var xe=l.triggerEvent("paste",ge);xe&&ge.kill(),A.set(setTimeout(function(){l.triggerEvent(f1(),ge)},0))}),I=Lo(n,"keydown",function(ge){var xe=l.triggerEvent("keydown",ge);xe?ge.kill():l.stopBackspace&&Q8(ge)&&ge.prevent()}),H=ez(n,function(ge){var xe=l.triggerEvent("focusin",ge);xe&&ge.kill()}),G=Eo(),Q=tz(n,function(ge){var xe=l.triggerEvent("focusout",ge);xe&&ge.kill(),G.set(setTimeout(function(){l.triggerEvent(Sg(),ge)},0))}),fe=function(){xn(C,function(ge){ge.unbind()}),I.unbind(),H.unbind(),Q.unbind(),P.unbind(),A.on(clearTimeout),G.on(clearTimeout)};return{unbind:fe}},CC=function(n,o){var l=Zn(n,"target").getOr(o);return ur(l)},nz=function(n,o){var l=ur(!1),v=ur(!1),y=function(){l.set(!0)},C=function(){v.set(!0)};return{stop:y,cut:C,isStopped:l.get,isCut:v.get,event:n,setSource:o.set,getSource:o.get}},rz=function(n){var o=ur(!1),l=function(){o.set(!0)};return{stop:l,cut:se,isStopped:o.get,isCut:de,event:n,setSource:K("Cannot set source of a broadcasted event"),getSource:K("Cannot get source of a broadcasted event")}},EE=$c.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),kE=function(n,o,l,v,y,C){var A=n(o,v),P=nz(l,y);return A.fold(function(){return C.logEventNoHandlers(o,v),EE.complete()},function(I){var H=I.descHandler,G=Jp(H);return G(P),P.isStopped()?(C.logEventStopped(o,I.element,H.purpose),EE.stopped()):P.isCut()?(C.logEventCut(o,I.element,H.purpose),EE.complete()):eo(I.element).fold(function(){return C.logNoParent(o,I.element,H.purpose),EE.complete()},function(Q){return C.logEventResponse(o,I.element,H.purpose),EE.resume(Q)})})},l4=function(n,o,l,v,y,C){return kE(n,o,l,v,y,C).fold(ve,function(A){return l4(n,o,l,A,y,C)},de)},az=function(n,o,l,v,y){var C=CC(l,v);return kE(n,o,l,v,C,y)},c4=function(n,o,l){var v=rz(o);return xn(n,function(y){var C=y.descHandler,A=Jp(C);A(v)}),v.isStopped()},iz=function(n,o,l,v){return f4(n,o,l,l.target,v)},f4=function(n,o,l,v,y){var C=CC(l,v);return l4(n,o,l,v,C,y)},oz=function(n,o){return{element:n,descHandler:o}},sz=function(n,o){return{id:n,descHandler:o}},uz=function(){var n={},o=function(A,P,I){oi(I,function(H,G){var Q=n[G]!==void 0?n[G]:{};Q[P]=Sy(H,A),n[G]=Q})},l=function(A,P){return _s(P).bind(function(I){return Zn(A,I)}).map(function(I){return oz(P,I)})},v=function(A){return Zn(n,A).map(function(P){return Ds(P,function(I,H){return sz(H,I)})}).getOr([])},y=function(A,P,I){return Zn(n,P).bind(function(H){return mm(I,function(G){return l(H,G)},A)})},C=function(A){oi(n,function(P,I){ma(P,A)&&delete P[A]})};return{registerId:o,unregisterId:C,filterByType:v,find:y}},lz=function(){var n=uz(),o={},l=function(H){var G=H.element;return _s(G).getOrThunk(function(){return g1("uid-",H.element)})},v=function(H,G){var Q=o[G];if(Q===H)C(H);else throw new Error('The tagId "'+G+'" is already used by: '+Pu(Q.element)+`
Cannot use it for: `+Pu(H.element)+`
The conflicting element is`+(lr(Q.element)?" ":" not ")+"already in the DOM")},y=function(H){var G=l(H);Pi(o,G)&&v(H,G);var Q=[H];n.registerId(Q,G,H.events),o[G]=H},C=function(H){_s(H.element).each(function(G){delete o[G],n.unregisterId(G)})},A=function(H){return n.filterByType(H)},P=function(H,G,Q){return n.find(H,G,Q)},I=function(H){return Zn(o,H)};return{find:P,filter:A,register:y,unregister:C,getById:I}},cz=function(n){var o=n.dom,l=o.attributes,v=Y(o,["attributes"]);return{uid:n.uid,dom:ue({tag:"div",attributes:ue({role:"presentation"},l)},v),components:n.components,behaviours:ab(n.containerBehaviours),events:n.events,domModification:n.domModification,eventOrder:n.eventOrder}},Ec=Yf({name:"Container",factory:cz,configFields:[Je("components",[]),au("containerBehaviours",[]),Je("events",{}),Je("domModification",{}),Je("eventOrder",{})]}),d4=function(n){var o=function(Re){return eo(n.element).fold(ve,function(nt){return Ra(Re,nt)})},l=lz(),v=function(Re,nt){return l.find(o,Re,nt)},y=u4(n.element,{triggerEvent:function(Re,nt){return Dy(Re,nt.target,function(Ct){return iz(v,Re,nt,Ct)})}}),C={debugInfo:le("real"),triggerEvent:function(Re,nt,Ct){Dy(Re,nt,function(xt){return f4(v,Re,Ct,nt,xt)})},triggerFocus:function(Re,nt){_s(Re).fold(function(){vd(Re)},function(Ct){Dy(Pv(),Re,function(xt){return az(v,Pv(),{originator:nt,kill:se,prevent:se,target:Re},Re,xt),!1})})},triggerEscape:function(Re,nt){C.triggerEvent("keydown",Re.element,nt.event)},getByUid:function(Re){return Fe(Re)},getByDom:function(Re){return et(Re)},build:$i,addToGui:function(Re){I(Re)},removeFromGui:function(Re){H(Re)},addToWorld:function(Re){A(Re)},removeFromWorld:function(Re){P(Re)},broadcast:function(Re){fe(Re)},broadcastOn:function(Re,nt){ge(Re,nt)},broadcastEvent:function(Re,nt){xe(Re,nt)},isConnected:ve},A=function(Re){Re.connect(C),An(Re.element)||(l.register(Re),xn(Re.components(),A),C.triggerEvent(dh(),Re.element,{target:Re.element}))},P=function(Re){An(Re.element)||(xn(Re.components(),P),l.unregister(Re)),Re.disconnect()},I=function(Re){Or(n,Re)},H=function(Re){Hr(Re)},G=function(){y.unbind(),Ou(n.element)},Q=function(Re){var nt=l.filter(mc());xn(nt,function(Ct){var xt=Ct.descHandler,tt=Jp(xt);tt(Re)})},fe=function(Re){Q({universal:!0,data:Re})},ge=function(Re,nt){Q({universal:!1,channels:Re,data:nt})},xe=function(Re,nt){var Ct=l.filter(Re);return c4(Ct,nt)},Fe=function(Re){return l.getById(Re).fold(function(){return Mr.error(new Error('Could not find component with uid: "'+Re+'" in system.'))},Mr.value)},et=function(Re){var nt=_s(Re).getOr("not found");return Fe(nt)};return A(n),{root:n,element:n.element,destroy:G,add:I,remove:H,getByUid:Fe,getByDom:et,addToWorld:A,removeFromWorld:P,broadcast:fe,broadcastOn:ge,broadcastEvent:xe}},N_=function(n,o){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Vt(n.items,o.interpreter)}},fz=le([Je("prefix","form-field"),au("fieldBehaviours",[fa,Sn])]),dz=le([pd({schema:[It("dom")],name:"label"}),pd({factory:{sketch:function(n){return{uid:n.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:n.text}}}},schema:[It("text")],name:"aria-descriptor"}),hl({factory:{sketch:function(n){var o=o1(n,["factory"]);return n.factory.sketch(o)}},schema:[It("factory")],name:"field"})]),vz=function(n,o,l,v){var y=Lu(n.fieldBehaviours,[fa.config({find:function(P){return Ai(P,n,"field")}}),Sn.config({store:{mode:"manual",getValue:function(P){return fa.getCurrent(P).bind(Sn.getValue)},setValue:function(P,I){fa.getCurrent(P).each(function(H){Sn.setValue(H,I)})}}})]),C=Qa([Br(function(P,I){var H=nT(P,n,["label","field","aria-descriptor"]);H.field().each(function(G){var Q=qt(n.prefix);H.label().each(function(fe){$r(fe.element,"for",Q),$r(G.element,"id",Q)}),H["aria-descriptor"]().each(function(fe){var ge=qt(n.prefix);$r(fe.element,"id",ge),$r(G.element,"aria-describedby",ge)})})})]),A={getField:function(P){return Ai(P,n,"field")},getLabel:function(P){return Ai(P,n,"label")}};return{uid:n.uid,dom:n.dom,components:o,behaviours:y,events:C,apis:A}},ei=Sc({name:"FormField",configFields:fz(),partFields:dz(),factory:vz,apis:{getField:function(n,o){return n.getField(o)},getLabel:function(n,o){return n.getLabel(o)}}}),NA=function(n,o){return zf({attributes:Tv([{key:o.tabAttr,value:"true"}])})},v4=Object.freeze({__proto__:null,exhibit:NA}),h4=[Je("tabAttr","data-alloy-tabstop")],Es=Ss({fields:h4,name:"tabstopping",active:v4}),hz=tinymce.util.Tools.resolve("tinymce.html.Entities"),TE=function(n,o,l,v){var y=gz(n,o,l,v);return ei.sketch(y)},mz=function(n,o){return TE(n,o,[],[])},gz=function(n,o,l,v){return{dom:m4(l),components:n.toArray().concat([o]),fieldBehaviours:mn(v)}},pz=function(){return m4([])},m4=function(n){return{tag:"div",classes:["tox-form__group"].concat(n)}},B0=function(n,o){return ei.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:o.translate(n)}})},rv=qt("form-component-change"),AE=qt("form-close"),$_=qt("form-cancel"),Km=qt("form-action"),_d=qt("form-submit"),bp=qt("form-block"),AR=qt("form-unblock"),OR=qt("form-tabchange"),DR=qt("form-resize"),$A=function(n,o){var l,v=n.label.map(function(Q){return B0(Q,o)}),y=function(Q){return function(fe,ge){hf(ge.event.target,"[data-collection-item-value]").each(function(xe){Q(fe,ge,xe,Li(xe,"data-collection-item-value"))})}},C=function(Q,fe){var ge=Vt(fe,function(et){var Re=Yh.translate(et.text),nt=n.columns===1?'<div class="tox-collection__item-label">'+Re+"</div>":"",Ct='<div class="tox-collection__item-icon">'+et.icon+"</div>",xt={_:" "," - ":" ","-":" "},tt=Re.replace(/\_| \- |\-/g,function(Pt){return xt[Pt]}),gt=o.isDisabled()?" tox-collection__item--state-disabled":"";return'<div class="tox-collection__item'+gt+'" tabindex="-1" data-collection-item-value="'+hz.encodeAllRaw(et.value)+'" title="'+tt+'" aria-label="'+tt+'">'+Ct+nt+"</div>"}),xe=n.columns!=="auto"&&n.columns>1?qa(ge,n.columns):[ge],Fe=Vt(xe,function(et){return'<div class="tox-collection__group">'+et.join("")+"</div>"});Lv(Q.element,Fe.join(""))},A=y(function(Q,fe,ge,xe){fe.stop(),o.isDisabled()||Qn(Q,Km,{name:n.name,value:xe})}),P=[Nt(Mv(),y(function(Q,fe,ge){vd(ge)})),Nt(Rv(),A),Nt(Ld(),A),Nt(Dl(),y(function(Q,fe,ge){ws(Q.element,"."+P_).each(function(xe){Xo(xe,P_)}),ds(ge,P_)})),Nt(ru(),y(function(Q){ws(Q.element,"."+P_).each(function(fe){Xo(fe,P_)})})),ys(y(function(Q,fe,ge,xe){Qn(Q,Km,{name:n.name,value:xe})}))],I=function(Q,fe){return Vt(fl(Q.element,".tox-collection__item"),fe)},H=ei.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(n.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Pe},behaviours:mn([cr.config({disabled:o.isDisabled,onDisabled:function(Q){I(Q,function(fe){ds(fe,"tox-collection__item--state-disabled"),$r(fe,"aria-disabled",!0)})},onEnabled:function(Q){I(Q,function(fe){Xo(fe,"tox-collection__item--state-disabled"),gs(fe,"aria-disabled")})}}),wu(),Lr.config({}),Sn.config({store:{mode:"memory",initialValue:[]},onSetValue:function(Q,fe){C(Q,fe),n.columns==="auto"&&rR(Q,5,"tox-collection__item").each(function(ge){var xe=ge.numRows,Fe=ge.numColumns;vr.setGridSize(Q,xe,Fe)}),xa(Q,DR)}}),Es.config({}),vr.config(KB(n.columns,"normal")),qr("collection-events",P)]),eventOrder:(l={},l[gc()]=["disabling","alloy.base.behaviour","collection-events"],l)}),G=["tox-form__group--collection"];return TE(v,H,G,[])},g4=le([za("data"),Je("inputAttributes",{}),Je("inputStyles",{}),Je("tag","input"),Je("inputClasses",[]),Ha("onSetValue"),Je("styles",{}),Je("eventOrder",{}),au("inputBehaviours",[Sn,Rr]),Je("selectOnFocus",!0)]),zA=function(n){return mn([Rr.config({onFocus:n.selectOnFocus?function(o){var l=o.element,v=Wd(l);l.dom.setSelectionRange(0,v.length)}:se})])},MR=function(n){return ue(ue({},zA(n)),Lu(n.inputBehaviours,[Sn.config({store:ue(ue({mode:"manual"},n.data.map(function(o){return{initialValue:o}}).getOr({})),{getValue:function(o){return Wd(o.element)},setValue:function(o,l){var v=Wd(o.element);v!==l&&Dg(o.element,l)}}),onSetValue:n.onSetValue})]))},HA=function(n){return{tag:n.tag,attributes:ue({type:"text"},n.inputAttributes),styles:n.inputStyles,classes:n.inputClasses}},bz=function(n,o){return{uid:n.uid,dom:HA(n),components:[],behaviours:MR(n),eventOrder:n.eventOrder}},OE=Yf({name:"Input",configFields:g4(),factory:bz}),p4={},DE={exports:p4};(function(n,o,l,v){(function(y,C){typeof o=="object"&&typeof l<"u"?l.exports=C():typeof n=="function"&&n.amd?n(C):(y=typeof globalThis<"u"?globalThis:y||self,y.EphoxContactWrapper=C())})(this,function(){var y=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof xw<"u"?xw:typeof self<"u"?self:{},C={exports:{}};(function(H){(function(G){var Q=setTimeout;function fe(){}function ge(tt,gt){return function(){tt.apply(gt,arguments)}}function xe(tt){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof tt!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],xt(tt,this)}function Fe(tt,gt){for(;tt._state===3;)tt=tt._value;if(tt._state===0){tt._deferreds.push(gt);return}tt._handled=!0,xe._immediateFn(function(){var Pt=tt._state===1?gt.onFulfilled:gt.onRejected;if(Pt===null){(tt._state===1?et:Re)(gt.promise,tt._value);return}var En;try{En=Pt(tt._value)}catch(Ht){Re(gt.promise,Ht);return}et(gt.promise,En)})}function et(tt,gt){try{if(gt===tt)throw new TypeError("A promise cannot be resolved with itself.");if(gt&&(typeof gt=="object"||typeof gt=="function")){var Pt=gt.then;if(gt instanceof xe){tt._state=3,tt._value=gt,nt(tt);return}else if(typeof Pt=="function"){xt(ge(Pt,gt),tt);return}}tt._state=1,tt._value=gt,nt(tt)}catch(En){Re(tt,En)}}function Re(tt,gt){tt._state=2,tt._value=gt,nt(tt)}function nt(tt){tt._state===2&&tt._deferreds.length===0&&xe._immediateFn(function(){tt._handled||xe._unhandledRejectionFn(tt._value)});for(var gt=0,Pt=tt._deferreds.length;gt<Pt;gt++)Fe(tt,tt._deferreds[gt]);tt._deferreds=null}function Ct(tt,gt,Pt){this.onFulfilled=typeof tt=="function"?tt:null,this.onRejected=typeof gt=="function"?gt:null,this.promise=Pt}function xt(tt,gt){var Pt=!1;try{tt(function(En){Pt||(Pt=!0,et(gt,En))},function(En){Pt||(Pt=!0,Re(gt,En))})}catch(En){if(Pt)return;Pt=!0,Re(gt,En)}}xe.prototype.catch=function(tt){return this.then(null,tt)},xe.prototype.then=function(tt,gt){var Pt=new this.constructor(fe);return Fe(this,new Ct(tt,gt,Pt)),Pt},xe.all=function(tt){var gt=Array.prototype.slice.call(tt);return new xe(function(Pt,En){if(gt.length===0)return Pt([]);var Ht=gt.length;function Tn(Rt,dn){try{if(dn&&(typeof dn=="object"||typeof dn=="function")){var Vn=dn.then;if(typeof Vn=="function"){Vn.call(dn,function(zt){Tn(Rt,zt)},En);return}}gt[Rt]=dn,--Ht===0&&Pt(gt)}catch(zt){En(zt)}}for(var Yt=0;Yt<gt.length;Yt++)Tn(Yt,gt[Yt])})},xe.resolve=function(tt){return tt&&typeof tt=="object"&&tt.constructor===xe?tt:new xe(function(gt){gt(tt)})},xe.reject=function(tt){return new xe(function(gt,Pt){Pt(tt)})},xe.race=function(tt){return new xe(function(gt,Pt){for(var En=0,Ht=tt.length;En<Ht;En++)tt[En].then(gt,Pt)})},xe._immediateFn=typeof setImmediate=="function"?function(tt){setImmediate(tt)}:function(tt){Q(tt,0)},xe._unhandledRejectionFn=function(gt){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",gt)},xe._setImmediateFn=function(gt){xe._immediateFn=gt},xe._setUnhandledRejectionFn=function(gt){xe._unhandledRejectionFn=gt},H.exports?H.exports=xe:G.Promise||(G.Promise=xe)})(y)})(C);var A=C.exports,P=function(){return typeof window<"u"?window:Function("return this;")()}(),I={boltExport:P.Promise||A};return I})})(void 0,p4,DE);var L0=DE.exports.boltExport,RR=function(n){var o=z.none(),l=[],v=function(H){return RR(function(G){y(function(Q){G(H(Q))})})},y=function(H){A()?I(H):l.push(H)},C=function(H){A()||(o=z.some(H),P(l),l=[])},A=function(){return o.isSome()},P=function(H){xn(H,I)},I=function(H){o.each(function(G){setTimeout(function(){H(G)},0)})};return n(C),{get:y,map:v,isReady:A}},yz=function(n){return RR(function(o){o(n)})},b4={nu:RR,pure:yz},_z=function(n){setTimeout(function(){throw n},0)},z_=function(n){var o=function(I){n().then(I,_z)},l=function(I){return z_(function(){return n().then(I)})},v=function(I){return z_(function(){return n().then(function(H){return I(H).toPromise()})})},y=function(I){return z_(function(){return n().then(function(){return I.toPromise()})})},C=function(){return b4.nu(o)},A=function(){var I=null;return z_(function(){return I===null&&(I=n()),I})},P=n;return{map:l,bind:v,anonBind:y,toLazy:C,toCached:A,toPromise:P,get:o}},wz=function(n){return z_(function(){return new L0(n)})},xz=function(n){return z_(function(){return L0.resolve(n)})},Fl={nu:wz,pure:xz},Cz=["input","textarea"],y4=function(n){var o=Ye(n);return _n(Cz,o)},PR=function(n,o){var l=o.getRoot(n).getOr(n.element);Xo(l,o.invalidClass),o.notify.each(function(v){y4(n.element)&&$r(n.element,"aria-invalid",!1),v.getContainer(n).each(function(y){Lv(y,v.validHtml)}),v.onValid(n)})},IR=function(n,o,l,v){var y=o.getRoot(n).getOr(n.element);ds(y,o.invalidClass),o.notify.each(function(C){y4(n.element)&&$r(n.element,"aria-invalid",!0),C.getContainer(n).each(function(A){Lv(A,v)}),C.onInvalid(n,v)})},_4=function(n,o,l){return o.validator.fold(function(){return Fl.pure(Mr.value(!0))},function(v){return v.validate(n)})},BR=function(n,o,l){return o.notify.each(function(v){v.onValidate(n)}),_4(n,o).map(function(v){return n.getSystem().isConnected()?v.fold(function(y){return IR(n,o,l,y),Mr.error(y)},function(y){return PR(n,o),Mr.value(y)}):Mr.error("No longer in system")})},Sz=function(n,o){var l=o.getRoot(n).getOr(n.element);return Rl(l,o.invalidClass)},Ez=Object.freeze({__proto__:null,markValid:PR,markInvalid:IR,query:_4,run:BR,isInvalid:Sz}),kz=function(n,o){return n.validator.map(function(l){return Qa([Nt(l.onEvent,function(v){BR(v,n,o).get(Pe)})].concat(l.validateOnLoad?[Br(function(v){BR(v,n,o).get(se)})]:[]))}).getOr({})},VA=Object.freeze({__proto__:null,events:kz}),bf=[It("invalidClass"),Je("getRoot",z.none),Ol("notify",[Je("aria","alert"),Je("getContainer",z.none),Je("validHtml",""),Ha("onValid"),Ha("onInvalid"),Ha("onValidate")]),Ol("validator",[It("validate"),Je("onEvent","input"),Je("validateOnLoad",!0)])],Xm=Ss({fields:bf,name:"invalidating",active:VA,apis:Ez,extra:{validation:function(n){return function(o){var l=Sn.getValue(o);return Fl.pure(n(l))}}}}),Tz=function(n,o,l,v){return l.getOrCreate(n,o,v)},Az=Object.freeze({__proto__:null,getCoupled:Tz}),Oz=[Ls("others",mu(Mr.value,Mf()))],Dz=function(){var n={},o=function(v,y,C){var A=ii(y.others);if(A)return Zn(n,C).getOrThunk(function(){var P=Zn(y.others,C).getOrDie("No information found for coupled component: "+C),I=P(v),H=v.getSystem().build(I);return n[C]=H,H});throw new Error("Cannot find coupled component: "+C+". Known coupled components: "+JSON.stringify(A,null,2))},l=le({});return Iu({readState:l,getOrCreate:o})},w4=Object.freeze({__proto__:null,init:Dz}),ks=Ss({fields:Oz,name:"coupling",apis:Az,state:w4}),x4=le("sink"),C4=le(pd({name:x4(),overrides:le({dom:{tag:"div"},behaviours:mn([it.config({useFixed:ve})]),events:Qa([hh(l1()),hh(Lf()),hh(Rv())])})})),Gh;(function(n){n[n.HighlightFirst=0]="HighlightFirst",n[n.HighlightNone=1]="HighlightNone"})(Gh||(Gh={}));var S4=function(n,o){var l=n.getHotspot(o).getOr(o),v="hotspot",y=n.getAnchorOverrides();return n.layouts.fold(function(){return{type:v,hotspot:l,overrides:y}},function(C){return{type:v,hotspot:l,overrides:y,layouts:C}})},E4=function(n,o,l){var v=n.fetch;return v(l).map(o)},k4=function(n,o,l,v,y,C,A){var P=E4(n,o,v),I=T4(v,n);return P.map(function(H){return H.bind(function(G){return z.from(Si.sketch(ue(ue({},C.menu()),{uid:gh(""),data:G,highlightImmediately:A===Gh.HighlightFirst,onOpenMenu:function(Q,fe){var ge=I().getOrDie();it.position(ge,fe,{anchor:l}),Ta.decloak(y)},onOpenSubmenu:function(Q,fe,ge){var xe=I().getOrDie();it.position(xe,ge,{anchor:{type:"submenu",item:fe}}),Ta.decloak(y)},onRepositionMenu:function(Q,fe,ge){var xe=I().getOrDie();it.position(xe,fe,{anchor:l}),xn(ge,function(Fe){it.position(xe,Fe.triggeredMenu,{anchor:{type:"submenu",item:Fe.triggeringItem}})})},onEscape:function(){return Rr.focus(v),Ta.close(y),z.some(!0)}})))})})},UA=function(n,o,l,v,y,C,A){var P=S4(n,l),I=k4(n,o,P,l,v,y,A);return I.map(function(H){return H.fold(function(){Ta.isOpen(v)&&Ta.close(v)},function(G){Ta.cloak(v),Ta.open(v,G),C(v)}),v})},Mz=function(n,o,l,v,y,C,A){return Ta.close(v),Fl.pure(v)},SC=function(n,o,l,v,y,C){var A=ks.getCoupled(l,"sandbox"),P=Ta.isOpen(A),I=P?Mz:UA;return I(n,o,l,A,v,y,C)},Rz=function(n,o,l){var v=fa.getCurrent(o).getOr(o),y=fu(n.element);l?_r(v.element,"min-width",y+"px"):Js(v.element,y)},T4=function(n,o){return n.getSystem().getByUid(o.uid+"-"+x4()).map(function(l){return function(){return Mr.value(l)}}).getOrThunk(function(){return o.lazySink.fold(function(){return function(){return Mr.error(new Error("No internal sink is specified, nor could an external sink be found"))}},function(l){return function(){return l(n)}})})},A4=function(n){Ta.getState(n).each(function(o){Si.repositionMenus(o)})},LR=function(n,o,l){var v=Sm(),y=function(P,I){var H=S4(n,o);v.link(o.element),n.matchWidth&&Rz(H.hotspot,I,n.useMinWidth),n.onOpen(H,P,I),l!==void 0&&l.onOpen!==void 0&&l.onOpen(P,I)},C=function(P,I){v.unlink(o.element),l!==void 0&&l.onClose!==void 0&&l.onClose(P,I)},A=T4(o,n);return{dom:{tag:"div",classes:n.sandboxClasses,attributes:{id:v.id,role:"listbox"}},behaviours:gd.augment(n.sandboxBehaviours,[Sn.config({store:{mode:"memory",initialValue:o}}),Ta.config({onOpen:y,onClose:C,isPartOf:function(P,I,H){return Em(I,H)||Em(o,H)},getAttachPoint:function(){return A().getOrDie()}}),fa.config({find:function(P){return Ta.getState(P).bind(function(I){return fa.getCurrent(I)})}}),sl.config({channels:ue(ue({},Gc({isExtraPart:de})),_0({doReposition:A4}))})])}},Mb=function(n){var o=ks.getCoupled(n,"sandbox");A4(o)},FR=function(){return[Je("sandboxClasses",[]),gd.field("sandboxBehaviours",[fa,sl,Ta,Sn])]},Pz=le([It("dom"),It("fetch"),Ha("onOpen"),xs("onExecute"),Je("getHotspot",z.some),Je("getAnchorOverrides",le({})),Oh(),au("dropdownBehaviours",[Pa,ks,vr,Rr]),It("toggleClass"),Je("eventOrder",{}),za("lazySink"),Je("matchWidth",!1),Je("useMinWidth",!1),za("role")].concat(FR())),Rb=le([jf({schema:[wh()],name:"menu",defaults:function(n){return{onExecute:n.onExecute}}}),C4()]),Iz=function(n,o,l,v){var y,C=function(G){return Zn(n.dom,"attributes").bind(function(Q){return Zn(Q,G)})},A=function(G){Ta.getState(G).each(function(Q){Si.highlightPrimary(Q)})},P=function(G){var Q=A;SC(n,Pe,G,v,Q,Gh.HighlightFirst).get(se)},I={expand:function(G){Pa.isOn(G)||SC(n,Pe,G,v,se,Gh.HighlightNone).get(se)},open:function(G){Pa.isOn(G)||SC(n,Pe,G,v,se,Gh.HighlightFirst).get(se)},isOpen:Pa.isOn,close:function(G){Pa.isOn(G)&&SC(n,Pe,G,v,se,Gh.HighlightFirst).get(se)},repositionMenus:function(G){Pa.isOn(G)&&Mb(G)}},H=function(G,Q){return yc(G),z.some(!0)};return{uid:n.uid,dom:n.dom,components:o,behaviours:Lu(n.dropdownBehaviours,[Pa.config({toggleClass:n.toggleClass,aria:{mode:"expanded"}}),ks.config({others:{sandbox:function(G){return LR(n,G,{onOpen:function(){return Pa.on(G)},onClose:function(){return Pa.off(G)}})}}}),vr.config({mode:"special",onSpace:H,onEnter:H,onDown:function(G,Q){if(Kh.isOpen(G)){var fe=ks.getCoupled(G,"sandbox");A(fe)}else Kh.open(G);return z.some(!0)},onEscape:function(G,Q){return Kh.isOpen(G)?(Kh.close(G),z.some(!0)):z.none()}}),Rr.config({})]),events:cC(z.some(P)),eventOrder:ue(ue({},n.eventOrder),(y={},y[gc()]=["disabling","toggling","alloy.base.behaviour"],y)),apis:I,domModification:{attributes:ue(ue({"aria-haspopup":"true"},n.role.fold(function(){return{}},function(G){return{role:G}})),n.dom.tag==="button"?{type:C("type").getOr("button")}:{})}}},Kh=Sc({name:"Dropdown",configFields:Pz(),partFields:Rb(),factory:Iz,apis:{open:function(n,o){return n.open(o)},expand:function(n,o){return n.expand(o)},close:function(n,o){return n.close(o)},isOpen:function(n,o){return n.isOpen(o)},repositionMenus:function(n,o){return n.repositionMenus(o)}}}),Kv=function(){return zf({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})},O4=function(){return Qa([bm(cf(),ve)])},D4=Object.freeze({__proto__:null,events:O4,exhibit:Kv}),ME=Ss({fields:[],name:"unselecting",active:D4}),Bz=function(n,o){return Kh.sketch({dom:n.dom,components:n.components,toggleClass:"mce-active",dropdownBehaviours:mn([qh.button(o.providers.isDisabled),wu(),ME.config({}),Es.config({})]),layouts:n.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:o.getSink,fetch:function(l){return Fl.nu(function(v){return n.fetch(v)}).map(function(v){return z.from(r4(Et(SR(qt("menu-value"),v,function(y){n.onItemAction(l,y)},n.columns,n.presets,ec.CLOSE_ON_EXECUTE,de,o.providers),{movement:IA(n.columns,n.presets)})))})},parts:{menu:I_(!1,1,n.presets)}})},RE=qt("color-input-change"),M4=qt("color-swatch-change"),NR=qt("color-picker-cancel"),Lz=function(n,o,l){var v=ei.parts.field({factory:OE,inputClasses:["tox-textfield"],onSetValue:function(I){return Xm.run(I).get(se)},inputBehaviours:mn([cr.config({disabled:o.providers.isDisabled}),wu(),Es.config({}),Xm.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(I){return eo(I.element)},notify:{onValid:function(I){var H=Sn.getValue(I);Qn(I,RE,{color:H})}},validator:{validateOnLoad:!1,validate:function(I){var H=Sn.getValue(I);if(H.length===0)return Fl.pure(Mr.value(!0));var G=vn.fromTag("span");_r(G,"background-color",H);var Q=Io(G,"background-color").fold(function(){return Mr.error("blah")},function(fe){return Mr.value(H)});return Fl.pure(Q)}}})]),selectOnFocus:!1}),y=n.label.map(function(I){return B0(I,o.providers)}),C=function(I,H){Qn(I,M4,{value:H})},A=function(I,H){P.getOpt(I).each(function(G){H==="custom"?l.colorPicker(function(Q){Q.fold(function(){return xa(G,NR)},function(fe){C(G,fe),_R(fe)})},"#ffffff"):H==="remove"?C(G,""):C(G,H)})},P=li(Bz({dom:{tag:"span",attributes:{"aria-label":o.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[Us,Vs,Zo]},onLtr:function(){return[Vs,Us,Zo]}},components:[],fetch:CR(l.getColors(),l.hasCustomColors()),columns:l.getColorCols(),presets:"color",onItemAction:A},o));return ei.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:y.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[v,P.asSpec()]}]),fieldBehaviours:mn([qr("form-field-events",[Nt(RE,function(I,H){P.getOpt(I).each(function(G){_r(G.element,"background-color",H.event.color)}),Qn(I,rv,{name:n.name})}),Nt(M4,function(I,H){ei.getField(I).each(function(G){Sn.setValue(G,H.event.value),fa.getCurrent(I).each(Rr.focus)})}),Nt(NR,function(I,H){ei.getField(I).each(function(G){fa.getCurrent(I).each(Rr.focus)})})])])})},Fz=pd({schema:[It("dom")],name:"label"}),Pb=function(n){return pd({name:""+n+"-edge",overrides:function(o){var l=o.model.manager.edgeActions[n];return l.fold(function(){return{}},function(v){return{events:Qa([Eg(Bd(),function(y,C,A){return v(y,A)},[o]),Eg(Lf(),function(y,C,A){return v(y,A)},[o]),Eg(Dv(),function(y,C,A){A.mouseIsDown.get()&&v(y,A)},[o])])}})}})},$R=Pb("top-left"),Nz=Pb("top"),$z=Pb("top-right"),zz=Pb("right"),Hz=Pb("bottom-right"),Vz=Pb("bottom"),Uz=Pb("bottom-left"),Wz=Pb("left"),R4=hl({name:"thumb",defaults:le({dom:{styles:{position:"absolute"}}}),overrides:function(n){return{events:Qa([$d(Bd(),n,"spectrum"),$d(zc(),n,"spectrum"),$d(Ov(),n,"spectrum"),$d(Lf(),n,"spectrum"),$d(Dv(),n,"spectrum"),$d(vy(),n,"spectrum")])}}}),P4=hl({schema:[Al("mouseIsDown",function(){return ur(!1)})],name:"spectrum",overrides:function(n){var o=n.model,l=o.manager,v=function(y,C){return l.getValueFromEvent(C).map(function(A){return l.setValueFrom(y,n,A)})};return{behaviours:mn([vr.config({mode:"special",onLeft:function(y){return l.onLeft(y,n)},onRight:function(y){return l.onRight(y,n)},onUp:function(y){return l.onUp(y,n)},onDown:function(y){return l.onDown(y,n)}}),Rr.config({})]),events:Qa([Nt(Bd(),v),Nt(zc(),v),Nt(Lf(),v),Nt(Dv(),function(y,C){n.mouseIsDown.get()&&v(y,C)})])}}}),jz=[Fz,Wz,zz,Nz,Vz,$R,$z,Uz,Hz,R4,P4],Yz="slider.change.value",PE=le(Yz),qz=function(n){return n.type.indexOf("touch")!==-1},zR=function(n){var o=n.event.raw;if(qz(o)){var l=o;return l.touches!==void 0&&l.touches.length===1?z.some(l.touches[0]).map(function(y){return $a(y.clientX,y.clientY)}):z.none()}else{var v=o;return v.clientX!==void 0?z.some(v).map(function(y){return $a(y.clientX,y.clientY)}):z.none()}},I4="top",B4="right",L4="bottom",WA="left",H_=function(n){return n.model.minX},Ib=function(n){return n.model.minY},jA=function(n){return n.model.minX-1},YA=function(n){return n.model.minY-1},V_=function(n){return n.model.maxX},U_=function(n){return n.model.maxY},W_=function(n){return n.model.maxX+1},qA=function(n){return n.model.maxY+1},F4=function(n,o,l){return o(n)-l(n)},Zm=function(n){return F4(n,V_,H_)},HR=function(n){return F4(n,U_,Ib)},j_=function(n){return Zm(n)/2},VR=function(n){return HR(n)/2},Bb=function(n){return n.stepSize},N4=function(n){return n.snapToGrid},$4=function(n){return n.snapStart},z4=function(n){return n.rounded},IE=function(n,o){return n[o+"-edge"]!==void 0},H4=function(n){return IE(n,WA)},BE=function(n){return IE(n,B4)},V4=function(n){return IE(n,I4)},wd=function(n){return IE(n,L4)},F0=function(n){return n.model.value.get()},U4=function(n){return{x:n}},UR=function(n){return{y:n}},N0=function(n,o){return{x:n,y:o}},Xh=function(n,o){Qn(n,PE(),{value:o})},Gz=function(n,o){Xh(n,N0(jA(o),YA(o)))},Kz=function(n,o){Xh(n,UR(YA(o)))},Xz=function(n,o){Xh(n,N0(j_(o),YA(o)))},Zz=function(n,o){Xh(n,N0(W_(o),YA(o)))},Jz=function(n,o){Xh(n,U4(W_(o)))},Qz=function(n,o){Xh(n,N0(W_(o),VR(o)))},W4=function(n,o){Xh(n,N0(W_(o),qA(o)))},e7=function(n,o){Xh(n,UR(qA(o)))},t7=function(n,o){Xh(n,N0(j_(o),qA(o)))},n7=function(n,o){Xh(n,N0(jA(o),qA(o)))},j4=function(n,o){Xh(n,U4(jA(o)))},GA=function(n,o){Xh(n,N0(jA(o),VR(o)))},WR=function(n,o,l,v){return n<o?n:n>l?l:n===o?o-1:Math.max(o,n-v)},EC=function(n,o,l,v){return n>l?n:n<o?o:n===l?l+1:Math.min(l,n+v)},Y_=function(n,o,l){return Math.max(o,Math.min(l,n))},Y4=function(n,o,l,v,y){return y.fold(function(){var C=n-o,A=Math.round(C/v)*v;return Y_(o+A,o-1,l+1)},function(C){var A=(n-C)%v,P=Math.round(A/v),I=Math.floor((n-C)/v),H=Math.floor((l-C)/v),G=Math.min(H,I+P),Q=C+G*v;return Math.max(C,Q)})},q4=function(n,o,l){return Math.min(l,Math.max(n,o))-o},jR=function(n){var o=n.min,l=n.max,v=n.range,y=n.value,C=n.step,A=n.snap,P=n.snapStart,I=n.rounded,H=n.hasMinEdge,G=n.hasMaxEdge,Q=n.minBound,fe=n.maxBound,ge=n.screenRange,xe=H?o-1:o,Fe=G?l+1:l;if(y<Q)return xe;if(y>fe)return Fe;var et=q4(y,Q,fe),Re=Y_(et/ge*v+o,xe,Fe);return A&&Re>=o&&Re<=l?Y4(Re,o,l,C,P):I?Math.round(Re):Re},G4=function(n){var o=n.min,l=n.max,v=n.range,y=n.value,C=n.hasMinEdge,A=n.hasMaxEdge,P=n.maxBound,I=n.maxOffset,H=n.centerMinEdge,G=n.centerMaxEdge;return y<o?C?0:H:y>l?A?P:G:(y-o)/v*I},YR="top",LE="right",K4="bottom",qR="left",X4="width",Z4="height",Zh=function(n){return n.element.dom.getBoundingClientRect()},Xv=function(n,o){return n[o]},tc=function(n){var o=Zh(n);return Xv(o,qR)},GR=function(n){var o=Zh(n);return Xv(o,LE)},KA=function(n){var o=Zh(n);return Xv(o,YR)},J4=function(n){var o=Zh(n);return Xv(o,K4)},KR=function(n){var o=Zh(n);return Xv(o,X4)},Q4=function(n){var o=Zh(n);return Xv(o,Z4)},eL=function(n,o,l){return(n+o)/2-l},tL=function(n,o){var l=Zh(n),v=Zh(o),y=Xv(l,qR),C=Xv(l,LE),A=Xv(v,qR);return eL(y,C,A)},XR=function(n,o){var l=Zh(n),v=Zh(o),y=Xv(l,YR),C=Xv(l,K4),A=Xv(v,YR);return eL(y,C,A)},Zv=function(n,o){Qn(n,PE(),{value:o})},kC=function(n){return{x:n}},XA=function(n,o,l){var v={min:H_(o),max:V_(o),range:Zm(o),value:l,step:Bb(o),snap:N4(o),snapStart:$4(o),rounded:z4(o),hasMinEdge:H4(o),hasMaxEdge:BE(o),minBound:tc(n),maxBound:GR(n),screenRange:KR(n)};return jR(v)},ZA=function(n,o,l){var v=XA(n,o,l),y=kC(v);return Zv(n,y),v},ZR=function(n,o){var l=H_(o);Zv(n,kC(l))},r7=function(n,o){var l=V_(o);Zv(n,kC(l))},a7=function(n,o,l){var v=n>0?EC:WR,y=v(F0(l).x,H_(l),V_(l),Bb(l));return Zv(o,kC(y)),z.some(y)},nL=function(n){return function(o,l){return a7(n,o,l).map(ve)}},i7=function(n){var o=zR(n);return o.map(function(l){return l.left})},o7=function(n,o,l,v,y){var C=0,A=KR(n),P=v.bind(function(G){return z.some(tL(G,n))}).getOr(C),I=y.bind(function(G){return z.some(tL(G,n))}).getOr(A),H={min:H_(o),max:V_(o),range:Zm(o),value:l,hasMinEdge:H4(o),hasMaxEdge:BE(o),minBound:tc(n),minOffset:C,maxBound:GR(n),maxOffset:A,centerMinEdge:P,centerMaxEdge:I};return G4(H)},FE=function(n,o,l,v,y,C){var A=o7(o,C,l,v,y);return tc(o)-tc(n)+A},s7=function(n,o,l,v){var y=F0(l),C=FE(n,v.getSpectrum(n),y.x,v.getLeftEdge(n),v.getRightEdge(n),l),A=fu(o.element)/2;_r(o.element,"left",C-A+"px")},rL=nL(-1),u7=nL(1),yp=z.none,JA=z.none,l7={"top-left":z.none(),top:z.none(),"top-right":z.none(),right:z.some(Jz),"bottom-right":z.none(),bottom:z.none(),"bottom-left":z.none(),left:z.some(j4)},c7=Object.freeze({__proto__:null,setValueFrom:ZA,setToMin:ZR,setToMax:r7,findValueOfOffset:XA,getValueFromEvent:i7,findPositionOfValue:FE,setPositionFromValue:s7,onLeft:rL,onRight:u7,onUp:yp,onDown:JA,edgeActions:l7}),NE=function(n,o){Qn(n,PE(),{value:o})},$E=function(n){return{y:n}},zE=function(n,o,l){var v={min:Ib(o),max:U_(o),range:HR(o),value:l,step:Bb(o),snap:N4(o),snapStart:$4(o),rounded:z4(o),hasMinEdge:V4(o),hasMaxEdge:wd(o),minBound:KA(n),maxBound:J4(n),screenRange:Q4(n)};return jR(v)},aL=function(n,o,l){var v=zE(n,o,l),y=$E(v);return NE(n,y),v},HE=function(n,o){var l=Ib(o);NE(n,$E(l))},VE=function(n,o){var l=U_(o);NE(n,$E(l))},f7=function(n,o,l){var v=n>0?EC:WR,y=v(F0(l).y,Ib(l),U_(l),Bb(l));return NE(o,$E(y)),z.some(y)},iL=function(n){return function(o,l){return f7(n,o,l).map(ve)}},d7=function(n){var o=zR(n);return o.map(function(l){return l.top})},v7=function(n,o,l,v,y){var C=0,A=Q4(n),P=v.bind(function(G){return z.some(XR(G,n))}).getOr(C),I=y.bind(function(G){return z.some(XR(G,n))}).getOr(A),H={min:Ib(o),max:U_(o),range:HR(o),value:l,hasMinEdge:V4(o),hasMaxEdge:wd(o),minBound:KA(n),minOffset:C,maxBound:J4(n),maxOffset:A,centerMinEdge:P,centerMaxEdge:I};return G4(H)},JR=function(n,o,l,v,y,C){var A=v7(o,C,l,v,y);return KA(o)-KA(n)+A},h7=function(n,o,l,v){var y=F0(l),C=JR(n,v.getSpectrum(n),y.y,v.getTopEdge(n),v.getBottomEdge(n),l),A=ss(o.element)/2;_r(o.element,"top",C-A+"px")},m7=z.none,QR=z.none,q_=iL(-1),g7=iL(1),oL={"top-left":z.none(),top:z.some(Kz),"top-right":z.none(),right:z.none(),"bottom-right":z.none(),bottom:z.some(e7),"bottom-left":z.none(),left:z.none()},p7=Object.freeze({__proto__:null,setValueFrom:aL,setToMin:HE,setToMax:VE,findValueOfOffset:zE,getValueFromEvent:d7,findPositionOfValue:JR,setPositionFromValue:h7,onLeft:m7,onRight:QR,onUp:q_,onDown:g7,edgeActions:oL}),QA=function(n,o){Qn(n,PE(),{value:o})},eO=function(n,o){return{x:n,y:o}},b7=function(n,o,l){var v=XA(n,o,l.left),y=zE(n,o,l.top),C=eO(v,y);return QA(n,C),C},y7=function(n,o,l,v){var y=n>0?EC:WR,C=o?F0(v).x:y(F0(v).x,H_(v),V_(v),Bb(v)),A=o?y(F0(v).y,Ib(v),U_(v),Bb(v)):F0(v).y;return QA(l,eO(C,A)),z.some(C)},UE=function(n,o){return function(l,v){return y7(n,o,l,v).map(ve)}},eP=function(n,o){var l=H_(o),v=Ib(o);QA(n,eO(l,v))},_7=function(n,o){var l=V_(o),v=U_(o);QA(n,eO(l,v))},sL=function(n){return zR(n)},tP=function(n,o,l,v){var y=F0(l),C=FE(n,v.getSpectrum(n),y.x,v.getLeftEdge(n),v.getRightEdge(n),l),A=JR(n,v.getSpectrum(n),y.y,v.getTopEdge(n),v.getBottomEdge(n),l),P=fu(o.element)/2,I=ss(o.element)/2;_r(o.element,"left",C-P+"px"),_r(o.element,"top",A-I+"px")},nP=UE(-1,!1),uL=UE(1,!1),w7=UE(-1,!0),x7=UE(1,!0),tO={"top-left":z.some(Gz),top:z.some(Xz),"top-right":z.some(Zz),right:z.some(Qz),"bottom-right":z.some(W4),bottom:z.some(t7),"bottom-left":z.some(n7),left:z.some(GA)},lL=Object.freeze({__proto__:null,setValueFrom:b7,setToMin:eP,setToMax:_7,getValueFromEvent:sL,setPositionFromValue:tP,onLeft:nP,onRight:uL,onUp:w7,onDown:x7,edgeActions:tO}),C7=[Je("stepSize",1),Je("onChange",se),Je("onChoose",se),Je("onInit",se),Je("onDragStart",se),Je("onDragEnd",se),Je("snapToGrid",!1),Je("rounded",!0),za("snapStart"),Ls("model",ql("mode",{x:[Je("minX",0),Je("maxX",100),Al("value",function(n){return ur(n.mode.minX)}),It("getInitialValue"),Ti("manager",c7)],y:[Je("minY",0),Je("maxY",100),Al("value",function(n){return ur(n.mode.minY)}),It("getInitialValue"),Ti("manager",p7)],xy:[Je("minX",0),Je("maxX",100),Je("minY",0),Je("maxY",100),Al("value",function(n){return ur({x:n.mode.minX,y:n.mode.minY})}),It("getInitialValue"),Ti("manager",lL)]})),au("sliderBehaviours",[vr,Sn]),Al("mouseIsDown",function(){return ur(!1)})],S7=function(n,o,l,v){var y,C=function(tt){return Hh(tt,n,"thumb")},A=function(tt){return Hh(tt,n,"spectrum")},P=function(tt){return Ai(tt,n,"left-edge")},I=function(tt){return Ai(tt,n,"right-edge")},H=function(tt){return Ai(tt,n,"top-edge")},G=function(tt){return Ai(tt,n,"bottom-edge")},Q=n.model,fe=Q.manager,ge=function(tt,gt){fe.setPositionFromValue(tt,gt,n,{getLeftEdge:P,getRightEdge:I,getTopEdge:H,getBottomEdge:G,getSpectrum:A})},xe=function(tt,gt){Q.value.set(gt);var Pt=C(tt);ge(tt,Pt)},Fe=function(tt,gt){xe(tt,gt);var Pt=C(tt);return n.onChange(tt,Pt,gt),z.some(!0)},et=function(tt){fe.setToMin(tt,n)},Re=function(tt){fe.setToMax(tt,n)},nt=function(tt){var gt=function(){Ai(tt,n,"thumb").each(function(En){var Ht=Q.value.get();n.onChoose(tt,En,Ht)})},Pt=n.mouseIsDown.get();n.mouseIsDown.set(!1),Pt&&gt()},Ct=function(tt,gt){gt.stop(),n.mouseIsDown.set(!0),n.onDragStart(tt,C(tt))},xt=function(tt,gt){gt.stop(),n.onDragEnd(tt,C(tt)),nt(tt)};return{uid:n.uid,dom:n.dom,components:o,behaviours:Lu(n.sliderBehaviours,[vr.config({mode:"special",focusIn:function(tt){return Ai(tt,n,"spectrum").map(vr.focusIn).map(ve)}}),Sn.config({store:{mode:"manual",getValue:function(tt){return Q.value.get()}}}),sl.config({channels:(y={},y[i2()]={onReceive:nt},y)})]),events:Qa([Nt(PE(),function(tt,gt){Fe(tt,gt.event.value)}),Br(function(tt,gt){var Pt=Q.getInitialValue();Q.value.set(Pt);var En=C(tt);ge(tt,En);var Ht=A(tt);n.onInit(tt,En,Ht,Q.value.get())}),Nt(Bd(),Ct),Nt(Ov(),xt),Nt(Lf(),Ct),Nt(vy(),xt)]),apis:{resetToMin:et,resetToMax:Re,setValue:xe,refresh:ge},domModification:{styles:{position:"relative"}}}},Jh=Sc({name:"Slider",configFields:C7,partFields:jz,factory:S7,apis:{setValue:function(n,o,l){n.setValue(o,l)},resetToMin:function(n,o){n.resetToMin(o)},resetToMax:function(n,o){n.resetToMax(o)},refresh:function(n,o){n.refresh(o)}}}),rP=qt("rgb-hex-update"),_p=qt("slider-update"),nO=qt("palette-update"),cL=function(n,o){var l=Jh.parts.spectrum({dom:{tag:"div",classes:[o("hue-slider-spectrum")],attributes:{role:"presentation"}}}),v=Jh.parts.thumb({dom:{tag:"div",classes:[o("hue-slider-thumb")],attributes:{role:"presentation"}}});return Jh.sketch({dom:{tag:"div",classes:[o("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:le({y:0})},components:[l,v],sliderBehaviours:mn([Rr.config({})]),onChange:function(y,C,A){Qn(y,_p,{value:A})}})},aP="form",iP=[au("formBehaviours",[Sn])],oP=function(n){return"<alloy.field."+n+">"},rO=function(n){var o=function(){var C=[],A=function(P,I){return C.push(P),w2(aP,oP(P),I)};return{field:A,record:le(C)}}(),l=n(o),v=o.record(),y=Vt(v,function(C){return hl({name:C,pname:oP(C)})});return k2(aP,iP,y,dL,l)},fL=function(n,o){return n.fold(function(){return Mr.error(o)},Mr.value)},dL=function(n,o){return{uid:n.uid,dom:n.dom,components:o,behaviours:Lu(n.formBehaviours,[Sn.config({store:{mode:"manual",getValue:function(l){var v=rT(l,n);return ya(v,function(y,C){return y().bind(function(A){var P=fa.getCurrent(A);return fL(P,new Error("Cannot find a current component to extract the value from for form part '"+C+"': "+Pu(A.element)))}).map(Sn.getValue)})},setValue:function(l,v){oi(v,function(y,C){Ai(l,n,C).each(function(A){fa.getCurrent(A).each(function(P){Sn.setValue(P,y)})})})}}})]),apis:{getField:function(l,v){return Ai(l,n,v).bind(fa.getCurrent)}}}},TC={getField:fo(function(n,o,l){return n.getField(o,l)}),sketch:rO},vL=qt("valid-input"),hL=qt("invalid-input"),mL=qt("validating-input"),aO="colorcustom.rgb.",gL=function(n,o,l,v){var y=function(fe,ge){return Xm.config({invalidClass:o("invalid"),notify:{onValidate:function(xe){Qn(xe,mL,{type:fe})},onValid:function(xe){Qn(xe,vL,{type:fe,value:Sn.getValue(xe)})},onInvalid:function(xe){Qn(xe,hL,{type:fe,value:Sn.getValue(xe)})}},validator:{validate:function(xe){var Fe=Sn.getValue(xe),et=ge(Fe)?Mr.value(!0):Mr.error(n("aria.input.invalid"));return Fl.pure(et)},validateOnLoad:!1}})},C=function(fe,ge,xe,Fe,et){var Re=n(aO+"range"),nt=ei.parts.label({dom:{tag:"label",innerHtml:xe,attributes:{"aria-label":Fe}}}),Ct=ei.parts.field({data:et,factory:OE,inputAttributes:ue({type:"text"},ge==="hex"?{"aria-live":"polite"}:{}),inputClasses:[o("textfield")],inputBehaviours:mn([y(ge,fe),Es.config({})]),onSetValue:function(Pt){if(Xm.isInvalid(Pt)){var En=Xm.run(Pt);En.get(se)}}}),xt=[nt,Ct],tt=ge!=="hex"?[ei.parts["aria-descriptor"]({text:Re})]:[],gt=xt.concat(tt);return{dom:{tag:"div",attributes:{role:"presentation"}},components:gt}},A=function(fe,ge){var xe=yE(ge);return TC.getField(fe,"hex").each(function(Fe){Rr.isFocused(Fe)||Sn.setValue(fe,{hex:xe.value})}),xe},P=function(fe,ge){var xe=ge.red,Fe=ge.green,et=ge.blue;Sn.setValue(fe,{red:xe,green:Fe,blue:et})},I=li({dom:{tag:"div",classes:[o("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),H=function(fe,ge){I.getOpt(fe).each(function(xe){_r(xe.element,"background-color","#"+ge.value)})},G=function(){var fe={red:ur(z.some(255)),green:ur(z.some(255)),blue:ur(z.some(255)),hex:ur(z.some("ffffff"))},ge=function(Rt,dn){var Vn=_E(dn);P(Rt,Vn),Re(Vn)},xe=function(Rt){return fe[Rt].get()},Fe=function(Rt,dn){fe[Rt].set(dn)},et=function(){return xe("red").bind(function(Rt){return xe("green").bind(function(dn){return xe("blue").map(function(Vn){return Db(Rt,dn,Vn,1)})})})},Re=function(Rt){var dn=Rt.red,Vn=Rt.green,zt=Rt.blue;Fe("red",z.some(dn)),Fe("green",z.some(Vn)),Fe("blue",z.some(zt))},nt=function(Rt,dn){var Vn=dn.event;Vn.type!=="hex"?Fe(Vn.type,z.none()):v(Rt)},Ct=function(Rt,dn){l(Rt);var Vn=CB(dn);Fe("hex",z.some(dn));var zt=_E(Vn);P(Rt,zt),Re(zt),Qn(Rt,rP,{hex:Vn}),H(Rt,Vn)},xt=function(Rt,dn,Vn){var zt=parseInt(Vn,10);Fe(dn,z.some(zt)),et().each(function($n){var Xn=A(Rt,$n);Qn(Rt,rP,{hex:Xn}),H(Rt,Xn)})},tt=function(Rt){return Rt.type==="hex"},gt=function(Rt,dn){var Vn=dn.event;tt(Vn)?Ct(Rt,Vn.value):xt(Rt,Vn.type,Vn.value)},Pt=function(Rt){return{label:n(aO+Rt+".label"),description:n(aO+Rt+".description")}},En=Pt("red"),Ht=Pt("green"),Tn=Pt("blue"),Yt=Pt("hex");return Et(TC.sketch(function(Rt){return{dom:{tag:"form",classes:[o("rgb-form")],attributes:{"aria-label":n("aria.color.picker")}},components:[Rt.field("red",ei.sketch(C(hR,"red",En.label,En.description,255))),Rt.field("green",ei.sketch(C(hR,"green",Ht.label,Ht.description,255))),Rt.field("blue",ei.sketch(C(hR,"blue",Tn.label,Tn.description,255))),Rt.field("hex",ei.sketch(C(kB,"hex",Yt.label,Yt.description,"ffffff"))),I.asSpec()],formBehaviours:mn([Xm.config({invalidClass:o("form-invalid")}),qr("rgb-form-events",[Nt(vL,gt),Nt(hL,nt),Nt(mL,nt)])])}}),{apis:{updateHex:function(Rt,dn){Sn.setValue(Rt,{hex:dn.value}),ge(Rt,dn),H(Rt,dn)}}})},Q=Yf({factory:G,name:"RgbForm",configFields:[],apis:{updateHex:function(fe,ge,xe){fe.updateHex(ge,xe)}},extraApis:{}});return Q},E7=function(n,o){var l=Jh.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[o("sv-palette-spectrum")]}}),v=Jh.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[o("sv-palette-thumb")],innerHtml:"<div class="+o("sv-palette-inner-thumb")+' role="presentation"></div>'}}),y=function(H,G){var Q=H.width,fe=H.height,ge=H.getContext("2d");if(ge!==null){ge.fillStyle=G,ge.fillRect(0,0,Q,fe);var xe=ge.createLinearGradient(0,0,Q,0);xe.addColorStop(0,"rgba(255,255,255,1)"),xe.addColorStop(1,"rgba(255,255,255,0)"),ge.fillStyle=xe,ge.fillRect(0,0,Q,fe);var Fe=ge.createLinearGradient(0,0,0,fe);Fe.addColorStop(0,"rgba(0,0,0,0)"),Fe.addColorStop(1,"rgba(0,0,0,1)"),ge.fillStyle=Fe,ge.fillRect(0,0,Q,fe)}},C=function(H,G){var Q=H.components()[0].element.dom,fe=wE(G,100,100),ge=OB(fe);y(Q,RB(ge))},A=function(H,G){var Q=gR(_E(G));Jh.setValue(H,{x:Q.saturation,y:100-Q.value})},P=function(H){var G=le({x:0,y:0}),Q=function(xe,Fe,et){Qn(xe,nO,{value:et})},fe=function(xe,Fe,et,Re){y(et.element.dom,RB(PB))},ge=mn([fa.config({find:z.some}),Rr.config({})]);return Jh.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[o("sv-palette")]},model:{mode:"xy",getInitialValue:G},rounded:!1,components:[l,v],onChange:Q,onInit:fe,sliderBehaviours:ge})},I=Yf({factory:P,name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:function(H,G,Q){C(G,Q)},setThumb:function(H,G,Q){A(G,Q)}},extraApis:{}});return I},k7=function(n,o){var l=function(y){var C=gL(n,o,y.onValidHex,y.onInvalidHex),A=E7(n,o),P=function(gt){return(100-gt)/100*360},I=function(gt){return 100-gt/360*100},H={paletteRgba:ur(PB),paletteHue:ur(0)},G=li(cL(n,o)),Q=li(A.sketch({})),fe=li(C.sketch({})),ge=function(gt,Pt,En){Q.getOpt(gt).each(function(Ht){A.setHue(Ht,En)})},xe=function(gt,Pt){fe.getOpt(gt).each(function(En){C.updateHex(En,Pt)})},Fe=function(gt,Pt,En){G.getOpt(gt).each(function(Ht){Jh.setValue(Ht,{y:I(En)})})},et=function(gt,Pt){Q.getOpt(gt).each(function(En){A.setThumb(En,Pt)})},Re=function(gt,Pt){var En=_E(gt);H.paletteRgba.set(En),H.paletteHue.set(Pt)},nt=function(gt,Pt,En,Ht){Re(Pt,En),xn(Ht,function(Tn){Tn(gt,Pt,En)})},Ct=function(){var gt=[xe];return function(Pt,En){var Ht=En.event.value,Tn=H.paletteHue.get(),Yt=wE(Tn,Ht.x,100-Ht.y),Rt=LB(Yt);nt(Pt,Rt,Tn,gt)}},xt=function(){var gt=[ge,xe];return function(Pt,En){var Ht=P(En.event.value.y),Tn=H.paletteRgba.get(),Yt=gR(Tn),Rt=wE(Ht,Yt.saturation,Yt.value),dn=LB(Rt);nt(Pt,dn,Ht,gt)}},tt=function(){var gt=[ge,Fe,et];return function(Pt,En){var Ht=En.event.hex,Tn=E8(Ht);nt(Pt,Ht,Tn.hue,gt)}};return{uid:y.uid,dom:y.dom,components:[Q.asSpec(),G.asSpec(),fe.asSpec()],behaviours:mn([qr("colour-picker-events",[Nt(rP,tt()),Nt(nO,Ct()),Nt(_p,xt())]),fa.config({find:function(gt){return fe.getOpt(gt)}}),vr.config({mode:"acyclic"})])}},v=Yf({name:"ColourPicker",configFields:[It("dom"),Je("onValidHex",se),Je("onInvalidHex",se)],factory:l});return v},T7=function(){return fa.config({find:z.some})},iO=function(n){return fa.config({find:n.getOpt})},A7=function(n){return fa.config({find:function(o){return N(o.element,n).bind(function(l){return o.getSystem().getByDom(l).toOptional()})}})},Jm={self:T7,memento:iO,childAt:A7},pL={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},bL=function(n){return pL[n]},O7=function(n){return bL(n)},D7=function(n){var o=function(A){return"tox-"+A},l=k7(O7,o),v=function(A){Qn(A,Km,{name:"hex-valid",value:!0})},y=function(A){Qn(A,Km,{name:"hex-valid",value:!1})},C=li(l.sketch({dom:{tag:"div",classes:[o("color-picker-container")],attributes:{role:"presentation"}},onValidHex:v,onInvalidHex:y}));return{dom:{tag:"div"},components:[C.asSpec()],behaviours:mn([Sn.config({store:{mode:"manual",getValue:function(A){var P=C.get(A),I=fa.getCurrent(P),H=I.bind(function(G){var Q=Sn.getValue(G);return Q.hex});return H.map(function(G){return"#"+G}).getOr("")},setValue:function(A,P){var I=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,H=I.exec(P),G=C.get(A),Q=fa.getCurrent(G);Q.fold(function(){console.log("Can not find form")},function(fe){Sn.setValue(fe,{hex:z.from(H[1]).getOr("")}),TC.getField(fe,"hex").each(function(ge){xa(ge,rl())})})}}}),Jm.self()])}},oO=tinymce.util.Tools.resolve("tinymce.Resource"),M7=function(n){return ma(n,"init")},R7=function(n){var o=Eo(),l=li({dom:{tag:n.tag}}),v=Eo();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:mn([qr("custom-editor-events",[Br(function(y){l.getOpt(y).each(function(C){(M7(n)?n.init(C.element.dom):oO.load(n.scriptId,n.scriptUrl).then(function(A){return A(C.element.dom,n.settings)})).then(function(A){v.on(function(P){A.setValue(P)}),v.clear(),o.set(A)})})})]),Sn.config({store:{mode:"manual",getValue:function(){return o.get().fold(function(){return v.get().getOr("")},function(y){return y.getValue()})},setValue:function(y,C){o.get().fold(function(){v.set(C)},function(A){return A.setValue(C)})}}}),Jm.self()]),components:[l.asSpec()]}},Lb=tinymce.util.Tools.resolve("tinymce.util.Tools"),P7=Jn([Je("preprocess",Pe),Je("postprocess",Pe)]),sO=function(n,o){var l=Wa("RepresentingConfigs.memento processors",P7,o);return Sn.config({store:{mode:"manual",getValue:function(v){var y=n.get(v),C=Sn.getValue(y);return l.postprocess(C)},setValue:function(v,y){var C=l.preprocess(y),A=n.get(v);Sn.setValue(A,C)}}})},uO=function(n,o,l){return Sn.config(Et({store:{mode:"manual",getValue:o,setValue:l}},n.map(function(v){return{store:{initialValue:v}}}).getOr({})))},sP=function(n,o,l){return uO(n,function(v){return o(v.element)},function(v,y){return l(v.element,y)})},I7=function(n){return sP(n,Wd,Dg)},lO=function(n){return sP(n,ud,Lv)},B7=function(n){return Sn.config({store:{mode:"memory",initialValue:n}})},$0={memento:sO,withElement:sP,withComp:uO,domValue:I7,domHtml:lO,memory:B7},yL="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp",L7=function(n,o){var l=Lb.explode(o.getSetting("images_file_types",yL,"string")),v=function(y){return Gn(l,function(C){return Kn(y.name.toLowerCase(),"."+C.toLowerCase())})};return kt(_o(n),v)},F7=function(n,o){var l=function(Q,fe){fe.stop()},v=function(Q){return function(fe,ge){xn(Q,function(xe){xe(fe,ge)})}},y=function(Q,fe){if(!cr.isDisabled(Q)){var ge=fe.event.raw;A(Q,ge.dataTransfer.files)}},C=function(Q,fe){var ge=fe.event.raw.target;A(Q,ge.files)},A=function(Q,fe){Sn.setValue(Q,L7(fe,o)),Qn(Q,rv,{name:n.name})},P=li({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:mn([qr("input-file-events",[hh(Rv()),hh(Ld())])])}),I=function(Q){return{uid:Q.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:mn([$0.memory([]),Jm.self(),cr.config({}),Pa.config({toggleClass:"dragenter",toggleOnExecute:!1}),qr("dropzone-events",[Nt("dragenter",v([l,Pa.toggle])),Nt("dragleave",v([l,Pa.toggle])),Nt("dragover",l),Nt("drop",v([l,y])),Nt(xg(),C)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:o.translate("Drop an image here")}},pf.sketch({dom:{tag:"button",innerHtml:o.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[P.asSpec()],action:function(fe){var ge=P.get(fe);ge.element.dom.click()},buttonBehaviours:mn([Es.config({}),qh.button(o.isDisabled),wu()])})]}]}},H=n.label.map(function(Q){return B0(Q,o)}),G=ei.parts.field({factory:{sketch:I}});return TE(H,G,["tox-form__group--stretched"],[])},_L=function(n,o){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+n.columns+"col"]},components:Vt(n.items,o.interpreter)}},cO=qt("alloy-fake-before-tabstop"),uP=qt("alloy-fake-after-tabstop"),lP=function(n){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:n},behaviours:mn([Rr.config({ignore:!0}),Es.config({})])}},cP=function(n){return{dom:{tag:"div",classes:["tox-navobj"]},components:[lP([cO]),n,lP([uP])],behaviours:mn([Jm.childAt(1)])}},fP=function(n,o){Qn(n,l1(),{raw:{which:9,shiftKey:o}})},wL=function(n,o){var l=o.element;Rl(l,cO)?fP(n,!0):Rl(l,uP)&&fP(n,!1)},WE=function(n){return SE(n,["."+cO,"."+uP].join(","),de)},N7=!(rr().browser.isIE()||rr().browser.isEdge()),$7=function(n){var o=ur("");return{getValue:function(l){return o.get()},setValue:function(l,v){if(n)$r(l.element,"srcdoc",v);else{$r(l.element,"src","javascript:''");var y=l.element.dom.contentWindow.document;y.open(),y.write(v),y.close()}o.set(v)}}},xL=function(n,o){var l=N7&&n.sandboxed,v=ue(ue({},n.label.map(function(I){return{title:I}}).getOr({})),l?{sandbox:"allow-scripts allow-same-origin"}:{}),y=$7(l),C=n.label.map(function(I){return B0(I,o)}),A=function(I){return cP({uid:I.uid,dom:{tag:"iframe",attributes:v},behaviours:mn([Es.config({}),Rr.config({}),$0.withComp(z.none(),y.getValue,y.setValue)])})},P=ei.parts.field({factory:{sketch:A}});return TE(C,P,["tox-form__group--stretched"],[])},AC=function(n,o){return z7(document.createElement("canvas"),n,o)},CL=function(n){var o=AC(n.width,n.height),l=z0(o);return l.drawImage(n,0,0),o},z0=function(n){return n.getContext("2d")},z7=function(n,o,l){return n.width=o,n.height=l,n},jE=function(n){return n.naturalWidth||n.width},dP=function(n){return n.naturalHeight||n.height},H7=function(n){return new L0(function(o,l){var v=URL.createObjectURL(n),y=new Image,C=function(){y.removeEventListener("load",A),y.removeEventListener("error",P)},A=function(){C(),o(y)},P=function(){C(),l("Unable to load data of type "+n.type+": "+v)};y.addEventListener("load",A),y.addEventListener("error",P),y.src=v,y.complete&&setTimeout(A,0)})},V7=function(n){var o=n.split(","),l=/data:([^;]+)/.exec(o[0]);if(!l)return z.none();for(var v=l[1],y=o[1],C=1024,A=atob(y),P=A.length,I=Math.ceil(P/C),H=new Array(I),G=0;G<I;++G){for(var Q=G*C,fe=Math.min(Q+C,P),ge=new Array(fe-Q),xe=Q,Fe=0;xe<fe;++Fe,++xe)ge[Fe]=A[xe].charCodeAt(0);H[G]=new Uint8Array(ge)}return z.some(new Blob(H,{type:v}))},U7=function(n){return new L0(function(o,l){V7(n).fold(function(){l("uri is not base64: "+n)},o)})},SL=function(n,o,l){return o=o||"image/png",q(HTMLCanvasElement.prototype.toBlob)?new L0(function(v,y){n.toBlob(function(C){C?v(C):y()},o,l)}):U7(n.toDataURL(o,l))},W7=function(n,o,l){return o=o||"image/png",n.toDataURL(o,l)},j7=function(n){return H7(n).then(function(o){Y7(o);var l=AC(jE(o),dP(o)),v=z0(l);return v.drawImage(o,0,0),l})},EL=function(n){return new L0(function(o){var l=new FileReader;l.onloadend=function(){o(l.result)},l.readAsDataURL(n)})},Y7=function(n){URL.revokeObjectURL(n.src)},kL=function(n,o,l){var v=o.type,y=le(v),C=function(){return L0.resolve(o)},A=le(l),P=function(){return l.split(",")[1]},I=function(fe,ge){return n.then(function(xe){return SL(xe,fe,ge)})},H=function(fe,ge){return n.then(function(xe){return W7(xe,fe,ge)})},G=function(fe,ge){return H(fe,ge).then(function(xe){return xe.split(",")[1]})},Q=function(){return n.then(CL)};return{getType:y,toBlob:C,toDataURL:A,toBase64:P,toAdjustedBlob:I,toAdjustedDataURL:H,toAdjustedBase64:G,toCanvas:Q}},TL=function(n){return EL(n).then(function(o){return kL(j7(n),n,o)})},G_=function(n,o){return SL(n,o).then(function(l){return kL(L0.resolve(n),l,n.toDataURL())})},q7=function(n){return TL(n)},YE=function(n,o,l){var v=typeof n=="string"?parseFloat(n):n;return v>l?v=l:v<o&&(v=o),v},vP=function(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]},hP=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],mP=function(n,o){for(var l=[],v=new Array(25),y,C=0;C<5;C++){for(var A=0;A<5;A++)l[A]=o[A+C*5];for(var A=0;A<5;A++){y=0;for(var P=0;P<5;P++)y+=n[A+P*5]*l[P];v[A+C*5]=y}}return v},AL=function(n,o){var l;return o=YE(o,-1,1),o*=100,o<0?l=127+o/100*127:(l=o%1,l===0?l=hP[o]:l=hP[Math.floor(o)]*(1-l)+hP[Math.floor(o)+1]*l,l=l*127+127),mP(n,[l/127,0,0,0,.5*(127-l),0,l/127,0,0,.5*(127-l),0,0,l/127,0,.5*(127-l),0,0,0,1,0,0,0,0,0,1])},OL=function(n,o){return o=YE(255*o,-255,255),mP(n,[1,0,0,0,o,0,1,0,0,o,0,0,1,0,o,0,0,0,1,0,0,0,0,0,1])},DL=function(n,o,l,v){return o=YE(o,0,2),l=YE(l,0,2),v=YE(v,0,2),mP(n,[o,0,0,0,0,0,l,0,0,0,0,0,v,0,0,0,0,0,1,0,0,0,0,0,1])},gP=function(n,o){return n.toCanvas().then(function(l){return ML(l,n.getType(),o)})},ML=function(n,o,l){var v=z0(n),y=function(A,P){for(var I,H,G,Q,fe=A.data,ge=P[0],xe=P[1],Fe=P[2],et=P[3],Re=P[4],nt=P[5],Ct=P[6],xt=P[7],tt=P[8],gt=P[9],Pt=P[10],En=P[11],Ht=P[12],Tn=P[13],Yt=P[14],Rt=P[15],dn=P[16],Vn=P[17],zt=P[18],$n=P[19],Xn=0;Xn<fe.length;Xn+=4)I=fe[Xn],H=fe[Xn+1],G=fe[Xn+2],Q=fe[Xn+3],fe[Xn]=I*ge+H*xe+G*Fe+Q*et+Re,fe[Xn+1]=I*nt+H*Ct+G*xt+Q*tt+gt,fe[Xn+2]=I*Pt+H*En+G*Ht+Q*Tn+Yt,fe[Xn+3]=I*Rt+H*dn+G*Vn+Q*zt+$n;return A},C=y(v.getImageData(0,0,n.width,n.height),l);return v.putImageData(C,0,0),G_(n,o)},RL=function(n,o){return n.toCanvas().then(function(l){return G7(l,n.getType(),o)})},G7=function(n,o,l){var v=z0(n),y=function(P,I,H){for(var G=function(dn,Vn,zt){return dn>zt?dn=zt:dn<Vn&&(dn=Vn),dn},Q=Math.round(Math.sqrt(H.length)),fe=Math.floor(Q/2),ge=P.data,xe=I.data,Fe=P.width,et=P.height,Re=0;Re<et;Re++)for(var nt=0;nt<Fe;nt++){for(var Ct=0,xt=0,tt=0,gt=0;gt<Q;gt++)for(var Pt=0;Pt<Q;Pt++){var En=G(nt+Pt-fe,0,Fe-1),Ht=G(Re+gt-fe,0,et-1),Tn=(Ht*Fe+En)*4,Yt=H[gt*Q+Pt];Ct+=ge[Tn]*Yt,xt+=ge[Tn+1]*Yt,tt+=ge[Tn+2]*Yt}var Rt=(Re*Fe+nt)*4;xe[Rt]=G(Ct,0,255),xe[Rt+1]=G(xt,0,255),xe[Rt+2]=G(tt,0,255)}return I},C=v.getImageData(0,0,n.width,n.height),A=v.getImageData(0,0,n.width,n.height);return A=y(C,A,l),v.putImageData(A,0,0),G_(n,o)},K7=function(n){var o=function(l,v,y){for(var C=z0(l),A=new Array(256),P=function(G,Q){for(var fe=G.data,ge=0;ge<fe.length;ge+=4)fe[ge]=Q[fe[ge]],fe[ge+1]=Q[fe[ge+1]],fe[ge+2]=Q[fe[ge+2]];return G},I=0;I<A.length;I++)A[I]=n(I,y);var H=P(C.getImageData(0,0,l.width,l.height),A);return C.putImageData(H,0,0),G_(l,v)};return function(l,v){return l.toCanvas().then(function(y){return o(y,l.getType(),v)})}},PL=function(n){return function(o,l){return gP(o,n(vP(),l))}},X7=function(n){return function(o){return gP(o,n)}},Z7=function(n){return function(o){return RL(o,n)}},J7=X7([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),IL=PL(OL),Q7=PL(AL),eH=function(n,o,l,v){return gP(n,DL(vP(),o,l,v))},tH=Z7([0,-1,0,-1,5,-1,0,-1,0]),Fa=K7(function(n,o){return Math.pow(n/255,1-o)*255}),K_=function(n,o,l){var v=jE(n),y=dP(n),C=o/v,A=l/y,P=!1;(C<.5||C>2)&&(C=C<.5?.5:2,P=!0),(A<.5||A>2)&&(A=A<.5?.5:2,P=!0);var I=BL(n,C,A);return P?I.then(function(H){return K_(H,o,l)}):I},BL=function(n,o,l){return new L0(function(v){var y=jE(n),C=dP(n),A=Math.floor(y*o),P=Math.floor(C*l),I=AC(A,P),H=z0(I);H.drawImage(n,0,0,y,C,0,0,A,P),v(I)})},pP=function(n,o){o===void 0&&(o=2);var l=Math.pow(10,o),v=Math.round(n*l);return Math.ceil(v/l)},LL=function(n,o){return n.toCanvas().then(function(l){return nH(l,n.getType(),o)})},nH=function(n,o,l){var v=l<0?360+l:l,y=v*Math.PI/180,C=n.width,A=n.height,P=Math.sin(y),I=Math.cos(y),H=pP(Math.abs(C*I)+Math.abs(A*P)),G=pP(Math.abs(C*P)+Math.abs(A*I)),Q=AC(H,G),fe=z0(Q);return fe.translate(H/2,G/2),fe.rotate(y),fe.drawImage(n,-C/2,-A/2),G_(Q,o)},rH=function(n,o){return n.toCanvas().then(function(l){return aH(l,n.getType(),o)})},aH=function(n,o,l){var v=AC(n.width,n.height),y=z0(v);return l==="v"?(y.scale(1,-1),y.drawImage(n,0,-v.height)):(y.scale(-1,1),y.drawImage(n,-v.width,0)),G_(v,o)},FL=function(n,o,l,v,y){return n.toCanvas().then(function(C){return iH(C,n.getType(),o,l,v,y)})},iH=function(n,o,l,v,y,C){var A=AC(y,C),P=z0(A);return P.drawImage(n,-l,-v),G_(A,o)},oH=function(n,o,l){return n.toCanvas().then(function(v){return K_(v,o,l).then(function(y){return G_(y,n.getType())})})},sH=function(n){return J7(n)},uH=function(n){return tH(n)},lH=function(n,o){return Fa(n,o)},cH=function(n,o,l,v){return eH(n,o,l,v)},fH=function(n,o){return IL(n,o)},dH=function(n,o){return Q7(n,o)},NL=function(n,o){return rH(n,o)},vH=function(n,o,l,v,y){return FL(n,o,l,v,y)},hH=function(n,o,l){return oH(n,o,l)},bP=function(n,o){return LL(n,o)},$L=function(n,o,l){return Gm(n,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:l},o)},fO=function(n,o){return $L(n,o,[])},zL=function(n,o){return $L(n,o,[Lr.config({})])},yP=function(n,o,l){return{dom:{tag:"span",innerHtml:l.translate(n),classes:[o+"__select-label"]},behaviours:mn([Lr.config({})])}},_P,HL=qt("toolbar.button.execute"),VL=function(n){return ys(function(o,l){wC(n,o)(function(v){Qn(o,HL,{buttonApi:v}),n.onAction(v)})})},UL=(_P={},_P[gc()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],_P),X_=qt("update-menu-text"),WL=qt("update-menu-icon"),dO=function(n,o,l){var v=ur(se),y=n.text.map(function(Q){return li(yP(Q,o,l.providers))}),C=n.icon.map(function(Q){return li(zL(Q,l.providers.icons))}),A=function(Q,fe){var ge=Sn.getValue(Q);return Rr.focus(ge),Qn(ge,"keydown",{raw:fe.event.raw}),Kh.close(ge),z.some(!0)},P=n.role.fold(function(){return{}},function(Q){return{role:Q}}),I=n.tooltip.fold(function(){return{}},function(Q){var fe=l.providers.translate(Q);return{title:fe,"aria-label":fe}}),H=Gm("chevron-down",{tag:"div",classes:[o+"__select-chevron"]},l.providers.icons),G=li(Kh.sketch(ue(ue(ue({},n.uid?{uid:n.uid}:{}),P),{dom:{tag:"button",classes:[o,o+"--select"].concat(Vt(n.classes,function(Q){return o+"--"+Q})),attributes:ue({},I)},components:R0([C.map(function(Q){return Q.asSpec()}),y.map(function(Q){return Q.asSpec()}),z.some(H)]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:mn($e($e([],n.dropdownBehaviours,!0),[qh.button(function(){return n.disabled||l.providers.isDisabled()}),wu(),ME.config({}),Lr.config({}),qr("dropdown-events",[L_(n,v),F_(n,v)]),qr("menubutton-update-display-text",[Nt(X_,function(Q,fe){y.bind(function(ge){return ge.getOpt(Q)}).each(function(ge){Lr.set(ge,[pu(l.providers.translate(fe.event.text))])})}),Nt(WL,function(Q,fe){C.bind(function(ge){return ge.getOpt(Q)}).each(function(ge){Lr.set(ge,[zL(fe.event.icon,l.providers.icons)])})})])],!1)),eventOrder:Et(UL,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:mn([vr.config({mode:"special",onLeft:A,onRight:A})]),lazySink:l.getSink,toggleClass:o+"--active",parts:{menu:I_(!1,n.columns,n.presets)},fetch:function(Q){return Fl.nu(lt(n.fetch,Q))}})));return G.asSpec()},jL=function(n){return c(n)},vO=function(n){return n.type==="separator"},mH=function(n){return ma(n,"getSubmenuItems")},gH={type:"separator"},pH=function(n,o){var l=st(n,function(v,y){return jL(y)?y===""?v:y==="|"?v.length>0&&!vO(v[v.length-1])?v.concat([gH]):v:ma(o,y.toLowerCase())?v.concat([o[y.toLowerCase()]]):v:v.concat([y])},[]);return l.length>0&&vO(l[l.length-1])&&l.pop(),l},bH=function(n,o){var l=n.getSubmenuItems(),v=OC(l,o),y=Et(v.menus,Id(n.value,v.items)),C=Et(v.expansions,Id(n.value,n.value));return{item:n,menus:y,expansions:C}},yH=function(n,o){return mH(n)?bH(n,o):{item:n,menus:{},expansions:{}}},_H=function(n){if(vO(n))return n;var o=Zn(n,"value").getOrThunk(function(){return qt("generated-menu-item")});return Et({value:o},n)},OC=function(n,o){var l=pH(c(n)?n.split(" "):n,o);return Qe(l,function(v,y){var C=_H(y),A=yH(C,o);return{menus:Et(v.menus,A.menus),items:[A.item].concat(v.items),expansions:Et(v.expansions,A.expansions)}},{menus:{},expansions:{},items:[]})},DC=function(n,o,l,v){var y=qt("primary-menu"),C=OC(n,l.shared.providers.menuItems());if(C.items.length===0)return z.none();var A=n4(y,C.items,o,l,v),P=ya(C.menus,function(H,G){return n4(G,H,o,l,!1)}),I=Et(P,Id(y,A));return z.from(Si.tieredData(y,I,C.expansions))},wP=function(n){return{isDisabled:function(){return cr.isDisabled(n)},setDisabled:function(o){return cr.set(n,o)},setActive:function(o){var l=n.element;o?(ds(l,"tox-tbtn--enabled"),$r(l,"aria-pressed",!0)):(Xo(l,"tox-tbtn--enabled"),gs(l,"aria-pressed"))},isActive:function(){return Rl(n.element,"tox-tbtn--enabled")}}},xP=function(n,o,l,v){return dO({text:n.text,icon:n.icon,tooltip:n.tooltip,role:v,fetch:function(y,C){n.fetch(function(A){C(DC(A,ec.CLOSE_ON_EXECUTE,l,!1))})},onSetup:n.onSetup,getApi:wP,columns:1,presets:"normal",classes:[],dropdownBehaviours:[Es.config({})]},o,l.shared)},wH=function(n,o,l){var v=function(C){return function(A){var P=!A.isActive();A.setActive(P),C.storage.set(P),l.shared.getSink().each(function(I){o().getOpt(I).each(function(H){vd(H.element),Qn(H,Km,{name:C.name,value:C.storage.get()})})})}},y=function(C){return function(A){A.setActive(C.storage.get())}};return function(C){C(Vt(n,function(A){var P=A.text.fold(function(){return{}},function(I){return{text:I}});return ue(ue({type:A.type,active:!1},P),{onAction:v(A),onSetup:y(A)})}))}},YL=function(n,o,l,v,y,C){l===void 0&&(l=[]);var A=o.fold(function(){return{}},function(H){return{action:H}}),P=ue({buttonBehaviours:mn([qh.button(function(){return n.disabled||C.isDisabled()}),wu(),Es.config({}),qr("button press",[Kp("click"),Kp("mousedown")])].concat(l)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},A),I=Et(P,{dom:v});return Et(I,{components:y})},qL=function(n,o,l,v){v===void 0&&(v=[]);var y=n.tooltip.map(function(I){return{"aria-label":l.translate(I),title:l.translate(I)}}).getOr({}),C={tag:"button",classes:["tox-tbtn"],attributes:y},A=n.icon.map(function(I){return fO(I,l.icons)}),P=R0([A]);return YL(n,o,v,C,P,l)},CP=function(n,o,l,v){v===void 0&&(v=[]);var y=qL(n,z.some(o),l,v);return pf.sketch(y)},SP=function(n,o,l,v,y){v===void 0&&(v=[]),y===void 0&&(y=[]);var C=l.translate(n.text),A=n.icon?n.icon.map(function(Q){return fO(Q,l.icons)}):z.none(),P=A.isSome()?R0([A]):[],I=A.isSome()?{}:{innerHtml:C},H=$e($e($e($e([],!n.primary&&!n.borderless?["tox-button","tox-button--secondary"]:["tox-button"],!0),A.isSome()?["tox-button--icon"]:[],!0),n.borderless?["tox-button--naked"]:[],!0),y,!0),G=ue(ue({tag:"button",classes:H},I),{attributes:{title:C}});return YL(n,o,v,G,P,l)},EP=function(n,o,l,v,y){v===void 0&&(v=[]),y===void 0&&(y=[]);var C=SP(n,z.some(o),l,v,y);return pf.sketch(C)},qE=function(n,o){return function(l){o==="custom"?Qn(l,Km,{name:n,value:{}}):o==="submit"?xa(l,_d):o==="cancel"?xa(l,$_):console.error("Unknown button type: ",o)}},hO=function(n,o){return o==="menu"},xH=function(n,o){return o==="custom"||o==="cancel"||o==="submit"},mO=function(n,o,l){if(hO(n,o)){var v=function(){return A},y=n,C=ue(ue({},n),{onSetup:function(H){return H.setDisabled(n.disabled),se},fetch:wH(y.items,v,l)}),A=li(xP(C,"tox-tbtn",l,z.none()));return A.asSpec()}else if(xH(n,o)){var P=qE(n.name,o),I=ue(ue({},n),{borderless:!1});return EP(I,P,l.shared.providers,[])}else console.error("Unknown footer button type: ",o)},CH=function(n,o){var l=qE(n.name,"custom");return mz(z.none(),ei.parts.field(ue({factory:pf},SP(n,z.some(l),o,[$0.memory(""),Jm.self()]))))},SH=le([Je("field1Name","field1"),Je("field2Name","field2"),Il("onLockedChange"),km(["lockClass"]),Je("locked",!1),gd.field("coupledFieldBehaviours",[fa,Sn])]),kP=function(n,o,l){return Ai(n,o,l).bind(fa.getCurrent)},gO=function(n,o){return hl({factory:ei,name:n,overrides:function(l){return{fieldBehaviours:mn([qr("coupled-input-behaviour",[Nt(rl(),function(v){kP(v,l,o).each(function(y){Ai(v,l,"lock").each(function(C){Pa.isOn(C)&&l.onLockedChange(v,y,C)})})})])])}}})},GL=le([gO("field1","field2"),gO("field2","field1"),hl({factory:pf,schema:[It("dom")],name:"lock",overrides:function(n){return{buttonBehaviours:mn([Pa.config({selected:n.locked,toggleClass:n.markers.lockClass,aria:{mode:"pressed"}})])}}})]),EH=function(n,o,l,v){return{uid:n.uid,dom:n.dom,components:o,behaviours:gd.augment(n.coupledFieldBehaviours,[fa.config({find:z.some}),Sn.config({store:{mode:"manual",getValue:function(y){var C,A=Lx(y,n,["field1","field2"]);return C={},C[n.field1Name]=Sn.getValue(A.field1()),C[n.field2Name]=Sn.getValue(A.field2()),C},setValue:function(y,C){var A=Lx(y,n,["field1","field2"]);Pi(C,n.field1Name)&&Sn.setValue(A.field1(),C[n.field1Name]),Pi(C,n.field2Name)&&Sn.setValue(A.field2(),C[n.field2Name])}}})]),apis:{getField1:function(y){return Ai(y,n,"field1")},getField2:function(y){return Ai(y,n,"field2")},getLock:function(y){return Ai(y,n,"lock")}}}},Gf=Sc({name:"FormCoupledInputs",configFields:SH(),partFields:GL(),factory:EH,apis:{getField1:function(n,o){return n.getField1(o)},getField2:function(n,o){return n.getField2(o)},getLock:function(n,o){return n.getLock(o)}}}),kH=function(n){var o={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},l=function(y){return y in o?o[y]:1},v=n.value.toFixed(l(n.unit));return v.indexOf(".")!==-1&&(v=v.replace(/\.?0*$/,"")),v+n.unit},TP=function(n){var o=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/,l=o.exec(n);if(l!==null){var v=parseFloat(l[1]),y=l[2];return Mr.value({value:v,unit:y})}else return Mr.error(n)},AP=function(n,o){var l={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},v=function(y){return ma(l,y)};return n.unit===o?z.some(n.value):v(n.unit)&&v(o)?l[n.unit]===l[o]?z.some(n.value):z.some(n.value/l[n.unit]*l[o]):z.none()},OP=function(n){return z.none()},GE=function(n,o){return function(l){return AP(l,o).map(function(v){return{value:v*n,unit:o}})}},TH=function(n,o){var l=TP(n).toOptional(),v=TP(o).toOptional();return Uo(l,v,function(y,C){return AP(y,C.unit).map(function(A){return C.value/A}).map(function(A){return GE(A,C.unit)}).getOr(OP)}).getOr(OP)},KL=function(n,o){var l=OP,v=qt("ratio-event"),y=function(Q){return Gm(Q,{tag:"span",classes:["tox-icon","tox-lock-icon__"+Q]},o.icons)},C=Gf.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:o.translate(n.label.getOr("Constrain proportions"))}},components:[y("lock"),y("unlock")],buttonBehaviours:mn([cr.config({disabled:function(){return n.disabled||o.isDisabled()}}),wu(),Es.config({})])}),A=function(Q){return{dom:{tag:"div",classes:["tox-form__group"]},components:Q}},P=function(Q){return ei.parts.field({factory:OE,inputClasses:["tox-textfield"],inputBehaviours:mn([cr.config({disabled:function(){return n.disabled||o.isDisabled()}}),wu(),Es.config({}),qr("size-input-events",[Nt(Dl(),function(fe,ge){Qn(fe,v,{isField1:Q})}),Nt(xg(),function(fe,ge){Qn(fe,rv,{name:n.name})})])]),selectOnFocus:!1})},I=function(Q){return{dom:{tag:"label",classes:["tox-label"],innerHtml:o.translate(Q)}}},H=Gf.parts.field1(A([ei.parts.label(I("Width")),P(!0)])),G=Gf.parts.field2(A([ei.parts.label(I("Height")),P(!1)]));return Gf.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[H,G,A([I("&nbsp;"),C])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(Q,fe,ge){TP(Sn.getValue(Q)).each(function(xe){l(xe).each(function(Fe){Sn.setValue(fe,kH(Fe))})})},coupledFieldBehaviours:mn([cr.config({disabled:function(){return n.disabled||o.isDisabled()},onDisabled:function(Q){Gf.getField1(Q).bind(ei.getField).each(cr.disable),Gf.getField2(Q).bind(ei.getField).each(cr.disable),Gf.getLock(Q).each(cr.disable)},onEnabled:function(Q){Gf.getField1(Q).bind(ei.getField).each(cr.enable),Gf.getField2(Q).bind(ei.getField).each(cr.enable),Gf.getLock(Q).each(cr.enable)}}),wu(),qr("size-input-events2",[Nt(v,function(Q,fe){var ge=fe.event.isField1,xe=ge?Gf.getField1(Q):Gf.getField2(Q),Fe=ge?Gf.getField2(Q):Gf.getField1(Q),et=xe.map(Sn.getValue).getOr(""),Re=Fe.map(Sn.getValue).getOr("");l=TH(et,Re)})])])})},AH=le(qt("undo")),OH=le(qt("redo")),XL=le(qt("zoom")),DH=le(qt("back")),MH=le(qt("apply")),RH=le(qt("swap")),PH=le(qt("transform")),IH=le(qt("temp-transform")),ZL=le(qt("transform-apply")),kc={undo:AH,redo:OH,zoom:XL,back:DH,apply:MH,swap:RH,transform:PH,tempTransform:IH,transformApply:ZL},BH=le("save-state"),LH=le("disable"),JL=le("enable"),yf={formActionEvent:Km,saveState:BH,disable:LH,enable:JL},FH=function(n,o){var l=function(Pn,ta,hi,Ao){return li(EP({name:Pn,text:Pn,disabled:hi,primary:Ao,icon:z.none(),borderless:!1},ta,o))},v=function(Pn,ta,hi,Ao){return li(CP({name:Pn,icon:z.some(Pn),tooltip:z.some(ta),disabled:Ao,primary:!1,borderless:!1},hi,o))},y=function(Pn,ta){Pn.map(function(hi){var Ao=hi.get(ta);Ao.hasConfigured(cr)&&cr.disable(Ao)})},C=function(Pn,ta){Pn.map(function(hi){var Ao=hi.get(ta);Ao.hasConfigured(cr)&&cr.enable(Ao)})},A={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},P=se,I=function(Pn,ta,hi){Qn(Pn,ta,hi)},H=function(Pn){return xa(Pn,yf.disable())},G=function(Pn){return xa(Pn,yf.enable())},Q=function(Pn,ta){H(Pn),I(Pn,kc.transform(),{transform:ta}),G(Pn)},fe=function(Pn,ta){H(Pn),I(Pn,kc.tempTransform(),{transform:ta}),G(Pn)},ge=function(Pn){return function(){ig.getOpt(Pn).each(function(ta){Lr.set(ta,[jb])})}},xe=function(Pn,ta){H(Pn),I(Pn,kc.transformApply(),{transform:ta,swap:ge(Pn)}),G(Pn)},Fe=function(){return l("Back",function(Pn){return I(Pn,kc.back(),{swap:ge(Pn)})},!1,!1)},et=function(){return li({dom:{tag:"div",classes:["tox-spacer"]},behaviours:mn([cr.config({})])})},Re=function(){return l("Apply",function(Pn){return I(Pn,kc.apply(),{swap:ge(Pn)})},!0,!0)},nt=function(){return function(Pn){var ta=n.getRect();return vH(Pn,ta.x,ta.y,ta.w,ta.h)}},Ct=[Fe(),et(),l("Apply",function(Pn){var ta=nt();xe(Pn,ta),n.hideCrop()},!1,!0)],xt=Ec.sketch({dom:A,components:Ct.map(function(Pn){return Pn.asSpec()}),containerBehaviours:mn([qr("image-tools-crop-buttons-events",[Nt(yf.disable(),function(Pn,ta){y(Ct,Pn)}),Nt(yf.enable(),function(Pn,ta){C(Ct,Pn)})])])}),tt=li(KL({name:"size",label:z.none(),constrain:!0,disabled:!1},o)),gt=function(Pn,ta){return function(hi){return hH(hi,Pn,ta)}},Pt=[Fe(),et(),tt,et(),l("Apply",function(Pn){tt.getOpt(Pn).each(function(ta){var hi=Sn.getValue(ta),Ao=parseInt(hi.width,10),Cf=parseInt(hi.height,10),tf=gt(Ao,Cf);xe(Pn,tf)})},!1,!0)],En=Ec.sketch({dom:A,components:Pt.map(function(Pn){return Pn.asSpec()}),containerBehaviours:mn([qr("image-tools-resize-buttons-events",[Nt(yf.disable(),function(Pn,ta){y(Pt,Pn)}),Nt(yf.enable(),function(Pn,ta){C(Pt,Pn)})])])}),Ht=function(Pn,ta){return function(hi){return Pn(hi,ta)}},Tn=Ht(NL,"h"),Yt=Ht(NL,"v"),Rt=Ht(bP,-90),dn=Ht(bP,90),Vn=function(Pn,ta){fe(Pn,ta)},zt=[Fe(),et(),v("flip-horizontally","Flip horizontally",function(Pn){Vn(Pn,Tn)},!1),v("flip-vertically","Flip vertically",function(Pn){Vn(Pn,Yt)},!1),v("rotate-left","Rotate counterclockwise",function(Pn){Vn(Pn,Rt)},!1),v("rotate-right","Rotate clockwise",function(Pn){Vn(Pn,dn)},!1),et(),Re()],$n=Ec.sketch({dom:A,components:zt.map(function(Pn){return Pn.asSpec()}),containerBehaviours:mn([qr("image-tools-fliprotate-buttons-events",[Nt(yf.disable(),function(Pn,ta){y(zt,Pn)}),Nt(yf.enable(),function(Pn,ta){C(zt,Pn)})])])}),Xn=function(Pn,ta,hi,Ao,Cf){var tf=Jh.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:o.translate(Pn)}}),Cd=Jh.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),th=Jh.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return li(Jh.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:hi,maxX:Cf,getInitialValue:le({x:Ao})},components:[tf,Cd,th],sliderBehaviours:mn([Rr.config({})]),onChoose:ta}))},pa=function(Pn,ta,hi,Ao,Cf){var tf=function(Cd,th,$C){var ck=Ht(ta,$C.x/100);Q(Cd,ck)};return Xn(Pn,tf,hi,Ao,Cf)},ci=function(Pn,ta,hi,Ao,Cf){return[Fe(),pa(Pn,ta,hi,Ao,Cf),Re()]},oo=function(Pn,ta,hi,Ao,Cf){var tf=ci(Pn,ta,hi,Ao,Cf);return Ec.sketch({dom:A,components:tf.map(function(Cd){return Cd.asSpec()}),containerBehaviours:mn([qr("image-tools-filter-panel-buttons-events",[Nt(yf.disable(),function(Cd,th){y(tf,Cd)}),Nt(yf.enable(),function(Cd,th){C(tf,Cd)})])])})},$o=[Fe(),et(),Re()],xd=Ec.sketch({dom:A,components:$o.map(function(Pn){return Pn.asSpec()})}),Ac=oo("Brightness",fH,-100,0,100),qO=oo("Contrast",dH,-100,0,100),Uu=oo("Gamma",lH,-100,0,100),ow=function(Pn,ta,hi){return function(Ao){return cH(Ao,Pn,ta,hi)}},sw=function(Pn){var ta=function(hi,Ao,Cf){var tf=sk.getOpt(hi),Cd=uk.getOpt(hi),th=uw.getOpt(hi);tf.each(function($C){Cd.each(function(ck){th.each(function(zC){var AU=Sn.getValue($C).x/100,OU=Sn.getValue(zC).x/100,cw=Sn.getValue(ck).x/100,HC=ow(AU,OU,cw);Q(hi,HC)})})})};return Xn(Pn,ta,0,100,200)},sk=sw("R"),uw=sw("G"),uk=sw("B"),xf=[Fe(),sk,uw,uk,Re()],ag=Ec.sketch({dom:A,components:xf.map(function(Pn){return Pn.asSpec()})}),ef=function(Pn,ta,hi){return function(Ao){var Cf=function(){ig.getOpt(Ao).each(function(tf){Lr.set(tf,[Pn]),hi(tf)})};I(Ao,kc.swap(),{transform:ta,swap:Cf})}},lk=function(Pn){n.showCrop()},Wb=function(Pn){tt.getOpt(Pn).each(function(ta){var hi=n.getMeasurements(),Ao=hi.width,Cf=hi.height;Sn.setValue(ta,{width:Ao,height:Cf})})},NC=z.some(uH),Wu=z.some(sH),j0=[v("crop","Crop",ef(xt,z.none(),lk),!1),v("resize","Resize",ef(En,z.none(),Wb),!1),v("orientation","Orientation",ef($n,z.none(),P),!1),v("brightness","Brightness",ef(Ac,z.none(),P),!1),v("sharpen","Sharpen",ef(xd,NC,P),!1),v("contrast","Contrast",ef(qO,z.none(),P),!1),v("color-levels","Color levels",ef(ag,z.none(),P),!1),v("gamma","Gamma",ef(Uu,z.none(),P),!1),v("invert","Invert",ef(xd,Wu,P),!1)],jb=Ec.sketch({dom:A,components:j0.map(function(Pn){return Pn.asSpec()})}),lw=Ec.sketch({dom:{tag:"div"},components:[jb],containerBehaviours:mn([Lr.config({})])}),ig=li(lw),Yb=function(Pn){return ig.getOpt(Pn).map(function(ta){var hi=ta.components()[0];return hi.components()[hi.components().length-1]})};return{memContainer:ig,getApplyButton:Yb}},QL=tinymce.util.Tools.resolve("tinymce.geom.Rect"),av=tinymce.util.Tools.resolve("tinymce.util.Observable"),MC=tinymce.util.Tools.resolve("tinymce.util.VK"),DP=function(n){var o=Math.max,l=n.documentElement,v=n.body,y=o(l.scrollWidth,v.scrollWidth),C=o(l.clientWidth,v.clientWidth),A=o(l.offsetWidth,v.offsetWidth),P=o(l.scrollHeight,v.scrollHeight),I=o(l.clientHeight,v.clientHeight),H=o(l.offsetHeight,v.offsetHeight);return{width:y<A?C:y,height:P<H?I:P}},eF=function(n){return V(n.changedTouches)},pO=function(n){if(eF(n))for(var o="screenX screenY pageX pageY clientX clientY".split(" "),l=0;l<o.length;l++)n[o[l]]=n.changedTouches[0][o[l]]};function bO(n,o){var l,v,y,C,A=[],P=[],I=(l=o.document)!==null&&l!==void 0?l:document,H=(v=o.root)!==null&&v!==void 0?v:I,G=vn.fromDom(I),Q,fe,ge,xe=vn.fromDom(H.getElementById((y=o.handle)!==null&&y!==void 0?y:n)),Fe=function(Ct){var xt=Ct.raw,tt=DP(I);pO(xt),Ct.prevent(),Q=xt.button,fe=xt.screenX,ge=xt.screenY;var gt=Vi(xe,"cursor");C=vn.fromTag("div",I),Co(C,{position:"absolute",top:"0",left:"0",width:tt.width+"px",height:tt.height+"px","z-index":"2147483647",opacity:"0.0001",cursor:gt}),gi(Di(G),C),P.push(Lo(G,"mousemove",et),Lo(G,"touchmove",et),Lo(G,"mouseup",Re),Lo(G,"touchend",Re)),o.start(xt)},et=function(Ct){var xt=Ct.raw;if(pO(xt),xt.button!==Q)return Re(Ct);xt.deltaX=xt.screenX-fe,xt.deltaY=xt.screenY-ge,Ct.prevent(),o.drag(xt)},Re=function(Ct){pO(Ct.raw),xn(P,function(xt){return xt.unbind()}),P=[],Ou(C),o.stop&&o.stop(Ct.raw)},nt=function(){xn(P.concat(A),function(Ct){return Ct.unbind()}),P=[],A=[],V(C)&&Ou(C)};return A.push(Lo(xe,"mousedown",Fe),Lo(xe,"touchstart",Fe)),{destroy:nt}}var NH=0,yO=function(n,o,l,v,y){var C,A=[],P="tox-",I=P+"crid-"+NH++,H=vn.fromDom(v),G=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],Q=["top","right","bottom","left"],fe=function(Ht,Tn){return{x:Tn.x+Ht.x,y:Tn.y+Ht.y,w:Tn.w,h:Tn.h}},ge=function(Ht,Tn){return{x:Tn.x-Ht.x,y:Tn.y-Ht.y,w:Tn.w,h:Tn.h}},xe=function(){return ge(l,n)},Fe=function(Ht,Tn,Yt,Rt){var dn=Tn.x+Yt*Ht.deltaX,Vn=Tn.y+Rt*Ht.deltaY,zt=Math.max(20,Tn.w+Yt*Ht.deltaW),$n=Math.max(20,Tn.h+Rt*Ht.deltaH),Xn=n=QL.clamp({x:dn,y:Vn,w:zt,h:$n},l,Ht.name==="move");Xn=ge(l,Xn),En.fire("updateRect",{rect:Xn}),tt(Xn)},et=function(){var Ht=function(dn){var Vn;return bO(I,{document:v.ownerDocument,root:Cr(H).dom,handle:I+"-"+dn.name,start:function(){Vn=n},drag:function(zt){Fe(dn,Vn,zt.deltaX,zt.deltaY)}})},Tn=vn.fromTag("div");Cl(Tn,{id:I,class:P+"croprect-container",role:"grid","aria-dropeffect":"execute"}),gi(H,Tn),xn(Q,function(dn){ws(H,"#"+I).each(function(Vn){var zt=vn.fromTag("div");Cl(zt,{id:I+"-"+dn,class:P+"croprect-block","data-mce-bogus":"all"}),_r(zt,"display","none"),gi(Vn,zt)})}),xn(G,function(dn){ws(H,"#"+I).each(function(Vn){var zt=vn.fromTag("div");Cl(zt,{id:I+"-"+dn.name,"aria-label":dn.label,"aria-grabbed":"false","data-mce-bogus":"all",role:"gridcell",tabindex:"-1",title:dn.label}),Cm(zt,[P+"croprect-handle",P+"croprect-handle-"+dn.name]),_r(zt,"display","none"),gi(Vn,zt)})}),C=Vt(G,Ht),nt(n);var Yt=function(dn){$r(dn.target,"aria-grabbed",dn.raw.type==="focus"?"true":"false")},Rt=function(dn){var Vn;xn(G,function($n){if(Li(dn.target,"id")===I+"-"+$n.name)return Vn=$n,!1});var zt=function($n,Xn,pa,ci,oo){$n.stopPropagation(),$n.preventDefault(),Fe(Vn,pa,ci,oo)};switch(dn.raw.keyCode){case MC.LEFT:zt(dn,Vn,n,-10,0);break;case MC.RIGHT:zt(dn,Vn,n,10,0);break;case MC.UP:zt(dn,Vn,n,0,-10);break;case MC.DOWN:zt(dn,Vn,n,0,10);break;case MC.ENTER:case MC.SPACEBAR:dn.prevent(),y();break}};A.push(Lo(H,"focusin",Yt),Lo(H,"focusout",Yt),Lo(H,"keydown",Rt))},Re=function(Ht){var Tn=$e($e([],Vt(G,function(Rt){return"#"+I+"-"+Rt.name}),!0),Vt(Q,function(Rt){return"#"+I+"-"+Rt}),!0).join(","),Yt=fl(H,Tn);Ht?xn(Yt,function(Rt){return Na(Rt,"display")}):xn(Yt,function(Rt){return _r(Rt,"display","none")})},nt=function(Ht){var Tn=function(Yt,Rt){ws(H,"#"+I+"-"+Yt).each(function(dn){Co(dn,{left:Rt.x+"px",top:Rt.y+"px",width:Math.max(0,Rt.w)+"px",height:Math.max(0,Rt.h)+"px"})})};xn(G,function(Yt){ws(H,"#"+I+"-"+Yt.name).each(function(Rt){Co(Rt,{left:Ht.w*Yt.xMul+Ht.x+"px",top:Ht.h*Yt.yMul+Ht.y+"px"})})}),Tn("top",{x:o.x,y:o.y,w:o.w,h:Ht.y-o.y}),Tn("right",{x:Ht.x+Ht.w,y:Ht.y,w:o.w-Ht.x-Ht.w+o.x,h:Ht.h}),Tn("bottom",{x:o.x,y:Ht.y+Ht.h,w:o.w,h:o.h-Ht.y-Ht.h+o.y}),Tn("left",{x:o.x,y:Ht.y,w:Ht.x-o.x,h:Ht.h}),Tn("move",Ht)},Ct=function(Ht){n=Ht,nt(n)},xt=function(Ht){o=Ht,nt(n)},tt=function(Ht){Ct(fe(l,Ht))},gt=function(Ht){l=Ht,nt(n)},Pt=function(){xn(C,function(Ht){return Ht.destroy()}),C=[],xn(A,function(Ht){return Ht.unbind()}),A=[]};et();var En=ue(ue({},av),{toggleVisibility:Re,setClampRect:gt,setRect:Ct,getInnerRect:xe,setInnerRect:tt,setViewPortRect:xt,destroy:Pt});return En},$H={create:yO},KE=function(n){return new lE(function(o){var l=function(){n.removeEventListener("load",l),o(n)};n.complete?o(n):n.addEventListener("load",l)})},tF=function(n){var o=li({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),l=ur(1),v=Wy(),y=ur({x:0,y:0,w:1,h:1}),C=ur({x:0,y:0,w:1,h:1}),A=function(et,Re){xe.getOpt(et).each(function(nt){var Ct=l.get(),xt=fu(nt.element),tt=ss(nt.element),gt=Re.dom.naturalWidth*Ct,Pt=Re.dom.naturalHeight*Ct,En=Math.max(0,xt/2-gt/2),Ht=Math.max(0,tt/2-Pt/2),Tn={left:En.toString()+"px",top:Ht.toString()+"px",width:gt.toString()+"px",height:Pt.toString()+"px",position:"absolute"};Co(Re,Tn),o.getOpt(nt).each(function(Yt){Co(Yt.element,Tn)}),v.run(function(Yt){var Rt=y.get();Yt.setRect({x:Rt.x*Ct+En,y:Rt.y*Ct+Ht,w:Rt.w*Ct,h:Rt.h*Ct}),Yt.setClampRect({x:En,y:Ht,w:gt,h:Pt}),Yt.setViewPortRect({x:0,y:0,w:xt,h:tt})})})},P=function(et,Re){xe.getOpt(et).each(function(nt){var Ct=fu(nt.element),xt=ss(nt.element),tt=Re.dom.naturalWidth,gt=Re.dom.naturalHeight,Pt=Math.min(Ct/tt,xt/gt);Pt>=1?l.set(1):l.set(Pt)})},I=function(et,Re){var nt=vn.fromTag("img");return $r(nt,"src",Re),KE(nt.dom).then(function(){et.getSystem().isConnected()&&xe.getOpt(et).map(function(Ct){var xt=E1({element:nt});Lr.replaceAt(Ct,1,z.some(xt));var tt=C.get(),gt={x:0,y:0,w:nt.dom.naturalWidth,h:nt.dom.naturalHeight};C.set(gt);var Pt=QL.inflate(gt,-20,-20);y.set(Pt),(tt.w!==gt.w||tt.h!==gt.h)&&P(Ct,nt),A(Ct,nt)})})},H=function(et,Re){var nt=l.get(),Ct=Re>0?Math.min(2,nt+.1):Math.max(.1,nt-.1);l.set(Ct),xe.getOpt(et).each(function(xt){var tt=xt.components()[1].element;A(xt,tt)})},G=function(){v.run(function(et){et.toggleVisibility(!0)})},Q=function(){v.run(function(et){et.toggleVisibility(!1)})},fe=function(){return y.get()},ge=Ec.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[o.asSpec(),{dom:{tag:"img",attributes:{src:n}}},{dom:{tag:"div"},behaviours:mn([qr("image-panel-crop-events",[Br(function(et){xe.getOpt(et).each(function(Re){var nt=Re.element.dom,Ct=$H.create({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},nt,se);Ct.toggleVisibility(!1),Ct.on("updateRect",function(xt){var tt=xt.rect,gt=l.get(),Pt={x:Math.round(tt.x/gt),y:Math.round(tt.y/gt),w:Math.round(tt.w/gt),h:Math.round(tt.h/gt)};y.set(Pt)}),v.set(Ct)})}),Vc(function(){v.clear()})])])}],containerBehaviours:mn([Lr.config({}),qr("image-panel-events",[Br(function(et){I(et,n)})])])}),xe=li(ge),Fe=function(){var et=C.get();return{width:et.w,height:et.h}};return{memContainer:xe,updateSrc:I,zoom:H,showCrop:G,hideCrop:Q,getRect:fe,getMeasurements:Fe}},Kf=function(n,o,l,v,y){return CP({name:n,icon:z.some(o),disabled:l,tooltip:z.some(n),primary:!1,borderless:!1},v,y)},nF=function(n,o){o?cr.enable(n):cr.disable(n)},rF=function(n){var o=function(C,A,P){l.getOpt(C).each(function(I){nF(I,A)}),v.getOpt(C).each(function(I){nF(I,P)})},l=li(Kf("Undo","undo",!0,function(C){Qn(C,kc.undo(),{direction:1})},n)),v=li(Kf("Redo","redo",!0,function(C){Qn(C,kc.redo(),{direction:1})},n)),y=Ec.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[l.asSpec(),v.asSpec(),Kf("Zoom in","zoom-in",!1,function(C){Qn(C,kc.zoom(),{direction:1})},n),Kf("Zoom out","zoom-out",!1,function(C){Qn(C,kc.zoom(),{direction:-1})},n)]});return{container:y,updateButtonUndoStates:o}};function zH(){var n=[],o=-1,l=function(P){var I=n.splice(++o);return n.push(P),{state:P,removed:I}},v=function(){if(C())return n[--o]},y=function(){if(A())return n[++o]},C=function(){return o>0},A=function(){return o!==-1&&o<n.length-1};return{data:n,add:l,undo:v,redo:y,canUndo:C,canRedo:A}}var HH=function(n){var o=ur(n),l=Eo(),v=zH();v.add(n);var y=function(){return o.get()},C=function(nt){o.set(nt)},A=function(){return l.get().getOrThunk(o.get)},P=function(nt){var Ct=I(nt);return Q(),l.set(Ct),Ct.url},I=function(nt){return{blob:nt,url:URL.createObjectURL(nt)}},H=function(nt){URL.revokeObjectURL(nt.url)},G=function(nt){Lb.each(nt,H)},Q=function(){l.on(H),l.clear()},fe=function(nt){var Ct=I(nt);C(Ct);var xt=v.add(Ct).removed;return G(xt),Ct.url},ge=function(nt){var Ct=I(nt);return l.set(Ct),Ct.url},xe=function(nt){return l.get().fold(se,function(Ct){fe(Ct.blob),nt()})},Fe=function(){var nt=v.undo();return C(nt),nt.url},et=function(){var nt=v.redo();return C(nt),nt.url},Re=function(){var nt=v.canUndo(),Ct=v.canRedo();return{undoEnabled:nt,redoEnabled:Ct}};return{getBlobState:y,setBlobState:C,addBlobState:fe,getTempState:A,updateTempState:P,addTempState:ge,applyTempState:xe,destroyTempState:Q,undo:Fe,redo:et,getHistoryStates:Re}},VH=function(n,o){var l=HH(n.currentState),v=function(Yt,Rt){var dn=Rt.event.direction;Pt.zoom(Yt,dn)},y=function(Yt){var Rt=l.getHistoryStates();En.updateButtonUndoStates(Yt,Rt.undoEnabled,Rt.redoEnabled),Qn(Yt,yf.formActionEvent,{name:yf.saveState(),value:Rt.undoEnabled})},C=function(Yt){En.updateButtonUndoStates(Yt,!1,!1)},A=function(Yt,Rt){var dn=l.undo();Q(Yt,dn).then(function(Vn){G(Yt),y(Yt)})},P=function(Yt,Rt){var dn=l.redo();Q(Yt,dn).then(function(Vn){G(Yt),y(Yt)})},I=function(Yt){return Yt.toBlob()},H=function(Yt){Qn(Yt,yf.formActionEvent,{name:yf.disable(),value:{}})},G=function(Yt){Ht.getApplyButton(Yt).each(function(Rt){cr.enable(Rt)}),Qn(Yt,yf.formActionEvent,{name:yf.enable(),value:{}})},Q=function(Yt,Rt){return H(Yt),Pt.updateSrc(Yt,Rt)},fe=function(Yt,Rt,dn,Vn,zt){H(Yt),q7(Rt).then(dn).then(I).then(Vn).then(function($n){return Q(Yt,$n)}).then(function(){y(Yt),zt(),G(Yt)}).catch(function($n){console.log($n),Yt.getSystem().isConnected()&&G(Yt)})},ge=function(Yt,Rt,dn){var Vn=l.getBlobState().blob,zt=function($n){return l.updateTempState($n)};fe(Yt,Vn,Rt,zt,dn)},xe=function(Yt,Rt){var dn=l.getTempState().blob,Vn=function(zt){return l.addTempState(zt)};fe(Yt,dn,Rt,Vn,se)},Fe=function(Yt,Rt,dn){var Vn=l.getBlobState().blob,zt=function($n){var Xn=l.addBlobState($n);return Re(Yt),Xn};fe(Yt,Vn,Rt,zt,dn)},et=function(Yt,Rt){var dn=function(){Re(Yt);var Vn=Rt.event.swap;Vn()};l.applyTempState(dn)},Re=function(Yt){var Rt=l.getBlobState().url;return l.destroyTempState(),y(Yt),Rt},nt=function(Yt){var Rt=Re(Yt);Q(Yt,Rt).then(function(dn){G(Yt)})},Ct=function(Yt,Rt){nt(Yt);var dn=Rt.event.swap;dn(),Pt.hideCrop()},xt=function(Yt,Rt){return ge(Yt,Rt.event.transform,se)},tt=function(Yt,Rt){return xe(Yt,Rt.event.transform)},gt=function(Yt,Rt){return Fe(Yt,Rt.event.transform,Rt.event.swap)},Pt=tF(n.currentState.url),En=rF(o),Ht=FH(Pt,o),Tn=function(Yt,Rt){C(Yt);var dn=Rt.event.transform,Vn=Rt.event.swap;dn.fold(function(){Vn()},function(zt){ge(Yt,zt,Vn)})};return{dom:{tag:"div",attributes:{role:"presentation"}},components:[Ht.memContainer.asSpec(),Pt.memContainer.asSpec(),En.container],behaviours:mn([Sn.config({store:{mode:"manual",getValue:function(){return l.getBlobState()}}}),qr("image-tools-events",[Nt(kc.undo(),A),Nt(kc.redo(),P),Nt(kc.zoom(),v),Nt(kc.back(),Ct),Nt(kc.apply(),et),Nt(kc.transform(),xt),Nt(kc.tempTransform(),tt),Nt(kc.transformApply(),gt),Nt(kc.swap(),Tn)]),Jm.self()])}},UH=function(n,o){var l={dom:{tag:"label",innerHtml:o.providers.translate(n.label),classes:["tox-label"]}},v=Vt(n.items,o.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[l].concat(v),behaviours:mn([Jm.self(),Lr.config({}),$0.domHtml(z.none()),vr.config({mode:"acyclic"})])}},MP=function(n){return!ma(n,"items")},aF="data-value",iF=function(n,o,l,v){return Vt(l,function(y){return MP(y)?{type:"togglemenuitem",text:y.text,value:y.value,active:y.value===v,onAction:function(){Sn.setValue(n,y.value),Qn(n,rv,{name:o}),Rr.focus(n)}}:{type:"nestedmenuitem",text:y.text,getSubmenuItems:function(){return iF(n,o,y.items,v)}}})},oF=function(n,o){return mi(n,function(l){return MP(l)?Mo(l.value===o,l):oF(l.items,o)})},WH=function(n,o){var l=o.shared.providers,v=Oa(n.items).filter(MP),y=n.label.map(function(P){return B0(P,l)}),C=ei.parts.field({dom:{},factory:{sketch:function(P){return dO({uid:P.uid,text:v.map(function(I){return I.text}),icon:z.none(),tooltip:n.label,role:z.none(),fetch:function(I,H){var G=iF(I,n.name,n.items,Sn.getValue(I));H(DC(G,ec.CLOSE_ON_EXECUTE,o,!1))},onSetup:le(se),getApi:le({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Es.config({}),Sn.config({store:{mode:"manual",initialValue:v.map(function(I){return I.value}).getOr(""),getValue:function(I){return Li(I.element,aF)},setValue:function(I,H){oF(n.items,H).each(function(G){$r(I.element,aF,G.value),Qn(I,X_,{text:G.text})})}}})]},"tox-listbox",o.shared)}}}),A={dom:{tag:"div",classes:["tox-listboxfield"]},components:[C]};return ei.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:pn([y.toArray(),[A]]),fieldBehaviours:mn([cr.config({disabled:le(n.disabled),onDisabled:function(P){ei.getField(P).each(cr.disable)},onEnabled:function(P){ei.getField(P).each(cr.enable)}})])})},sF=function(n,o){return{dom:{tag:"div",classes:n.classes},components:Vt(n.items,o.shared.interpreter)}},uF=function(n,o){var l=Vt(n.options,function(y){return{dom:{tag:"option",value:y.value,innerHtml:y.text}}}),v=n.data.map(function(y){return Id("initialValue",y)}).getOr({});return{uid:n.uid,dom:{tag:"select",classes:n.selectClasses,attributes:n.selectAttributes},components:l,behaviours:Lu(n.selectBehaviours,[Rr.config({}),Sn.config({store:ue({mode:"manual",getValue:function(y){return Wd(y.element)},setValue:function(y,C){var A=Jt(n.options,function(P){return P.value===C});A.isSome()&&Dg(y.element,C)}},v)})])}},lF=Yf({name:"HtmlSelect",configFields:[It("options"),au("selectBehaviours",[Rr,Sn]),Je("selectClasses",[]),Je("selectAttributes",{}),za("data")],factory:uF}),jH=function(n,o){var l=Vt(n.items,function(P){return{text:o.translate(P.text),value:P.value}}),v=n.label.map(function(P){return B0(P,o)}),y=ei.parts.field({dom:{},selectAttributes:{size:n.size},options:l,factory:lF,selectBehaviours:mn([cr.config({disabled:function(){return n.disabled||o.isDisabled()}}),Es.config({}),qr("selectbox-change",[Nt(xg(),function(P,I){Qn(P,rv,{name:n.name})})])])}),C=n.size>1?z.none():z.some(Gm("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},o.icons)),A={dom:{tag:"div",classes:["tox-selectfield"]},components:pn([[y],C.toArray()])};return ei.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:pn([v.toArray(),[A]]),fieldBehaviours:mn([cr.config({disabled:function(){return n.disabled||o.isDisabled()},onDisabled:function(P){ei.getField(P).each(cr.disable)},onEnabled:function(P){ei.getField(P).each(cr.enable)}}),wu()])})},cF=function(n,o){var l=function(P){return{dom:{tag:"th",innerHtml:o.translate(P)}}},v=function(P){return{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Vt(P,l)}]}},y=function(P){return{dom:{tag:"td",innerHtml:o.translate(P)}}},C=function(P){return{dom:{tag:"tr"},components:Vt(P,y)}},A=function(P){return{dom:{tag:"tbody"},components:Vt(P,C)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[v(n.header),A(n.cells)],behaviours:mn([Es.config({}),Rr.config({})])}},fF=function(n,o){var l=n.label.map(function(fe){return B0(fe,o)}),v=[cr.config({disabled:function(){return n.disabled||o.isDisabled()}}),wu(),vr.config({mode:"execution",useEnter:n.multiline!==!0,useControlEnter:n.multiline===!0,execute:function(fe){return xa(fe,_d),z.some(!0)}}),qr("textfield-change",[Nt(rl(),function(fe,ge){Qn(fe,rv,{name:n.name})}),Nt(f1(),function(fe,ge){Qn(fe,rv,{name:n.name})})]),Es.config({})],y=n.validation.map(function(fe){return Xm.config({getRoot:function(ge){return eo(ge.element)},invalidClass:"tox-invalid",validator:{validate:function(ge){var xe=Sn.getValue(ge),Fe=fe.validator(xe);return Fl.pure(Fe===!0?Mr.value(xe):Mr.error(Fe))},validateOnLoad:fe.validateOnLoad}})}).toArray(),C=n.placeholder.fold(le({}),function(fe){return{placeholder:o.translate(fe)}}),A=n.inputMode.fold(le({}),function(fe){return{inputmode:fe}}),P=ue(ue({},C),A),I=ei.parts.field({tag:n.multiline===!0?"textarea":"input",inputAttributes:P,inputClasses:[n.classname],inputBehaviours:mn(pn([v,y])),selectOnFocus:!1,factory:OE}),H=n.flex?["tox-form__group--stretched"]:[],G=H.concat(n.maximized?["tox-form-group--maximize"]:[]),Q=[cr.config({disabled:function(){return n.disabled||o.isDisabled()},onDisabled:function(fe){ei.getField(fe).each(cr.disable)},onEnabled:function(fe){ei.getField(fe).each(cr.enable)}}),wu()];return TE(l,I,G,Q)},YH=function(n,o){return fF({name:n.name,multiline:!1,label:n.label,inputMode:n.inputMode,placeholder:n.placeholder,flex:!1,disabled:n.disabled,classname:"tox-textfield",validation:z.none(),maximized:n.maximized},o)},qH=function(n,o){return fF({name:n.name,multiline:!0,label:n.label,inputMode:z.none(),placeholder:n.placeholder,flex:!0,disabled:n.disabled,classname:"tox-textarea",validation:z.none(),maximized:n.maximized},o)},GH=function(n,o){var l=n.stream.streams,v=l.setup(n,o);return Qa([Nt(n.event,v),Vc(function(){return o.cancel()})].concat(n.cancelEvent.map(function(y){return[Nt(y,function(){return o.cancel()})]}).getOr([])))},KH=Object.freeze({__proto__:null,events:GH}),dF=function(n){var o=ur(null),l=function(){return{timer:o.get()!==null?"set":"unset"}},v=function(C){o.set(C)},y=function(){var C=o.get();C!==null&&C.cancel()};return Iu({readState:l,setTimer:v,cancel:y})},XH=function(n){return n.stream.streams.state(n)},ZH=Object.freeze({__proto__:null,throttle:dF,init:XH}),JH=function(n,o){var l=n.stream,v=BM(n.onStream,l.delay);return o.setTimer(v),function(y,C){v.throttle(y,C),l.stopEvent&&C.stop()}},QH=[Ls("stream",ql("mode",{throttle:[It("delay"),Je("stopEvent",!0),Ti("streams",{setup:JH,state:dF})]})),Je("event","input"),za("cancelEvent"),Il("onStream")],vF=Ss({fields:QH,name:"streaming",active:KH,state:ZH}),_O=function(n,o,l){var v=Sn.getValue(l);Sn.setValue(o,v),mF(o)},hF=function(n,o){var l=n.element,v=Wd(l),y=l.dom;Li(l,"type")!=="number"&&o(y,v)},mF=function(n){hF(n,function(o,l){return o.setSelectionRange(l.length,l.length)})},gF=function(n,o){hF(n,function(l,v){return l.setSelectionRange(o,v.length)})},e9=function(n,o,l){if(n.selectsOver){var v=Sn.getValue(o),y=n.getDisplayText(v),C=Sn.getValue(l),A=n.getDisplayText(C);return A.indexOf(y)===0?z.some(function(){_O(n,o,l),gF(o,y.length)}):z.none()}else return z.none()},RP=le("alloy.typeahead.itemexecute"),pF=function(n,o,l,v){var y=function(I,H,G){n.previewing.set(!1);var Q=ks.getCoupled(I,"sandbox");if(Ta.isOpen(Q))fa.getCurrent(Q).each(function(ge){ri.getHighlighted(ge).fold(function(){G(ge)},function(){yy(Q,ge.element,"keydown",H)})});else{var fe=function(ge){fa.getCurrent(ge).each(G)};UA(n,A(I),I,Q,v,fe,Gh.HighlightFirst).get(se)}},C=zA(n),A=function(I){return function(H){return H.map(function(G){var Q=rs(G.menus),fe=Er(Q,function(xe){return kt(xe.items,function(Fe){return Fe.type==="item"})}),ge=Sn.getState(I);return ge.update(Vt(fe,function(xe){return xe.data})),G})}},P=[Rr.config({}),Sn.config({onSetValue:n.onSetValue,store:ue({mode:"dataset",getDataKey:function(I){return Wd(I.element)},getFallbackEntry:function(I){return{value:I,meta:{}}},setValue:function(I,H){Dg(I.element,n.model.getDisplayText(H))}},n.initialData.map(function(I){return Id("initialValue",I)}).getOr({}))}),vF.config({stream:{mode:"throttle",delay:n.responseTime,stopEvent:!1},onStream:function(I,H){var G=ks.getCoupled(I,"sandbox"),Q=Rr.isFocused(I);if(Q&&Wd(I.element).length>=n.minChars){var fe=fa.getCurrent(G).bind(function(xe){return ri.getHighlighted(xe).map(Sn.getValue)});n.previewing.set(!0);var ge=function(xe){fa.getCurrent(G).each(function(Fe){fe.fold(function(){n.model.selectsOver&&ri.highlightFirst(Fe)},function(et){ri.highlightBy(Fe,function(Re){var nt=Sn.getValue(Re);return nt.value===et.value}),ri.getHighlighted(Fe).orThunk(function(){return ri.highlightFirst(Fe),z.none()})})})};UA(n,A(I),I,G,v,ge,Gh.HighlightFirst).get(se)}},cancelEvent:Fd()}),vr.config({mode:"special",onDown:function(I,H){return y(I,H,ri.highlightFirst),z.some(!0)},onEscape:function(I){var H=ks.getCoupled(I,"sandbox");return Ta.isOpen(H)?(Ta.close(H),z.some(!0)):z.none()},onUp:function(I,H){return y(I,H,ri.highlightLast),z.some(!0)},onEnter:function(I){var H=ks.getCoupled(I,"sandbox"),G=Ta.isOpen(H);if(G&&!n.previewing.get())return fa.getCurrent(H).bind(function(fe){return ri.getHighlighted(fe)}).map(function(fe){return Qn(I,RP(),{item:fe}),!0});var Q=Sn.getValue(I);return xa(I,Fd()),n.onExecute(H,I,Q),G&&Ta.close(H),z.some(!0)}}),Pa.config({toggleClass:n.markers.openClass,aria:{mode:"expanded"}}),ks.config({others:{sandbox:function(I){return LR(n,I,{onOpen:function(){return Pa.on(I)},onClose:function(){return Pa.off(I)}})}}}),qr("typeaheadevents",[ys(function(I){var H=se;SC(n,A(I),I,v,H,Gh.HighlightFirst).get(se)}),Nt(RP(),function(I,H){var G=ks.getCoupled(I,"sandbox");_O(n.model,I,H.event.item),xa(I,Fd()),n.onItemExecute(I,G,H.event.item,Sn.getValue(I)),Ta.close(G),mF(I)})].concat(n.dismissOnBlur?[Nt(Sg(),function(I){var H=ks.getCoupled(I,"sandbox");ll(H.element).isNone()&&Ta.close(H)})]:[]))];return{uid:n.uid,dom:HA(Et(n,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:ue(ue({},C),Lu(n.typeaheadBehaviours,P)),eventOrder:n.eventOrder}},t9=le([za("lazySink"),It("fetch"),Je("minChars",5),Je("responseTime",1e3),Ha("onOpen"),Je("getHotspot",z.some),Je("getAnchorOverrides",le({})),Je("layouts",z.none()),Je("eventOrder",{}),vm("model",{},[Je("getDisplayText",function(n){return n.meta!==void 0&&n.meta.text!==void 0?n.meta.text:n.value}),Je("selectsOver",!0),Je("populateFromBrowse",!0)]),Ha("onSetValue"),xs("onExecute"),Ha("onItemExecute"),Je("inputClasses",[]),Je("inputAttributes",{}),Je("inputStyles",{}),Je("matchWidth",!0),Je("useMinWidth",!1),Je("dismissOnBlur",!0),km(["openClass"]),za("initialData"),au("typeaheadBehaviours",[Rr,Sn,vF,vr,Pa,ks]),Al("previewing",function(){return ur(!0)})].concat(g4()).concat(FR())),n9=le([jf({schema:[wh()],name:"menu",overrides:function(n){return{fakeFocus:!0,onHighlight:function(o,l){n.previewing.get()?o.getSystem().getByUid(n.uid).each(function(v){e9(n.model,v,l).fold(function(){return ri.dehighlight(o,l)},function(y){return y()})}):o.getSystem().getByUid(n.uid).each(function(v){n.model.populateFromBrowse&&_O(n.model,v,l)}),n.previewing.set(!1)},onExecute:function(o,l){return o.getSystem().getByUid(n.uid).toOptional().map(function(v){return Qn(v,RP(),{item:l}),!0})},onHover:function(o,l){n.previewing.set(!1),o.getSystem().getByUid(n.uid).each(function(v){n.model.populateFromBrowse&&_O(n.model,v,l)})}}}})]),r9=Sc({name:"Typeahead",configFields:t9(),partFields:n9(),factory:pF}),Qh=function(n){var o=function(){return Qh(n.toCached())},l=function(I){return Qh(n.bind(function(H){return H.fold(function(G){return Fl.pure(Mr.error(G))},function(G){return I(G)})}))},v=function(I){return Qh(n.map(function(H){return H.bind(I)}))},y=function(I){return Qh(n.map(function(H){return H.map(I)}))},C=function(I){return Qh(n.map(function(H){return H.mapError(I)}))},A=function(I,H){return n.map(function(G){return G.fold(I,H)})},P=function(I,H){return Qh(Fl.nu(function(G){var Q=!1,fe=setTimeout(function(){Q=!0,G(Mr.error(H()))},I);n.get(function(ge){Q||(clearTimeout(fe),G(ge))})}))};return ue(ue({},n),{toCached:o,bindFuture:l,bindResult:v,mapResult:y,mapError:C,foldResult:A,withTimeout:P})},bF=function(n){return Qh(Fl.nu(n))},yF=function(n){return Qh(Fl.pure(Mr.value(n)))},wO=function(n){return Qh(Fl.pure(Mr.error(n)))},a9=function(n){return Qh(Fl.pure(n))},i9=function(n){return Qh(n.map(Mr.value))},o9=function(n){return bF(function(o){n.then(function(l){o(Mr.value(l))},function(l){o(Mr.error(l))})})},s9={nu:bF,wrap:Qh,pure:yF,value:yF,error:wO,fromResult:a9,fromFuture:i9,fromPromise:o9},u9={type:"separator"},l9=function(n){return{type:"menuitem",value:n.url,text:n.title,meta:{attach:n.attach},onAction:se}},PP=function(n,o){return{type:"menuitem",value:o,text:n,meta:{attach:void 0},onAction:se}},_F=function(n){return Vt(n,l9)},c9=function(n,o){return kt(o,function(l){return l.type===n})},wF=function(n,o){return _F(c9(n,o))},f9=function(n){return wF("header",n.targets)},d9=function(n){return wF("anchor",n.targets)},v9=function(n){return z.from(n.anchorTop).map(function(o){return PP("<top>",o)}).toArray()},h9=function(n){return z.from(n.anchorBottom).map(function(o){return PP("<bottom>",o)}).toArray()},m9=function(n){return Vt(n,function(o){return PP(o,o)})},xF=function(n){return st(n,function(o,l){var v=o.length===0||l.length===0;return v?o.concat(l):o.concat(u9,l)},[])},IP=function(n,o){var l=n.toLowerCase();return kt(o,function(v){var y=v.meta!==void 0&&v.meta.text!==void 0?v.meta.text:v.text;return Da(y.toLowerCase(),l)||Da(v.value.toLowerCase(),l)})},g9=function(n,o,l){var v=Sn.getValue(o),y=v.meta.text!==void 0?v.meta.text:v.value,C=l.getLinkInformation();return C.fold(function(){return[]},function(A){var P=IP(y,m9(l.getHistory(n)));return n==="file"?xF([P,IP(y,f9(A)),IP(y,pn([v9(A),d9(A),h9(A)]))]):P})},CF=qt("aria-invalid"),p9=function(n,o,l){var v,y=o.shared.providers,C=function(Re){var nt=Sn.getValue(Re);l.addToHistory(nt.value,n.filetype)},A=ei.parts.field({factory:r9,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":CF,type:"url"},minChars:0,responseTime:0,fetch:function(Re){var nt=g9(n.filetype,Re,l),Ct=DC(nt,ec.BUBBLE_TO_SANDBOX,o,!1);return Fl.pure(Ct)},getHotspot:function(Re){return ge.getOpt(Re)},onSetValue:function(Re,nt){Re.hasConfigured(Xm)&&Xm.run(Re).get(se)},typeaheadBehaviours:mn(pn([l.getValidationHandler().map(function(Re){return Xm.config({getRoot:function(nt){return eo(nt.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(nt,Ct){H.getOpt(nt).each(function(xt){$r(xt.element,"title",y.translate(Ct))})}},validator:{validate:function(nt){var Ct=Sn.getValue(nt);return s9.nu(function(xt){Re({type:n.filetype,url:Ct.value},function(tt){if(tt.status==="invalid"){var gt=Mr.error(tt.message);xt(gt)}else{var Pt=Mr.value(tt.message);xt(Pt)}})})},validateOnLoad:!1}})}).toArray(),[cr.config({disabled:function(){return n.disabled||y.isDisabled()}}),Es.config({}),qr("urlinput-events",pn([n.filetype==="file"?[Nt(rl(),function(Re){Qn(Re,rv,{name:n.name})})]:[],[Nt(xg(),function(Re){Qn(Re,rv,{name:n.name}),C(Re)}),Nt(f1(),function(Re){Qn(Re,rv,{name:n.name}),C(Re)})]]))]])),eventOrder:(v={},v[rl()]=["streaming","urlinput-events","invalidating"],v),model:{getDisplayText:function(Re){return Re.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:o.shared.getSink,parts:{menu:I_(!1,1,"normal")},onExecute:function(Re,nt,Ct){Qn(nt,_d,{})},onItemExecute:function(Re,nt,Ct,xt){C(Re),Qn(Re,rv,{name:n.name})}}),P=n.label.map(function(Re){return B0(Re,y)}),I=function(Re,nt,Ct,xt){return Ct===void 0&&(Ct=Re),xt===void 0&&(xt=Re),Gm(Ct,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+Re],attributes:ue({title:y.translate(xt),"aria-live":"polite"},nt.fold(function(){return{}},function(tt){return{id:tt}}))},y.icons)},H=li(I("invalid",z.some(CF),"warning")),G=li({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[H.asSpec()]}),Q=l.getUrlPicker(n.filetype),fe=qt("browser.url.event"),ge=li({dom:{tag:"div",classes:["tox-control-wrap"]},components:[A,G.asSpec()],behaviours:mn([cr.config({disabled:function(){return n.disabled||y.isDisabled()}})])}),xe=li(EP({name:n.name,icon:z.some("browse"),text:n.label.getOr(""),disabled:n.disabled,primary:!1,borderless:!0},function(Re){return xa(Re,fe)},y,[],["tox-browse-url"])),Fe=function(){return{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:pn([[ge.asSpec()],Q.map(function(){return xe.asSpec()}).toArray()])}},et=function(Re){fa.getCurrent(Re).each(function(nt){var Ct=Sn.getValue(nt),xt=ue({fieldname:n.name},Ct);Q.each(function(tt){tt(xt).get(function(gt){Sn.setValue(nt,gt),Qn(Re,rv,{name:n.name})})})})};return ei.sketch({dom:pz(),components:P.toArray().concat([Fe()]),fieldBehaviours:mn([cr.config({disabled:function(){return n.disabled||y.isDisabled()},onDisabled:function(Re){ei.getField(Re).each(cr.disable),xe.getOpt(Re).each(cr.disable)},onEnabled:function(Re){ei.getField(Re).each(cr.enable),xe.getOpt(Re).each(cr.enable)}}),wu(),qr("url-input-events",[Nt(fe,et)])])})},b9=function(n,o){return Ec.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+n.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[pf.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:yI(n.icon,o.icons),attributes:{title:o.translate(n.iconTooltip)}},action:function(l){Qn(l,Km,{name:"alert-banner",value:n.url})},buttonBehaviours:mn([MM()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:o.translate(n.text)}}]})},y9=function(n,o){var l=Sn.config({store:{mode:"manual",getValue:function(I){var H=I.element.dom;return H.checked},setValue:function(I,H){var G=I.element.dom;G.checked=H}}}),v=function(I){return I.element.dom.click(),z.some(!0)},y=ei.parts.field({factory:{sketch:Pe},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:mn([Jm.self(),cr.config({disabled:function(){return n.disabled||o.isDisabled()}}),Es.config({}),Rr.config({}),l,vr.config({mode:"special",onEnter:v,onSpace:v,stopSpaceKeyup:!0}),qr("checkbox-events",[Nt(xg(),function(I,H){Qn(I,rv,{name:n.name})})])])}),C=ei.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:o.translate(n.label)},behaviours:mn([ME.config({})])}),A=function(I){var H=I==="checked"?"selected":"unselected";return Gm(H,{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+I]},o.icons)},P=li({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[A("checked"),A("unchecked")]});return ei.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[y,P.asSpec(),C],fieldBehaviours:mn([cr.config({disabled:function(){return n.disabled||o.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(I){ei.getField(I).each(cr.disable)},onEnabled:function(I){ei.getField(I).each(cr.enable)}}),wu()])})},SF=function(n){return n.presets==="presentation"?Ec.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:n.html}}):Ec.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:n.html,attributes:{role:"document"}},containerBehaviours:mn([Es.config({}),Rr.config({})])})},ms=function(n){return function(o,l,v){return Zn(l,"name").fold(function(){return n(l,v)},function(y){return o.field(y,n(l,v))})}},xO=function(n){return function(o,l,v){var y=Et(l,{source:"dynamic"});return ms(n)(o,y,v)}},_9={bar:ms(function(n,o){return N_(n,o.shared)}),collection:ms(function(n,o){return $A(n,o.shared.providers)}),alertbanner:ms(function(n,o){return b9(n,o.shared.providers)}),input:ms(function(n,o){return YH(n,o.shared.providers)}),textarea:ms(function(n,o){return qH(n,o.shared.providers)}),label:ms(function(n,o){return UH(n,o.shared)}),iframe:xO(function(n,o){return xL(n,o.shared.providers)}),button:ms(function(n,o){return CH(n,o.shared.providers)}),checkbox:ms(function(n,o){return y9(n,o.shared.providers)}),colorinput:ms(function(n,o){return Lz(n,o.shared,o.colorinput)}),colorpicker:ms(D7),dropzone:ms(function(n,o){return F7(n,o.shared.providers)}),grid:ms(function(n,o){return _L(n,o.shared)}),listbox:ms(function(n,o){return WH(n,o)}),selectbox:ms(function(n,o){return jH(n,o.shared.providers)}),sizeinput:ms(function(n,o){return KL(n,o.shared.providers)}),urlinput:ms(function(n,o){return p9(n,o,o.urlinput)}),customeditor:ms(R7),htmlpanel:ms(SF),imagetools:ms(function(n,o){return VH(n,o.shared.providers)}),table:ms(function(n,o){return cF(n,o.shared.providers)}),panel:ms(function(n,o){return sF(n,o)})},w9={field:function(n,o){return o}},CO=function(n,o,l){var v=Et(l,{shared:{interpreter:function(y){return BP(n,y,v)}}});return BP(n,o,v)},BP=function(n,o,l){return Zn(_9,o.type).fold(function(){return console.error('Unknown factory type "'+o.type+'", defaulting to container: ',o),o},function(v){return v(n,o,l)})},x9=function(n,o){var l=w9;return BP(l,n,o)},SO={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},EF=function(n,o,l){var v=12,y={maxHeightFunction:Vg()},C=function(){return{type:"node",root:On(n()),node:z.from(n()),bubble:Fm(v,v,SO),layouts:{onRtl:function(){return[Cb]},onLtr:function(){return[xb]}},overrides:y}},A=function(){return{type:"hotspot",hotspot:o(),bubble:Fm(-v,v,SO),layouts:{onRtl:function(){return[Vs]},onLtr:function(){return[Us]}},overrides:y}};return function(){return l()?C():A()}},kF=function(n,o,l){var v=function(){return{type:"node",root:On(n()),node:z.from(n()),layouts:{onRtl:function(){return[Gv]},onLtr:function(){return[Gv]}}}},y=function(){return{type:"hotspot",hotspot:o(),layouts:{onRtl:function(){return[Zo]},onLtr:function(){return[Zo]}}}};return function(){return l()?v():y()}},C9=function(n,o){return function(){return{type:"selection",root:o(),getSelection:function(){var l=n.selection.getRng();return z.some(jg.range(vn.fromDom(l.startContainer),l.startOffset,vn.fromDom(l.endContainer),l.endOffset))}}}},S9=function(n){return function(o){return{type:"node",root:n(),node:o}}},E9=function(n,o,l){var v=kA(n),y=function(){return vn.fromDom(n.getBody())},C=function(){return vn.fromDom(n.getContentAreaContainer())},A=function(){return v||!l()};return{inlineDialog:EF(C,o,A),banner:kF(C,o,A),cursor:C9(n,y),node:S9(y)}},k9=function(n){return function(o,l){var v=GB(n);v(o,l)}},T9=function(n){return function(){return HB(n)}},TF=function(n){return function(){return bR(n)}},A9=function(n){return function(){return UB(n)}},AF=function(n){return{colorPicker:k9(n),hasCustomColors:T9(n),getColors:TF(n),getColorCols:A9(n)}},O9=function(n){return function(){return cB(n)}},D9=function(n){return{isDraggableModal:O9(n)}},LP=function(n){var o=ur(iB(n)?"bottom":"top");return{isPositionedAtTop:function(){return o.get()==="top"},getDockingMode:o.get,setDockingMode:o.set}},EO=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],XE=function(n){return ma(n,"items")},M9=function(n){return ma(n,"block")},R9=function(n){return ma(n,"inline")},P9=function(n){return ma(n,"selector")},OF=function(n){return st(n,function(o,l){if(XE(l)){var v=OF(l.items);return{customFormats:o.customFormats.concat(v.customFormats),formats:o.formats.concat([{title:l.title,items:v.formats}])}}else if(R9(l)||M9(l)||P9(l)){var y=c(l.name)?l.name:l.title.toLowerCase(),C="custom-"+y;return{customFormats:o.customFormats.concat([{name:C,format:l}]),formats:o.formats.concat([{title:l.title,format:C,icon:l.icon}])}}else return ue(ue({},o),{formats:o.formats.concat(l)})},{customFormats:[],formats:[]})},I9=function(n,o){var l=OF(o),v=function(y){xn(y,function(C){n.formatter.has(C.name)||n.formatter.register(C.name,C.format)})};return n.formatter?v(l.customFormats):n.on("init",function(){v(l.customFormats)}),l.formats},FP=function(n){return V$(n).map(function(o){var l=I9(n,o);return U$(n)?EO.concat(l):l}).getOr(EO)},NP=function(n,o,l){var v={type:"formatter",isSelected:o(n.format),getStylePreview:l(n.format)};return Et(n,v)},$P=function(n,o,l,v){var y=function(I){return NP(I,l,v)},C=function(I){var H={type:"submenu"};return Et(I,H)},A=function(I){var H=c(I.name)?I.name:qt(I.title),G="custom-"+H,Q={type:"formatter",format:G,isSelected:l(G),getStylePreview:v(G)},fe=Et(I,Q);return n.formatter.register(H,fe),fe},P=function(I){return Vt(I,function(H){var G=ii(H);if(Pi(H,"items")){var Q=P(H.items);return Et(C(H),{getStyleItems:le(Q)})}else return Pi(H,"format")?y(H):G.length===1&&_n(G,"title")?Et(H,{type:"separator"}):A(H)})};return P(o)},B9=function(n){var o=function(Q){return function(){return n.formatter.match(Q)}},l=function(Q){return function(){var fe=n.formatter.get(Q);return fe!==void 0?z.some({tag:fe.length>0&&(fe[0].inline||fe[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(Q))}):z.none()}},v=function(Q){var fe=Q.items;return fe!==void 0&&fe.length>0?Er(fe,v):[Q.format]},y=ur([]),C=ur([]),A=ur([]),P=ur([]),I=ur(!1);n.on("PreInit",function(Q){var fe=FP(n),ge=$P(n,fe,o,l);y.set(ge),C.set(Er(ge,v))}),n.on("addStyleModifications",function(Q){var fe=$P(n,Q.items,o,l);A.set(fe),I.set(Q.replace),P.set(Er(fe,v))});var H=function(){var Q=I.get()?[]:y.get(),fe=A.get();return Q.concat(fe)},G=function(){var Q=I.get()?[]:C.get(),fe=P.get();return Q.concat(fe)};return{getData:H,getFlattenedKeys:G}},L9=function(n){return V(n)&&n.nodeType===1},F9=Lb.trim,DF=function(n){return function(o){return!!(L9(o)&&(o.contentEditable===n||o.getAttribute("data-mce-contenteditable")===n))}},N9=DF("true"),MF=DF("false"),RF=function(n,o,l,v,y){return{type:n,title:o,url:l,level:v,attach:y}},$9=function(n){for(;n=n.parentNode;){var o=n.contentEditable;if(o&&o!=="inherit")return N9(n)}return!1},z9=function(n,o){return Vt(fl(vn.fromDom(o),n),function(l){return l.dom})},PF=function(n){return n.innerText||n.textContent},IF=function(n){return n.id?n.id:qt("h")},Z_=function(n){return n&&n.nodeName==="A"&&(n.id||n.name)!==void 0},BF=function(n){return Z_(n)&&FF(n)},LF=function(n){return n&&/^(H[1-6])$/.test(n.nodeName)},FF=function(n){return $9(n)&&!MF(n)},H9=function(n){return LF(n)&&FF(n)},NF=function(n){return LF(n)?parseInt(n.nodeName.substr(1),10):0},V9=function(n){var o=IF(n),l=function(){n.id=o};return RF("header",PF(n),"#"+o,NF(n),l)},U9=function(n){var o=n.id||n.name,l=PF(n);return RF("anchor",l||"#"+o,"#"+o,0,se)},W9=function(n){return Vt(kt(n,H9),V9)},j9=function(n){return Vt(kt(n,BF),U9)},Y9=function(n){var o=z9("h1,h2,h3,h4,h5,h6,a:not([href])",n);return o},q9=function(n){return F9(n.title).length>0},G9=function(n){var o=Y9(n);return kt(W9(o).concat(j9(o)),q9)},K9={find:G9},kO="tinymce-url-history",$F=5,zP=function(n){return c(n)&&/^https?/.test(n)},X9=function(n){return p(n)&&n.length<=$F&&xr(n,zP)},zF=function(n){return m(n)&&Ms(n,function(o){return!X9(o)}).isNone()},HF=function(){var n=PA.getItem(kO);if(n===null)return{};var o;try{o=JSON.parse(n)}catch(l){if(l instanceof SyntaxError)return console.log("Local storage "+kO+" was not valid JSON",l),{};throw l}return zF(o)?o:(console.log("Local storage "+kO+" was not valid format",o),{})},Z9=function(n){if(!zF(n))throw new Error(`Bad format for history:
`+JSON.stringify(n));PA.setItem(kO,JSON.stringify(n))},J9=function(n){var o=HF();return Zn(o,n).getOr([])},HP=function(n,o){if(zP(n)){var l=HF(),v=Zn(l,o).getOr([]),y=kt(v,function(C){return C!==n});l[o]=[n].concat(y).slice(0,$F),Z9(l)}},TO=function(n){return!!n},Q9=function(n){return ya(Lb.makeMap(n,/[, ]/),TO)},VP=function(n){return z.from(X$(n)).filter(q)},eV=function(n){var o=z.some(Z$(n)).filter(TO),l=z.some(cR(n)).filter(TO),v=o.or(l).map(Q9);return VP(n).fold(de,function(y){return v.fold(ve,function(C){return ii(C).length>0?C:!1})})},tV=function(n,o){var l=eV(n);return k(l)?l?VP(n):z.none():l[o]?VP(n):z.none()},nV=function(n,o){return tV(n,o).map(function(l){return function(v){return Fl.nu(function(y){var C=function(P,I){if(!c(P))throw new Error("Expected value to be string");if(I!==void 0&&!m(I))throw new Error("Expected meta to be a object");var H={value:P,meta:I};y(H)},A=ue({filetype:o,fieldname:v.fieldname},z.from(v.meta).getOr({}));l.call(n,C,v.value,A)})}})},VF=function(n){return z.from(n).filter(c).getOrUndefined()},rV=function(n){return fB(n)?z.none():z.some({targets:K9.find(n.getBody()),anchorTop:VF(dB(n)),anchorBottom:VF(J$(n))})},aV=function(n){return z.from(vB(n))},iV=function(n){return{getHistory:J9,addToHistory:HP,getLinkInformation:function(){return rV(n)},getValidationHandler:function(){return aV(n)},getUrlPicker:function(o){return nV(n,o)}}},AO=function(n,o,l){var v=ur(!1),y=LP(o),C={shared:{providers:{icons:function(){return o.ui.registry.getAll().icons},menuItems:function(){return o.ui.registry.getAll().menuItems},translate:Yh.translate,isDisabled:function(){return o.mode.isReadOnly()||o.ui.isDisabled()},getSetting:o.getParam.bind(o)},interpreter:function(A){return x9(A,C)},anchors:E9(o,l,y.isPositionedAtTop),header:y,getSink:function(){return Mr.value(n)}},urlinput:iV(o),styleselect:B9(o),colorinput:AF(o),dialog:D9(o),isContextMenuOpen:function(){return v.get()},setContextMenuState:function(A){return v.set(A)}};return C},oV=function(n,o,l){var v=function(xt,tt){xn([o,l],function(gt){gt.broadcastEvent(xt,tt)})},y=function(xt,tt){xn([o,l],function(gt){gt.broadcastOn([xt],tt)})},C=function(xt){return y(y0(),{target:xt.target})},A=Ca(),P=Lo(A,"touchstart",C),I=Lo(A,"touchmove",function(xt){return v(Yp(),xt)}),H=Lo(A,"touchend",function(xt){return v(gy(),xt)}),G=Lo(A,"mousedown",C),Q=Lo(A,"mouseup",function(xt){xt.raw.button===0&&y(i2(),{target:xt.target})}),fe=function(xt){return y(y0(),{target:vn.fromDom(xt.target)})},ge=function(xt){xt.button===0&&y(i2(),{target:vn.fromDom(xt.target)})},xe=function(){xn(n.editorManager.get(),function(xt){n!==xt&&xt.fire("DismissPopups",{relatedTarget:n})})},Fe=function(xt){return v(py(),xc(xt))},et=function(xt){y(eb(),{}),v(Hc(),xc(xt))},Re=function(){return y(eb(),{})},nt=function(xt){xt.state&&y(y0(),{target:vn.fromDom(n.getContainer())})},Ct=function(xt){y(y0(),{target:vn.fromDom(xt.relatedTarget.getContainer())})};n.on("PostRender",function(){n.on("click",fe),n.on("tap",fe),n.on("mouseup",ge),n.on("mousedown",xe),n.on("ScrollWindow",Fe),n.on("ResizeWindow",et),n.on("ResizeEditor",Re),n.on("AfterProgressState",nt),n.on("DismissPopups",Ct)}),n.on("remove",function(){n.off("click",fe),n.off("tap",fe),n.off("mouseup",ge),n.off("mousedown",xe),n.off("ScrollWindow",Fe),n.off("ResizeWindow",et),n.off("ResizeEditor",Re),n.off("AfterProgressState",nt),n.off("DismissPopups",Ct),G.unbind(),P.unbind(),I.unbind(),H.unbind(),Q.unbind()}),n.on("detach",function(){io(o),io(l),o.destroy(),l.destroy()})},Xf=pr,Fb=Bx,J_=le([Je("shell",!1),It("makeItem"),Je("setupItem",se),gd.field("listBehaviours",[Lr])]),sV=function(){return{behaviours:mn([Lr.config({})])}},UP=pd({name:"items",overrides:sV}),OO=le([UP]),uV=le("CustomList"),lV=function(n,o,l,v){var y=function(P,I){A(P).fold(function(){throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},function(H){var G=Lr.contents(H),Q=I.length,fe=Q-G.length,ge=fe>0?Ee(fe,function(){return n.makeItem()}):[],xe=G.slice(Q);xn(xe,function(et){return Lr.remove(H,et)}),xn(ge,function(et){return Lr.append(H,et)});var Fe=Lr.contents(H);xn(Fe,function(et,Re){n.setupItem(P,et,I[Re],Re)})})},C=n.shell?{behaviours:[Lr.config({})],components:[]}:{behaviours:[],components:o},A=function(P){return n.shell?z.some(P):Ai(P,n,"items")};return{uid:n.uid,dom:n.dom,components:C.components,behaviours:Lu(n.listBehaviours,C.behaviours),apis:{setItems:y}}},UF=Sc({name:uV(),configFields:J_(),partFields:OO(),factory:lV,apis:{setItems:function(n,o,l){n.setItems(o,l)}}}),RC=le([It("dom"),Je("shell",!0),au("toolbarBehaviours",[Lr])]),cV=function(){return{behaviours:mn([Lr.config({})])}},Q_=le([pd({name:"groups",overrides:cV})]),WF=function(n,o,l,v){var y=function(P,I){C(P).fold(function(){throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},function(H){Lr.set(H,I)})},C=function(P){return n.shell?z.some(P):Ai(P,n,"groups")},A=n.shell?{behaviours:[Lr.config({})],components:[]}:{behaviours:[],components:o};return{uid:n.uid,dom:n.dom,components:A.components,behaviours:Lu(n.toolbarBehaviours,A.behaviours),apis:{setGroups:y},domModification:{attributes:{role:"group"}}}},Qm=Sc({name:"Toolbar",configFields:RC(),partFields:Q_(),factory:WF,apis:{setGroups:function(n,o,l){n.setGroups(o,l)}}}),fV=se,dV=de,jF=le([]),vV=Object.freeze({__proto__:null,setup:fV,isDocked:dV,getBehaviours:jF}),YF=function(n){var o=ou(Io(n,"position"),"fixed"),l=o?z.none():Po(n);return l.orThunk(function(){var v=vn.fromTag("span");return eo(n).bind(function(y){gi(y,v);var C=Po(v);return Ou(v),C})})},DO=function(n){return YF(n).map(Sl).getOrThunk(function(){return $a(0,0)})},ew=$c.generate([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),MO=function(n,o){var l=n.element;ds(l,o.transitionClass),Xo(l,o.fadeOutClass),ds(l,o.fadeInClass),o.onShow(n)},RO=function(n,o){var l=n.element;ds(l,o.transitionClass),Xo(l,o.fadeInClass),ds(l,o.fadeOutClass),o.onHide(n)},tw=function(n,o){return n.y<o.bottom&&n.bottom>o.y},PO=function(n,o){return n.y>=o.y},hV=function(n,o){return n.bottom<=o.bottom},WP=function(n,o,l){return xr(n,function(v){switch(v){case"bottom":return hV(o,l);case"top":return PO(o,l)}})},jP=function(n,o){return o.getInitialPos().map(function(l){return us(l.bounds.x,l.bounds.y,fu(n),ss(n))})},qF=function(n,o,l){l.setInitialPos({style:pv(n),position:Vi(n,"position")||"static",bounds:o})},GF=function(n,o,l){return l.getInitialPos().bind(function(v){switch(l.clearInitialPos(),v.position){case"static":return z.some(ew.static());case"absolute":var y=YF(n).map(go).getOrThunk(function(){return go(La())});return z.some(ew.absolute(cl("absolute",Zn(v.style,"left").map(function(C){return o.x-y.x}),Zn(v.style,"top").map(function(C){return o.y-y.y}),Zn(v.style,"right").map(function(C){return y.right-o.right}),Zn(v.style,"bottom").map(function(C){return y.bottom-o.bottom}))));default:return z.none()}})},KF=function(n,o,l){return jP(n,l).filter(function(v){return WP(l.getModes(),v,o)}).bind(function(v){return GF(n,v,l)})},mV=function(n,o,l){var v=go(n);if(WP(l.getModes(),v,o))return z.none();qF(n,v,l);var y=eu(),C=v.x-y.x,A=o.y-y.y,P=y.bottom-o.bottom,I=v.y<=o.y;return z.some(ew.fixed(cl("fixed",z.some(C),I?z.some(A):z.none(),z.none(),I?z.none():z.some(P))))},gV=function(n,o,l){var v=n.element,y=ou(Io(v,"position"),"fixed");return y?KF(v,o,l):mV(v,o,l)},pV=function(n,o){var l=n.element;return jP(l,o).bind(function(v){return GF(l,v,o)})},IO=function(n,o,l){l.setDocked(!1),xn(["left","right","top","bottom","position"],function(v){return Na(n.element,v)}),o.onUndocked(n)},ZE=function(n,o,l,v){var y=v.position==="fixed";l.setDocked(y),Eh(n.element,v);var C=y?o.onDocked:o.onUndocked;C(n)},XF=function(n,o,l,v,y){y===void 0&&(y=!1),o.contextual.each(function(C){C.lazyContext(n).each(function(A){var P=tw(A,v);if(P!==l.isVisible())if(l.setVisible(P),y&&!P)Cm(n.element,[C.fadeOutClass]),C.onHide(n);else{var I=P?MO:RO;I(n,C)}})})},ZF=function(n,o,l){var v=o.lazyViewport(n),y=l.isDocked();y&&XF(n,o,l,v),gV(n,v,l).each(function(C){C.fold(function(){return IO(n,o,l)},function(A){return ZE(n,o,l,A)},function(A){XF(n,o,l,v,!0),ZE(n,o,l,A)})})},bV=function(n,o,l){var v=n.element;l.setDocked(!1),pV(n,l).each(function(y){y.fold(function(){return IO(n,o,l)},function(C){return ZE(n,o,l,C)},se)}),l.setVisible(!0),o.contextual.each(function(y){Wc(v,[y.fadeInClass,y.fadeOutClass,y.transitionClass]),y.onShow(n)}),BO(n,o,l)},BO=function(n,o,l){n.getSystem().isConnected()&&ZF(n,o,l)},JF=function(n,o,l){l.isDocked()&&bV(n,o,l)},yV=function(n,o,l){return l.isDocked()},nw=function(n,o,l,v){return l.setModes(v)},QF=function(n,o,l){return l.getModes()},_V=Object.freeze({__proto__:null,refresh:BO,reset:JF,isDocked:yV,getModes:QF,setModes:nw}),eN=function(n,o){return Qa([Bo(gm(),function(l,v){n.contextual.each(function(y){if(Rl(l.element,y.transitionClass)){Wc(l.element,[y.transitionClass,y.fadeInClass]);var C=o.isVisible()?y.onShown:y.onHidden;C(l)}v.stop()})}),Nt(py(),function(l,v){BO(l,n,o)}),Nt(Hc(),function(l,v){JF(l,n,o)})])},wV=Object.freeze({__proto__:null,events:eN}),LO=[Ol("contextual",[Ar("fadeInClass"),Ar("fadeOutClass"),Ar("transitionClass"),Fs("lazyContext"),Ha("onShow"),Ha("onShown"),Ha("onHide"),Ha("onHidden")]),Mi("lazyViewport",eu),kv("modes",["top","bottom"],Ui),Ha("onDocked"),Ha("onUndocked")],em=function(n){var o=ur(!1),l=ur(!0),v=Eo(),y=ur(n.modes),C=function(){return"docked:  "+o.get()+", visible: "+l.get()+", modes: "+y.get().join(",")};return Iu({isDocked:o.get,setDocked:o.set,getInitialPos:v.get,setInitialPos:v.set,clearInitialPos:v.clear,isVisible:l.get,setVisible:l.set,getModes:y.get,setModes:y.set,readState:C})},xV=Object.freeze({__proto__:null,init:em}),Ts=Ss({fields:LO,name:"docking",active:wV,apis:_V,state:xV}),YP=le(qt("toolbar-height-change")),wp={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},qP="tox-tinymce--toolbar-sticky-on",JE="tox-tinymce--toolbar-sticky-off",Nb=function(n,o){var l=Qi(o),v=l.dom.defaultView.innerHeight,y=vu(l),C=vn.fromDom(n.elm),A=nd(C),P=ss(C),I=A.y,H=I+P,G=Sl(o),Q=ss(o),fe=G.top,ge=fe+Q,xe=Math.abs(fe-y.top)<2,Fe=Math.abs(ge-(y.top+v))<2;if(xe&&I<ge)bv(y.left,I-Q,l);else if(Fe&&H>fe){var et=I-v+P+Q;bv(y.left,et,l)}},Xc=function(n,o){return _n(Ts.getModes(n),o)},GP=function(n){var o=function(v){return cc(v)+(parseInt(Vi(v,"margin-top"),10)||0)+(parseInt(Vi(v,"margin-bottom"),10)||0)},l=n.element;eo(l).each(function(v){var y="padding-"+Ts.getModes(n)[0];if(Ts.isDocked(n)){var C=fu(v);_r(l,"width",C+"px"),_r(v,y,o(l)+"px")}else Na(l,"width"),Na(v,y)})},KP=function(n,o){o?(Xo(n,wp.fadeOutClass),Cm(n,[wp.transitionClass,wp.fadeInClass])):(Xo(n,wp.fadeInClass),Cm(n,[wp.fadeOutClass,wp.transitionClass]))},XP=function(n,o){var l=vn.fromDom(n.getContainer());o?(ds(l,qP),Xo(l,JE)):(ds(l,JE),Xo(l,qP))},tN=function(n,o){var l=Qi(o);Bl(l).filter(function(v){return!Ra(o,v)}).filter(function(v){return Ra(v,vn.fromDom(l.dom.body))||xo(n,v)}).each(function(){return vd(o)})},CV=function(n,o){return ll(n).orThunk(function(){return o().toOptional().bind(function(l){return ll(l.element)})})},SV=function(n,o,l){n.inline||(o.header.isPositionedAtTop()||n.on("ResizeEditor",function(){l().each(Ts.reset)}),n.on("ResizeWindow ResizeEditor",function(){l().each(GP)}),n.on("SkinLoaded",function(){l().each(function(v){Ts.isDocked(v)?Ts.reset(v):Ts.refresh(v)})}),n.on("FullscreenStateChanged",function(){l().each(Ts.reset)})),n.on("AfterScrollIntoView",function(v){l().each(function(y){Ts.refresh(y);var C=y.element;ET(C)&&Nb(v,C)})}),n.on("PostRender",function(){XP(n,!1)})},$b=function(n){return n().map(Ts.isDocked).getOr(!1)},nN=function(){var n;return[sl.config({channels:(n={},n[YP()]={onReceive:GP},n)})]},rw=function(n,o){var l=Eo(),v=o.getSink,y=function(P){v().each(function(I){return P(I.element)})},C=function(P){n.inline||GP(P),XP(n,Ts.isDocked(P)),P.getSystem().broadcastOn([eb()],{}),v().each(function(I){return I.getSystem().broadcastOn([eb()],{})})},A=n.inline?[]:nN();return $e([Rr.config({}),Ts.config({contextual:ue({lazyContext:function(P){var I=cc(P.element),H=n.inline?n.getContentAreaContainer():n.getContainer(),G=go(vn.fromDom(H)),Q=G.height-I,fe=G.y+(Xc(P,"top")?0:I);return z.some(us(G.x,fe,G.width,Q))},onShow:function(){y(function(P){return KP(P,!0)})},onShown:function(P){y(function(I){return Wc(I,[wp.transitionClass,wp.fadeInClass])}),l.get().each(function(I){tN(P.element,I),l.clear()})},onHide:function(P){CV(P.element,v).fold(l.clear,l.set),y(function(I){return KP(I,!1)})},onHidden:function(){y(function(P){return Wc(P,[wp.transitionClass])})}},wp),lazyViewport:function(P){var I=eu(),H=AA(n),G=I.y+(Xc(P,"top")?H:0),Q=I.height-(Xc(P,"bottom")?H:0);return us(I.x,G,I.width,Q)},modes:[o.header.getDockingMode()],onDocked:C,onUndocked:C})],A,!0)},FO=Object.freeze({__proto__:null,setup:SV,isDocked:$b,getBehaviours:rw}),rN=function(n){var o=n.editor,l=n.sticky?rw:jF;return{uid:n.uid,dom:n.dom,components:n.components,behaviours:mn(l(o,n.sharedBackstage))}},EV=Jn([Ar("type"),Ls("items",$p([sy([Ar("name"),Ns("items",Ui)]),Ui]))].concat(cE)),kV=function(n){return lo("GroupToolbarButton",EV,n)},TV=[xi("text"),xi("tooltip"),xi("icon"),Fs("fetch"),Mi("onSetup",function(){return se})],AV=Jn($e([Ar("type")],TV,!0)),aw=function(n){return lo("menubutton",AV,n)},OV=Jn([Ar("type"),xi("tooltip"),xi("icon"),xi("text"),Ev("select"),Fs("fetch"),Mi("onSetup",function(){return se}),Nc("presets","normal",["normal","color","listpreview"]),Je("columns",1),Fs("onAction"),Fs("onItemAction")]),DV=function(n){return lo("SplitButton",OV,n)},MV=function(n,o){var l=function(y,C){var A=Vt(C,function(P){var I={type:"menubutton",text:P.text,fetch:function(G){G(P.getItems())}},H=aw(I).mapError(function(G){return Pf(G)}).getOrDie();return xP(H,"tox-mbtn",o.backstage,z.some("menuitem"))});Lr.set(y,A)},v={focus:vr.focusIn,setMenus:l};return{uid:n.uid,dom:n.dom,components:[],behaviours:mn([Lr.config({}),qr("menubar-events",[Br(function(y){n.onSetup(y)}),Nt(Mv(),function(y,C){ws(y.element,".tox-mbtn--active").each(function(A){hf(C.event.target,".tox-mbtn").each(function(P){Ra(A,P)||y.getSystem().getByDom(A).each(function(I){y.getSystem().getByDom(P).each(function(H){Kh.expand(H),Kh.close(I),Rr.focus(H)})})})})}),Nt(qp(),function(y,C){C.event.prevFocus.bind(function(A){return y.getSystem().getByDom(A).toOptional()}).each(function(A){C.event.newFocus.bind(function(P){return y.getSystem().getByDom(P).toOptional()}).each(function(P){Kh.isOpen(A)&&(Kh.expand(P),Kh.close(A))})})})]),vr.config({mode:"flow",selector:".tox-mbtn",onEscape:function(y){return n.onEscape(y),z.some(!0)}}),Es.config({})]),apis:v,domModification:{attributes:{role:"menubar"}}}},ZP=Yf({factory:MV,name:"silver.Menubar",configFields:[It("dom"),It("uid"),It("onEscape"),It("backstage"),Je("onSetup",se)],apis:{focus:function(n,o){n.focus(o)},setMenus:function(n,o,l){n.setMenus(o,l)}}}),QE=function(n,o){return o.getAnimationRoot.fold(function(){return n.element},function(l){return l(n)})},eg=function(n){return n.dimension.property},PC=function(n,o){return n.dimension.getDimension(o)},NO=function(n,o){var l=QE(n,o);Wc(l,[o.shrinkingClass,o.growingClass])},ek=function(n,o){Xo(n.element,o.openClass),ds(n.element,o.closedClass),_r(n.element,eg(o),"0px"),Fi(n.element)},JP=function(n,o){Xo(n.element,o.closedClass),ds(n.element,o.openClass),Na(n.element,eg(o))},tk=function(n,o,l,v){l.setCollapsed(),_r(n.element,eg(o),PC(o,n.element)),Fi(n.element),NO(n,o),ek(n,o),o.onStartShrink(n),o.onShrunk(n)},$O=function(n,o,l,v){var y=v.getOrThunk(function(){return PC(o,n.element)});l.setCollapsed(),_r(n.element,eg(o),y),Fi(n.element);var C=QE(n,o);Xo(C,o.growingClass),ds(C,o.shrinkingClass),ek(n,o),o.onStartShrink(n)},zb=function(n,o,l){var v=PC(o,n.element),y=v==="0px"?tk:$O;y(n,o,l,z.some(v))},aN=function(n,o,l){var v=QE(n,o),y=Rl(v,o.shrinkingClass),C=PC(o,n.element);JP(n,o);var A=PC(o,n.element),P=function(){_r(n.element,eg(o),C),Fi(n.element)},I=function(){ek(n,o)},H=y?P:I;H(),Xo(v,o.shrinkingClass),ds(v,o.growingClass),JP(n,o),_r(n.element,eg(o),A),l.setExpanded(),o.onStartGrow(n)},RV=function(n,o,l){if(l.isExpanded()){Na(n.element,eg(o));var v=PC(o,n.element);_r(n.element,eg(o),v)}},QP=function(n,o,l){l.isExpanded()||aN(n,o,l)},PV=function(n,o,l){l.isExpanded()&&zb(n,o,l)},zO=function(n,o,l){l.isExpanded()&&tk(n,o,l)},iN=function(n,o,l){return l.isExpanded()},IV=function(n,o,l){return l.isCollapsed()},oN=function(n,o,l){var v=QE(n,o);return Rl(v,o.growingClass)===!0},IC=function(n,o,l){var v=QE(n,o);return Rl(v,o.shrinkingClass)===!0},e3=function(n,o,l){return oN(n,o)||IC(n,o)},BV=function(n,o,l){var v=l.isExpanded()?zb:aN;v(n,o,l)},LV=Object.freeze({__proto__:null,refresh:RV,grow:QP,shrink:PV,immediateShrink:zO,hasGrown:iN,hasShrunk:IV,isGrowing:oN,isShrinking:IC,isTransitioning:e3,toggleGrow:BV,disableTransitions:NO}),sN=function(n,o,l){var v=o.expanded;return zf(v?{classes:[o.openClass],styles:{}}:{classes:[o.closedClass],styles:Id(o.dimension.property,"0px")})},FV=function(n,o){return Qa([Bo(gm(),function(l,v){var y=v.event.raw;if(y.propertyName===n.dimension.property){NO(l,n),o.isExpanded()&&Na(l.element,n.dimension.property);var C=o.isExpanded()?n.onGrown:n.onShrunk;C(l)}})])},NV=Object.freeze({__proto__:null,exhibit:sN,events:FV}),e=[It("closedClass"),It("openClass"),It("shrinkingClass"),It("growingClass"),za("getAnimationRoot"),Ha("onShrunk"),Ha("onStartShrink"),Ha("onGrown"),Ha("onStartGrow"),Je("expanded",!1),Ls("dimension",ql("property",{width:[Ti("property","width"),Ti("getDimension",function(n){return fu(n)+"px"})],height:[Ti("property","height"),Ti("getDimension",function(n){return ss(n)+"px"})]}))],r=function(n){var o=ur(n.expanded),l=function(){return"expanded: "+o.get()};return Iu({isExpanded:function(){return o.get()===!0},isCollapsed:function(){return o.get()===!1},setCollapsed:lt(o.set,!1),setExpanded:lt(o.set,!0),readState:l})},s=Object.freeze({__proto__:null,init:r}),f=Ss({fields:e,name:"sliding",active:NV,apis:LV,state:s}),h="container",b=[au("slotBehaviours",[])],E=function(n){return"<alloy.field."+n+">"},O=function(n){var o=function(){var C=[],A=function(P,I){return C.push(P),w2(h,E(P),I)};return{slot:A,record:le(C)}}(),l=n(o),v=o.record(),y=Vt(v,function(C){return hl({name:C,pname:E(C)})});return k2(h,b,y,R,l)},R=function(n,o){var l=function(Fe){return aT(n)},v=function(Fe,et){return Ai(Fe,n,et)},y=function(Fe,et){return function(Re,nt){return Ai(Re,n,nt).map(function(Ct){return Fe(Ct,nt)}).getOr(et)}},C=function(Fe){return function(et,Re){xn(Re,function(nt){return Fe(et,nt)})}},A=function(Fe,et){return Li(Fe.element,"aria-hidden")!=="true"},P=function(Fe,et){if(!A(Fe)){var Re=Fe.element;Na(Re,"display"),gs(Re,"aria-hidden"),Qn(Fe,Nd(),{name:et,visible:!0})}},I=function(Fe,et){if(A(Fe)){var Re=Fe.element;_r(Re,"display","none"),$r(Re,"aria-hidden","true"),Qn(Fe,Nd(),{name:et,visible:!1})}},H=y(A,!1),G=y(I),Q=C(G),fe=function(Fe){return Q(Fe,l())},ge=y(P),xe={getSlotNames:l,getSlot:v,isShowing:H,hideSlot:G,hideAllSlots:fe,showSlot:ge};return{uid:n.uid,dom:n.dom,components:o,behaviours:ab(n.slotBehaviours),apis:xe}},W=ya({getSlotNames:function(n,o){return n.getSlotNames(o)},getSlot:function(n,o,l){return n.getSlot(o,l)},isShowing:function(n,o,l){return n.isShowing(o,l)},hideSlot:function(n,o,l){return n.hideSlot(o,l)},hideAllSlots:function(n,o){return n.hideAllSlots(o)},showSlot:function(n,o,l){return n.showSlot(o,l)}},function(n){return fo(n)}),ne=ue(ue({},W),{sketch:O}),ae=Jn([xi("icon"),xi("tooltip"),Mi("onShow",se),Mi("onHide",se),Mi("onSetup",function(){return se})]),ce=function(n){return lo("sidebar",ae,n)},we=function(n){var o=n.ui.registry.getAll().sidebars;xn(ii(o),function(l){var v=o[l],y=function(){return ou(z.from(n.queryCommandValue("ToggleSidebar")),l)};n.ui.registry.addToggleButton(l,{icon:v.icon,tooltip:v.tooltip,onAction:function(C){n.execCommand("ToggleSidebar",!1,l),C.setActive(y())},onSetup:function(C){var A=function(){return C.setActive(y())};return n.on("ToggleSidebar",A),function(){n.off("ToggleSidebar",A)}}})})},Se=function(n){return{element:function(){return n.element.dom}}},Ae=function(n,o){var l=Vt(ii(o),function(v){var y=o[v],C=Rf(ce(y));return{name:v,getApi:Se,onSetup:C.onSetup,onShow:C.onShow,onHide:C.onHide}});return Vt(l,function(v){var y=ur(se);return n.slot(v.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:_A.unnamedEvents([L_(v,y),F_(v,y),Nt(Nd(),function(C,A){var P=A.event,I=Jt(l,function(H){return H.name===P.name});I.each(function(H){var G=P.visible?H.onShow:H.onHide;G(H.getApi(C))})})])})})},De=function(n){return ne.sketch(function(o){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:Ae(o,n),slotBehaviours:_A.unnamedEvents([Br(function(l){return ne.hideAllSlots(l)})])}})},Ve=function(n,o){var l=fa.getCurrent(n);l.each(function(v){return Lr.set(v,[De(o)])})},Ne=function(n,o){var l=fa.getCurrent(n);l.each(function(v){var y=fa.getCurrent(v);y.each(function(C){f.hasGrown(v)?ne.isShowing(C,o)?f.shrink(v):(ne.hideAllSlots(C),ne.showSlot(C,o)):(ne.hideAllSlots(C),ne.showSlot(C,o),f.grow(v))})})},ft=function(n){var o=fa.getCurrent(n);return o.bind(function(l){var v=f.isGrowing(l)||f.hasGrown(l);if(v){var y=fa.getCurrent(l);return y.bind(function(C){return Jt(ne.getSlotNames(C),function(A){return ne.isShowing(C,A)})})}else return z.none()})},ot=qt("FixSizeEvent"),je=qt("AutoSizeEvent"),ht=function(n){return{uid:n.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:mn([Es.config({}),Rr.config({}),f.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(o){var l=fa.getCurrent(o);l.each(ne.hideAllSlots),xa(o,je)},onGrown:function(o){xa(o,je)},onStartGrow:function(o){Qn(o,ot,{width:Io(o.element,"width").getOr("")})},onStartShrink:function(o){Qn(o,ot,{width:fu(o.element)+"px"})}}),Lr.config({}),fa.config({find:function(o){var l=Lr.contents(o);return Oa(l)}})])}],behaviours:mn([Jm.childAt(0),qr("sidebar-sliding-events",[Nt(ot,function(o,l){_r(o.element,"width",l.event.width)}),Nt(je,function(o,l){Na(o.element,"width")})])])}},Bt=function(n,o,l,v){$r(n.element,"aria-busy",!0);var y=o.getRoot(n).getOr(n),C=mn([vr.config({mode:"special",onTab:function(){return z.some(!0)},onShiftTab:function(){return z.some(!0)}}),Rr.config({})]),A=v(y,C),P=y.getSystem().build(A);Lr.append(y,jc(P)),P.hasConfigured(vr)&&o.focus&&vr.focusIn(P),l.isBlocked()||o.onBlock(n),l.blockWith(function(){return Lr.remove(y,P)})},en=function(n,o,l){gs(n.element,"aria-busy"),l.isBlocked()&&o.onUnblock(n),l.clear()},gr=Object.freeze({__proto__:null,block:Bt,unblock:en}),In=[Mi("getRoot",z.none),Ci("focus",!0),Ha("onBlock"),Ha("onUnblock")],Wt=function(){var n=Th(),o=function(l){n.set({destroy:l})};return Iu({readState:n.isSet,blockWith:o,clear:n.clear,isBlocked:n.isSet})},hr=Object.freeze({__proto__:null,init:Wt}),on=Ss({fields:In,name:"blocking",apis:gr,state:hr}),Mn=function(n){var o=n.dom.attributes!==void 0?n.dom.attributes:[];return st(o,function(l,v){var y;return v.name==="class"?l:ue(ue({},l),(y={},y[v.name]=v.value,y))},{})},cn=function(n){return Array.prototype.slice.call(n.dom.classList,0)},yn=function(n){var o=vn.fromHtml(n),l=Z(o),v=Mn(o),y=cn(o),C=l.length===0?{}:{innerHtml:ud(o)};return ue({tag:Ye(o),classes:y,attributes:v},C)},Hn=function(n){return function(o,l){return{dom:{tag:"div",attributes:{"aria-label":n.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:yn('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}},Gt=function(n){return fa.getCurrent(n).each(function(o){return vd(o.element)})},Ln=function(n,o){var l="tabindex",v="data-mce-"+l;z.from(n.iframeElement).map(vn.fromDom).each(function(y){o?(to(y,l).each(function(C){return $r(y,v,C)}),$r(y,l,-1)):(gs(y,l),to(y,v).each(function(C){$r(y,l,C),gs(y,v)}))})},va=function(n,o,l,v){var y=o.element;if(Ln(n,l),l)on.block(o,Hn(v)),Na(y,"display"),gs(y,"aria-hidden"),n.hasFocus()&&Gt(o);else{var C=fa.getCurrent(o).exists(function(A){return Jo(A.element)});on.unblock(o),_r(y,"display","none"),$r(y,"aria-hidden","true"),C&&n.focus()}},ai=function(n){return{uid:n.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:mn([Lr.config({}),on.config({focus:!1}),fa.config({find:function(o){return Oa(o.components())}})]),components:[]}},ti=function(n){return n.type==="focusin"},gl=function(n){if(ti(n)){var o=n.composed?Oa(n.composedPath()):z.from(n.target);return o.map(vn.fromDom).filter(tn).exists(function(l){return Rl(l,"mce-pastebin")})}else return!1},No=function(n,o,l){var v=ur(!1),y=Eo(),C=function(P){v.get()&&!gl(P)&&(P.preventDefault(),Gt(o()),n.editorManager.setActive(n))};n.inline||n.on("PreInit",function(){n.dom.bind(n.getWin(),"focusin",C),n.on("BeforeExecCommand",function(P){P.command.toLowerCase()==="mcefocus"&&P.value!==!0&&C(P)})});var A=function(P){P!==v.get()&&(v.set(P),va(n,o(),P,l.providers),n.fire("AfterProgressState",{state:P}))};n.on("ProgressState",function(P){if(y.on(Tb.clearTimeout),ie(P.time)){var I=Tb.setEditorTimeout(n,function(){return A(P.state)},P.time);y.set(I)}else A(P.state),y.clear()})},Zc=function(n,o){var l={len:0,list:[]},v=st(n,function(y,C){var A=o(C,y.len);return A.fold(le(y),function(P){return{len:P.finish,list:y.list.concat([P])}})},l);return v.list},_f=function(n,o,l){return{within:n,extra:o,withinWidth:l}},Xt=function(n,o,l){var v=Zc(n,function(P,I){var H=l(P);return z.some({element:P,start:I,finish:I+H,width:H})}),y=kt(v,function(P){return P.finish<=o}),C=Qe(y,function(P,I){return P+I.width},0),A=v.slice(y.length);return{within:y,extra:A,withinWidth:C}},fn=function(n){return Vt(n,function(o){return o.element})},nr=function(n,o,l){var v=fn(n.concat(o));return _f(v,[],l)},mt=function(n,o,l,v){var y=fn(n).concat([l]);return _f(y,fn(o),v)},an=function(n,o,l){return _f(fn(n),[],l)},Zt=function(n,o,l){var v=Xt(o,n,l);return v.extra.length===0?z.some(v):z.none()},or=function(n,o,l,v){var y=Zt(n,o,l).getOrThunk(function(){return Xt(o,n-l(v),l)}),C=y.within,A=y.extra,P=y.withinWidth;return A.length===1&&A[0].width<=l(v)?nr(C,A,P):A.length>=1?mt(C,A,v,P):an(C,A,P)},dr=function(n,o){var l=Vt(o,function(v){return jc(v)});Qm.setGroups(n,l)},Hi=function(n){return mi(n,function(o){return ll(o.element).bind(function(l){return o.getSystem().getByDom(l).toOptional()})})},xu=function(n,o,l){var v=o.builtGroups.get();if(v.length!==0){var y=Hh(n,o,"primary"),C=ks.getCoupled(n,"overflowGroup");_r(y.element,"visibility","hidden");var A=v.concat([C]),P=Hi(A);l([]),dr(y,A);var I=fu(y.element),H=or(I,o.builtGroups.get(),function(G){return fu(G.element)},C);H.extra.length===0?(Lr.remove(y,C),l([])):(dr(y,H.within),l(H.extra)),Na(y.element,"visibility"),Fi(y.element),P.each(Rr.focus)}},iu=le([au("splitToolbarBehaviours",[ks]),Al("builtGroups",function(){return ur([])})]),H0=le([km(["overflowToggledClass"]),Ev("getOverflowBounds"),It("lazySink"),Al("overflowGroups",function(){return ur([])})].concat(iu())),Jc=le([hl({factory:Qm,schema:RC(),name:"primary"}),jf({schema:RC(),name:"overflow"}),jf({name:"overflow-button"}),jf({name:"overflow-group"})]),Tc=le(function(n,o){du(n,Math.floor(o))}),Hu=le([km(["toggledClass"]),It("lazySink"),Fs("fetch"),Ev("getBounds"),Ol("fireDismissalEventInstead",[Je("event",ff())]),Oh()]),iv=le([jf({name:"button",overrides:function(n){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:mn([Pa.config({toggleClass:n.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),jf({factory:Qm,schema:RC(),name:"toolbar",overrides:function(n){return{toolbarBehaviours:mn([vr.config({mode:"cyclic",onEscape:function(o){return Ai(o,n,"button").each(Rr.focus),z.none()}})])}}})]),Qc=function(n,o){var l=ks.getCoupled(n,"toolbarSandbox");Ta.isOpen(l)?Ta.close(l):Ta.open(l,o.toolbar())},tm=function(n,o,l,v){var y=l.getBounds.map(function(A){return A()}),C=l.lazySink(n).getOrDie();it.positionWithinBounds(C,o,{anchor:{type:"hotspot",hotspot:n,layouts:v,overrides:{maxWidthFunction:Tc()}}},y)},ji=function(n,o,l,v,y){Qm.setGroups(o,y),tm(n,o,l,v),Pa.on(n)},vo=function(n,o,l){var v=Sm(),y=function(A,P){l.fetch().get(function(I){ji(n,P,l,o.layouts,I),v.link(n.element),vr.focusIn(P)})},C=function(){Pa.off(n),Rr.focus(n),v.unlink(n.element)};return{dom:{tag:"div",attributes:{id:v.id}},behaviours:mn([vr.config({mode:"special",onEscape:function(A){return Ta.close(A),z.some(!0)}}),Ta.config({onOpen:y,onClose:C,isPartOf:function(A,P,I){return Em(P,I)||Em(n,I)},getAttachPoint:function(){return l.lazySink(n).getOrDie()}}),sl.config({channels:ue(ue({},Gc(ue({isExtraPart:de},l.fireDismissalEventInstead.map(function(A){return{fireEventInstead:{event:A.event}}}).getOr({})))),_0({doReposition:function(){Ta.getState(ks.getCoupled(n,"toolbarSandbox")).each(function(A){tm(n,A,l,o.layouts)})}}))})])}},Vu=function(n,o,l,v){return ue(ue({},pf.sketch(ue(ue({},v.button()),{action:function(y){Qc(y,v)},buttonBehaviours:gd.augment({dump:v.button().buttonBehaviours},[ks.config({others:{toolbarSandbox:function(y){return vo(y,l,n)}}})])}))),{apis:{setGroups:function(y,C){Ta.getState(ks.getCoupled(y,"toolbarSandbox")).each(function(A){ji(y,A,n,l.layouts,C)})},reposition:function(y){Ta.getState(ks.getCoupled(y,"toolbarSandbox")).each(function(C){tm(y,C,n,l.layouts)})},toggle:function(y){Qc(y,v)},getToolbar:function(y){return Ta.getState(ks.getCoupled(y,"toolbarSandbox"))},isOpen:function(y){return Ta.isOpen(ks.getCoupled(y,"toolbarSandbox"))}}})},wf=Sc({name:"FloatingToolbarButton",factory:Vu,configFields:Hu(),partFields:iv(),apis:{setGroups:function(n,o,l){n.setGroups(o,l)},reposition:function(n,o){n.reposition(o)},toggle:function(n,o){n.toggle(o)},getToolbar:function(n,o){return n.getToolbar(o)},isOpen:function(n,o){return n.isOpen(o)}}}),tg=le([It("items"),km(["itemSelector"]),au("tgroupBehaviours",[vr])]),ng=le([zh({name:"items",unit:"item"})]),Hb=function(n,o,l,v){return{uid:n.uid,dom:n.dom,components:o,behaviours:Lu(n.tgroupBehaviours,[vr.config({mode:"flow",selector:n.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}},BC=Sc({name:"ToolbarGroup",configFields:tg(),partFields:ng(),factory:Hb}),HO=function(n){return Vt(n,function(o){return jc(o)})},uN=function(n,o,l){xu(n,l,function(v){l.overflowGroups.set(v),o.getOpt(n).each(function(y){wf.setGroups(y,HO(v))})})},lN=function(n,o,l,v){var y=li(wf.sketch({fetch:function(){return Fl.nu(function(C){C(HO(n.overflowGroups.get()))})},layouts:{onLtr:function(){return[Us,Vs]},onRtl:function(){return[Vs,Us]},onBottomLtr:function(){return[il,al]},onBottomRtl:function(){return[al,il]}},getBounds:l.getOverflowBounds,lazySink:n.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:n.markers.overflowToggledClass},parts:{button:v["overflow-button"](),toolbar:v.overflow()}}));return{uid:n.uid,dom:n.dom,components:o,behaviours:Lu(n.splitToolbarBehaviours,[ks.config({others:{overflowGroup:function(){return BC.sketch(ue(ue({},v["overflow-group"]()),{items:[y.asSpec()]}))}}})]),apis:{setGroups:function(C,A){n.builtGroups.set(Vt(A,C.getSystem().build)),uN(C,y,n)},refresh:function(C){return uN(C,y,n)},toggle:function(C){y.getOpt(C).each(function(A){wf.toggle(A)})},isOpen:function(C){return y.getOpt(C).map(wf.isOpen).getOr(!1)},reposition:function(C){y.getOpt(C).each(function(A){wf.reposition(A)})},getOverflow:function(C){return y.getOpt(C).bind(wf.getToolbar)}},domModification:{attributes:{role:"group"}}}},t3=Sc({name:"SplitFloatingToolbar",configFields:H0(),partFields:Jc(),factory:lN,apis:{setGroups:function(n,o,l){n.setGroups(o,l)},refresh:function(n,o){n.refresh(o)},reposition:function(n,o){n.reposition(o)},toggle:function(n,o){n.toggle(o)},isOpen:function(n,o){return n.isOpen(o)},getOverflow:function(n,o){return n.getOverflow(o)}}}),$V=le([km(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Ha("onOpened"),Ha("onClosed")].concat(iu())),cN=le([hl({factory:Qm,schema:RC(),name:"primary"}),hl({factory:Qm,schema:RC(),name:"overflow",overrides:function(n){return{toolbarBehaviours:mn([f.config({dimension:{property:"height"},closedClass:n.markers.closedClass,openClass:n.markers.openClass,shrinkingClass:n.markers.shrinkingClass,growingClass:n.markers.growingClass,onShrunk:function(o){Ai(o,n,"overflow-button").each(function(l){Pa.off(l),Rr.focus(l)}),n.onClosed(o)},onGrown:function(o){vr.focusIn(o),n.onOpened(o)},onStartGrow:function(o){Ai(o,n,"overflow-button").each(Pa.on)}}),vr.config({mode:"acyclic",onEscape:function(o){return Ai(o,n,"overflow-button").each(Rr.focus),z.some(!0)}})])}}}),jf({name:"overflow-button",overrides:function(n){return{buttonBehaviours:mn([Pa.config({toggleClass:n.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),jf({name:"overflow-group"})]),zV=function(n,o){return Ai(n,o,"overflow").map(f.hasGrown).getOr(!1)},fN=function(n,o){Ai(n,o,"overflow-button").bind(function(){return Ai(n,o,"overflow")}).each(function(l){n3(n,o),f.toggleGrow(l)})},n3=function(n,o){Ai(n,o,"overflow").each(function(l){xu(n,o,function(v){var y=Vt(v,function(C){return jc(C)});Qm.setGroups(l,y)}),Ai(n,o,"overflow-button").each(function(v){f.hasGrown(l)&&Pa.on(v)}),f.refresh(l)})},HV=function(n,o,l,v){var y="alloy.toolbar.toggle",C=function(A,P){var I=Vt(P,A.getSystem().build);n.builtGroups.set(I)};return{uid:n.uid,dom:n.dom,components:o,behaviours:Lu(n.splitToolbarBehaviours,[ks.config({others:{overflowGroup:function(A){return BC.sketch(ue(ue({},v["overflow-group"]()),{items:[pf.sketch(ue(ue({},v["overflow-button"]()),{action:function(P){xa(A,y)}}))]}))}}}),qr("toolbar-toggle-events",[Nt(y,function(A){fN(A,n)})])]),apis:{setGroups:function(A,P){C(A,P),n3(A,n)},refresh:function(A){return n3(A,n)},toggle:function(A){return fN(A,n)},isOpen:function(A){return zV(A,n)}},domModification:{attributes:{role:"group"}}}},V0=Sc({name:"SplitSlidingToolbar",configFields:$V(),partFields:cN(),factory:HV,apis:{setGroups:function(n,o,l){n.setGroups(o,l)},refresh:function(n,o){n.refresh(o)},toggle:function(n,o){n.toggle(o)},isOpen:function(n,o){return n.isOpen(o)}}}),r3=function(n){var o=n.title.fold(function(){return{}},function(l){return{attributes:{title:l}}});return{dom:ue({tag:"div",classes:["tox-toolbar__group"]},o),components:[BC.parts.items({})],items:n.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:mn([Es.config({}),Rr.config({})])}},Ze=function(n){return BC.sketch(r3(n))},_t=function(n,o){var l=Br(function(v){var y=Vt(n.initGroups,Ze);Qm.setGroups(v,y)});return mn([qh.toolbarButton(n.providers.isDisabled),wu(),vr.config({mode:o,onEscape:n.onEscape,selector:".tox-toolbar__group"}),qr("toolbar-events",[l])])},un=function(n){var o=n.cyclicKeying?"cyclic":"acyclic";return{uid:n.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":r3({title:z.none(),items:[]}),"overflow-button":qL({name:"more",icon:z.some("more-drawer"),disabled:!1,tooltip:z.some("More..."),primary:!1,borderless:!1},z.none(),n.providers)},splitToolbarBehaviours:_t(n,o)}},Cn=function(n){var o=un(n),l=4,v=t3.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return t3.sketch(ue(ue({},o),{lazySink:n.getSink,getOverflowBounds:function(){var y=n.moreDrawerData.lazyHeader().element,C=nd(y),A=Tt(y),P=nd(A),I=Math.max(A.dom.scrollHeight,P.height);return us(C.x+l,P.y,C.width-l*2,I)},parts:ue(ue({},o.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:n.attributes}}}),components:[v],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},na=function(n){var o=V0.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),l=V0.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),v=un(n);return V0.sketch(ue(ue({},v),{components:[o,l],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(y){y.getSystem().broadcastOn([YP()],{type:"opened"})},onClosed:function(y){y.getSystem().broadcastOn([YP()],{type:"closed"})}}))},Ya=function(n){var o=n.cyclicKeying?"cyclic":"acyclic";return Qm.sketch({uid:n.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(n.type===nv.scrolling?["tox-toolbar--scrolling"]:[])},components:[Qm.parts.groups({})],toolbarBehaviours:_t(n,o)})},To=function(n,o,l){var v={getSocket:function(y){return Xf.getPart(y,n,"socket")},setSidebar:function(y,C){Xf.getPart(y,n,"sidebar").each(function(A){return Ve(A,C)})},toggleSidebar:function(y,C){Xf.getPart(y,n,"sidebar").each(function(A){return Ne(A,C)})},whichSidebar:function(y){return Xf.getPart(y,n,"sidebar").bind(ft).getOrNull()},getHeader:function(y){return Xf.getPart(y,n,"header")},getToolbar:function(y){return Xf.getPart(y,n,"toolbar")},setToolbar:function(y,C){Xf.getPart(y,n,"toolbar").each(function(A){A.getApis().setGroups(A,C)})},setToolbars:function(y,C){Xf.getPart(y,n,"multiple-toolbar").each(function(A){UF.setItems(A,C)})},refreshToolbar:function(y){var C=Xf.getPart(y,n,"toolbar");C.each(function(A){return A.getApis().refresh(A)})},toggleToolbarDrawer:function(y){Xf.getPart(y,n,"toolbar").each(function(C){wl(C.getApis().toggle,function(A){return A(C)})})},isToolbarDrawerToggled:function(y){return Xf.getPart(y,n,"toolbar").bind(function(C){return z.from(C.getApis().isOpen).map(function(A){return A(C)})}).getOr(!1)},getThrobber:function(y){return Xf.getPart(y,n,"throbber")},focusToolbar:function(y){var C=Xf.getPart(y,n,"toolbar").orThunk(function(){return Xf.getPart(y,n,"multiple-toolbar")});C.each(function(A){vr.focusIn(A)})},setMenubar:function(y,C){Xf.getPart(y,n,"menubar").each(function(A){ZP.setMenus(A,C)})},focusMenubar:function(y){Xf.getPart(y,n,"menubar").each(function(C){ZP.focus(C)})}};return{uid:n.uid,dom:n.dom,components:o,apis:v,behaviours:n.behaviours}},Vb=Fb.optional({factory:ZP,name:"menubar",schema:[It("backstage")]}),Cte=function(n){return n.type===nv.sliding?na:n.type===nv.floating?Cn:Ya},Ste=Fb.optional({factory:{sketch:function(n){return UF.sketch({uid:n.uid,dom:n.dom,listBehaviours:mn([vr.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return Ya({type:n.type,uid:qt("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:n.providers,onEscape:function(){return n.onEscape(),z.some(!0)}})},setupItem:function(o,l,v,y){Qm.setGroups(l,v)},shell:!0})}},name:"multiple-toolbar",schema:[It("dom"),It("onEscape")]}),Ete=Fb.optional({factory:{sketch:function(n){var o=Cte(n),l={type:n.type,uid:n.uid,onEscape:function(){return n.onEscape(),z.some(!0)},cyclicKeying:!1,initGroups:[],getSink:n.getSink,providers:n.providers,moreDrawerData:{lazyToolbar:n.lazyToolbar,lazyMoreButton:n.lazyMoreButton,lazyHeader:n.lazyHeader},attributes:n.attributes};return o(l)}},name:"toolbar",schema:[It("dom"),It("onEscape"),It("getSink")]}),kte=Fb.optional({factory:{sketch:rN},name:"header",schema:[It("dom")]}),Tte=Fb.optional({name:"socket",schema:[It("dom")]}),Ate=Fb.optional({factory:{sketch:ht},name:"sidebar",schema:[It("dom")]}),Ote=Fb.optional({factory:{sketch:ai},name:"throbber",schema:[It("dom")]}),js=Sc({name:"OuterContainer",factory:To,configFields:[It("dom"),It("behaviours")],partFields:[kte,Vb,Ete,Ste,Tte,Ate,Ote],apis:{getSocket:function(n,o){return n.getSocket(o)},setSidebar:function(n,o,l){n.setSidebar(o,l)},toggleSidebar:function(n,o,l){n.toggleSidebar(o,l)},whichSidebar:function(n,o){return n.whichSidebar(o)},getHeader:function(n,o){return n.getHeader(o)},getToolbar:function(n,o){return n.getToolbar(o)},setToolbar:function(n,o,l){var v=Vt(l,function(y){return Ze(y)});n.setToolbar(o,v)},setToolbars:function(n,o,l){var v=Vt(l,function(y){return Vt(y,Ze)});n.setToolbars(o,v)},refreshToolbar:function(n,o){return n.refreshToolbar(o)},toggleToolbarDrawer:function(n,o){n.toggleToolbarDrawer(o)},isToolbarDrawerToggled:function(n,o){return n.isToolbarDrawerToggled(o)},getThrobber:function(n,o){return n.getThrobber(o)},setMenubar:function(n,o,l){n.setMenubar(o,l)},focusMenubar:function(n,o){n.focusMenubar(o)},focusToolbar:function(n,o){n.focusToolbar(o)}}}),Dte="file edit view insert format tools table help",kY={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},Mte=function(n,o,l){var v=nB(l).split(/[ ,]/);return{text:n.title,getItems:function(){return Er(n.items,function(y){var C=y.toLowerCase();return C.trim().length===0?[]:Gn(v,function(A){return A===C})?[]:C==="separator"||C==="|"?[{type:"separator"}]:o.menuItems[C]?[o.menuItems[C]]:[]})}}},VV=function(n){return typeof n=="string"?n.split(" "):n},TY=function(n,o){var l=ue(ue({},kY),o.menus),v=ii(o.menus).length>0,y=o.menubar===void 0||o.menubar===!0?VV(Dte):VV(o.menubar===!1?"":o.menubar),C=kt(y,function(P){var I=ma(kY,P);return v?I||Zn(o.menus,P).exists(function(H){return ma(H,"items")}):I}),A=Vt(C,function(P){var I=l[P];return Mte({title:I.title,items:VV(I.items)},o,n)});return kt(A,function(P){var I=function(H){return H.type!=="separator"};return P.getItems().length>0&&Gn(P.getItems(),I)})},AY=function(n){var o=function(){n._skinLoaded=!0,x8(n)};return function(){n.initialized?o():n.on("init",o)}},Rte=function(n,o){return function(){return IB(n,{message:o})}},OY=function(n,o,l){return new lE(function(v,y){l.load(o,v,y),n.on("remove",function(){return l.unload(o)})})},Pte=function(n,o){var l=o+"/skin.min.css";return OY(n,l,n.ui.styleSheetLoader)},Ite=function(n,o){var l=sr(vn.fromDom(n.getElement()));if(l){var v=o+"/skin.shadowdom.min.css";return OY(n,v,yC.DOM.styleSheetLoader)}else return lE.resolve()},DY=function(n,o){var l=$$(o);l&&o.contentCSS.push(l+(n?"/content.inline":"/content")+".min.css"),H$(o)===!1&&c(l)?lE.all([Pte(o,l),Ite(o,l)]).then(AY(o),Rte(o,"Skin could not be loaded")):AY(o)()},Bte=lt(DY,!1),Lte=lt(DY,!0),dN=function(n,o){return function(l){var v=$g(),y=function(){l.setActive(n.formatter.match(o));var C=n.formatter.formatChanged(o,l.setActive);v.set(C)};return n.initialized?y():n.once("init",y),function(){n.off("init",y),v.clear()}}},vN=function(n,o,l){return function(v){var y=function(){return l(v)},C=function(){l(v),n.on(o,y)};return n.initialized?C():n.once("init",C),function(){n.off("init",C),n.off(o,y)}}},MY=function(n){return function(o){return function(){n.undoManager.transact(function(){n.focus(),n.execCommand("mceToggleFormat",!1,o.format)})}}},rg=function(n,o){return function(){return n.execCommand(o)}},Fte=function(n,o,l){var v=function(P,I,H,G){var Q=o.shared.providers.translate(P.title);if(P.type==="separator")return z.some({type:"separator",text:Q});if(P.type==="submenu"){var fe=Er(P.getStyleItems(),function(ge){return y(ge,I,G)});return I===0&&fe.length<=0?z.none():z.some({type:"nestedmenuitem",text:Q,disabled:fe.length<=0,getSubmenuItems:function(){return Er(P.getStyleItems(),function(ge){return y(ge,I,G)})}})}else return z.some(ue({type:"togglemenuitem",text:Q,icon:P.icon,active:P.isSelected(G),disabled:H,onAction:l.onAction(P)},P.getStylePreview().fold(function(){return{}},function(ge){return{meta:{style:ge}}})))},y=function(P,I,H){var G=P.type==="formatter"&&l.isInvalid(P);return I===0?G?[]:v(P,I,!1,H).toArray():v(P,I,G,H).toArray()},C=function(P){var I=l.getCurrentValue(),H=l.shouldHide?0:1;return Er(P,function(G){return y(G,H,I)})},A=function(P,I){return function(H,G){var Q=I(),fe=C(Q),ge=DC(fe,ec.CLOSE_ON_EXECUTE,P,!1);G(ge)}};return{validateItems:C,getFetch:A}},VO=function(n,o,l){var v=l.dataset,y=v.type==="basic"?function(){return Vt(v.data,function(C){return NP(C,l.isSelectedFor,l.getPreviewFor)})}:v.getData;return{items:Fte(n,o,l),getStyleItems:y}},a3=function(n,o,l){var v=VO(n,o,l),y=v.items,C=v.getStyleItems,A=function(I){return{getComponent:le(I)}},P=vN(n,"NodeChange",function(I){var H=I.getComponent();l.updateText(H)});return dO({text:l.icon.isSome()?z.none():l.text,icon:l.icon,tooltip:z.from(l.tooltip),role:z.none(),fetch:y.getFetch(o,C),onSetup:P,getApi:A,columns:1,presets:"normal",classes:l.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",o.shared)},Nte=function(n){return Vt(n,function(o){var l=o,v=o,y=o.split("=");return y.length>1&&(l=y[0],v=y[1]),{title:l,format:v}})},$te=function(n){return{type:"basic",data:n}},UO;(function(n){n[n.SemiColon=0]="SemiColon",n[n.Space=1]="Space"})(UO||(UO={}));var zte=function(n,o){return o===UO.SemiColon?n.replace(/;$/,"").split(";"):n.split(" ")},UV=function(n,o,l,v){var y=n.getParam(o,l,"string"),C=Nte(zte(y,v));return{type:"basic",data:C}},WV=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],RY=function(n){var o=function(){return Jt(WV,function(P){return n.formatter.match(P.format)})},l=function(P){return function(){return n.formatter.match(P)}},v=function(P){return z.none},y=function(P){var I=o(),H=I.fold(le("left"),function(G){return G.title.toLowerCase()});Qn(P,WL,{icon:"align-"+H})},C=$te(WV),A=function(P){return function(){return Jt(WV,function(I){return I.format===P.format}).each(function(I){return n.execCommand(I.command)})}};return{tooltip:"Align",text:z.none(),icon:z.some("align-left"),isSelectedFor:l,getCurrentValue:z.none,getPreviewFor:v,onAction:A,updateText:y,dataset:C,shouldHide:!1,isInvalid:function(P){return!n.formatter.canApply(P.format)}}},Hte=function(n,o){return a3(n,o,RY(n))},Vte=function(n,o){var l=VO(n,o,RY(n));n.ui.registry.addNestedMenuItem("align",{text:o.shared.providers.translate("Align"),getSubmenuItems:function(){return l.items.validateItems(l.getStyleItems())}})},Ute="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",Wte=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],PY=function(n){var o=n.split(/\s*,\s*/);return Vt(o,function(l){return l.replace(/^['"]+|['"]+$/g,"")})},jte=function(n){var o=function(){var l=PY(n.toLowerCase());return xr(Wte,function(v){return l.indexOf(v.toLowerCase())>-1})};return n.indexOf("-apple-system")===0&&o()},IY=function(n){var o="System Font",l=function(){var H=function(xe){return xe?PY(xe)[0]:""},G=n.queryCommandValue("FontName"),Q=I.data,fe=G?G.toLowerCase():"",ge=Jt(Q,function(xe){var Fe=xe.format;return Fe.toLowerCase()===fe||H(Fe).toLowerCase()===H(fe).toLowerCase()}).orThunk(function(){return Mo(jte(fe),{title:o,format:fe})});return{matchOpt:ge,font:G}},v=function(H){return function(G){return G.exists(function(Q){return Q.format===H})}},y=function(){var H=l().matchOpt;return H},C=function(H){return function(){return z.some({tag:"div",styles:H.indexOf("dings")===-1?{"font-family":H}:{}})}},A=function(H){return function(){n.undoManager.transact(function(){n.focus(),n.execCommand("FontName",!1,H.format)})}},P=function(H){var G=l(),Q=G.matchOpt,fe=G.font,ge=Q.fold(le(fe),function(xe){return xe.title});Qn(H,X_,{text:ge})},I=UV(n,"font_formats",Ute,UO.SemiColon);return{tooltip:"Fonts",text:z.some(o),icon:z.none(),isSelectedFor:v,getCurrentValue:y,getPreviewFor:C,onAction:A,updateText:P,dataset:I,shouldHide:!1,isInvalid:de}},Yte=function(n,o){return a3(n,o,IY(n))},qte=function(n,o){var l=VO(n,o,IY(n));n.ui.registry.addNestedMenuItem("fontformats",{text:o.shared.providers.translate("Fonts"),getSubmenuItems:function(){return l.items.validateItems(l.getStyleItems())}})},Gte="8pt 10pt 12pt 14pt 18pt 24pt 36pt",Kte={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},Xte={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},Zte=function(n,o){var l=Math.pow(10,o);return Math.round(n*l)/l},Jte=function(n,o){return/[0-9.]+px$/.test(n)?Zte(parseInt(n,10)*72/96,o||0)+"pt":Zn(Xte,n).getOr(n)},Qte=function(n){return Zn(Kte,n).getOr("")},BY=function(n){var o=function(){var I=z.none(),H=P.data,G=n.queryCommandValue("FontSize");if(G)for(var Q=function(ge){var xe=Jte(G,ge),Fe=Qte(xe);I=Jt(H,function(et){return et.format===G||et.format===xe||et.format===Fe})},fe=3;I.isNone()&&fe>=0;fe--)Q(fe);return{matchOpt:I,size:G}},l=function(I){return function(H){return H.exists(function(G){return G.format===I})}},v=function(){var I=o().matchOpt;return I},y=le(z.none),C=function(I){return function(){n.undoManager.transact(function(){n.focus(),n.execCommand("FontSize",!1,I.format)})}},A=function(I){var H=o(),G=H.matchOpt,Q=H.size,fe=G.fold(le(Q),function(ge){return ge.title});Qn(I,X_,{text:fe})},P=UV(n,"fontsize_formats",Gte,UO.Space);return{tooltip:"Font sizes",text:z.some("12pt"),icon:z.none(),isSelectedFor:l,getPreviewFor:y,getCurrentValue:v,onAction:C,updateText:A,dataset:P,shouldHide:!1,isInvalid:de}},ene=function(n,o){return a3(n,o,BY(n))},tne=function(n,o){var l=VO(n,o,BY(n));n.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return l.items.validateItems(l.getStyleItems())}})},LY=function(n,o){var l=o(),v=Vt(l,function(y){return y.format});return z.from(n.formatter.closest(v)).bind(function(y){return Jt(l,function(C){return C.format===y})}).orThunk(function(){return Mo(n.formatter.match("p"),{title:"Paragraph",format:"p"})})},nne="Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",FY=function(n){var o="Paragraph",l=function(A){return function(){return n.formatter.match(A)}},v=function(A){return function(){var P=n.formatter.get(A);return z.some({tag:P.length>0&&(P[0].inline||P[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(A))})}},y=function(A){var P=LY(n,function(){return C.data}),I=P.fold(le(o),function(H){return H.title});Qn(A,X_,{text:I})},C=UV(n,"block_formats",nne,UO.SemiColon);return{tooltip:"Blocks",text:z.some(o),icon:z.none(),isSelectedFor:l,getCurrentValue:z.none,getPreviewFor:v,onAction:MY(n),updateText:y,dataset:C,shouldHide:!1,isInvalid:function(A){return!n.formatter.canApply(A.format)}}},rne=function(n,o){return a3(n,o,FY(n))},ane=function(n,o){var l=VO(n,o,FY(n));n.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return l.items.validateItems(l.getStyleItems())}})},NY=function(n,o){var l="Paragraph",v=function(A){return function(){return n.formatter.match(A)}},y=function(A){return function(){var P=n.formatter.get(A);return P!==void 0?z.some({tag:P.length>0&&(P[0].inline||P[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(A))}):z.none()}},C=function(A){var P=function(Q){var fe=Q.items;return fe!==void 0&&fe.length>0?Er(fe,P):[{title:Q.title,format:Q.format}]},I=Er(FP(n),P),H=LY(n,le(I)),G=H.fold(le(l),function(Q){return Q.title});Qn(A,X_,{text:G})};return{tooltip:"Formats",text:z.some(l),icon:z.none(),isSelectedFor:v,getCurrentValue:z.none,getPreviewFor:y,onAction:MY(n),updateText:C,shouldHide:n.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(A){return!n.formatter.canApply(A.format)},dataset:o}},ine=function(n,o){var l=ue({type:"advanced"},o.styleselect);return a3(n,o,NY(n,l))},one=function(n,o){var l=ue({type:"advanced"},o.styleselect),v=VO(n,o,NY(n,l));n.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return v.items.validateItems(v.getStyleItems())}})},sne=function(n,o){var l=function(v,y){n.updateState.each(function(C){var A=C(v,y);o.set(A)}),n.renderComponents.each(function(C){var A=C(y,o.get()),P=Vt(A,v.getSystem().build);ir(v,P)})};return Qa([Nt(mc(),function(v,y){var C=y;if(!C.universal){var A=n.channel;_n(C.channels,A)&&l(v,C.data)}}),Br(function(v,y){n.initialData.each(function(C){l(v,C)})})])},une=Object.freeze({__proto__:null,events:sne}),lne=function(n,o,l){return l},cne=Object.freeze({__proto__:null,getState:lne}),fne=[It("channel"),za("renderComponents"),za("updateState"),za("initialData")],dne=function(){var n=ur(z.none()),o=function(){return n.set(z.none())},l=function(){return n.get().getOr("none")};return{readState:l,get:n.get,set:n.set,clear:o}},vne=Object.freeze({__proto__:null,init:dne}),Jv=Ss({fields:fne,name:"reflecting",active:une,apis:cne,state:vne}),hne=le([It("toggleClass"),It("fetch"),Il("onExecute"),Je("getHotspot",z.some),Je("getAnchorOverrides",le({})),Oh(),Il("onItemExecute"),za("lazySink"),It("dom"),Ha("onOpen"),au("splitDropdownBehaviours",[ks,vr,Rr]),Je("matchWidth",!1),Je("useMinWidth",!1),Je("eventOrder",{}),za("role")].concat(FR())),mne=hl({factory:pf,schema:[It("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:mn([Rr.revoke()])}},overrides:function(n){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(o){o.getSystem().getByUid(n.uid).each(yc)},buttonBehaviours:mn([Pa.config({toggleOnExecute:!1,toggleClass:n.toggleClass})])}}}),gne=hl({factory:pf,schema:[It("dom")],name:"button",defaults:function(){return{buttonBehaviours:mn([Rr.revoke()])}},overrides:function(n){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(o){o.getSystem().getByUid(n.uid).each(function(l){n.onExecute(l,o)})}}}}),pne=le([mne,gne,pd({factory:{sketch:function(n){return{uid:n.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:n.text}}}},schema:[It("text")],name:"aria-descriptor"}),jf({schema:[wh()],name:"menu",defaults:function(n){return{onExecute:function(o,l){o.getSystem().getByUid(n.uid).each(function(v){n.onItemExecute(v,o,l)})}}}}),C4()]),bne=function(n,o,l,v){var y,C=function(Q){fa.getCurrent(Q).each(function(fe){ri.highlightFirst(fe),vr.focusIn(fe)})},A=function(Q){var fe=C;SC(n,Pe,Q,v,fe,Gh.HighlightFirst).get(se)},P=function(Q){return A(Q),z.some(!0)},I=function(Q){var fe=Hh(Q,n,"button");return yc(fe),z.some(!0)},H=ue(ue({},Qa([Br(function(Q,fe){var ge=Ai(Q,n,"aria-descriptor");ge.each(function(xe){var Fe=qt("aria");$r(xe.element,"id",Fe),$r(Q.element,"aria-describedby",Fe)})})])),cC(z.some(A))),G={repositionMenus:function(Q){Pa.isOn(Q)&&Mb(Q)}};return{uid:n.uid,dom:n.dom,components:o,apis:G,eventOrder:ue(ue({},n.eventOrder),(y={},y[gc()]=["disabling","toggling","alloy.base.behaviour"],y)),events:H,behaviours:Lu(n.splitDropdownBehaviours,[ks.config({others:{sandbox:function(Q){var fe=Hh(Q,n,"arrow"),ge={onOpen:function(){Pa.on(fe),Pa.on(Q)},onClose:function(){Pa.off(fe),Pa.off(Q)}};return LR(n,Q,ge)}}}),vr.config({mode:"special",onSpace:I,onEnter:I,onDown:P}),Rr.config({}),Pa.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:n.role.getOr("button"),"aria-haspopup":!0}}}},hN=Sc({name:"SplitDropdown",configFields:hne(),partFields:pne(),factory:bne,apis:{repositionMenus:function(n,o){return n.repositionMenus(o)}}}),yne=function(n){return{isDisabled:function(){return cr.isDisabled(n)},setDisabled:function(o){return cr.set(n,o)}}},_ne=function(n){return{setActive:function(o){Pa.set(n,o)},isActive:function(){return Pa.isOn(n)},isDisabled:function(){return cr.isDisabled(n)},setDisabled:function(o){return cr.set(n,o)}}},$Y=function(n,o){return n.map(function(l){return{"aria-label":o.translate(l),title:o.translate(l)}}).getOr({})},zY=qt("focus-button"),jV=function(n,o,l,v,y,C){var A;return{dom:{tag:"button",classes:["tox-tbtn"].concat(o.isSome()?["tox-tbtn--select"]:[]),attributes:$Y(l,C)},components:R0([n.map(function(P){return fO(P,C.icons)}),o.map(function(P){return yP(P,"tox-tbtn",C)})]),eventOrder:(A={},A[Lf()]=["focusing","alloy.base.behaviour","common-button-display-events"],A),buttonBehaviours:mn([qh.toolbarButton(C.isDisabled),wu(),qr("common-button-display-events",[Nt(Lf(),function(P,I){I.event.prevent(),xa(P,zY)})])].concat(v.map(function(P){return Jv.config({channel:P,initialData:{icon:n,text:o},renderComponents:function(I,H){return R0([I.icon.map(function(G){return fO(G,C.icons)}),I.text.map(function(G){return yP(G,"tox-tbtn",C)})])}})}).toArray()).concat(y.getOr([])))}},wne=function(n,o,l,v){var y=o.shared;return wf.sketch({lazySink:y.getSink,fetch:function(){return Fl.nu(function(C){C(Vt(l(n.items),Ze))})},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:jV(n.icon,n.text,n.tooltip,z.none(),z.none(),y.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:v}}}})},HY=function(n,o,l){var v=ur(se),y=jV(n.icon,n.text,n.tooltip,z.none(),z.none(),l);return pf.sketch({dom:y.dom,components:y.components,eventOrder:UL,buttonBehaviours:mn([qr("toolbar-button-events",[VL({onAction:n.onAction,getApi:o.getApi}),L_(o,v),F_(o,v)]),qh.toolbarButton(function(){return n.disabled||l.isDisabled()}),wu()].concat(o.toolbarButtonBehaviours))})},xne=function(n,o){return VY(n,o,[])},VY=function(n,o,l){return HY(n,{toolbarButtonBehaviours:[].concat(l.length>0?[qr("toolbarButtonWith",l)]:[]),getApi:yne,onSetup:n.onSetup},o)},Cne=function(n,o){return UY(n,o,[])},UY=function(n,o,l){return Et(HY(n,{toolbarButtonBehaviours:[Lr.config({}),Pa.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(l.length>0?[qr("toolbarToggleButtonWith",l)]:[]),getApi:_ne,onSetup:n.onSetup},o))},Sne=function(n,o,l){return function(v){return Fl.nu(function(y){return o.fetch(y)}).map(function(y){return z.from(r4(Et(SR(qt("menu-value"),y,function(C){o.onItemAction(n(v),C)},o.columns,o.presets,ec.CLOSE_ON_EXECUTE,o.select.getOr(de),l),{movement:IA(o.columns,o.presets),menuBehaviours:_A.unnamedEvents(o.columns!=="auto"?[]:[Br(function(C,A){rR(C,4,LI(o.presets)).each(function(P){var I=P.numRows,H=P.numColumns;vr.setGridSize(C,I,H)})})])})))})}},Ene=function(n,o){var l,v=qt("channel-update-split-dropdown-display"),y=function(P){return{isDisabled:function(){return cr.isDisabled(P)},setDisabled:function(I){return cr.set(P,I)},setIconFill:function(I,H){ws(P.element,'svg path[id="'+I+'"], rect[id="'+I+'"]').each(function(G){$r(G,"fill",H)})},setIconStroke:function(I,H){ws(P.element,'svg path[id="'+I+'"], rect[id="'+I+'"]').each(function(G){$r(G,"stroke",H)})},setActive:function(I){$r(P.element,"aria-pressed",I),ws(P.element,"span").each(function(H){P.getSystem().getByDom(H).each(function(G){return Pa.set(G,I)})})},isActive:function(){return ws(P.element,"span").exists(function(I){return P.getSystem().getByDom(I).exists(Pa.isOn)})}}},C=ur(se),A={getApi:y,onSetup:n.onSetup};return hN.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:ue({"aria-pressed":!1},$Y(n.tooltip,o.providers))},onExecute:function(P){n.onAction(y(P))},onItemExecute:function(P,I,H){},splitDropdownBehaviours:mn([qh.splitButton(o.providers.isDisabled),wu(),qr("split-dropdown-events",[Nt(zY,Rr.focus),L_(A,C),F_(A,C)]),ME.config({})]),eventOrder:(l={},l[pc()]=["alloy.base.behaviour","split-dropdown-events"],l),toggleClass:"tox-tbtn--enabled",lazySink:o.getSink,fetch:Sne(y,n,o.providers),parts:{menu:I_(!1,n.columns,n.presets)},components:[hN.parts.button(jV(n.icon,n.text,z.none(),z.some(v),z.some([Pa.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),o.providers)),hN.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:yI("chevron-down",o.providers.icons)},buttonBehaviours:mn([qh.splitButton(o.providers.isDisabled),wu(),MM()])}),hN.parts["aria-descriptor"]({text:o.providers.translate("To open the popup, press Shift+Enter")})]})},kne=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],i3=function(n,o){return function(l,v,y){var C=n(l).mapError(function(A){return Pf(A)}).getOrDie();return o(C,v,y)}},WO={button:i3(TI,function(n,o){return xne(n,o.backstage.shared.providers)}),togglebutton:i3(mA,function(n,o){return Cne(n,o.backstage.shared.providers)}),menubutton:i3(aw,function(n,o){return xP(n,"tox-tbtn",o.backstage,z.none())}),splitbutton:i3(DV,function(n,o){return Ene(n,o.backstage.shared)}),grouptoolbarbutton:i3(kV,function(n,o,l){var v,y=l.ui.registry.getAll().buttons,C=function(P){return mN(l,{buttons:y,toolbar:P,allowToolbarGroups:!1},o,z.none())},A=(v={},v[Ll]=o.backstage.shared.header.isPositionedAtTop()?ko.TopToBottom:ko.BottomToTop,v);switch(pE(l)){case nv.floating:return wne(n,o.backstage,C,A);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}}),styleSelectButton:function(n,o){return ine(n,o.backstage)},fontsizeSelectButton:function(n,o){return ene(n,o.backstage)},fontSelectButton:function(n,o){return Yte(n,o.backstage)},formatButton:function(n,o){return rne(n,o.backstage)},alignMenuButton:function(n,o){return Hte(n,o.backstage)}},Tne=function(n,o,l){return Zn(WO,n.type).fold(function(){return console.error("skipping button defined by",n),z.none()},function(v){return z.some(v(n,o,l))})},WY={styleselect:WO.styleSelectButton,fontsizeselect:WO.fontsizeSelectButton,fontselect:WO.fontSelectButton,formatselect:WO.formatButton,align:WO.alignMenuButton},Ane=function(n){var o=Vt(kne,function(l){var v=kt(l.items,function(y){return ma(n,y)||ma(WY,y)});return{name:l.name,items:v}});return kt(o,function(l){return l.items.length>0})},One=function(n){var o=n.split("|");return Vt(o,function(l){return{items:l.trim().split(" ")}})},Dne=function(n){return ee(n,function(o){return ma(o,"name")&&ma(o,"items")})},Mne=function(n){var o=n.toolbar,l=n.buttons;return o===!1?[]:o===void 0||o===!0?Ane(l):c(o)?One(o):Dne(o)?o:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},Rne=function(n,o,l,v,y,C){return Zn(o,l.toLowerCase()).orThunk(function(){return C.bind(function(A){return mi(A,function(P){return Zn(o,P+l.toLowerCase())})})}).fold(function(){return Zn(WY,l.toLowerCase()).map(function(A){return A(n,y)}).orThunk(function(){return z.none()})},function(A){return A.type==="grouptoolbarbutton"&&!v?(console.warn("Ignoring the '"+l+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."),z.none()):Tne(A,y,n)})},mN=function(n,o,l,v){var y=Mne(o),C=Vt(y,function(A){var P=Er(A.items,function(I){return I.trim().length===0?[]:Rne(n,o.buttons,I,o.allowToolbarGroups,l,v).toArray()});return{title:z.from(n.translate(A.name)),items:P}});return kt(C,function(A){return A.items.length>0})},jY=function(n,o,l,v){var y=o.outerContainer,C=l.toolbar,A=l.buttons;if(ee(C,c)){var P=C.map(function(I){var H={toolbar:I,buttons:A,allowToolbarGroups:l.allowToolbarGroups};return mN(n,H,{backstage:v},z.none())});js.setToolbars(y,P)}else js.setToolbar(y,mN(n,l,{backstage:v},z.none()))},YY=rr(),Pne=YY.os.isiOS()&&YY.os.version.major<=12,Ine=function(n,o){var l=n.dom,v=n.getWin(),y=n.getDoc().documentElement,C=ur($a(v.innerWidth,v.innerHeight)),A=ur($a(y.offsetWidth,y.offsetHeight)),P=function(){var fe=C.get();(fe.left!==v.innerWidth||fe.top!==v.innerHeight)&&(C.set($a(v.innerWidth,v.innerHeight)),mR(n))},I=function(){var fe=n.getDoc().documentElement,ge=A.get();(ge.left!==fe.offsetWidth||ge.top!==fe.offsetHeight)&&(A.set($a(fe.offsetWidth,fe.offsetHeight)),mR(n))},H=function(fe){return S8(n,fe)};l.bind(v,"resize",P),l.bind(v,"scroll",H);var G=d0(vn.fromDom(n.getBody()),"load",I),Q=o.uiMothership.element;n.on("hide",function(){_r(Q,"display","none")}),n.on("show",function(){Na(Q,"display")}),n.on("NodeChange",I),n.on("remove",function(){G.unbind(),l.unbind(v,"resize",P),l.unbind(v,"scroll",H),v=null})},Bne=function(n,o,l,v,y){var C=ur(0),A=o.outerContainer;Bte(n);var P=vn.fromDom(y.targetNode),I=On(Cr(P));vs(P,o.mothership),Ua(I,o.uiMothership),n.on("PostRender",function(){jY(n,o,l,v),C.set(n.getWin().innerWidth),js.setMenubar(A,TY(n,l)),js.setSidebar(A,l.sidebar),Ine(n,o)});var H=js.getSocket(A).getOrDie("Could not find expected socket element");if(Pne){Co(H.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var G=Y6(function(){n.fire("ScrollContent")},20),Q=Lo(H.element,"scroll",G.throttle);n.on("remove",Q.unbind)}hB(n,o),n.addCommand("ToggleSidebar",function(Fe,et){js.toggleSidebar(A,et),n.fire("ToggleSidebar")}),n.addQueryValueHandler("ToggleSidebar",function(){return js.whichSidebar(A)});var fe=pE(n),ge=function(){js.refreshToolbar(o.outerContainer)};(fe===nv.sliding||fe===nv.floating)&&n.on("ResizeWindow ResizeEditor ResizeContent",function(){var Fe=n.getWin().innerWidth;Fe!==C.get()&&(ge(),C.set(Fe))});var xe={enable:function(){_C(o,!1)},disable:function(){_C(o,!0)},isDisabled:function(){return cr.isDisabled(A)}};return{iframeContainer:H.element.dom,editorContainer:A.element.dom,api:xe}},Lne=Object.freeze({__proto__:null,render:Bne}),YV=function(n){var o=/^[0-9\.]+(|px)$/i;return o.test(""+n)?z.some(parseInt(""+n,10)):z.none()},qV=function(n){return ie(n)?n+"px":n},gN=function(n,o,l){var v=o.filter(function(C){return n<C}),y=l.filter(function(C){return n>C});return v.or(y).getOr(n)},Fne=function(n){var o=xA(n),l=JI(n),v=QI(n);return YV(o).map(function(y){return gN(y,l,v)})},Nne=function(n){var o=Fne(n);return o.getOr(xA(n))},qY=function(n){var o=CA(n),l=sR(n),v=SA(n);return YV(o).map(function(y){return gN(y,l,v)})},$ne=function(n){var o=qY(n);return o.getOr(CA(n))},zne=function(n,o,l,v,y){var C=l.uiMothership,A=l.outerContainer,P=yC.DOM,I=kA(n),H=TA(n),G=SA(n).or(qY(n)),Q=v.shared.header,fe=Q.isPositionedAtTop,ge=pE(n),xe=ge===nv.sliding||ge===nv.floating,Fe=ur(!1),et=function(){return Fe.get()&&!n.removed},Re=function(Yt){return xe?Yt.fold(le(0),function(Rt){return Rt.components().length>1?ss(Rt.components()[1].element):0}):0},nt=function(Yt){switch(aB(n)){case B_.auto:var Rt=js.getToolbar(A),dn=Re(Rt),Vn=ss(Yt.element)-dn,zt=go(o),$n=zt.y>Vn;if($n)return"top";var Xn=Tt(o),pa=Math.max(Xn.dom.scrollHeight,ss(Xn)),ci=zt.bottom<pa-Vn;if(ci)return"bottom";var oo=eu(),$o=oo.bottom<zt.bottom-Vn;return $o?"bottom":"top";case B_.bottom:return"bottom";case B_.top:default:return"top"}},Ct=function(Yt){var Rt=y.get();Ts.setModes(Rt,[Yt]),Q.setDockingMode(Yt);var dn=fe()?ko.TopToBottom:ko.BottomToTop;$r(Rt.element,Ll,dn)},xt=function(){var Yt=G.getOrThunk(function(){var Rt=YV(Vi(La(),"margin-left")).getOr(0);return fu(La())-Sl(o).left+Rt});_r(y.get().element,"max-width",Yt+"px")},tt=function(){var Yt=js.getToolbar(A),Rt=Re(Yt),dn=go(o),Vn=fe()?Math.max(dn.y-ss(y.get().element)+Rt,0):dn.bottom;Co(A.element,{position:"absolute",top:Math.round(Vn)+"px",left:Math.round(dn.x)+"px"})},gt=function(){C.broadcastOn([eb()],{})},Pt=function(Yt){if(Yt===void 0&&(Yt=!1),!!et()){if(I||xt(),xe&&js.refreshToolbar(A),I||tt(),H){var Rt=y.get();Yt?Ts.reset(Rt):Ts.refresh(Rt)}gt()}},En=function(Yt){if(Yt===void 0&&(Yt=!0),!(I||!H||!et())){var Rt=Q.getDockingMode(),dn=nt(y.get());dn!==Rt&&(Ct(dn),Yt&&Pt(!0))}},Ht=function(){Fe.set(!0),_r(A.element,"display","flex"),P.addClass(n.getBody(),"mce-edit-focus"),Na(C.element,"display"),En(!1),Pt()},Tn=function(){Fe.set(!1),l.outerContainer&&(_r(A.element,"display","none"),P.removeClass(n.getBody(),"mce-edit-focus")),_r(C.element,"display","none")};return{isVisible:et,isPositionedAtTop:fe,show:Ht,hide:Tn,update:Pt,updateMode:En,repositionPopups:gt}},GY=function(n,o){var l=go(n);return{pos:o?l.y:l.bottom,bounds:l}},Hne=function(n,o,l,v){var y=ur(GY(o,l.isPositionedAtTop())),C=function(P){var I=GY(o,l.isPositionedAtTop()),H=I.pos,G=I.bounds,Q=y.get(),fe=Q.pos,ge=Q.bounds,xe=G.height!==ge.height||G.width!==ge.width;y.set({pos:H,bounds:G}),xe&&mR(n,P),l.isVisible()&&(fe!==H?l.update(!0):xe&&(l.updateMode(),l.repositionPopups()))};v||(n.on("activate",l.show),n.on("deactivate",l.hide)),n.on("SkinLoaded ResizeWindow",function(){return l.update(!0)}),n.on("NodeChange keydown",function(P){Tb.requestAnimationFrame(function(){return C(P)})}),n.on("ScrollWindow",function(){return l.updateMode()});var A=$g();A.set(d0(vn.fromDom(n.getBody()),"load",C)),n.on("remove",function(){A.clear()})},Vne=function(n,o,l,v,y){var C=o.mothership,A=o.uiMothership,P=o.outerContainer,I=ur(null),H=vn.fromDom(y.targetNode),G=zne(n,H,o,v,I),Q=Y$(n);Lte(n);var fe=function(){if(I.get()){G.show();return}I.set(js.getHeader(P).getOrDie());var xe=uB(n);Ua(xe,C),Ua(xe,A),jY(n,o,l,v),js.setMenubar(P,TY(n,l)),G.show(),Hne(n,H,G,Q),n.nodeChanged()};n.on("show",fe),n.on("hide",G.hide),Q||(n.on("focus",fe),n.on("blur",G.hide)),n.on("init",function(){(n.hasFocus()||Q)&&fe()}),hB(n,o);var ge={show:function(){G.show()},hide:function(){G.hide()},enable:function(){_C(o,!1)},disable:function(){_C(o,!0)},isDisabled:function(){return cr.isDisabled(P)}};return{editorContainer:P.element.dom,api:ge}},Une=Object.freeze({__proto__:null,render:Vne}),Wne="contexttoolbar-show",KY="contexttoolbar-hide",jne=function(n){return{hide:function(){return xa(n,jp())},getValue:function(){return Sn.getValue(n)}}},XY=function(n,o){return Nt(HL,function(l,v){var y=n.get(l),C=jne(y);o.onAction(C,v.event.buttonApi)})},Yne=function(n,o,l){var v=o.original;v.primary;var y=Y(v,["primary"]),C=Rf(TI(ue(ue({},y),{type:"button",onAction:se})));return VY(C,l.backstage.shared.providers,[XY(n,o)])},qne=function(n,o,l){var v=o.original;v.primary;var y=Y(v,["primary"]),C=Rf(mA(ue(ue({},y),{type:"togglebutton",onAction:se})));return UY(C,l.backstage.shared.providers,[XY(n,o)])},Gne=function(n,o,l){var v={backstage:{shared:{providers:l}}};return o.type==="contextformtogglebutton"?qne(n,o,v):Yne(n,o,v)},Kne=function(n,o,l){var v=Vt(o,function(A){return li(Gne(n,A,l))}),y=function(){return Vt(v,function(A){return A.asSpec()})},C=function(A){return mi(o,function(P,I){return P.primary?z.from(v[I]).bind(function(H){return H.getOpt(A)}).filter(at(cr.isDisabled)):z.none()})};return{asSpecs:y,findPrimary:C}},ZY=function(n,o){var l=n.label.fold(function(){return{}},function(C){return{"aria-label":C}}),v=li(OE.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:n.initValue(),inputAttributes:l,selectOnFocus:!0,inputBehaviours:mn([vr.config({mode:"special",onEnter:function(C){return y.findPrimary(C).map(function(A){return yc(A),!0})},onLeft:function(C,A){return A.cut(),z.none()},onRight:function(C,A){return A.cut(),z.none()}})])})),y=Kne(v,n.commands,o);return[{title:z.none(),items:[v.asSpec()]},{title:z.none(),items:y.asSpecs()}]},Xne=function(n,o,l){return Ya({type:n,uid:qt("context-toolbar"),initGroups:ZY(o,l),onEscape:z.none,cyclicKeying:!0,providers:l})},Zne={renderContextForm:Xne,buildInitGroups:ZY},JY=function(n,o,l){return l===void 0&&(l=.01),o.bottom-n.y>=l&&n.bottom-o.y>=l},Jne=function(n){var o=n.getBoundingClientRect();if(o.height<=0&&o.width<=0){var l=Ge(vn.fromDom(n.startContainer),n.startOffset).element,v=An(l)?eo(l):z.some(l);return v.filter(tn).map(function(y){return y.dom.getBoundingClientRect()}).getOr(o)}else return o},GV=function(n){var o=n.selection.getRng(),l=Jne(o);if(n.inline){var v=vu();return us(v.left+l.left,v.top+l.top,l.width,l.height)}else{var y=nd(vn.fromDom(n.getBody()));return us(y.x+l.left,y.y+l.top,l.width,l.height)}},Qne=function(n,o){return o.filter(lr).map(nd).getOrThunk(function(){return GV(n)})},ere=function(n,o,l){var v=Math.max(n.x+l,o.x),y=Math.min(n.right-l,o.right);return{x:v,width:y-v}},tre=function(n,o,l,v,y,C){var A=vn.fromDom(n.getContainer()),P=ws(A,".tox-editor-header").getOr(A),I=go(P),H=I.y>=o.bottom,G=v&&!H;if(n.inline&&G)return{y:Math.max(I.bottom+C,l.y),bottom:l.bottom};if(n.inline&&!G)return{y:l.y,bottom:Math.min(I.y-C,l.bottom)};var Q=y==="line"?go(A):o;return G?{y:Math.max(I.bottom+C,l.y),bottom:Math.min(Q.bottom-C,l.bottom)}:{y:Math.max(Q.y+C,l.y),bottom:Math.min(I.y-C,l.bottom)}},QY=function(n,o,l,v){v===void 0&&(v=0);var y=yv(window),C=go(vn.fromDom(n.getContentAreaContainer())),A=uR(n)||lR(n)||EA(n),P=ere(C,y,v),I=P.x,H=P.width;if(n.inline&&!A)return us(I,y.y,H,y.height);var G=o.header.isPositionedAtTop(),Q=tre(n,C,y,G,l,v),fe=Q.y,ge=Q.bottom;return us(I,fe,H,ge-fe)},pN=12,eq={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},tq={maxHeightFunction:Vg(),maxWidthFunction:Tc()},nre=function(n,o){var l=n.selection.getRng(),v=Ge(vn.fromDom(l.startContainer),l.startOffset);return l.startContainer===l.endContainer&&l.startOffset===l.endOffset-1&&Ra(v.element,o)},rre=function(n,o,l){var v=Io(n,"position");_r(n,"position",o);var y=l(n);return v.each(function(C){return _r(n,"position",C)}),y},nq=function(n){return n==="node"},are=function(n,o,l,v,y){var C=GV(n),A=v.lastElement().exists(function(H){return Ra(l,H)});if(nre(n,l))return A?gI:Gv;if(A)return rre(o,v.getMode(),function(){var H=JY(C,go(o));return H&&!v.isReposition()?z6:gI});var P=v.getMode()==="fixed"?y.y+vu().top:y.y,I=ss(o)+pN;return P+I<=C.y?Gv:Sb},ire=function(n,o,l,v){var y=function(I){return function(H,G,Q,fe,ge){var xe=are(n,fe,I,l,ge),Fe=ue(ue({},H),{y:ge.y,height:ge.height});return ue(ue({},xe(Fe,G,Q,fe,ge)),{alwaysFit:!0})}},C=function(I){return nq(v)?[y(I)]:[]},A={onLtr:function(I){return[ol,Zo,al,Vs,il,Us].concat(C(I))},onRtl:function(I){return[ol,Zo,il,Us,al,Vs].concat(C(I))}},P={onLtr:function(I){return[Zo,Vs,Us,al,il,ol].concat(C(I))},onRtl:function(I){return[Zo,Us,Vs,il,al,ol].concat(C(I))}};return o?P:A},ore=function(n,o,l,v){return o==="line"?{bubble:Fm(pN,0,eq),layouts:{onLtr:function(){return[s0]},onRtl:function(){return[u0]}},overrides:tq}:{bubble:Fm(0,pN,eq,1/pN),layouts:ire(n,l,v,o),overrides:tq}},KV=function(n,o){var l=kt(o,function(A){return A.predicate(n.dom)}),v=jt(l,function(A){return A.type==="contexttoolbar"}),y=v.pass,C=v.fail;return{contextToolbars:y,contextForms:C}},sre=function(n){if(n.length<=1)return n;var o=function(P){return Gn(n,function(I){return I.position===P})},l=function(P){return kt(n,function(I){return I.position===P})},v=o("selection"),y=o("node");if(v||y)if(y&&v){var C=l("node"),A=Vt(l("selection"),function(P){return ue(ue({},P),{position:"node"})});return C.concat(A)}else return l(v?"selection":"node");else return l("line")},ure=function(n){if(n.length<=1)return n;var o=function(v){return Jt(n,function(y){return y.position===v})},l=o("selection").orThunk(function(){return o("node")}).orThunk(function(){return o("line")}).map(function(v){return v.position});return l.fold(function(){return[]},function(v){return kt(n,function(y){return y.position===v})})},lre=function(n,o,l){var v=KV(n,o);if(v.contextForms.length>0)return z.some({elem:n,toolbars:[v.contextForms[0]]});var y=KV(n,l);if(y.contextForms.length>0)return z.some({elem:n,toolbars:[y.contextForms[0]]});if(v.contextToolbars.length>0||y.contextToolbars.length>0){var C=sre(v.contextToolbars.concat(y.contextToolbars));return z.some({elem:n,toolbars:C})}else return z.none()},cre=function(n,o,l){return n(o)?z.none():hm(o,function(v){if(tn(v)){var y=KV(v,l.inNodeScope),C=y.contextToolbars,A=y.contextForms,P=A.length>0?A:ure(C);return P.length>0?z.some({elem:v,toolbars:P}):z.none()}else return z.none()},n)},fre=function(n,o){var l=vn.fromDom(o.getBody()),v=function(A){return Ra(A,l)},y=function(A){return!v(A)&&!xo(l,A)},C=vn.fromDom(o.selection.getNode());return y(C)?z.none():lre(C,n.inNodeScope,n.inEditorScope).orThunk(function(){return cre(v,C,n)})},dre=function(n,o){var l={},v=[],y=[],C={},A={},P=function(G,Q){var fe=Rf(HM(Q));l[G]=fe,fe.launch.map(function(ge){C["form:"+G]=ue(ue({},Q.launch),{type:ge.type==="contextformtogglebutton"?"togglebutton":"button",onAction:function(){o(fe)}})}),fe.scope==="editor"?y.push(fe):v.push(fe),A[G]=fe},I=function(G,Q){DI(Q).each(function(fe){Q.scope==="editor"?y.push(fe):v.push(fe),A[G]=fe})},H=ii(n);return xn(H,function(G){var Q=n[G];Q.type==="contextform"?P(G,Q):Q.type==="contexttoolbar"&&I(G,Q)}),{forms:l,inNodeScope:v,inEditorScope:y,lookupTable:A,formNavigators:C}},rq=qt("forward-slide"),aq=qt("backward-slide"),XV=qt("change-slide-event"),ZV="tox-pop--resizing",vre=function(n){var o=ur([]);return yi.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(l){o.set([]),yi.getContent(l).each(function(v){Na(v.element,"visibility")}),Xo(l.element,ZV),Na(l.element,"width")},inlineBehaviours:mn([qr("context-toolbar-events",[Bo(gm(),function(l,v){v.event.raw.propertyName==="width"&&(Xo(l.element,ZV),Na(l.element,"width"))}),Nt(XV,function(l,v){var y=l.element;Na(y,"width");var C=fu(y);yi.setContent(l,v.event.contents),ds(y,ZV);var A=fu(y);_r(y,"width",C+"px"),yi.getContent(l).each(function(P){v.event.focus.bind(function(I){return vd(I),ll(y)}).orThunk(function(){return vr.focusIn(P),Bl(Cr(y))})}),Tb.setTimeout(function(){_r(l.element,"width",A+"px")},0)}),Nt(rq,function(l,v){yi.getContent(l).each(function(y){o.set(o.get().concat([{bar:y,focus:Bl(Cr(l.element))}]))}),Qn(l,XV,{contents:v.event.forwardContents,focus:z.none()})}),Nt(aq,function(l,v){Ki(o.get()).each(function(y){o.set(o.get().slice(0,o.get().length-1)),Qn(l,XV,{contents:jc(y.bar),focus:y.focus})})})]),vr.config({mode:"special",onEscape:function(l){return Ki(o.get()).fold(function(){return n.onEscape()},function(v){return xa(l,aq),z.some(!0)})}})]),lazySink:function(){return Mr.value(n.sink)}})},JV="tox-pop--transition",hre=function(n,o,l,v){var y=v.backstage,C=y.shared,A=rr().deviceType.isTouch,P=Eo(),I=Eo(),H=Eo(),G=$i(vre({sink:l,onEscape:function(){return n.focus(),z.some(!0)}})),Q=function(){var Ht=H.get().getOr("node"),Tn=nq(Ht)?1:0;return QY(n,C,Ht,Tn)},fe=function(){return!n.removed&&!(A()&&y.isContextMenuOpen())},ge=function(Ht){return ou(Uo(Ht,P.get(),Ra),!0)},xe=function(){if(fe()){var Ht=Q(),Tn=ou(H.get(),"node")?Qne(n,P.get()):GV(n);return Ht.height<=0||!JY(Tn,Ht)}else return!0},Fe=function(){P.clear(),I.clear(),H.clear(),yi.hide(G)},et=function(){if(yi.isOpen(G)){var Ht=G.element;Na(Ht,"display"),xe()?_r(Ht,"display","none"):(I.set(0),yi.reposition(G))}},Re=function(Ht){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Ht],behaviours:mn([vr.config({mode:"acyclic"}),qr("pop-dialog-wrap-events",[Br(function(Tn){n.shortcuts.add("ctrl+F9","focus statusbar",function(){return vr.focusIn(Tn)})}),Vc(function(Tn){n.shortcuts.remove("ctrl+F9")})])])}},nt=Pr(function(){return dre(o,function(Ht){var Tn=tt([Ht]);Qn(G,rq,{forwardContents:Re(Tn)})})}),Ct=function(Ht,Tn){return mN(n,{buttons:Ht,toolbar:Tn.items,allowToolbarGroups:!1},v,z.some(["form:"]))},xt=function(Ht,Tn){return Zne.buildInitGroups(Ht,Tn)},tt=function(Ht){var Tn=n.ui.registry.getAll().buttons,Yt=nt(),Rt=ue(ue({},Tn),Yt.formNavigators),dn=pE(n)===nv.scrolling?nv.scrolling:nv.default,Vn=pn(Vt(Ht,function(zt){return zt.type==="contexttoolbar"?Ct(Rt,zt):xt(zt,C.providers)}));return Ya({type:dn,uid:qt("context-toolbar"),initGroups:Vn,onEscape:z.none,cyclicKeying:!0,providers:C.providers})},gt=function(Ht,Tn){var Yt=Ht==="node"?C.anchors.node(Tn):C.anchors.cursor(),Rt=ore(n,Ht,A(),{lastElement:P.get,isReposition:function(){return ou(I.get(),0)},getMode:function(){return it.getMode(l)}});return Et(Yt,Rt)},Pt=function(Ht,Tn){if(En.cancel(),!!fe()){var Yt=tt(Ht),Rt=Ht[0].position,dn=gt(Rt,Tn);H.set(Rt),I.set(1);var Vn=G.element;Na(Vn,"display"),ge(Tn)||(Xo(Vn,JV),it.reset(l,G)),yi.showWithinBounds(G,Re(Yt),{anchor:dn,transition:{classes:[JV],mode:"placement"}},function(){return z.some(Q())}),Tn.fold(P.clear,P.set),xe()&&_r(Vn,"display","none")}},En=BM(function(){if(!(!n.hasFocus()||n.removed))if(Rl(G.element,JV))En.throttle();else{var Ht=nt();fre(Ht,n).fold(Fe,function(Tn){Pt(Tn.toolbars,z.some(Tn.elem))})}},17);n.on("init",function(){n.on("remove",Fe),n.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",et),n.on("click keyup focus SetContent",En.throttle),n.on(KY,Fe),n.on(Wne,function(Ht){var Tn=nt();Zn(Tn.lookupTable,Ht.toolbarKey).each(function(Yt){Pt([Yt],Mo(Ht.target!==n,Ht.target)),yi.getContent(G).each(vr.focusIn)})}),n.on("focusout",function(Ht){Tb.setEditorTimeout(n,function(){ll(l.element).isNone()&&ll(G.element).isNone()&&Fe()},0)}),n.on("SwitchMode",function(){n.mode.isReadOnly()&&Fe()}),n.on("AfterProgressState",function(Ht){Ht.state?Fe():n.hasFocus()&&En.throttle()}),n.on("NodeChange",function(Ht){ll(G.element).fold(En.throttle,se)})})},mre=function(n){var o=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];xn(o,function(l){n.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onAction:rg(n,l.cmd),onSetup:dN(n,l.name)})}),n.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:rg(n,"JustifyNone")})},gre={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},pre=function(){var n="[0-9]+",o="[+-]?"+n,l="[eE]"+o,v="\\.",y=function(P){return"(?:"+P+")?"},C=["Infinity",n+v+y(n)+y(l),v+n+y(l),n+y(l)].join("|"),A="[+-]?(?:"+C+")";return new RegExp("^("+A+")(.*)$")}(),bre=function(n,o){return Gn(o,function(l){return Gn(gre[l],function(v){return n===v})})},yre=function(n,o){var l=z.from(pre.exec(n));return l.bind(function(v){var y=Number(v[1]),C=v[2];return bre(C,o)?z.some({value:y,unit:C}):z.none()})},_re=function(n,o){return yre(n,o).map(function(l){var v=l.value,y=l.unit;return v+y})},iq=function(n,o){var l=function(){var v=o.getOptions(n),y=o.getCurrent(n).map(o.hash),C=Eo();return Vt(v,function(A){return{type:"togglemenuitem",text:o.display(A),onSetup:function(P){var I=function(G){G&&(C.on(function(Q){return Q.setActive(!1)}),C.set(P)),P.setActive(G)};I(ou(y,o.hash(A)));var H=o.watcher(n,A,I);return function(){C.clear(),H()}},onAction:function(){return o.setCurrent(n,A)}}})};n.ui.registry.addMenuButton(o.name,{tooltip:o.text,icon:o.icon,fetch:function(v){return v(l())},onSetup:o.onToolbarSetup}),n.ui.registry.addNestedMenuItem(o.name,{type:"nestedmenuitem",text:o.text,getSubmenuItems:l,onSetup:o.onMenuSetup})},wre={name:"lineheight",text:"Line height",icon:"line-height",getOptions:eB,hash:function(n){return _re(n,["fixed","relative","empty"]).getOr(n)},display:Pe,watcher:function(n,o,l){return n.formatter.formatChanged("lineheight",l,!1,{value:o}).unbind},getCurrent:function(n){return z.from(n.queryCommandValue("LineHeight"))},setCurrent:function(n,o){return n.execCommand("LineHeight",!1,o)}},xre=function(n){var o=z.from(tB(n));return o.map(function(l){return{name:"language",text:"Language",icon:"language",getOptions:le(l),hash:function(v){return D(v.customCode)?v.code:v.code+"/"+v.customCode},display:function(v){return v.title},watcher:function(v,y,C){return v.formatter.formatChanged("lang",C,!1,{value:y.code,customValue:y.customCode}).unbind},getCurrent:function(v){var y=vn.fromDom(v.selection.getNode());return mm(y,function(C){return z.some(C).filter(tn).bind(function(A){var P=to(A,"lang");return P.map(function(I){var H=to(A,"data-mce-lang").getOrUndefined();return{code:I,customCode:H,title:""}})})})},setCurrent:function(v,y){return v.execCommand("Lang",!1,y)},onToolbarSetup:function(v){var y=$g();return v.setActive(n.formatter.match("lang",{},void 0,!0)),y.set(n.formatter.formatChanged("lang",v.setActive,!0)),y.clear}}})},Cre=function(n){iq(n,wre),xre(n).each(function(o){return iq(n,o)})},Sre=function(n,o){Vte(n,o),qte(n,o),one(n,o),ane(n,o),tne(n,o)},Ere=function(n){return vN(n,"NodeChange",function(o){o.setDisabled(!n.queryCommandState("outdent"))})},kre=function(n){n.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:Ere(n),onAction:rg(n,"outdent")}),n.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:rg(n,"indent")})},Tre=function(n){kre(n)},QV=function(n,o){return function(){n.execCommand("mceToggleFormat",!1,o)}},Are=function(n){Lb.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],function(v,y){n.ui.registry.addToggleButton(v.name,{tooltip:v.text,icon:v.icon,onSetup:dN(n,v.name),onAction:QV(n,v.name)})});for(var o=1;o<=6;o++){var l="h"+o;n.ui.registry.addToggleButton(l,{text:l.toUpperCase(),tooltip:"Heading "+o,onSetup:dN(n,l),onAction:QV(n,l)})}},Ore=function(n){Lb.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],function(o){n.ui.registry.addButton(o.name,{tooltip:o.text,icon:o.icon,onAction:rg(n,o.action)})})},Dre=function(n){Lb.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],function(o){n.ui.registry.addToggleButton(o.name,{tooltip:o.text,icon:o.icon,onAction:rg(n,o.action),onSetup:dN(n,o.name)})})},Mre=function(n){Are(n),Ore(n),Dre(n)},Rre=function(n){Lb.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],function(o){n.ui.registry.addMenuItem(o.name,{text:o.text,icon:o.icon,shortcut:o.shortcut,onAction:rg(n,o.action)})}),n.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:QV(n,"code")})},Pre=function(n){Mre(n),Rre(n)},bN=function(n,o){return vN(n,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(l){l.setDisabled(n.mode.isReadOnly()||!n.undoManager[o]())})},Ire=function(n){n.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:bN(n,"hasUndo"),onAction:rg(n,"undo")}),n.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:bN(n,"hasRedo"),onAction:rg(n,"redo")})},Bre=function(n){n.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",disabled:!0,onSetup:bN(n,"hasUndo"),onAction:rg(n,"undo")}),n.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",disabled:!0,onSetup:bN(n,"hasRedo"),onAction:rg(n,"redo")})},Lre=function(n){Ire(n),Bre(n)},Fre=function(n){return vN(n,"VisualAid",function(o){o.setActive(n.hasVisual)})},Nre=function(n){n.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:Fre(n),onAction:rg(n,"mceToggleVisualAid")})},$re=function(n){n.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:rg(n,"mceToggleVisualAid")})},zre=function(n){$re(n),Nre(n)},Hre=function(n,o){mre(n),Pre(n),Sre(n,o),Lre(n),R8(n),zre(n),Tre(n),Cre(n)},o3=function(n,o){return{type:"makeshift",x:n,y:o}},Vre=function(n,o,l){return o3(n.x+o,n.y+l)},oq=function(n){return n.type==="longpress"||n.type.indexOf("touch")===0},Ure=function(n){if(oq(n)){var o=n.touches[0];return o3(o.pageX,o.pageY)}else return o3(n.pageX,n.pageY)},Wre=function(n){if(oq(n)){var o=n.touches[0];return o3(o.clientX,o.clientY)}else return o3(n.clientX,n.clientY)},jre=function(n,o){var l=yC.DOM.getPos(n);return Vre(o,l.x,l.y)},Yre=function(n,o){return o.type==="contextmenu"||o.type==="longpress"?n.inline?Ure(o):jre(n.getContentAreaContainer(),Wre(o)):sq(n)},sq=function(n){return{type:"selection",root:vn.fromDom(n.selection.getNode())}},qre=function(n){return{type:"node",node:z.some(vn.fromDom(n.selection.getNode())),root:vn.fromDom(n.getBody())}},uq=function(n,o,l){switch(l){case"node":return qre(n);case"point":return Yre(n,o);case"selection":return sq(n)}},Gre=function(n,o,l,v,y,C){var A=l(),P=uq(n,o,C);DC(A,ec.CLOSE_ON_EXECUTE,v,!1).map(function(I){o.preventDefault(),yi.showMenuAt(y,{anchor:P},{menu:{markers:mC("normal")},data:I})})},Kre={onLtr:function(){return[Zo,Vs,Us,al,il,ol,Gv,Sb,Cb,wb,xb,dC]},onRtl:function(){return[Zo,Us,Vs,il,al,ol,Gv,Sb,xb,dC,Cb,wb]}},Xre=12,Zre={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},Jre=function(n,o){var l=n.selection;if(l.isCollapsed()||o.touches.length<1)return!1;var v=o.touches[0],y=l.getRng(),C=s_(n.getWin(),jg.domRange(y));return C.exists(function(A){return A.left<=v.clientX&&A.right>=v.clientX&&A.top<=v.clientY&&A.bottom>=v.clientY})},Qre=function(n){var o=n.selection.getRng(),l=function(){Tb.setEditorTimeout(n,function(){n.selection.setRng(o)},10),C()};n.once("touchend",l);var v=function(A){A.preventDefault(),A.stopImmediatePropagation()};n.on("mousedown",v,!0);var y=function(){return C()};n.once("longpresscancel",y);var C=function(){n.off("touchend",l),n.off("longpresscancel",y),n.off("mousedown",v)}},eae=function(n,o,l){var v=uq(n,o,l),y=l==="point"?Xre:0;return ue({bubble:Fm(0,y,Zre),layouts:Kre,overrides:{maxWidthFunction:Tc(),maxHeightFunction:Vg()}},v)},tae=function(n,o,l,v,y,C,A){var P=eae(n,o,C);DC(l,ec.CLOSE_ON_EXECUTE,v,!0).map(function(I){o.preventDefault(),yi.showMenuWithinBounds(y,{anchor:P},{menu:{markers:mC("normal"),highlightImmediately:A},data:I,type:"horizontal"},function(){return z.some(QY(n,v.shared,C==="node"?"node":"selection"))}),n.fire(KY)})},nae=function(n,o,l,v,y,C){var A=rr(),P=A.os.isiOS(),I=A.os.isOSX(),H=A.os.isAndroid(),G=A.deviceType.isTouch(),Q=function(){return!(H||P||I&&G)},fe=function(){var xe=l();tae(n,o,xe,v,y,C,Q())};if((I||P)&&C!=="node"){var ge=function(){Qre(n),fe()};Jre(n,o)?ge():(n.once("selectionchange",ge),n.once("touchend",function(){return n.off("selectionchange",ge)}))}else fe()},lq=function(n){return typeof n=="string"?n.split(/[ ,]/):n},cq=function(n){return n.getParam("contextmenu_never_use_native",!1,"boolean")},rae=function(n,o,l){var v=n.ui.registry.getAll().contextMenus;return z.from(n.getParam(o)).map(lq).getOrThunk(function(){return kt(lq(l),function(y){return ma(v,y)})})},aae=function(n){return n.getParam("contextmenu")===!1},iae=function(n){return rae(n,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")},oae=function(n){return n.getParam("contextmenu_avoid_overlap","","string")},fq=function(n){return c(n)?n==="|":n.type==="separator"},eU={type:"separator"},dq=function(n){var o=function(l){return{text:l.text,icon:l.icon,disabled:l.disabled,shortcut:l.shortcut}};if(c(n))return n;switch(n.type){case"separator":return eU;case"submenu":return ue(ue({type:"nestedmenuitem"},o(n)),{getSubmenuItems:function(){var l=n.getSubmenuItems();return c(l)?l:Vt(l,dq)}});default:return ue(ue({type:"menuitem"},o(n)),{onAction:Te(n.onAction)})}},vq=function(n,o){if(o.length===0)return n;var l=Ki(n).filter(function(y){return!fq(y)}),v=l.fold(function(){return[]},function(y){return[eU]});return n.concat(v).concat(o).concat([eU])},sae=function(n,o,l){var v=st(o,function(y,C){return Zn(n,C.toLowerCase()).map(function(A){var P=A.update(l);if(c(P))return vq(y,P.split(" "));if(P.length>0){var I=Vt(P,dq);return vq(y,I)}else return y}).getOrThunk(function(){return y.concat([C])})},[]);return v.length>0&&fq(v[v.length-1])&&v.pop(),v},uae=function(n,o){return o.ctrlKey&&!cq(n)},hq=function(n,o){return o.type!=="longpress"&&(o.button!==2||o.target===n.getBody()&&o.pointerType==="")},mq=function(n,o){return hq(n,o)?n.selection.getStart(!0):o.target},lae=function(n,o){var l=oae(n),v=hq(n,o)?"selection":"point";if(uu(l)){var y=mq(n,o),C=SE(vn.fromDom(y),l);return C?"node":v}else return v},cae=function(n,o,l){var v=rr(),y=v.deviceType.isTouch,C=$i(yi.sketch({dom:{tag:"div"},lazySink:o,onEscape:function(){return n.focus()},onShow:function(){return l.setContextMenuState(!0)},onHide:function(){return l.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:mn([qr("dismissContextMenu",[Nt(ff(),function(I,H){Ta.close(I),n.focus()})])])})),A=function(I){return yi.hide(C)},P=function(I){if(cq(n)&&I.preventDefault(),!(uae(n,I)||aae(n))){var H=lae(n,I),G=function(){var fe=mq(n,I),ge=n.ui.registry.getAll(),xe=iae(n);return sae(ge.contextMenus,xe,fe)},Q=y()?nae:Gre;Q(n,I,G,l,C,H)}};n.on("init",function(){var I="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(y()?"":" ResizeWindow");n.on(I,A),n.on("longpress contextmenu",P)})},tU=$c.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),yN=function(n){return function(o){return o.translate(-n.left,-n.top)}},_N=function(n){return function(o){return o.translate(n.left,n.top)}},iw=function(n){return function(o,l){return st(n,function(v,y){return y(v)},$a(o,l))}},wN=function(n,o,l){return n.fold(iw([_N(l),yN(o)]),iw([yN(o)]),iw([]))},jO=function(n,o,l){return n.fold(iw([_N(l)]),iw([]),iw([_N(o)]))},gq=function(n,o,l){return n.fold(iw([]),iw([yN(l)]),iw([_N(o),yN(l)]))},fae=function(n,o,l,v,y,C){var A=jO(n,y,C),P=jO(o,y,C);return Math.abs(A.left-P.left)<=l&&Math.abs(A.top-P.top)<=v},dae=function(n,o,l,v,y,C){var A=jO(n,y,C),P=jO(o,y,C),I=Math.abs(A.left-P.left),H=Math.abs(A.top-P.top);return $a(I,H)},pq=function(n,o,l){var v=n.fold(function(y,C){return{position:z.some("absolute"),left:z.some(y+"px"),top:z.some(C+"px")}},function(y,C){return{position:z.some("absolute"),left:z.some(y-l.left+"px"),top:z.some(C-l.top+"px")}},function(y,C){return{position:z.some("fixed"),left:z.some(y+"px"),top:z.some(C+"px")}});return ue({right:z.none(),bottom:z.none()},v)},vae=function(n,o,l){return n.fold(function(v,y){return xN(v+o,y+l)},function(v,y){return LC(v+o,y+l)},function(v,y){return nk(v+o,y+l)})},nU=function(n,o,l,v){var y=function(C,A){return function(P,I){var H=C(o,l,v);return A(P.getOr(H.left),I.getOr(H.top))}};return n.fold(y(gq,xN),y(jO,LC),y(wN,nk))},xN=tU.offset,LC=tU.absolute,nk=tU.fixed,bq=function(n,o){var l=Li(n,o);return D(l)?NaN:parseInt(l,10)},hae=function(n,o){var l=n.element,v=bq(l,o.leftAttr),y=bq(l,o.topAttr);return isNaN(v)||isNaN(y)?z.none():z.some($a(v,y))},mae=function(n,o,l){var v=n.element;$r(v,o.leftAttr,l.left+"px"),$r(v,o.topAttr,l.top+"px")},gae=function(n,o){var l=n.element;gs(l,o.leftAttr),gs(l,o.topAttr)},pae=function(n,o,l,v){return hae(n,o).fold(function(){return l},function(y){return nk(y.left+v.left,y.top+v.top)})},bae=function(n,o,l,v,y,C){var A=pae(n,o,l,v),P=o.mustSnap?_ae(n,o,A,y,C):wae(n,o,A,y,C),I=wN(A,y,C);return mae(n,o,I),P.fold(function(){return{coord:nk(I.left,I.top),extra:z.none()}},function(H){return{coord:H.output,extra:H.extra}})},yae=function(n,o){gae(n,o)},yq=function(n,o,l,v){return mi(n,function(y){var C=y.sensor,A=fae(o,C,y.range.left,y.range.top,l,v);return A?z.some({output:nU(y.output,o,l,v),extra:y.extra}):z.none()})},_ae=function(n,o,l,v,y){var C=o.getSnapPoints(n),A=yq(C,l,v,y);return A.orThunk(function(){var P=st(C,function(I,H){var G=H.sensor,Q=dae(l,G,H.range.left,H.range.top,v,y);return I.deltas.fold(function(){return{deltas:z.some(Q),snap:z.some(H)}},function(fe){var ge=(Q.left+Q.top)/2,xe=(fe.left+fe.top)/2;return ge<=xe?{deltas:z.some(Q),snap:z.some(H)}:I})},{deltas:z.none(),snap:z.none()});return P.snap.map(function(I){return{output:nU(I.output,l,v,y),extra:I.extra}})})},wae=function(n,o,l,v,y){var C=o.getSnapPoints(n);return yq(C,l,v,y)},xae=function(n,o,l){return{coord:nU(n.output,n.output,o,l),extra:n.extra}},Cae=function(n,o,l,v){var y=o.getTarget(n.element);if(o.repositionTarget){var C=Qi(n.element),A=vu(C),P=DO(y),I=xae(v,A,P),H=pq(I.coord,A,P);no(y,H)}},Sae=Object.freeze({__proto__:null,snapTo:Cae}),rU="data-initial-z-index",Eae=function(n){eo(n.element).filter(tn).each(function(o){to(o,rU).fold(function(){return Na(o,"z-index")},function(l){return _r(o,"z-index",l)}),gs(o,rU)})},kae=function(n){eo(n.element).filter(tn).each(function(o){Io(o,"z-index").each(function(l){$r(o,rU,l)}),_r(o,"z-index",Vi(n.element,"z-index"))})},_q=function(n,o){n.getSystem().addToGui(o),kae(o)},Tae=function(n){Eae(n),n.getSystem().removeFromGui(n)},wq=function(n,o,l){return n.getSystem().build(Ec.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[o]},events:l}))},Aae=Ol("snaps",[It("getSnapPoints"),Ha("onSensor"),It("leftAttr"),It("topAttr"),Je("lazyViewport",eu),Je("mustSnap",!1)]),aU=[Je("useFixed",de),It("blockerClass"),Je("getTarget",Pe),Je("onDrag",se),Je("repositionTarget",!0),Je("onDrop",se),Mi("getBounds",eu),Aae],Oae=function(n){return _l(Io(n,"left"),Io(n,"top"),Io(n,"position"),function(o,l,v){var y=v==="fixed"?nk:xN;return y(parseInt(o,10),parseInt(l,10))}).getOrThunk(function(){var o=Sl(n);return LC(o.left,o.top)})},Dae=function(n,o,l,v,y){var C=y.bounds,A=jO(o,l,v),P=wc(A.left,C.x,C.x+C.width-y.width),I=wc(A.top,C.y,C.y+C.height-y.height),H=LC(P,I);return o.fold(function(){var G=gq(H,l,v);return xN(G.left,G.top)},le(H),function(){var G=wN(H,l,v);return nk(G.left,G.top)})},Mae=function(n,o,l,v,y,C,A){var P=o.fold(function(){var I=vae(l,C.left,C.top),H=wN(I,v,y);return nk(H.left,H.top)},function(I){var H=bae(n,I,l,C,v,y);return H.extra.each(function(G){I.onSensor(n,G)}),H.coord});return Dae(n,P,v,y,A)},Rae=function(n,o,l,v){var y=o.getTarget(n.element);if(o.repositionTarget){var C=Qi(n.element),A=vu(C),P=DO(y),I=Oae(y),H=Mae(n,o.snaps,I,A,P,v,l),G=pq(H,A,P);no(y,G)}o.onDrag(n,y,v)},xq=function(n,o){return{bounds:n.getBounds(),height:cc(o.element),width:El(o.element)}},iU=function(n,o,l,v,y){var C=l.update(v,y),A=l.getStartData().getOrThunk(function(){return xq(o,n)});C.each(function(P){Rae(n,o,A,P)})},Cq=function(n,o,l,v){o.each(Tae),l.snaps.each(function(C){yae(n,C)});var y=l.getTarget(n.element);v.reset(),l.onDrop(n,y)},oU=function(n){return function(o,l){var v=function(y){l.setStartData(xq(o,y))};return Qa($e([Nt(py(),function(y){l.getStartData().each(function(){return v(y)})})],n(o,l,v),!0))}},Pae=function(n){return Qa([Nt(Lf(),n.forceDrop),Nt(vy(),n.drop),Nt(Dv(),function(o,l){n.move(l.event)}),Nt(Ja(),n.delayDrop)])},Iae=function(n){return z.from($a(n.x,n.y))},Bae=function(n,o){return $a(o.left-n.left,o.top-n.top)},Lae=Object.freeze({__proto__:null,getData:Iae,getDelta:Bae}),Sq=function(n,o,l){return[Nt(Lf(),function(v,y){var C=y.event.raw;if(C.button===0){y.stop();var A=function(){return Cq(v,z.some(H),n,o)},P=i4(A,200),I={drop:A,delayDrop:P.schedule,forceDrop:A,move:function(Q){P.cancel(),iU(v,n,o,Lae,Q)}},H=wq(v,n.blockerClass,Pae(I)),G=function(){l(v),_q(v,H)};G()}})]},Fae=$e($e([],aU,!0),[Ti("dragger",{handlers:oU(Sq)})],!1),Nae=function(n){return Qa([Nt(Bd(),n.forceDrop),Nt(Ov(),n.drop),Nt(u1(),n.drop),Nt(zc(),function(o,l){n.move(l.event)})])},$ae=function(n){var o=n[0];return z.some($a(o.clientX,o.clientY))},zae=function(n){var o=n.raw,l=o.touches;return l.length===1?$ae(l):z.none()},Hae=function(n,o){return $a(o.left-n.left,o.top-n.top)},Eq=Object.freeze({__proto__:null,getData:zae,getDelta:Hae}),kq=function(n,o,l){var v=Eo(),y=function(C){Cq(C,v.get(),n,o),v.clear()};return[Nt(Bd(),function(C,A){A.stop();var P=function(){return y(C)},I={drop:P,delayDrop:se,forceDrop:P,move:function(Q){iU(C,n,o,Eq,Q)}},H=wq(C,n.blockerClass,Nae(I));v.set(H);var G=function(){l(C),_q(C,H)};G()}),Nt(zc(),function(C,A){A.stop(),iU(C,n,o,Eq,A.event)}),Nt(Ov(),function(C,A){A.stop(),y(C)}),Nt(u1(),y)]},Vae=$e($e([],aU,!0),[Ti("dragger",{handlers:oU(kq)})],!1),Uae=function(n,o,l){return $e($e([],Sq(n,o,l),!0),kq(n,o,l),!0)},Wae=$e($e([],aU,!0),[Ti("dragger",{handlers:oU(Uae)})],!1),jae=Fae,Yae=Vae,qae=Wae,Gae=Object.freeze({__proto__:null,mouse:jae,touch:Yae,mouseOrTouch:qae}),Kae=function(){var n=z.none(),o=z.none(),l=function(){n=z.none(),o=z.none()},v=function(I,H){var G=n.map(function(Q){return I.getDelta(Q,H)});return n=z.some(H),G},y=function(I,H){return I.getData(H).bind(function(G){return v(I,G)})},C=function(I){o=z.some(I)},A=function(){return o},P=le({});return Iu({readState:P,reset:l,update:y,getStartData:A,setStartData:C})},Xae=Object.freeze({__proto__:null,init:Kae}),rk=Pm({branchKey:"mode",branches:Gae,name:"dragging",active:{events:function(n,o){var l=n.dragger;return l.handlers(n,o)}},extra:{snap:function(n){return{sensor:n.sensor,range:n.range,output:n.output,extra:z.from(n.extra)}}},state:Xae,apis:Sae}),sU=40,CN=sU/2,Tq=function(n,o,l,v,y,C){return n.fold(function(){return rk.snap({sensor:LC(l-CN,v-CN),range:$a(y,C),output:LC(z.some(l),z.some(v)),extra:{td:o}})},function(A){var P=l-CN,I=v-CN,H=sU,G=sU,Q=A.element.dom.getBoundingClientRect();return rk.snap({sensor:LC(P,I),range:$a(H,G),output:LC(z.some(l-Q.width/2),z.some(v-Q.height/2)),extra:{td:o}})})},Aq=function(n,o,l){var v=function(y,C){return y.exists(function(A){return Ra(A,C)})};return{getSnapPoints:n,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(y,C){var A=C.td;v(o.get(),A)||(o.set(A),l(A))},mustSnap:!0}},Oq=function(n){return li(pf.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:mn([rk.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:n}),ME.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},Zae=function(n,o){var l=ur([]),v=ur([]),y=ur(!1),C=Eo(),A=Eo(),P=function(Pt){var En=nd(Pt);return Tq(ge.getOpt(o),Pt,En.x,En.y,En.width,En.height)},I=function(){return Vt(l.get(),function(Pt){return P(Pt)})},H=function(Pt){var En=nd(Pt);return Tq(xe.getOpt(o),Pt,En.right,En.bottom,En.width,En.height)},G=function(){return Vt(v.get(),function(Pt){return H(Pt)})},Q=Aq(I,C,function(Pt){A.get().each(function(En){n.fire("TableSelectorChange",{start:Pt,finish:En})})}),fe=Aq(G,A,function(Pt){C.get().each(function(En){n.fire("TableSelectorChange",{start:En,finish:Pt})})}),ge=Oq(Q),xe=Oq(fe),Fe=$i(ge.asSpec()),et=$i(xe.asSpec()),Re=function(Pt,En,Ht,Tn){var Yt=En.dom.getBoundingClientRect();Na(Pt.element,"display");var Rt=Tf(vn.fromDom(n.getBody())).dom.innerHeight,dn=Ht(Yt),Vn=Tn(Yt,Rt);(dn||Vn)&&_r(Pt.element,"display","none")},nt=function(Pt,En,Ht,Tn){var Yt=Ht(En);rk.snapTo(Pt,Yt);var Rt=function(Vn){return Vn[Tn]<0},dn=function(Vn,zt){return Vn[Tn]>zt};Re(Pt,En,Rt,dn)},Ct=function(Pt){return nt(Fe,Pt,P,"top")},xt=function(){return C.get().each(Ct)},tt=function(Pt){return nt(et,Pt,H,"bottom")},gt=function(){return A.get().each(tt)};rr().deviceType.isTouch()&&(n.on("TableSelectionChange",function(Pt){y.get()||(Or(o,Fe),Or(o,et),y.set(!0)),C.set(Pt.start),A.set(Pt.finish),Pt.otherCells.each(function(En){l.set(En.upOrLeftCells),v.set(En.downOrRightCells),Ct(Pt.start),tt(Pt.finish)})}),n.on("ResizeEditor ResizeWindow ScrollContent",function(){xt(),gt()}),n.on("TableSelectionClear",function(){y.get()&&(Hr(Fe),Hr(et),y.set(!1)),C.clear(),A.clear()}))},Jae=function(n){return!!(n.nodeType===1&&(n.nodeName==="BR"||n.getAttribute("data-mce-bogus")||n.getAttribute("data-mce-type")==="bookmark"))},Qae=function(n,o,l){o.delimiter||(o.delimiter="»");var v=function(C){var A=C||[],P=Vt(A,function(H,G){return pf.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":G,"tab-index":-1,"aria-level":G+1},innerHtml:H.name},action:function(Q){n.focus(),n.selection.select(H.element),n.nodeChanged()},buttonBehaviours:mn([qh.button(l.isDisabled),wu()])})}),I={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+o.delimiter+" "}};return st(P.slice(1),function(H,G){var Q=H;return Q.push(I),Q.push(G),Q},[P[0]])},y=function(C){for(var A=[],P=C.length;P-- >0;){var I=C[P];if(I.nodeType===1&&!Jae(I)){var H=n.fire("ResolveName",{name:I.nodeName.toLowerCase(),target:I});if(H.isDefaultPrevented()||A.push({name:H.name,element:I}),H.isPropagationStopped())break}}return A};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:mn([vr.config({mode:"flow",selector:"div[role=button]"}),cr.config({disabled:l.isDisabled}),wu(),Es.config({}),Lr.config({}),qr("elementPathEvents",[Br(function(C,A){n.shortcuts.add("alt+F11","focus statusbar elementpath",function(){return vr.focusIn(C)}),n.on("NodeChange",function(P){var I=y(P.parents);I.length>0?Lr.set(C,v(I)):Lr.set(C,[])})})])]),components:[]}},ak;(function(n){n[n.None=0]="None",n[n.Both=1]="Both",n[n.Vertical=2]="Vertical"})(ak||(ak={}));var eie=function(n,o,l,v,y){var C={};return C.height=gN(v+o.top,JI(n),QI(n)),l===ak.Both&&(C.width=gN(y+o.left,sR(n),SA(n))),C},Dq=function(n,o,l){var v=vn.fromDom(n.getContainer()),y=eie(n,o,l,ss(v),fu(v));oi(y,function(C,A){return _r(v,A,qV(C))}),C8(n)},tie=function(n){var o=!n.hasPlugin("autoresize"),l=n.getParam("resize",o);return l===!1?ak.None:l==="both"?ak.Both:ak.Vertical},SN=function(n,o,l,v){var y=20,C=$a(l*y,v*y);return Dq(n,C,o),z.some(!0)},nie=function(n,o){var l=tie(n);return l===ak.None?z.none():z.some(Gm("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:o.translate("Resize")},behaviours:[rk.config({mode:"mouse",repositionTarget:!1,onDrag:function(v,y,C){return Dq(n,C,l)},blockerClass:"tox-blocker"}),vr.config({mode:"special",onLeft:function(){return SN(n,l,-1,0)},onRight:function(){return SN(n,l,1,0)},onUp:function(){return SN(n,l,0,-1)},onDown:function(){return SN(n,l,0,1)}}),Es.config({}),Rr.config({})]},o.icons))},rie=function(n,o){var l,v=function(y,C,A){return Lr.set(y,[pu(o.translate(["{0} "+A,C[A]]))])};return pf.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:mn([qh.button(o.isDisabled),wu(),Es.config({}),Lr.config({}),Sn.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),qr("wordcount-events",[ys(function(y){var C=Sn.getValue(y),A=C.mode==="words"?"characters":"words";Sn.setValue(y,{mode:A,count:C.count}),v(y,C.count,A)}),Br(function(y){n.on("wordCountUpdate",function(C){var A=Sn.getValue(y).mode;Sn.setValue(y,{mode:A,count:C.wordCount}),v(y,C.wordCount,A)})})])]),eventOrder:(l={},l[gc()]=["disabling","alloy.base.behaviour","wordcount-events"],l)})},aie=function(n,o){var l=function(){var C=Yh.translate(["Powered by {0}","Tiny"]),A='<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+C+'">'+C+"</a>";return{dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:A}}},v=function(){var C=[];return n.getParam("elementpath",!0,"boolean")&&C.push(Qae(n,{},o)),n.hasPlugin("wordcount")&&C.push(rie(n,o)),n.getParam("branding",!0,"boolean")&&C.push(l()),C.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:C}]:[]},y=function(){var C=v(),A=nie(n,o);return C.concat(A.toArray())};return{dom:{tag:"div",classes:["tox-statusbar"]},components:y()}},iie=function(n){var o,l=n.inline,v=l?Une:Lne,y=TA(n)?FO:vV,C=z.none(),A=rr(),P=A.browser.isIE(),I=P?["tox-platform-ie"]:[],H=A.deviceType.isTouch(),G="tox-platform-touch",Q=H?[G]:[],fe=iB(n),ge=uB(n),xe=Yh.isRtl()?{attributes:{dir:"rtl"}}:{},Fe={attributes:(o={},o[Ll]=fe?ko.BottomToTop:ko.TopToBottom,o)},et=function(){return C.bind(js.getHeader)},Re=function(){return y.isDocked(et)},nt=function(){_r(ef.element,"width",document.body.clientWidth+"px")},Ct=function(){var Wu=Ra(La(),ge)&&Vi(ge,"display")==="grid",j0={dom:ue({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(I).concat(Q)},xe),behaviours:mn([it.config({useFixed:function(){return Re()}})])},jb={dom:{styles:{width:document.body.clientWidth+"px"}},events:Qa([Nt(Hc(),nt)])};return Et(j0,Wu?jb:{})},xt=$i(Ct()),tt=function(){return Mr.value(xt)},gt=li({dom:{tag:"div",classes:["tox-anchorbar"]}}),Pt=function(){return C.bind(function(Wu){return gt.getOpt(Wu)}).getOrDie("Could not find a anchor bar element")},En=function(){return C.bind(function(Wu){return js.getToolbar(Wu)}).getOrDie("Could not find more toolbar element")},Ht=function(){return C.bind(function(Wu){return js.getThrobber(Wu)}).getOrDie("Could not find throbber element")},Tn=AO(xt,n,Pt),Yt=js.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:Tn,onEscape:function(){n.focus()}}),Rt=pE(n),dn=js.parts.toolbar(ue({dom:{tag:"div",classes:["tox-toolbar"]},getSink:tt,providers:Tn.shared.providers,onEscape:function(){n.focus()},type:Rt,lazyToolbar:En,lazyHeader:function(){return et().getOrDie("Could not find header element")}},Fe)),Vn=js.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:Tn.shared.providers,onEscape:function(){n.focus()},type:Rt}),zt=js.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),$n=js.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),Xn=js.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:Tn}),pa=n.getParam("statusbar",!0,"boolean"),ci=pa&&!l?z.some(aie(n,Tn.shared.providers)):z.none(),oo={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[zt,$n]},$o=EA(n),xd=lR(n),Ac=uR(n),qO=function(){return $o?[Vn]:xd?[dn]:[]},Uu=js.parts.header({dom:ue({tag:"div",classes:["tox-editor-header"]},Fe),components:pn([Ac?[Yt]:[],qO(),kA(n)?[]:[gt.asSpec()]]),sticky:TA(n),editor:n,sharedBackstage:Tn.shared}),ow=pn([fe?[]:[Uu],l?[]:[oo],fe?[Uu]:[]]),sw={dom:{tag:"div",classes:["tox-editor-container"]},components:ow},sk=pn([[sw],l?[]:ci.toArray(),[Xn]]),uw=lB(n),uk=ue(ue({role:"application"},Yh.isRtl()?{dir:"rtl"}:{}),uw?{"aria-hidden":"true"}:{}),xf=$i(js.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(l?["tox-tinymce-inline"]:[]).concat(fe?["tox-tinymce--toolbar-bottom"]:[]).concat(Q).concat(I),styles:ue({visibility:"hidden"},uw?{opacity:"0",border:"0"}:{}),attributes:uk},components:sk,behaviours:mn([wu(),cr.config({disableClass:"tox-tinymce--disabled"}),vr.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])}));C=z.some(xf),n.shortcuts.add("alt+F9","focus menubar",function(){js.focusMenubar(xf)}),n.shortcuts.add("alt+F10","focus toolbar",function(){js.focusToolbar(xf)}),n.addCommand("ToggleToolbarDrawer",function(){js.toggleToolbarDrawer(xf)}),n.addQueryStateHandler("ToggleToolbarDrawer",function(){return js.isToolbarDrawerToggled(xf)});var ag=d4(xf),ef=d4(xt);oV(n,ag,ef);var lk=function(){var Wu={broadcastAll:ef.broadcast,broadcastOn:ef.broadcastOn,register:se};return{channels:Wu}},Wb=function(){var Wu=qV(Nne(n)),j0=qV($ne(n));return n.inline||(Bc("div","width",j0)&&_r(xf.element,"width",j0),Bc("div","height",Wu)?_r(xf.element,"height",Wu):_r(xf.element,"height","200px")),Wu},NC=function(){y.setup(n,Tn.shared,et),Hre(n,Tn),cae(n,tt,Tn),we(n),No(n,Ht,Tn.shared),ya(W$(n),function(tf,Cd){n.ui.registry.addGroupToolbarButton(Cd,tf)});var Wu=n.ui.registry.getAll(),j0=Wu.buttons,jb=Wu.menuItems,lw=Wu.contextToolbars,ig=Wu.sidebars,Yb=rB(n),Pn={menuItems:jb,menus:q$(n),menubar:G$(n),toolbar:Yb.getOrThunk(function(){return K$(n)}),allowToolbarGroups:Rt===nv.floating,buttons:j0,sidebar:ig};hre(n,lw,xt,{backstage:Tn}),Zae(n,xt);var ta=n.getElement(),hi=Wb(),Ao={mothership:ag,uiMothership:ef,outerContainer:xf},Cf={targetNode:ta,height:hi};return v.render(n,Ao,Pn,Tn,Cf)};return{mothership:ag,uiMothership:ef,backstage:Tn,renderUI:NC,getUi:lk}},oie=function(n,o){var l=z.from(Li(n,"id")).fold(function(){var v=qt("dialog-describe");return $r(o,"id",v),v},Pe);$r(n,"aria-describedby",l)},sie=function(n,o){var l=to(n,"id").fold(function(){var v=qt("dialog-label");return $r(o,"id",v),v},Pe);$r(n,"aria-labelledby",l)},uie=le([It("lazySink"),za("dragBlockClass"),Mi("getBounds",eu),Je("useTabstopAt",ve),Je("eventOrder",{}),au("modalBehaviours",[vr]),xs("onExecute"),Kl("onEscape")]),uU={sketch:Pe},lie=le([pd({name:"draghandle",overrides:function(n,o){return{behaviours:mn([rk.config({mode:"mouse",getTarget:function(l){return T1(l,'[role="dialog"]').getOr(l)},blockerClass:n.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(o,null,2)).message),getBounds:n.getDragBounds})])}}}),hl({schema:[It("dom")],name:"title"}),hl({factory:uU,schema:[It("dom")],name:"close"}),hl({factory:uU,schema:[It("dom")],name:"body"}),pd({factory:uU,schema:[It("dom")],name:"footer"}),jf({factory:{sketch:function(n,o){return ue(ue({},n),{dom:o.dom,components:o.components})}},schema:[Je("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Je("components",[])],name:"blocker"})]),cie=function(n,o,l,v){var y,C=Eo(),A=function(xe){C.set(xe);var Fe=n.lazySink(xe).getOrDie(),et=v.blocker(),Re=Fe.getSystem().build(ue(ue({},et),{components:et.components.concat([jc(xe)]),behaviours:mn([Rr.config({}),qr("dialog-blocker-events",[Bo(Dl(),function(){vr.focusIn(xe)})])])}));Or(Fe,Re),vr.focusIn(xe)},P=function(xe){C.clear(),eo(xe.element).each(function(Fe){xe.getSystem().getByDom(Fe).each(function(et){Hr(et)})})},I=function(xe){return Hh(xe,n,"body")},H=function(xe){return Hh(xe,n,"footer")},G=function(xe,Fe){on.block(xe,Fe)},Q=function(xe){on.unblock(xe)},fe=qt("modal-events"),ge=ue(ue({},n.eventOrder),(y={},y[pc()]=[fe].concat(n.eventOrder["alloy.system.attached"]||[]),y));return{uid:n.uid,dom:n.dom,components:o,apis:{show:A,hide:P,getBody:I,getFooter:H,setIdle:Q,setBusy:G},eventOrder:ge,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Lu(n.modalBehaviours,[Lr.config({}),vr.config({mode:"cyclic",onEnter:n.onExecute,onEscape:n.onEscape,useTabstopAt:n.useTabstopAt}),on.config({getRoot:C.get}),qr(fe,[Br(function(xe){sie(xe.element,Hh(xe,n,"title").element),oie(xe.element,Hh(xe,n,"body").element)})])])}},pl=Sc({name:"ModalDialog",configFields:uie(),partFields:lie(),factory:cie,apis:{show:function(n,o){n.show(o)},hide:function(n,o){n.hide(o)},getBody:function(n,o){return n.getBody(o)},getFooter:function(n,o){return n.getFooter(o)},setBusy:function(n,o,l){n.setBusy(o,l)},setIdle:function(n,o){n.setIdle(o)}}}),fie=Jn([Ar("type"),Ar("name")].concat(Ab)),die=nu,Mq=[ls("name","name",ra(function(){return qt("button-name")}),Ui),xi("icon"),Nc("align","end",["start","end"]),Ci("primary",!1),Ci("disabled",!1)],Rq=$e($e([],Mq,!0),[Ar("text")],!1),lU=$e([hc("type",["submit","cancel","custom"])],Rq,!0),vie=$e([hc("type",["menu"]),xi("text"),xi("tooltip"),xi("icon"),Ns("items",fie)],Mq,!0),hie=ql("type",{submit:lU,cancel:lU,custom:lU,menu:vie}),mie=[Ar("type"),Ar("text"),hc("level",["info","warn","error","success"]),Ar("icon"),Je("url","")],gie=Jn(mie),pie=function(n){return[Ar("type"),n]},bie=[Ar("type"),Ar("text"),Ci("disabled",!1),Ci("primary",!1),ls("name","name",ra(function(){return qt("button-name")}),Ui),xi("icon"),Ci("borderless",!1)],yie=Jn(bie),_ie=[Ar("type"),Ar("name"),Ar("label"),Ci("disabled",!1)],wie=Jn(_ie),xie=nu,cU=[Ar("type"),Ar("name")],xp=cU.concat([xi("label")]),Cie=xp.concat([Je("columns","auto")]),Sie=Jn(Cie),Eie=sy([Ar("value"),Ar("text"),Ar("icon")]),kie=xp,Tie=Jn(kie),Aie=Ui,Oie=xp,Die=Jn(Oie),Mie=Ui,Rie=cU.concat([fh("tag","textarea"),Ar("scriptId"),Ar("scriptUrl"),nl("settings",void 0)]),Pie=cU.concat([fh("tag","textarea"),Fs("init")]),Iie=_g(function(n){return lo("customeditor.old",vc(Pie),n).orThunk(function(){return lo("customeditor.new",vc(Rie),n)})}),Bie=Ui,Lie=xp,Fie=Jn(Lie),Nie=hS(),$ie=function(n){return[Ar("type"),gu("columns"),n]},zie=[Ar("type"),Ar("html"),Nc("presets","presentation",["presentation","document"])],Hie=Jn(zie),Vie=xp.concat([Ci("sandboxed",!0)]),Uie=Jn(Vie),Wie=Ui,jie=xp.concat([Ls("currentState",Jn([It("blob"),Ar("url")]))]),Yie=Jn(jie),qie=xp.concat([xi("inputMode"),xi("placeholder"),Ci("maximized",!1),Ci("disabled",!1)]),Gie=Jn(qie),Kie=Ui,Xie=function(n){return[Ar("type"),Ar("label"),n]},Zie=[Ar("text"),Ar("value")],Jie=[Ar("text"),Ns("items",mS("items",function(){return Pq}))],Pq=$p([Jn(Zie),Jn(Jie)]),Qie=xp.concat([Ns("items",Pq),Ci("disabled",!1)]),eoe=Jn(Qie),toe=Ui,noe=xp.concat([If("items",[Ar("text"),Ar("value")]),Go("size",1),Ci("disabled",!1)]),roe=Jn(noe),aoe=Ui,ioe=xp.concat([Ci("constrain",!0),Ci("disabled",!1)]),ooe=Jn(ioe),Iq=Jn([Ar("width"),Ar("height")]),soe=[Ar("type"),Ns("header",Ui),Ns("cells",Sv(Ui))],uoe=Jn(soe),loe=xp.concat([xi("placeholder"),Ci("maximized",!1),Ci("disabled",!1)]),coe=Jn(loe),foe=Ui,doe=xp.concat([Nc("filetype","file",["image","media","file"]),Je("disabled",!1)]),voe=Jn(doe),hoe=Jn([Ar("value"),Je("meta",{})]),fU=function(n){return ls("items","items",wr(),Sv(_g(function(o){return lo("Checking item of "+n,dU,o).fold(function(l){return Mr.error(Pf(l))},function(l){return Mr.value(l)})})))},dU=Rd(function(){return r1("type",{alertbanner:gie,bar:Jn(pie(fU("bar"))),button:yie,checkbox:wie,colorinput:Tie,colorpicker:Die,dropzone:Fie,grid:Jn($ie(fU("grid"))),iframe:Uie,input:Gie,listbox:eoe,selectbox:roe,sizeinput:ooe,textarea:coe,urlinput:voe,customeditor:Iie,htmlpanel:Hie,imagetools:Yie,collection:Sie,label:Jn(Xie(fU("label"))),table:uoe,panel:Bq})}),moe=[Ar("type"),Je("classes",[]),Ns("items",dU)],Bq=Jn(moe),goe=[ls("name","name",ra(function(){return qt("tab-name")}),Ui),Ar("title"),Ns("items",dU)],poe=[Ar("type"),If("tabs",goe)],boe=Jn(poe),yoe=Rq,_oe=hie,woe=Jn([Ar("title"),Ls("body",r1("type",{panel:Bq,tabpanel:boe})),fh("size","normal"),Ns("buttons",_oe),Je("initialData",{}),Mi("onAction",se),Mi("onChange",se),Mi("onSubmit",se),Mi("onClose",se),Mi("onCancel",se),Je("onTabChange",se)]),xoe=function(n){return lo("dialog",woe,n)},Coe=Jn($e([hc("type",["cancel","custom"])],yoe,!0)),Soe=Jn([Ar("title"),Ar("url"),bs("height"),bs("width"),cs("buttons",Coe),Mi("onAction",se),Mi("onCancel",se),Mi("onClose",se),Mi("onMessage",se)]),Eoe=function(n){return lo("dialog",Soe,n)},vU=function(n){return m(n)?[n].concat(Er(rs(n),vU)):p(n)?Er(n,vU):[]},koe=function(n){return c(n.type)&&c(n.name)},Toe={checkbox:xie,colorinput:Aie,colorpicker:Mie,dropzone:Nie,input:Kie,iframe:Wie,sizeinput:Iq,selectbox:aoe,listbox:toe,size:Iq,textarea:foe,urlinput:hoe,customeditor:Bie,collection:Eie,togglemenuitem:die},Aoe=function(n){return z.from(Toe[n.type])},Ooe=function(n){return kt(vU(n),koe)},Doe=function(n){var o=Ooe(n),l=Er(o,function(v){return Aoe(v).fold(function(){return[]},function(y){return[Ls(v.name,y)]})});return Jn(l)},Lq=function(n){var o=Rf(xoe(n)),l=Doe(n),v=n.initialData;return{internalDialog:o,dataValidator:l,initialData:v}},s3={open:function(n,o){var l=Lq(o);return n(l.internalDialog,l.initialData,l.dataValidator)},openUrl:function(n,o){var l=Rf(Eoe(o));return n(l)},redial:function(n){return Lq(n)}},Fq=function(n){var o=[],l={};return oi(n,function(v,y){v.fold(function(){o.push(y)},function(C){l[y]=C})}),o.length>0?Mr.error(o):Mr.value(l)},Moe=function(n,o){var l=li(TC.sketch(function(v){return{dom:{tag:"div",classes:["tox-form"].concat(n.classes)},components:Vt(n.items,function(y){return CO(v,y,o)})}}));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[l.asSpec()]}],behaviours:mn([vr.config({mode:"acyclic",useTabstopAt:at(WE)}),Jm.memento(l),$0.memento(l,{postprocess:function(v){return Fq(v).fold(function(y){return console.error(y),{}},Pe)}})])}},Roe=function(n,o){return{uid:n.uid,dom:n.dom,components:n.components,events:cC(n.action),behaviours:Lu(n.tabButtonBehaviours,[Rr.config({}),vr.config({mode:"execution",useSpace:!0,useEnter:!0}),Sn.config({store:{mode:"memory",initialValue:n.value}})]),domModification:n.domModification}},Poe=Yf({name:"TabButton",configFields:[Je("uid",void 0),It("value"),ls("dom","dom",qo(function(){return{attributes:{role:"tab",id:qt("aria"),"aria-selected":"false"}}}),Mf()),za("action"),Je("domModification",{}),au("tabButtonBehaviours",[Rr,vr,Sn]),It("view")],factory:Roe}),Ioe=le([It("tabs"),It("dom"),Je("clickToDismiss",!1),au("tabbarBehaviours",[ri,vr]),km(["tabClass","selectedClass"])]),Boe=zh({factory:Poe,name:"tabs",unit:"tab",overrides:function(n){var o=function(v,y){ri.dehighlight(v,y),Qn(v,co(),{tabbar:v,button:y})},l=function(v,y){ri.highlight(v,y),Qn(v,bc(),{tabbar:v,button:y})};return{action:function(v){var y=v.getSystem().getByUid(n.uid).getOrDie(),C=ri.isHighlighted(y,v),A=function(){return C&&n.clickToDismiss?o:C?se:l}();A(y,v)},domModification:{classes:[n.markers.tabClass]}}}}),Loe=le([Boe]),Foe=function(n,o,l,v){return{uid:n.uid,dom:n.dom,components:o,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Lu(n.tabbarBehaviours,[ri.config({highlightClass:n.markers.selectedClass,itemClass:n.markers.tabClass,onHighlight:function(y,C){$r(C.element,"aria-selected","true")},onDehighlight:function(y,C){$r(C.element,"aria-selected","false")}}),vr.config({mode:"flow",getInitial:function(y){return ri.getHighlighted(y).map(function(C){return C.element})},selector:"."+n.markers.tabClass,executeOnMove:!0})])}},Nq=Sc({name:"Tabbar",configFields:Ioe(),partFields:Loe(),factory:Foe}),Noe=function(n,o){return{uid:n.uid,dom:n.dom,behaviours:Lu(n.tabviewBehaviours,[Lr.config({})]),domModification:{attributes:{role:"tabpanel"}}}},$oe=Yf({name:"Tabview",configFields:[au("tabviewBehaviours",[Lr])],factory:Noe}),zoe=le([Je("selectFirst",!0),Ha("onChangeTab"),Ha("onDismissTab"),Je("tabs",[]),au("tabSectionBehaviours",[])]),Hoe=hl({factory:Nq,schema:[It("dom"),ad("markers",[It("tabClass"),It("selectedClass")])],name:"tabbar",defaults:function(n){return{tabs:n.tabs}}}),Voe=hl({factory:$oe,name:"tabview"}),Uoe=le([Hoe,Voe]),Woe=function(n,o,l,v){var y=function(A){var P=Sn.getValue(A);Ai(A,n,"tabview").each(function(I){var H=Jt(n.tabs,function(G){return G.value===P});H.each(function(G){var Q=G.view();to(A.element,"id").each(function(fe){$r(I.element,"aria-labelledby",fe)}),Lr.set(I,Q),n.onChangeTab(I,A,Q)})})},C=function(A,P){Ai(A,n,"tabbar").each(function(I){P(I).each(yc)})};return{uid:n.uid,dom:n.dom,components:o,behaviours:ab(n.tabSectionBehaviours),events:Qa(pn([n.selectFirst?[Br(function(A,P){C(A,ri.getFirst)})]:[],[Nt(bc(),function(A,P){var I=P.event.button;y(I)}),Nt(co(),function(A,P){var I=P.event.button;n.onDismissTab(A,I)})]])),apis:{getViewItems:function(A){return Ai(A,n,"tabview").map(function(P){return Lr.contents(P)}).getOr([])},showTab:function(A,P){var I=function(H){var G=ri.getCandidates(H),Q=Jt(G,function(fe){return Sn.getValue(fe)===P});return Q.filter(function(fe){return!ri.isHighlighted(H,fe)})};C(A,I)}}}},YO=Sc({name:"TabSection",configFields:zoe(),partFields:Uoe(),factory:Woe,apis:{getViewItems:function(n,o){return n.getViewItems(o)},showTab:function(n,o,l){n.showTab(o,l)}}}),joe=function(n,o,l){return Vt(n,function(v,y){Lr.set(l,n[y].view());var C=o.dom.getBoundingClientRect();return Lr.set(l,[]),C.height})},Yoe=function(n){return Oa(ns(n,function(o,l){return o>l?-1:o<l?1:0}))},qoe=function(n,o,l){var v=Tt(n).dom,y=T1(n,".tox-dialog-wrap").getOr(n),C=Vi(y,"position")==="fixed",A;C?A=Math.max(v.clientHeight,window.innerHeight):A=Math.max(v.offsetHeight,v.scrollHeight);var P=ss(o),I=o.dom.offsetLeft>=l.dom.offsetLeft+fu(l),H=I?Math.max(ss(l),P):P,G=parseInt(Vi(n,"margin-top"),10)||0,Q=parseInt(Vi(n,"margin-bottom"),10)||0,fe=ss(n)+G+Q,ge=fe-H;return A-ge},Goe=function(n,o){Oa(n).each(function(l){return YO.showTab(o,l.value)})},$q=function(n,o){_r(n,"height",o+"px"),rr().browser.isIE()?Na(n,"flex-basis"):_r(n,"flex-basis",o+"px")},EN=function(n,o,l){T1(n,'[role="dialog"]').each(function(v){ws(v,'[role="tablist"]').each(function(y){l.get().map(function(C){return _r(o,"height","0"),_r(o,"flex-basis","0"),Math.min(C,qoe(v,o,y))}).each(function(C){$q(o,C)})})})},hU=function(n){return ws(n,'[role="tabpanel"]')},Koe=function(n){var o=function(){var v=Eo(),y=[Br(function(A){var P=A.element;hU(P).each(function(I){_r(I,"visibility","hidden"),A.getSystem().getByDom(I).toOptional().each(function(H){var G=joe(n,I,H),Q=Yoe(G);Q.fold(v.clear,v.set)}),EN(P,I,v),Na(I,"visibility"),Goe(n,A),Tb.requestAnimationFrame(function(){EN(P,I,v)})})}),Nt(Hc(),function(A){var P=A.element;hU(P).each(function(I){EN(P,I,v)})}),Nt(DR,function(A,P){var I=A.element;hU(I).each(function(H){var G=Bl(Cr(H));_r(H,"visibility","hidden");var Q=Io(H,"height").map(function(xe){return parseInt(xe,10)});Na(H,"height"),Na(H,"flex-basis");var fe=H.dom.getBoundingClientRect().height,ge=Q.forall(function(xe){return fe>xe});ge?(v.set(fe),EN(I,H,v)):Q.each(function(xe){$q(H,xe)}),Na(H,"visibility"),G.each(vd)})})],C=!1;return{extraEvents:y,selectFirst:C}}(),l=function(){var v=[],y=!0;return{extraEvents:v,selectFirst:y}}();return{smartTabHeight:o,naiveTabHeight:l}},zq="send-data-to-section",Hq="send-data-to-view",Xoe=function(n,o){var l=ur({}),v=function(I){var H=Sn.getValue(I),G=Fq(H).getOr({}),Q=l.get(),fe=Et(Q,G);l.set(fe)},y=function(I){var H=l.get();Sn.setValue(I,H)},C=ur(null),A=Vt(n.tabs,function(I){return{value:I.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:o.shared.providers.translate(I.title)},view:function(){return[TC.sketch(function(H){return{dom:{tag:"div",classes:["tox-form"]},components:Vt(I.items,function(G){return CO(H,G,o)}),formBehaviours:mn([vr.config({mode:"acyclic",useTabstopAt:at(WE)}),qr("TabView.form.events",[Br(y),Vc(v)]),sl.config({channels:Tv([{key:zq,value:{onReceive:v}},{key:Hq,value:{onReceive:y}}])})])}})]}}}),P=Koe(A).smartTabHeight;return YO.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(I,H,G){var Q=Sn.getValue(H);Qn(I,OR,{name:Q,oldName:C.get()}),C.set(Q)},tabs:A,components:[YO.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[Nq.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:mn([Es.config({})])}),YO.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:P.selectFirst,tabSectionBehaviours:mn([qr("tabpanel",P.extraEvents),vr.config({mode:"acyclic"}),fa.config({find:function(I){return Oa(YO.getViewItems(I))}}),Sn.config({store:{mode:"manual",getValue:function(I){return I.getSystem().broadcastOn([zq],{}),l.get()},setValue:function(I,H){l.set(H),I.getSystem().broadcastOn([Hq],{})}}})])})},mU=qt("update-dialog"),Vq=qt("update-title"),Uq=qt("update-body"),Wq=qt("update-footer"),jq=qt("body-send-message"),Yq=function(n,o,l,v){var y=function(P){switch(P.body.type){case"tabpanel":return[Xoe(P.body,l)];default:return[Moe(P.body,l)]}},C=function(P,I){return z.some({isTabPanel:function(){return I.body.type==="tabpanel"}})},A={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:ue(ue({},o.map(function(P){return{id:P}}).getOr({})),v?A:{})},components:[],behaviours:mn([Jm.childAt(0),Jv.config({channel:Uq,updateState:C,renderComponents:y,initialData:n})])}},Zoe=function(n,o,l,v){return Yq(n,z.some(o),l,v)},Joe=function(n,o){var l=Yq(n,z.none(),o,!1);return pl.parts.body(l)},Qoe=function(n){var o={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[cP({dom:{tag:"iframe",attributes:{src:n.url}},behaviours:mn([Es.config({}),Rr.config({})])})]}],behaviours:mn([vr.config({mode:"acyclic",useTabstopAt:at(WE)})])};return pl.parts.body(o)};function ik(n){"@babel/helpers - typeof";return ik=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},ik(n)}function gU(n,o){return gU=Object.setPrototypeOf||function(v,y){return v.__proto__=y,v},gU(n,o)}function ese(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function kN(n,o,l){return ese()?kN=Reflect.construct:kN=function(y,C,A){var P=[null];P.push.apply(P,C);var I=Function.bind.apply(y,P),H=new I;return A&&gU(H,A.prototype),H},kN.apply(null,arguments)}function U0(n){return tse(n)||nse(n)||rse(n)||ase()}function tse(n){if(Array.isArray(n))return pU(n)}function nse(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function rse(n,o){if(n){if(typeof n=="string")return pU(n,o);var l=Object.prototype.toString.call(n).slice(8,-1);if(l==="Object"&&n.constructor&&(l=n.constructor.name),l==="Map"||l==="Set")return Array.from(n);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return pU(n,o)}}function pU(n,o){(o==null||o>n.length)&&(o=n.length);for(var l=0,v=new Array(o);l<o;l++)v[l]=n[l];return v}function ase(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ise=Object.hasOwnProperty,qq=Object.setPrototypeOf,ose=Object.isFrozen,sse=Object.getPrototypeOf,use=Object.getOwnPropertyDescriptor,Qv=Object.freeze,Ub=Object.seal,lse=Object.create,Gq=typeof Reflect<"u"&&Reflect,TN=Gq.apply,bU=Gq.construct;TN||(TN=function(o,l,v){return o.apply(l,v)}),Qv||(Qv=function(o){return o}),Ub||(Ub=function(o){return o}),bU||(bU=function(o,l){return kN(o,U0(l))});var cse=W0(Array.prototype.forEach),Kq=W0(Array.prototype.pop),u3=W0(Array.prototype.push),AN=W0(String.prototype.toLowerCase),fse=W0(String.prototype.match),FC=W0(String.prototype.replace),dse=W0(String.prototype.indexOf),vse=W0(String.prototype.trim),eh=W0(RegExp.prototype.test),yU=hse(TypeError);function W0(n){return function(o){for(var l=arguments.length,v=new Array(l>1?l-1:0),y=1;y<l;y++)v[y-1]=arguments[y];return TN(n,o,v)}}function hse(n){return function(){for(var o=arguments.length,l=new Array(o),v=0;v<o;v++)l[v]=arguments[v];return bU(n,l)}}function Yi(n,o){qq&&qq(n,null);for(var l=o.length;l--;){var v=o[l];if(typeof v=="string"){var y=AN(v);y!==v&&(ose(o)||(o[l]=y),v=y)}n[v]=!0}return n}function ok(n){var o=lse(null),l;for(l in n)TN(ise,n,[l])&&(o[l]=n[l]);return o}function ON(n,o){for(;n!==null;){var l=use(n,o);if(l){if(l.get)return W0(l.get);if(typeof l.value=="function")return W0(l.value)}n=sse(n)}function v(y){return console.warn("fallback value for",y),null}return v}var Xq=Qv(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),_U=Qv(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),wU=Qv(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),mse=Qv(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),xU=Qv(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),gse=Qv(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Zq=Qv(["#text"]),Jq=Qv(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),CU=Qv(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Qq=Qv(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),DN=Qv(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),pse=Ub(/\{\{[\w\W]*|[\w\W]*\}\}/gm),bse=Ub(/<%[\w\W]*|[\w\W]*%>/gm),yse=Ub(/^data-[\-\w.\u00B7-\uFFFF]/),_se=Ub(/^aria-[\-\w]+$/),wse=Ub(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),xse=Ub(/^(?:\w+script|data):/i),Cse=Ub(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Sse=Ub(/^html$/i),Ese=function(){return typeof window>"u"?null:window},kse=function(o,l){if(ik(o)!=="object"||typeof o.createPolicy!="function")return null;var v=null,y="data-tt-policy-suffix";l.currentScript&&l.currentScript.hasAttribute(y)&&(v=l.currentScript.getAttribute(y));var C="dompurify"+(v?"#"+v:"");try{return o.createPolicy(C,{createHTML:function(P){return P}})}catch{return console.warn("TrustedTypes policy "+C+" could not be created."),null}};function eG(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ese(),o=function(St){return eG(St)};if(o.version="2.3.8",o.removed=[],!n||!n.document||n.document.nodeType!==9)return o.isSupported=!1,o;var l=n.document,v=n.document,y=n.DocumentFragment,C=n.HTMLTemplateElement,A=n.Node,P=n.Element,I=n.NodeFilter,H=n.NamedNodeMap,G=H===void 0?n.NamedNodeMap||n.MozNamedAttrMap:H,Q=n.HTMLFormElement,fe=n.DOMParser,ge=n.trustedTypes,xe=P.prototype,Fe=ON(xe,"cloneNode"),et=ON(xe,"nextSibling"),Re=ON(xe,"childNodes"),nt=ON(xe,"parentNode");if(typeof C=="function"){var Ct=v.createElement("template");Ct.content&&Ct.content.ownerDocument&&(v=Ct.content.ownerDocument)}var xt=kse(ge,l),tt=xt?xt.createHTML(""):"",gt=v,Pt=gt.implementation,En=gt.createNodeIterator,Ht=gt.createDocumentFragment,Tn=gt.getElementsByTagName,Yt=l.importNode,Rt={};try{Rt=ok(v).documentMode?v.documentMode:{}}catch{}var dn={};o.isSupported=typeof nt=="function"&&Pt&&typeof Pt.createHTMLDocument<"u"&&Rt!==9;var Vn=pse,zt=bse,$n=yse,Xn=_se,pa=xse,ci=Cse,oo=wse,$o=null,xd=Yi({},[].concat(U0(Xq),U0(_U),U0(wU),U0(xU),U0(Zq))),Ac=null,qO=Yi({},[].concat(U0(Jq),U0(CU),U0(Qq),U0(DN))),Uu=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ow=null,sw=null,sk=!0,uw=!0,uk=!1,xf=!1,ag=!1,ef=!1,lk=!1,Wb=!1,NC=!1,Wu=!1,j0=!0,jb=!0,lw=!1,ig={},Yb=null,Pn=Yi({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ta=null,hi=Yi({},["audio","video","img","source","image","track"]),Ao=null,Cf=Yi({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),tf="http://www.w3.org/1998/Math/MathML",Cd="http://www.w3.org/2000/svg",th="http://www.w3.org/1999/xhtml",$C=th,ck=!1,zC,AU=["application/xhtml+xml","text/html"],OU="text/html",cw,HC=null,eue=v.createElement("form"),wG=function(St){return St instanceof RegExp||St instanceof Function},DU=function(St){HC&&HC===St||((!St||ik(St)!=="object")&&(St={}),St=ok(St),$o="ALLOWED_TAGS"in St?Yi({},St.ALLOWED_TAGS):xd,Ac="ALLOWED_ATTR"in St?Yi({},St.ALLOWED_ATTR):qO,Ao="ADD_URI_SAFE_ATTR"in St?Yi(ok(Cf),St.ADD_URI_SAFE_ATTR):Cf,ta="ADD_DATA_URI_TAGS"in St?Yi(ok(hi),St.ADD_DATA_URI_TAGS):hi,Yb="FORBID_CONTENTS"in St?Yi({},St.FORBID_CONTENTS):Pn,ow="FORBID_TAGS"in St?Yi({},St.FORBID_TAGS):{},sw="FORBID_ATTR"in St?Yi({},St.FORBID_ATTR):{},ig="USE_PROFILES"in St?St.USE_PROFILES:!1,sk=St.ALLOW_ARIA_ATTR!==!1,uw=St.ALLOW_DATA_ATTR!==!1,uk=St.ALLOW_UNKNOWN_PROTOCOLS||!1,xf=St.SAFE_FOR_TEMPLATES||!1,ag=St.WHOLE_DOCUMENT||!1,Wb=St.RETURN_DOM||!1,NC=St.RETURN_DOM_FRAGMENT||!1,Wu=St.RETURN_TRUSTED_TYPE||!1,lk=St.FORCE_BODY||!1,j0=St.SANITIZE_DOM!==!1,jb=St.KEEP_CONTENT!==!1,lw=St.IN_PLACE||!1,oo=St.ALLOWED_URI_REGEXP||oo,$C=St.NAMESPACE||th,St.CUSTOM_ELEMENT_HANDLING&&wG(St.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Uu.tagNameCheck=St.CUSTOM_ELEMENT_HANDLING.tagNameCheck),St.CUSTOM_ELEMENT_HANDLING&&wG(St.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Uu.attributeNameCheck=St.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),St.CUSTOM_ELEMENT_HANDLING&&typeof St.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Uu.allowCustomizedBuiltInElements=St.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),zC=AU.indexOf(St.PARSER_MEDIA_TYPE)===-1?zC=OU:zC=St.PARSER_MEDIA_TYPE,cw=zC==="application/xhtml+xml"?function(Yn){return Yn}:AN,xf&&(uw=!1),NC&&(Wb=!0),ig&&($o=Yi({},U0(Zq)),Ac=[],ig.html===!0&&(Yi($o,Xq),Yi(Ac,Jq)),ig.svg===!0&&(Yi($o,_U),Yi(Ac,CU),Yi(Ac,DN)),ig.svgFilters===!0&&(Yi($o,wU),Yi(Ac,CU),Yi(Ac,DN)),ig.mathMl===!0&&(Yi($o,xU),Yi(Ac,Qq),Yi(Ac,DN))),St.ADD_TAGS&&($o===xd&&($o=ok($o)),Yi($o,St.ADD_TAGS)),St.ADD_ATTR&&(Ac===qO&&(Ac=ok(Ac)),Yi(Ac,St.ADD_ATTR)),St.ADD_URI_SAFE_ATTR&&Yi(Ao,St.ADD_URI_SAFE_ATTR),St.FORBID_CONTENTS&&(Yb===Pn&&(Yb=ok(Yb)),Yi(Yb,St.FORBID_CONTENTS)),jb&&($o["#text"]=!0),ag&&Yi($o,["html","head","body"]),$o.table&&(Yi($o,["tbody"]),delete ow.tbody),Qv&&Qv(St),HC=St)},xG=Yi({},["mi","mo","mn","ms","mtext"]),CG=Yi({},["foreignobject","desc","title","annotation-xml"]),tue=Yi({},["title","style","font","a","script"]),MN=Yi({},_U);Yi(MN,wU),Yi(MN,mse);var MU=Yi({},xU);Yi(MU,gse);var nue=function(St){var Yn=nt(St);(!Yn||!Yn.tagName)&&(Yn={namespaceURI:th,tagName:"template"});var Gr=AN(St.tagName),Ys=AN(Yn.tagName);return St.namespaceURI===Cd?Yn.namespaceURI===th?Gr==="svg":Yn.namespaceURI===tf?Gr==="svg"&&(Ys==="annotation-xml"||xG[Ys]):!!MN[Gr]:St.namespaceURI===tf?Yn.namespaceURI===th?Gr==="math":Yn.namespaceURI===Cd?Gr==="math"&&CG[Ys]:!!MU[Gr]:St.namespaceURI===th?Yn.namespaceURI===Cd&&!CG[Ys]||Yn.namespaceURI===tf&&!xG[Ys]?!1:!MU[Gr]&&(tue[Gr]||!MN[Gr]):!1},fw=function(St){u3(o.removed,{element:St});try{St.parentNode.removeChild(St)}catch{try{St.outerHTML=tt}catch{St.remove()}}},SG=function(St,Yn){try{u3(o.removed,{attribute:Yn.getAttributeNode(St),from:Yn})}catch{u3(o.removed,{attribute:null,from:Yn})}if(Yn.removeAttribute(St),St==="is"&&!Ac[St])if(Wb||NC)try{fw(Yn)}catch{}else try{Yn.setAttribute(St,"")}catch{}},EG=function(St){var Yn,Gr;if(lk)St="<remove></remove>"+St;else{var Ys=fse(St,/^[\r\n\t ]+/);Gr=Ys&&Ys[0]}zC==="application/xhtml+xml"&&(St='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+St+"</body></html>");var nm=xt?xt.createHTML(St):St;if($C===th)try{Yn=new fe().parseFromString(nm,zC)}catch{}if(!Yn||!Yn.documentElement){Yn=Pt.createDocument($C,"template",null);try{Yn.documentElement.innerHTML=ck?"":nm}catch{}}var ov=Yn.body||Yn.documentElement;return St&&Gr&&ov.insertBefore(v.createTextNode(Gr),ov.childNodes[0]||null),$C===th?Tn.call(Yn,ag?"html":"body")[0]:ag?Yn.documentElement:ov},kG=function(St){return En.call(St.ownerDocument||St,St,I.SHOW_ELEMENT|I.SHOW_COMMENT|I.SHOW_TEXT,null,!1)},rue=function(St){return St instanceof Q&&(typeof St.nodeName!="string"||typeof St.textContent!="string"||typeof St.removeChild!="function"||!(St.attributes instanceof G)||typeof St.removeAttribute!="function"||typeof St.setAttribute!="function"||typeof St.namespaceURI!="string"||typeof St.insertBefore!="function")},l3=function(St){return ik(A)==="object"?St instanceof A:St&&ik(St)==="object"&&typeof St.nodeType=="number"&&typeof St.nodeName=="string"},dw=function(St,Yn,Gr){dn[St]&&cse(dn[St],function(Ys){Ys.call(o,Yn,Gr,HC)})},TG=function(St){var Yn;if(dw("beforeSanitizeElements",St,null),rue(St)||eh(/[\u0080-\uFFFF]/,St.nodeName))return fw(St),!0;var Gr=cw(St.nodeName);if(dw("uponSanitizeElement",St,{tagName:Gr,allowedTags:$o}),St.hasChildNodes()&&!l3(St.firstElementChild)&&(!l3(St.content)||!l3(St.content.firstElementChild))&&eh(/<[/\w]/g,St.innerHTML)&&eh(/<[/\w]/g,St.textContent)||Gr==="select"&&eh(/<template/i,St.innerHTML))return fw(St),!0;if(!$o[Gr]||ow[Gr]){if(!ow[Gr]&&OG(Gr)&&(Uu.tagNameCheck instanceof RegExp&&eh(Uu.tagNameCheck,Gr)||Uu.tagNameCheck instanceof Function&&Uu.tagNameCheck(Gr)))return!1;if(jb&&!Yb[Gr]){var Ys=nt(St)||St.parentNode,nm=Re(St)||St.childNodes;if(nm&&Ys)for(var ov=nm.length,Sd=ov-1;Sd>=0;--Sd)Ys.insertBefore(Fe(nm[Sd],!0),et(St))}return fw(St),!0}return St instanceof P&&!nue(St)||(Gr==="noscript"||Gr==="noembed")&&eh(/<\/no(script|embed)/i,St.innerHTML)?(fw(St),!0):(xf&&St.nodeType===3&&(Yn=St.textContent,Yn=FC(Yn,Vn," "),Yn=FC(Yn,zt," "),St.textContent!==Yn&&(u3(o.removed,{element:St.cloneNode()}),St.textContent=Yn)),dw("afterSanitizeElements",St,null),!1)},AG=function(St,Yn,Gr){if(j0&&(Yn==="id"||Yn==="name")&&(Gr in v||Gr in eue))return!1;if(!(uw&&!sw[Yn]&&eh($n,Yn))){if(!(sk&&eh(Xn,Yn))){if(!Ac[Yn]||sw[Yn]){if(!(OG(St)&&(Uu.tagNameCheck instanceof RegExp&&eh(Uu.tagNameCheck,St)||Uu.tagNameCheck instanceof Function&&Uu.tagNameCheck(St))&&(Uu.attributeNameCheck instanceof RegExp&&eh(Uu.attributeNameCheck,Yn)||Uu.attributeNameCheck instanceof Function&&Uu.attributeNameCheck(Yn))||Yn==="is"&&Uu.allowCustomizedBuiltInElements&&(Uu.tagNameCheck instanceof RegExp&&eh(Uu.tagNameCheck,Gr)||Uu.tagNameCheck instanceof Function&&Uu.tagNameCheck(Gr))))return!1}else if(!Ao[Yn]){if(!eh(oo,FC(Gr,ci,""))){if(!((Yn==="src"||Yn==="xlink:href"||Yn==="href")&&St!=="script"&&dse(Gr,"data:")===0&&ta[St])){if(!(uk&&!eh(pa,FC(Gr,ci,"")))){if(Gr)return!1}}}}}}return!0},OG=function(St){return St.indexOf("-")>0},DG=function(St){var Yn,Gr,Ys,nm;dw("beforeSanitizeAttributes",St,null);var ov=St.attributes;if(ov){var Sd={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ac};for(nm=ov.length;nm--;){Yn=ov[nm];var RN=Yn,nh=RN.name,MG=RN.namespaceURI;if(Gr=nh==="value"?Yn.value:vse(Yn.value),Ys=cw(nh),Sd.attrName=Ys,Sd.attrValue=Gr,Sd.keepAttr=!0,Sd.forceKeepAttr=void 0,dw("uponSanitizeAttribute",St,Sd),Gr=Sd.attrValue,!Sd.forceKeepAttr&&(SG(nh,St),!!Sd.keepAttr)){if(eh(/\/>/i,Gr)){SG(nh,St);continue}xf&&(Gr=FC(Gr,Vn," "),Gr=FC(Gr,zt," "));var iue=cw(St.nodeName);if(AG(iue,Ys,Gr))try{MG?St.setAttributeNS(MG,nh,Gr):St.setAttribute(nh,Gr),Kq(o.removed)}catch{}}}dw("afterSanitizeAttributes",St,null)}},aue=function ca(St){var Yn,Gr=kG(St);for(dw("beforeSanitizeShadowDOM",St,null);Yn=Gr.nextNode();)dw("uponSanitizeShadowNode",Yn,null),!TG(Yn)&&(Yn.content instanceof y&&ca(Yn.content),DG(Yn));dw("afterSanitizeShadowDOM",St,null)};return o.sanitize=function(ca,St){var Yn,Gr,Ys,nm,ov;if(ck=!ca,ck&&(ca="<!-->"),typeof ca!="string"&&!l3(ca)){if(typeof ca.toString!="function")throw yU("toString is not a function");if(ca=ca.toString(),typeof ca!="string")throw yU("dirty is not a string, aborting")}if(!o.isSupported){if(ik(n.toStaticHTML)==="object"||typeof n.toStaticHTML=="function"){if(typeof ca=="string")return n.toStaticHTML(ca);if(l3(ca))return n.toStaticHTML(ca.outerHTML)}return ca}if(ef||DU(St),o.removed=[],typeof ca=="string"&&(lw=!1),lw){if(ca.nodeName){var Sd=cw(ca.nodeName);if(!$o[Sd]||ow[Sd])throw yU("root node is forbidden and cannot be sanitized in-place")}}else if(ca instanceof A)Yn=EG("<!---->"),Gr=Yn.ownerDocument.importNode(ca,!0),Gr.nodeType===1&&Gr.nodeName==="BODY"||Gr.nodeName==="HTML"?Yn=Gr:Yn.appendChild(Gr);else{if(!Wb&&!xf&&!ag&&ca.indexOf("<")===-1)return xt&&Wu?xt.createHTML(ca):ca;if(Yn=EG(ca),!Yn)return Wb?null:Wu?tt:""}Yn&&lk&&fw(Yn.firstChild);for(var RN=kG(lw?ca:Yn);Ys=RN.nextNode();)Ys.nodeType===3&&Ys===nm||TG(Ys)||(Ys.content instanceof y&&aue(Ys.content),DG(Ys),nm=Ys);if(nm=null,lw)return ca;if(Wb){if(NC)for(ov=Ht.call(Yn.ownerDocument);Yn.firstChild;)ov.appendChild(Yn.firstChild);else ov=Yn;return Ac.shadowroot&&(ov=Yt.call(l,ov,!0)),ov}var nh=ag?Yn.outerHTML:Yn.innerHTML;return ag&&$o["!doctype"]&&Yn.ownerDocument&&Yn.ownerDocument.doctype&&Yn.ownerDocument.doctype.name&&eh(Sse,Yn.ownerDocument.doctype.name)&&(nh="<!DOCTYPE "+Yn.ownerDocument.doctype.name+`>
`+nh),xf&&(nh=FC(nh,Vn," "),nh=FC(nh,zt," ")),xt&&Wu?xt.createHTML(nh):nh},o.setConfig=function(ca){DU(ca),ef=!0},o.clearConfig=function(){HC=null,ef=!1},o.isValidAttribute=function(ca,St,Yn){HC||DU({});var Gr=cw(ca),Ys=cw(St);return AG(Gr,Ys,Yn)},o.addHook=function(ca,St){typeof St=="function"&&(dn[ca]=dn[ca]||[],u3(dn[ca],St))},o.removeHook=function(ca){if(dn[ca])return Kq(dn[ca])},o.removeHooks=function(ca){dn[ca]&&(dn[ca]=[])},o.removeAllHooks=function(){dn={}},o}var Tse=eG(),Ase=function(n){return Tse().sanitize(n)},Ose=DA.deviceType.isTouch(),tG=function(n,o){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[n,o]}},nG=function(n,o){return pl.parts.close(pf.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":o.translate("Close")}},action:n,buttonBehaviours:mn([Es.config({})])}))},rG=function(){return pl.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},aG=function(n,o){return pl.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:yn("<p>"+Ase(o.translate(n))+"</p>")}]}]})},iG=function(n){return pl.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:n})},oG=function(n,o){return[Ec.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:n}),Ec.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:o})]},SU=function(n){var o,l="tox-dialog",v=l+"-wrap",y=v+"__backdrop",C=l+"__disable-scroll";return pl.sketch({lazySink:n.lazySink,onEscape:function(A){return n.onEscape(A),z.some(!0)},useTabstopAt:function(A){return!WE(A)},dom:{tag:"div",classes:[l].concat(n.extraClasses),styles:ue({position:"relative"},n.extraStyles)},components:$e([n.header,n.body],n.footer.toArray(),!0),parts:{blocker:{dom:yn('<div class="'+v+'"></div>'),components:[{dom:{tag:"div",classes:Ose?[y,y+"--opaque"]:[y]}}]}},dragBlockClass:v,modalBehaviours:mn($e([Rr.config({}),qr("dialog-events",n.dialogEvents.concat([Bo(Dl(),function(A,P){vr.focusIn(A)})])),qr("scroll-lock",[Br(function(){ds(La(),C)}),Vc(function(){Xo(La(),C)})])],n.extraBehaviours,!0)),eventOrder:ue((o={},o[gc()]=["dialog-events"],o[pc()]=["scroll-lock","dialog-events","alloy.base.behaviour"],o[pm()]=["alloy.base.behaviour","dialog-events","scroll-lock"],o),n.eventOrder)})},sG=function(n){return pf.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":n.translate("Close"),title:n.translate("Close")}},components:[Gm("close",{tag:"div",classes:["tox-icon"]},n.icons)],action:function(o){xa(o,$_)}})},uG=function(n,o,l){var v=function(y){return[pu(l.translate(y.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:ue({},o.map(function(y){return{id:y}}).getOr({}))},components:v(n),behaviours:mn([Jv.config({channel:Vq,renderComponents:v})])}},lG=function(){return{dom:yn('<div class="tox-dialog__draghandle"></div>')}},Dse=function(n,o,l){return Ec.sketch({dom:yn('<div class="tox-dialog__header"></div>'),components:[uG(n,z.some(o),l),lG(),sG(l)],containerBehaviours:mn([rk.config({mode:"mouse",blockerClass:"blocker",getTarget:function(v){return hf(v,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})},Mse=function(n,o){var l=pl.parts.title(uG(n,z.none(),o)),v=pl.parts.draghandle(lG()),y=pl.parts.close(sG(o)),C=[l].concat(n.draggable?[v]:[]).concat([y]);return Ec.sketch({dom:yn('<div class="tox-dialog__header"></div>'),components:C})},cG=function(n,o){return Mse({title:o.shared.providers.translate(n),draggable:o.dialog.isDraggableModal()},o.shared.providers)},fG=function(n,o,l){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":l.translate(n)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:o,components:[{dom:yn('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}},dG=function(n,o,l){return{onClose:function(){return l.closeWindow()},onBlock:function(v){pl.setBusy(n(),function(y,C){return fG(v.message,C,o)})},onUnblock:function(){pl.setIdle(n())}}},vG=function(n,o,l,v){var y,C=function(A,P){return z.some(P)};return $i(SU(ue(ue({},n),{lazySink:v.shared.getSink,extraBehaviours:$e([Jv.config({channel:mU,updateState:C,initialData:o}),$0.memory({})],n.extraBehaviours,!0),onEscape:function(A){xa(A,$_)},dialogEvents:l,eventOrder:(y={},y[mc()]=[Jv.name(),sl.name()],y[pc()]=["scroll-lock",Jv.name(),"messages","dialog-events","alloy.base.behaviour"],y[pm()]=["alloy.base.behaviour","dialog-events","messages",Jv.name(),"scroll-lock"],y)})))},hG=function(n){var o=function(l){var v=Vt(l.items,function(y){var C=ur(!1);return ue(ue({},y),{storage:C})});return ue(ue({},l),{items:v})};return Vt(n,function(l){return l.type==="menu"?o(l):l})},mG=function(n){return st(n,function(o,l){if(l.type==="menu"){var v=l;return st(v.items,function(y,C){return y[C.name]=C.storage,y},o)}return o},{})},gG=function(n,o){return[vh(Dl(),wL),n(AE,function(l,v){o.onClose(),v.onClose()}),n($_,function(l,v,y,C){v.onCancel(l),xa(C,AE)}),Nt(AR,function(l,v){return o.onUnblock()}),Nt(bp,function(l,v){return o.onBlock(v.event)})]},Rse=function(n,o){var l=function(y,C){return Nt(y,function(A,P){v(A,function(I,H){C(n(),I,P.event,A)})})},v=function(y,C){Jv.getState(y).get().each(function(A){C(A,y)})};return $e($e([],gG(l,o),!0),[l(Km,function(y,C,A){C.onAction(y,{name:A.name})})],!1)},Pse=function(n,o,l){var v=function(C,A){return Nt(C,function(P,I){y(P,function(H,G){A(n(),H,I.event,P)})})},y=function(C,A){Jv.getState(C).get().each(function(P){A(P.internalDialog,C)})};return $e($e([],gG(v,o),!0),[v(_d,function(C,A){return A.onSubmit(C)}),v(rv,function(C,A,P){A.onChange(C,{name:P.name})}),v(Km,function(C,A,P,I){var H=function(){return vr.focusIn(I)},G=function(ge){return t1(ge,"disabled")||to(ge,"aria-disabled").exists(function(xe){return xe==="true"})},Q=Cr(I.element),fe=Bl(Q);A.onAction(C,{name:P.name,value:P.value}),Bl(Q).fold(H,function(ge){G(ge)||fe.exists(function(xe){return xo(ge,xe)&&G(xe)})?H():l().toOptional().filter(function(xe){return!xo(xe.element,ge)}).each(H)})}),v(OR,function(C,A,P){A.onTabChange(C,{newTabName:P.name,oldTabName:P.oldName})}),Vc(function(C){var A=n();Sn.setValue(C,A.getData())})],!1)},EU={initUrlDialog:Rse,initDialog:Pse},Ise=function(n,o){return mO(n,n.type,o)},Bse=function(n,o,l){return Jt(o,function(v){return v.name===l}).bind(function(v){return v.memento.getOpt(n)})},Lse=function(n,o){var l=o.map(function(P){return P.footerButtons}).getOr([]),v=jt(l,function(P){return P.align==="start"}),y=function(P,I){return Ec.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+P]},components:Vt(I,function(H){return H.memento.asSpec()})})},C=y("start",v.pass),A=y("end",v.fail);return[C,A]},pG=function(n,o){var l=function(v,y){var C=Vt(y.buttons,function(P){var I=li(Ise(P,o));return{name:P.name,align:P.align,memento:I}}),A=function(P,I){return Bse(P,C,I)};return z.some({lookupByName:A,footerButtons:C})};return{dom:yn('<div class="tox-dialog__footer"></div>'),components:[],behaviours:mn([Jv.config({channel:Wq,initialData:n,updateState:l,renderComponents:Lse})])}},Fse=function(n,o){return pG(n,o)},bG=function(n,o){return pl.parts.footer(pG(n,o))},kU=function(n,o){var l=n.getRoot();if(l.getSystem().isConnected()){var v=fa.getCurrent(n.getFormWrapper()).getOr(n.getFormWrapper());return TC.getField(v,o).fold(function(){var y=n.getFooter(),C=Jv.getState(y);return C.get().bind(function(A){return A.lookupByName(v,o)})},function(y){return z.some(y)})}else return z.none()},Nse=function(n,o){var l=n.getRoot();return Jv.getState(l).get().map(function(v){return Rf(lo("data",v.dataValidator,o))}).getOr(o)},yG=function(n,o,l){var v=function(Fe){var et=n.getRoot();et.getSystem().isConnected()&&Fe(et)},y=function(){var Fe=n.getRoot(),et=Fe.getSystem().isConnected()?n.getFormWrapper():Fe,Re=Sn.getValue(et),nt=ya(l,function(Ct){return Ct.get()});return ue(ue({},Re),nt)},C=function(Fe){v(function(et){var Re=xe.getData(),nt=ue(ue({},Re),Fe),Ct=Nse(n,nt),xt=n.getFormWrapper();Sn.setValue(xt,Ct),oi(l,function(tt,gt){ma(nt,gt)&&tt.set(nt[gt])})})},A=function(Fe){kU(n,Fe).each(cr.disable)},P=function(Fe){kU(n,Fe).each(cr.enable)},I=function(Fe){kU(n,Fe).each(Rr.focus)},H=function(Fe){if(!c(Fe))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");v(function(et){Qn(et,bp,{message:Fe})})},G=function(){v(function(Fe){xa(Fe,AR)})},Q=function(Fe){v(function(et){var Re=n.getBody(),nt=Jv.getState(Re);nt.get().exists(function(Ct){return Ct.isTabPanel()})&&fa.getCurrent(Re).each(function(Ct){YO.showTab(Ct,Fe)})})},fe=function(Fe){v(function(et){var Re=o(Fe);et.getSystem().broadcastOn([mU],Re),et.getSystem().broadcastOn([Vq],Re.internalDialog),et.getSystem().broadcastOn([Uq],Re.internalDialog),et.getSystem().broadcastOn([Wq],Re.internalDialog),xe.setData(Re.initialData)})},ge=function(){v(function(Fe){xa(Fe,AE)})},xe={getData:y,setData:C,disable:A,enable:P,focus:I,block:H,unblock:G,showTab:Q,redial:fe,close:ge};return xe},$se=function(n){switch(n){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},zse=function(n,o,l){var v=cG(n.internalDialog.title,l),y=Joe({body:n.internalDialog.body},l),C=hG(n.internalDialog.buttons),A=mG(C),P=bG({buttons:C},l),I=EU.initDialog(function(){return ge},dG(function(){return Q},l.shared.providers,o),l.shared.getSink),H=$se(n.internalDialog.size),G={header:v,body:y,footer:z.some(P),extraClasses:H,extraBehaviours:[],extraStyles:{}},Q=vG(G,n,I,l),fe=function(){var xe=function(){var Fe=pl.getBody(Q);return fa.getCurrent(Fe).getOr(Fe)};return{getRoot:le(Q),getBody:function(){return pl.getBody(Q)},getFooter:function(){return pl.getFooter(Q)},getFormWrapper:xe}}(),ge=yG(fe,o.redial,A);return{dialog:Q,instanceApi:ge}},Hse=function(n,o,l,v){var y,C,A=qt("dialog-label"),P=qt("dialog-content"),I=function(Re,nt){return z.some(nt)},H=li(Dse({title:n.internalDialog.title,draggable:!0},A,l.shared.providers)),G=li(Zoe({body:n.internalDialog.body},P,l,v)),Q=hG(n.internalDialog.buttons),fe=mG(Q),ge=li(Fse({buttons:Q},l)),xe=EU.initDialog(function(){return et},{onBlock:function(Re){on.block(Fe,function(nt,Ct){return fG(Re.message,Ct,l.shared.providers)})},onUnblock:function(){on.unblock(Fe)},onClose:function(){return o.closeWindow()}},l.shared.getSink),Fe=$i({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(y={role:"dialog"},y["aria-labelledby"]=A,y["aria-describedby"]=P,y)},eventOrder:(C={},C[mc()]=[Jv.name(),sl.name()],C[gc()]=["execute-on-form"],C[pc()]=["reflecting","execute-on-form"],C),behaviours:mn([vr.config({mode:"cyclic",onEscape:function(Re){return xa(Re,AE),z.some(!0)},useTabstopAt:function(Re){return!WE(Re)&&(Ye(Re)!=="button"||Li(Re,"disabled")!=="disabled")}}),Jv.config({channel:mU,updateState:I,initialData:n}),Rr.config({}),qr("execute-on-form",xe.concat([Bo(Dl(),function(Re,nt){vr.focusIn(Re)})])),on.config({getRoot:function(){return z.some(Fe)}}),Lr.config({}),$0.memory({})]),components:[H.asSpec(),G.asSpec(),ge.asSpec()]}),et=yG({getRoot:le(Fe),getFooter:function(){return ge.get(Fe)},getBody:function(){return G.get(Fe)},getFormWrapper:function(){var Re=G.get(Fe);return fa.getCurrent(Re).getOr(Re)}},o.redial,fe);return{dialog:Fe,instanceApi:et}},TU=tinymce.util.Tools.resolve("tinymce.util.URI"),Vse=function(n){var o=function(A){n.getSystem().isConnected()&&A(n)},l=function(A){if(!c(A))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");o(function(P){Qn(P,bp,{message:A})})},v=function(){o(function(A){xa(A,AR)})},y=function(){o(function(A){xa(A,AE)})},C=function(A){o(function(P){P.getSystem().broadcastOn([jq],A)})};return{block:l,unblock:v,close:y,sendMessage:C}},Use=["insertContent","setContent","execCommand","close","block","unblock"],_G=function(n){return m(n)&&Use.indexOf(n.mceAction)!==-1},Wse=function(n){return!_G(n)&&m(n)&&ma(n,"mceAction")},jse=function(n,o,l){switch(l.mceAction){case"insertContent":n.insertContent(l.content);break;case"setContent":n.setContent(l.content);break;case"execCommand":var v=k(l.ui)?l.ui:!1;n.execCommand(l.cmd,v,l.value);break;case"close":o.close();break;case"block":o.block(l.message);break;case"unblock":o.unblock();break}},Yse=function(n,o,l,v){var y,C=cG(n.title,v),A=Qoe(n),P=n.buttons.bind(function(nt){return nt.length===0?z.none():z.some(bG({buttons:nt},v))}),I=EU.initUrlDialog(function(){return Re},dG(function(){return et},v.shared.providers,o)),H=ue(ue({},n.height.fold(function(){return{}},function(nt){return{height:nt+"px","max-height":nt+"px"}})),n.width.fold(function(){return{}},function(nt){return{width:nt+"px","max-width":nt+"px"}})),G=n.width.isNone()&&n.height.isNone()?["tox-dialog--width-lg"]:[],Q=new TU(n.url,{base_uri:new TU(window.location.href)}),fe=Q.protocol+"://"+Q.host+(Q.port?":"+Q.port:""),ge=$g(),xe=[qr("messages",[Br(function(){var nt=Lo(vn.fromDom(window),"message",function(Ct){if(Q.isSameOrigin(new TU(Ct.raw.origin))){var xt=Ct.raw.data;_G(xt)?jse(l,Re,xt):Wse(xt)&&n.onMessage(Re,xt)}});ge.set(nt)}),Vc(ge.clear)]),sl.config({channels:(y={},y[jq]={onReceive:function(nt,Ct){ws(nt.element,"iframe").each(function(xt){var tt=xt.dom.contentWindow;tt.postMessage(Ct,fe)})}},y)})],Fe={header:C,body:A,footer:P,extraClasses:G,extraBehaviours:xe,extraStyles:H},et=vG(Fe,n,I,v),Re=Vse(et);return{dialog:et,instanceApi:Re}},qse=function(n){var o=n.backstage.shared,l=function(v,y){var C=function(){pl.hide(H),y()},A=li(mO({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:z.none()},"cancel",n.backstage)),P=rG(),I=nG(C,o.providers),H=$i(SU({lazySink:function(){return o.getSink()},header:tG(P,I),body:aG(v,o.providers),footer:z.some(iG(oG([],[A.asSpec()]))),onEscape:C,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Nt($_,C)],eventOrder:{}}));pl.show(H);var G=A.get(H);Rr.focus(G)};return{open:l}},Gse=function(n){var o=n.backstage.shared,l=function(v,y){var C=function(fe){pl.hide(G),y(fe)},A=li(mO({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:z.none()},"submit",n.backstage)),P=mO({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:z.none()},"cancel",n.backstage),I=rG(),H=nG(function(){return C(!1)},o.providers),G=$i(SU({lazySink:function(){return o.getSink()},header:tG(I,H),body:aG(v,o.providers),footer:z.some(iG(oG([],[P,A.asSpec()]))),onEscape:function(){return C(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Nt($_,function(){return C(!1)}),Nt(_d,function(){return C(!0)})],eventOrder:{}}));pl.show(G);var Q=A.get(G);Rr.focus(Q)};return{open:l}},Kse=function(n,o){return Rf(lo("data",o,n))},Xse=function(n){return SE(n,".tox-alert-dialog")||SE(n,".tox-confirm-dialog")},Zse=function(n,o,l){return o&&l?[]:[Ts.config({contextual:{lazyContext:function(){return z.some(go(vn.fromDom(n.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]},Jse=function(n){var o=n.backstage,l=n.editor,v=TA(l),y=qse(n),C=Gse(n),A=function(xe,Fe,et){return Fe!==void 0&&Fe.inline==="toolbar"?G(xe,o.shared.anchors.inlineDialog(),et,Fe.ariaAttrs):Fe!==void 0&&Fe.inline==="cursor"?G(xe,o.shared.anchors.cursor(),et,Fe.ariaAttrs):H(xe,et)},P=function(xe,Fe){return I(xe,Fe)},I=function(xe,Fe){var et=function(Re){var nt=Yse(Re,{closeWindow:function(){pl.hide(nt.dialog),Fe(nt.instanceApi)}},l,o);return pl.show(nt.dialog),nt.instanceApi};return s3.openUrl(et,xe)},H=function(xe,Fe){var et=function(Re,nt,Ct){var xt=nt,tt={dataValidator:Ct,initialData:xt,internalDialog:Re},gt=zse(tt,{redial:s3.redial,closeWindow:function(){pl.hide(gt.dialog),Fe(gt.instanceApi)}},o);return pl.show(gt.dialog),gt.instanceApi.setData(xt),gt.instanceApi};return s3.open(et,xe)},G=function(xe,Fe,et,Re){var nt=function(Ct,xt,tt){var gt=Kse(xt,tt),Pt=Eo(),En=o.shared.header.isPositionedAtTop(),Ht={dataValidator:tt,initialData:gt,internalDialog:Ct},Tn=function(){return Pt.on(function(dn){yi.reposition(dn),Ts.refresh(dn)})},Yt=Hse(Ht,{redial:s3.redial,closeWindow:function(){Pt.on(yi.hide),l.off("ResizeEditor",Tn),Pt.clear(),et(Yt.instanceApi)}},o,Re),Rt=$i(yi.sketch(ue(ue({lazySink:o.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},En?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:mn($e([qr("window-manager-inline-events",[Nt(ff(),function(dn,Vn){xa(Yt.dialog,$_)})])],Zse(l,v,En),!0)),isExtraPart:function(dn,Vn){return Xse(Vn)}})));return Pt.set(Rt),yi.showWithin(Rt,jc(Yt.dialog),{anchor:Fe},z.some(La())),(!v||!En)&&(Ts.refresh(Rt),l.on("ResizeEditor",Tn)),Yt.instanceApi.setData(gt),vr.focusIn(Yt.dialog),Yt.instanceApi};return s3.open(nt,xe)},Q=function(xe,Fe){C.open(xe,function(et){Fe(et)})},fe=function(xe,Fe){y.open(xe,function(){Fe()})},ge=function(xe){xe.close()};return{open:A,openUrl:P,alert:fe,close:ge,confirm:Q}};function Qse(){Ue.add("silver",function(n){var o=iie(n),l=o.uiMothership,v=o.backstage,y=o.renderUI,C=o.getUi;X8.register(n,v.shared);var A=Jse({editor:n,backstage:v});return{renderUI:y,getWindowManagerImpl:le(A),getNotificationManagerImpl:function(){return IM(n,{backstage:v},l)},ui:C()}})}Qse()})()});export default TCe();
